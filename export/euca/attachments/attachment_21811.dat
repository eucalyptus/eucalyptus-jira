import boto
from boto.ec2.autoscale import AutoScaleConnection
from boto.ec2.autoscale.group import AutoScalingGroup

# config
access_key = 'AKI...'
secret_key = 'SpYsoq...'
host='localhost'
subnetId='subnet-...'

# create auto scaling group
region = boto.ec2.regioninfo.RegionInfo(name="eucalyptus", endpoint=host)

c = AutoScaleConnection( aws_access_key_id=access_key,
                         aws_secret_access_key=secret_key,
                         region=region,
                         port=8773,
                         path='/services/AutoScaling/',
                         is_secure=False )

g = AutoScalingGroup( connection=c, name='BotoTest', launch_config='Config1', vpc_zone_identifier=[subnetId], min_size=0, max_size=0 )

c.create_auto_scaling_group( g )

