{"errors":[],"detail":[{"repositories":[{"name":"eucalyptus","url":"https://github.com/eucalyptus/eucalyptus","commits":[{"id":"be80c9da51413246e5d8db6009105fb92aff9421","displayId":"be80c9d","authorTimestamp":"2014-04-23T15:12:16.000+0000","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421","author":{"name":"chris grzegorczyk","avatar":"https://avatars2.githubusercontent.com/u/985057?v=4","url":"https://github.com/grze"},"fileCount":6,"merge":false,"message":"EUCA-8710,EUCA-8924,EUCA-9103: Service Registration Operations\n\n- Support for ServiceGroup registration\n- Add the {Register,Deregister}Service operations.  These support (and are\n  the only path to using) ServiceGroups.  ServiceRegistration* handle\n  the {Register,Deregister}Service and DescribeAvailableServiceTypes\n  operations.\n- Add DescribeAvailableServiceTypes operation.  This exposes machine readable\n  descriptions of the available service types and their characteristics for\n  use in tool implementations.  An example, from eucadmin tools below,\n  generates all possible --register-service command lines and describes them.\n- Previously existing code which changes in support of these operations:\n-- ComponentRegistrationHandler updated to return service configuration\n   information\n-- ConfigurationManager updated to reflect change in return type of\n   ComponentRegistrationHandler\n-- EmpyreanService.describeServices updated to use a stable ordering","files":[{"path":"clc/modules/configuration/src/main/java/com/eucalyptus/config/ConfigurationManager.java","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421#diff-0","changeType":"MODIFIED","linesAdded":2,"linesRemoved":2},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/ComponentRegistrationHandler.java","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421#diff-1","changeType":"MODIFIED","linesAdded":48,"linesRemoved":29},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/ServiceOrderings.java","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421#diff-2","changeType":"ADDED","linesAdded":116,"linesRemoved":0},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/empyrean/EmpyreanService.java","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421#diff-3","changeType":"MODIFIED","linesAdded":20,"linesRemoved":9},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/empyrean/configuration/ServiceRegistrationManager.java","url":"https://github.com/eucalyptus/eucalyptus/commit/be80c9da51413246e5d8db6009105fb92aff9421#diff-4","changeType":"ADDED","linesAdded":314,"linesRemoved":0}]},{"id":"6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1","displayId":"6d85e02","authorTimestamp":"2014-04-23T13:09:40.000+0000","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1","author":{"name":"chris grzegorczyk","avatar":"https://avatars2.githubusercontent.com/u/985057?v=4","url":"https://github.com/grze"},"fileCount":11,"merge":false,"message":"EUCA-9103, EUCA-8924: Service registration CLIs\n\n1. Old registration continues to work as before on both client and\n   server side with the exception of --register-osg (below).\n2. New registration CLI behaviour detailed below.\n3. Service implementation details in the commits related to EUCA-8710.\n * Note: these changes are orthogonal to, so do not address, EUCA-7151\n   and related deregistration issues.\n\n- Adds --register-service [1].\n- State [2] or registration [3] errors for any registered services are\n  reported as part of the command output.\n- The errors of other broken or notready services are also reported [4].\n  This can be amended at will.\n- Old style register-osg still works [5].\n- Adds --deregister-service [6] continuing to preserve --deregister-osg\n  [7]. Note: the deregister-osg command does not munge names and the\n  right ones must be used based on the existing\n- service configurations; this can be altered to be symmetric with the\n  register-osg munging.\n- Service configuration updates function as expected [8].\n- Single register/deregister commands which can subsume all others [9].\n  Exact same code paths as euca_conf --{register,deregister}-service.\n- Describe service groups by partitions [10], tool implementations\n  identify services, service groups and their members and all related\n  characteristics using DescribeAvailableServiceTypes\n  (see serviceregistration.py).\n- Related human readable and comprehensive service availability and\n  registration help computed based on system responses (as above; see\n  DescribeAvailableServiceTypes) [11].\n- Exposed error information for registration/deregistration [12].\n- Simpler service error information from describe-services [13].  Old\n  output (on stdout) remains unchanged, but could be easily pruned as it\n  is largely subsumed by this output.\n\n[1]  euca_conf --register-service -T user-api -H 10.111.1.66 -N API_66\n\n[2]  Report of the objectstorage configuration error on first time configuration.\n     ERROR  objectstorage       API_66      API_66.objectstorage   OSG object storage provider client not configured. Found property 'objectstorage.providerclient' empty or unset\nmanager(unset).  Legal values are: riakcs,ceph-rgw,walrus,s3\n\n[3]  Duplicate configuration for a service which is part of the user-api service group.\n     euca_conf --register-service -T tokens -H 10.111.1.66 -N API_66.tokens >/dev/null 2>&1;\\\n     euca_conf --register-service -T user-api -H 10.111.1.66 -N API_66\n     error: registration failed\n     ERROR  Registering  arn:euca:bootstrap:API_66:tokens:API_66.tokens/  failed because of  Component with name=API_66.tokens already exists with host=10.111.1.66\n\n[4]  euca_conf --register-service -T user-api -H 10.111.1.66 -N API_66\n     ERROR  cluster             PARTI00     CC_66                  java.net.ConnectException: Connection refused: /10.111.1.66:8774\n     ...\n\n[5]  euca_conf --register-osg --partition objectstorage --component OSG_66 --host 10.111.1.66\n     Created new partition 'API_66'\n     SERVICE  user-api            API_66      API_66                 http://10.111.1.66:8773/services/User-API  arn:euca:bootstrap:API_66:user-api:API_66/\n     ...\n\n[6]  euca_conf --deregister-service -T user-api -N API_66\n\n[7]  euca_conf --deregister-osg  -P API_66 -C API_66\n\n[8]  Change from host 10.111.1.66 to 10.111.1.71 for an already registered service:\n     euca_conf --register-service -T user-api -H 10.111.1.71 -N API_66\n\n[9]  Single register/deregister commands\n     euca-register-service -T user-api -H 10.111.1.66 -P API_66 API_66\n     euca-deregister-service API_66\n\n[10] Describe a service group by using partitions\n      euca-describe-services -P API_66\n\n[11] euca_conf --register-service\n\n    SERVICES\n      The following commands are for registering specific services in Eucalyptus\n\n      Eucalyptus       eucalyptus service implementation\n                       euca_conf --register-service -T eucalyptus -N <NAME> -H <HOST>\n\n      VMwareBroker     The VMware Broker service\n                       euca_conf --register-service -T vmwarebroker -N <NAME> -H <HOST> -P <PARTITION>\n\n      Arbitrator       The Arbitrator service\n                       euca_conf --register-service -T arbitrator -N <NAME> -H <HOST> -P <PARTITION>\n\n      Storage          The Storage Controller service\n                       euca_conf --register-service -T storage -N <NAME> -H <HOST> -P <PARTITION>\n\n      cluster          The Cluster Controller service\n                       euca_conf --register-service -T cluster -N <NAME> -H <HOST> -P <PARTITION>\n\n      WalrusBackend    The legacy Walrus Backend service\n                       euca_conf --register-service -T walrusbackend -N <NAME> -H <HOST>\n\n    SERVICE GROUPS\n      The following commands are for registering service groups in Eucalyptus\n\n      User-API         The service group of all user-facing API endpoint services\n                       euca_conf --register-service -T user-api -N <NAME> -H <HOST>\n\n                       This will register the following services:\n                       Euare            IAM API service\n                       CloudFormation   Cloudformation API service\n                       Compute          the Eucalyptus EC2 API service\n                       CloudWatch       CloudWatch API service\n                       ObjectStorage    S3 API service\n                       Tokens           STS API service\n                       LoadBalancing    ELB API service\n                       AutoScaling      Auto Scaling API service\n\n[12] euca_conf --deregister-service -T user-api -N API_66\n     error: deregistration failed\n     ERROR  Failed to deregister user-api: API_66 because of : Failed to lookup any registered component with the name: API_66\n\n[13] euca-describe-services -E >/dev/null\n     ERROR  loadbalancingbackend  eucalyptus  10.111.1.66            ColocationBootstrapper.enable( ): failed because of: The loadbalancingbackend service depends upon a locally ENABLED\neucalyptus, terminating bootstrap for component: loadbalancingbackend\n     ERROR  loadbalancingbackend  eucalyptus  10.111.1.66            ERR-1014 2014-04-23 13:42:31 Load balancer image not configured.  LoadBalancing service will not be available.\n     ERROR  loadbalancingbackend  eucalyptus  10.111.1.66            LoadBalancingPropertyBootstrapper.enable( ): returned false, terminating bootstrap for component: loadbalancingbackend\n     ERROR  imaging             eucalyptus  10.111.1.66            ERR-1015 2014-04-23 13:42:31 Imaging worker image not configured.  Imaging service will not be available.\n     ERROR  imaging             eucalyptus  10.111.1.66            ImagingServicePropertyBootstrapper.enable( ): returned false, terminating bootstrap for component: imaging","files":[{"path":"clc/eucadmin/bin/euca-deregister-service","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1#diff-0","changeType":"ADDED","linesAdded":32,"linesRemoved":0},{"path":"clc/eucadmin/bin/euca-describe-service-types","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1#diff-1","changeType":"ADDED","linesAdded":32,"linesRemoved":0},{"path":"clc/eucadmin/bin/euca-register-service","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1#diff-2","changeType":"ADDED","linesAdded":32,"linesRemoved":0},{"path":"clc/eucadmin/bin/euca-register-user-services","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1#diff-3","changeType":"MODIFIED","linesAdded":0,"linesRemoved":0},{"path":"clc/eucadmin/bin/euca_conf.in","url":"https://github.com/eucalyptus/eucalyptus/commit/6d85e02c1e78c6d84cbb2f068bd5040b4261d3e1#diff-4","changeType":"MODIFIED","linesAdded":327,"linesRemoved":296}]},{"id":"5ce5cec7559811daf09f4e54ea673e4151661552","displayId":"5ce5cec","authorTimestamp":"2014-04-23T15:06:09.000+0000","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552","author":{"name":"chris grzegorczyk","avatar":"https://avatars2.githubusercontent.com/u/985057?v=4","url":"https://github.com/grze"},"fileCount":8,"merge":false,"message":"EUCA-8710,EUCA-8924,EUCA-9101,EUCA-9103: Service Groups\n\n- Introduces ServiceGroups which extends ComponentId\n- Register and deregister group service coordination implemented.\n- APIs for subsequent extension to handle group enabling, disable, etc., is\n  present but not implemented to support this purpose.  Further grouping support\n- Adds the related ComponentId, ServiceBuilder, along with Base Configuration\n  and ServiceBuilder classes are there to extend.\n- Adds ApiEndpointServicesGroup which coordinates @PublicServices which are\n  also registerable.","files":[{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/ServiceBuilders.java","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552#diff-0","changeType":"MODIFIED","linesAdded":9,"linesRemoved":3},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/groups/ApiEndpointServicesGroup.java","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552#diff-1","changeType":"ADDED","linesAdded":131,"linesRemoved":0},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/groups/BaseServiceGroupBuilder.java","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552#diff-2","changeType":"ADDED","linesAdded":185,"linesRemoved":0},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/groups/BaseServiceGroupConfiguration.java","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552#diff-3","changeType":"ADDED","linesAdded":133,"linesRemoved":0},{"path":"clc/modules/msgs/src/main/java/com/eucalyptus/component/groups/ServiceGroup.java","url":"https://github.com/eucalyptus/eucalyptus/commit/5ce5cec7559811daf09f4e54ea673e4151661552#diff-4","changeType":"ADDED","linesAdded":138,"linesRemoved":0}]}]}],"_instance":{"singleInstance":true,"baseUrl":"https://github.com","name":"GitHub","typeName":"GitHub","id":"github","type":"github"}}]}