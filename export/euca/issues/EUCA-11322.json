{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38025","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025","key":"EUCA-11322","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"resolutiondate":"2015-10-26T16:02:37.162-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11322/watchers","watchCount":5,"isWatching":false},"lastViewed":null,"created":"2015-09-02T14:08:37.503-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2015-09-08T13:14:20.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[{"id":"32135","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32135","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"38050","key":"EUCA-11333","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38050","fields":{"summary":"VPC - port and protocol ignored when providing a source security group in auth request","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:25:19.453-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12800","id":"12800","name":"eucanetd","description":"Used to track component level items associated with Edge."}],"timeoriginalestimate":null,"customfield_13000":null,"description":"As part of ELB testing, I tried authorizing traffics from the security group of ELB to the default security group of VPC (where backend instances are running). \r\n\r\nThen ALL ports (ssh, etc) through the default security group are blocked. After the rule is revoked, things got back to normal. \r\n\r\n\r\n[root@b-03 spark]# curl 10.116.160.10\r\n<html><body><h1>It works!</h1>\r\n<p>This is the default web page for this server.</p>\r\n<p>The web server software is running but no content has been added, yet.</p>\r\n</body></html>\r\n[root@b-03 spark]# euca-describe-groups  sg-b052f802\r\nGROUP\tsg-b052f802\t000422096234\tdefault\tdefault VPC security group\tvpc-ca7184b8\r\nPERMISSION\t000422096234\tdefault\tALLOWS\ttcp\t80\t80\tFROM\tCIDR\t0.0.0.0/0\tingress\r\nPERMISSION\t000422096234\tdefault\tALLOWS\t-1\t\t\tFROM\tUSER\t000422096234\tNAME\tdefault\tID\tsg-b052f802\tingress\r\nPERMISSION\t000422096234\tdefault\tALLOWS\ttcp\t22\t22\tFROM\tCIDR\t0.0.0.0/0\tingress\r\nPERMISSION\t000422096234\tdefault\tALLOWS\t-1\t\t\tTO\tCIDR\t0.0.0.0/0\tegress\r\n[root@b-03 spark]# euca-authorize -P tcp -p 80 -u 000422096234 -o sg-b1d3ac8a sg-b052f802\r\nGROUP\tsg-b052f802\r\nPERMISSION\tsg-b052f802\tALLOWS\ttcp\t80\t80\tUSER\t000422096234\tID\tsg-b1d3ac8a\tFROM\tCIDR\t0.0.0.0/0\r\n[root@b-03 spark]# curl 10.116.160.10\r\n^C\r\n[root@b-03 spark]# curl 10.116.160.10\r\n^C\r\n[root@b-03 spark]# euca-revoke -P tcp -p 80 -u 000422096234 -o sg-b1d3ac8a sg-b052f802\r\nGROUP\tsg-b052f802\r\nPERMISSION\tsg-b052f802\tALLOWS\ttcp\t80\t80\tUSER\t000422096234\tID\tsg-b1d3ac8a\tFROM\tCIDR\t0.0.0.0/0\r\n[root@b-03 spark]# curl 10.116.160.10\r\n<html><body><h1>It works!</h1>\r\n<p>This is the default web page for this server.</p>\r\n<p>The web server software is running but no content has been added, yet.</p>\r\n</body></html>\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"In VPC, ingress rule from other security groups blocks all ports","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_416999067_*|*_10000_*:*_1_*:*_93856953_*|*_10001_*:*_1_*:*_106243988_*|*_10003_*:*_1_*:*_2826325238_*|*_10006_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03d9r:","customfield_10001":"2015-09-03T22:59:52.516-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["nurmi(nurmi)","mclark(mclark)","spark(spark)","zhill(zhill)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11322/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91247","id":"91247","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Good catch [~spark]!  \r\nVerified with a system built yesterday/upgraded this afternoon.. \r\nIn my tests this happens about %30 of the time immediately after a source security group is provided in the auth rule being added. So far I have not seen this cause failures on the first rule added which references another security group (likely why this wasn't caught by CI). \r\n\r\nAs mentioned above, this will block all network access to instances in a given security group. \r\nWhen the rules referencing source security groups are removed, the instances regain connectivity. \r\nBelow is a euca/mido dump of an instance in a security group which no longer has network access....\r\n\r\nThanks, \r\n-M\r\n\r\n\r\n{code}\r\nIn [34]: md.show_instance_network_summary(ins2)\r\n[2015-09-03 20:48:52,939][INFO][MidoDebug:10.111.5.10]: Gathering network info... (this may take a few seconds)\r\n[2015-09-03 20:48:52,939][INFO][MidoDebug:10.111.5.10]: Getting router for instance:i-430deb13, vpc:vpc-c6e016fe\r\n[2015-09-03 20:48:53,074][INFO][MidoDebug:10.111.5.10]: Found router:vr_vpc-c6e016fe_3 for instance:i-430deb13\r\nNo handlers could be found for logger \"paramiko.transport\"\r\n[2015-09-03 20:49:00,334][INFO][MidoDebug:10.111.5.10]: Getting router for instance:i-430deb13, vpc:vpc-c6e016fe\r\n[2015-09-03 20:49:00,415][INFO][MidoDebug:10.111.5.10]: Found router:vr_vpc-c6e016fe_3 for instance:i-430deb13\r\n[2015-09-03 20:49:03,686][INFO][MidoDebug:10.111.5.10]: Getting router for instance:i-430deb13, vpc:vpc-c6e016fe\r\n[2015-09-03 20:49:03,775][INFO][MidoDebug:10.111.5.10]: Found router:vr_vpc-c6e016fe_3 for instance:i-430deb13\r\n[2015-09-03 20:49:04,114][INFO][MidoDebug:10.111.5.10]: Getting router for instance:i-430deb13, vpc:vpc-c6e016fe\r\n[2015-09-03 20:49:04,198][INFO][MidoDebug:10.111.5.10]: Found router:vr_vpc-c6e016fe_3 for instance:i-430deb13\r\n[2015-09-03 20:49:04,685][INFO][MidoDebug:10.111.5.10]: ARP entry for instance found, but mac has not been learned on a port yet, try pinging it?   \r\n[2015-09-03 20:49:04,728][INFO][MidoDebug:10.111.5.10]: looking up host with name:h-27.qa1.eucalyptus-systems.com\r\n[2015-09-03 20:49:07,427][INFO][MidoDebug:10.111.5.10]: looking up host with name:h-27.qa1.eucalyptus-systems.com\r\n[2015-09-03 20:49:07,914][INFO][MidoDebug:10.111.5.10]: Found matching security group for name:None and id:sg-dd9a7e0e\r\n[2015-09-03 20:49:08,006][INFO][MidoDebug:10.111.5.10]: \r\nNETWORK SUMMARY FOR INSTANCE:i-430deb13, (PRIVIP:172.31.29.82, PUBIP:10.116.170.100)                                                          \r\n+---------------------------------------------------------------------------------------------------------------------------------------+     \r\n|ROUTER:vr_vpc-c6e016fe_3                                                                                                               |     \r\n+---------------------------------------------------------------------------------------------------------------------------------------+     \r\n|ROUTER SUMMARY:                                                                                                                        |     \r\n|+-------------------+------------+--------------------------------------+---------------+                                              |     \r\n||        Name       | AdminState |                  ID                  |      T-ID     |                                              |     \r\n|+-------------------+------------+--------------------------------------+---------------+                                              |     \r\n|| vr_vpc-c6e016fe_3 |    True    | 372d532d-a370-40be-b864-decfe7899ddb | euca_tenant_1 |                                              |     \r\n|+-------------------+------------+--------------------------------------+---------------+                                              |     \r\n|ROUTES:                                                                                                                                |     \r\n|+----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+    |     \r\n||  Destination   |   Source  |  nexthopGW  |               nexthop                | weight |                  ID                  |    |     \r\n|+----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+    |     \r\n|| 169.254.0.0/17 | 0.0.0.0/0 |     None    | 9597efbc-34ee-4a45-a349-99c8210b7ba0 |   0    | fb228559-927c-4c30-8491-4c65f5198b50 |    |     \r\n|| 169.254.0.3/32 | 0.0.0.0/0 |     None    | 9597efbc-34ee-4a45-a349-99c8210b7ba0 |   0    | e753499b-ca34-4151-8f8e-2b112266a652 |    |     \r\n||   0.0.0.0/0    | 0.0.0.0/0 | 169.254.0.1 | 9597efbc-34ee-4a45-a349-99c8210b7ba0 |   0    | fb8bd266-7821-4bf3-9df7-702c2d5fa8d8 |    |     \r\n|| 172.31.16.1/32 | 0.0.0.0/0 |     None    | cfe77728-a65b-4cef-abd8-df6ef40d5a51 |   0    | b81ca2f8-bcd4-43e6-bc25-508f4313e62c |    |     \r\n|| 172.31.16.0/20 | 0.0.0.0/0 |     None    | cfe77728-a65b-4cef-abd8-df6ef40d5a51 |   0    | e1494c16-e177-4d04-89c3-f957c665b536 |    |     \r\n|| 172.31.0.0/20  | 0.0.0.0/0 |     None    | 7b44ea25-fb1f-4308-b890-34eb87a796c7 |   0    | fa623f83-c05d-4862-9cc0-4b5d1b0d3fea |    |     \r\n|| 172.31.0.1/32  | 0.0.0.0/0 |     None    | 7b44ea25-fb1f-4308-b890-34eb87a796c7 |   0    | a4e7cbd8-0b4a-403e-bc34-5ef9f675579c |    |     \r\n|+----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+    |     \r\n|ROUTER PORTS:                                                                                                                          |     \r\n|+------------------------------------+----+----------+-------------+-----------------+------+----+------------------------------------+|     \r\n||              PORT ID               |BGPS|  IPADDR  |   NETWORK   |       MAC       | TYPE | UP |              PEER ID               ||     \r\n|+------------------------------------+----+----------+-------------+-----------------+------+----+------------------------------------+|     \r\n||7b44ea25-fb1f-4308-b890-34eb87a796c7| 0  |172.31.0.1|172.31.0.0/20|ac:ca:ba:1e:02:8b|Router|True|18e71a45-a03b-4dba-93db-9793013e6a02||     \r\n|+------------------------------------+----+----------+-------------+-----------------+------+----+------------------------------------+|     \r\n|                                                                                                                                       |     \r\n|ROUTER INBOUND FILTER (cc61324b-4658-4eb2-b0e2-4964b3a26bf4):                                                                          |     \r\n|+----------------------------------------------------------------------------------------------------------------------+               |     \r\n|| CHAIN NAME:vc_vpc-c6e016fe_prechain, ID:cc61324b-4658-4eb2-b0e2-4964b3a26bf4 TENANT ID:euca_tenant_1                 |               |     \r\n|+----------------------------------------------------------------------------------------------------------------------+               |     \r\n|| +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+----------------------+ |               |     \r\n|| |RULES FOR CHAIN:..26bf4| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS|TYPE| ACTION |TARGET                | |               |     \r\n|| +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+----------------------+ |               |     \r\n|| |RULE#:1                |None/0|None/0|  IP | None | 0 |None     |  any   | 1 |jump|to chain|a07ffa2c-3e31-4734-823| |               |     \r\n|| |1acd3086-d51c-4ea2     |      |      |     |      |   |         |        |   |    |        |7-cbad8dd81139        | |               |     \r\n|| |-9f9b-030a46f96f96     |      |      |     |      |   |         |        |   |    |        |                      | |               |     \r\n|| +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+----------------------+ |               |     \r\n|| |                                                                                                                    |               |     \r\n|| +--->+-------------------------------------------------------------------------------------------------------------+ |               |     \r\n||      | CHAIN NAME:vc_vpc-c6e016fe_preelip, ID:a07ffa2c-3e31-4734-8237-cbad8dd81139 TENANT ID:euca_tenant_1         | |               |     \r\n||      +-------------------------------------------------------------------------------------------------------------+ |               |     \r\n||      | +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+-------------+ | |               |     \r\n||      | |RULES FOR CHAIN:..81139| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS|TYPE| ACTION |TARGET       | | |               |     \r\n||      | +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+-------------+ | |               |     \r\n||      | |RULE#:1                |None/0|None/0|  IP | None | 0 |None     |  any   | 1 |dnat|continue|172.31.15.174| | |               |     \r\n||      | |5d01a978-4b0b-4350-b604|      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | |-3b196b6892ae          |      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+-------------+ | |               |     \r\n||      | |RULE#:2                |None/0|None/0|  IP | None | 0 |None     |  any   | 2 |dnat|continue|172.31.23.109| | |               |     \r\n||      | |fd77d1ac-7bb6-447d-    |      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | |b0e4-b4baebb6b638      |      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+-------------+ | |               |     \r\n||      | |RULE#:3                |None/0|None/0|  IP | None | 0 |None     |  any   | 3 |dnat|continue|172.31.29.82 | | |               |     \r\n||      | |5e576d49-1ae7-4a06     |      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | |-acbb-b581774f4c8c     |      |      |     |      |   |         |        |   |    |        |             | | |               |     \r\n||      | +-----------------------+------+------+-----+------+---+---------+--------+---+----+--------+-------------+ | |               |     \r\n||      +-------------------------------------------------------------------------------------------------------------+ |               |     \r\n|| None                                                                                                                 |               |     \r\n|+----------------------------------------------------------------------------------------------------------------------+               |     \r\n|                                                                                                                                       |     \r\n|ROUTER OUTBOUND FILTER (80ee4cb1-6536-49a2-8e65-5b5d424b4042):                                                                         |     \r\n|+-----------------------------------------------------------------------------------------------------------------------------------+  |     \r\n|| CHAIN NAME:vc_vpc-c6e016fe_postchain, ID:80ee4cb1-6536-49a2-8e65-5b5d424b4042 TENANT ID:euca_tenant_1                             |  |     \r\n|+-----------------------------------------------------------------------------------------------------------------------------------+  |     \r\n|| +-----------------------+------+--------------+-----+------+---+----------------------+--------+---+----+--------+--------------+ |  |     \r\n|| |RULES FOR CHAIN:..b4042| SRC  |     DST      |PROTO|DPORTS|TOS|GRP ADDRS             |FRAG POL|POS|TYPE| ACTION |TARGET        | |  |     \r\n|| +-----------------------+------+--------------+-----+------+---+----------------------+--------+---+----+--------+--------------+ |  |     \r\n|| |RULE#:1                |None/0|172.31.0.2/32 |  IP | None | 0 |(elip_post_i-592f8b04)|  any   | 1 |snat|continue|10.116.170.101| |  |     \r\n|| |ed82bde1-12b2-44ae-    |      |              |     |      |   |- 172.31.15.174       |        |   |    |        |              | |  |     \r\n|| |a5b3-f339dc768c9b      |      |              |     |      |   |                      |        |   |    |        |              | |  |     \r\n|| +-----------------------+------+--------------+-----+------+---+----------------------+--------+---+----+--------+--------------+ |  |     \r\n|| |RULE#:2                |None/0|172.31.16.2/32|  IP | None | 0 |(elip_post_i-7e5b2a23)|  any   | 2 |snat|continue|10.116.170.10 | |  |     \r\n|| |48b0b55f-59db-         |      |              |     |      |   |- 172.31.23.109       |        |   |    |        |              | |  |     \r\n|| |44f2-8d16-15ab94ca5f16 |      |              |     |      |   |                      |        |   |    |        |              | |  |     \r\n|| +-----------------------+------+--------------+-----+------+---+----------------------+--------+---+----+--------+--------------+ |  |     \r\n|| |RULE#:3                |None/0|172.31.16.2/32|  IP | None | 0 |(elip_post_i-430deb13)|  any   | 3 |snat|continue|10.116.170.100| |  |     \r\n|| |ccfe8d93-b0a5-4fa4     |      |              |     |      |   |- 172.31.29.82        |        |   |    |        |              | |  |     \r\n|| |-950f-9cfcaa18d917     |      |              |     |      |   |                      |        |   |    |        |              | |  |     \r\n|| +-----------------------+------+--------------+-----+------+---+----------------------+--------+---+----+--------+--------------+ |  |     \r\n|+-----------------------------------------------------------------------------------------------------------------------------------+  |     \r\n|                                                                                                                                       |     \r\n+---------------------------------------------------------------------------------------------------------------------------------------+     \r\n+------------------------------------------------------------------------------------------------------------------+                          \r\n| BRIDGE:\"vb_vpc-c6e016fe_subnet-321bd6b0\"                                                                         |                          \r\n+------------------------------------------------------------------------------------------------------------------+                          \r\n| BRIDGE SUMMARY:                                                                                                  |                          \r\n| +---------------------------------+--------------------------------------+---------------+-------------+         |                          \r\n| |           BRIDGE NAME           |                  ID                  |     TENANT    | Vx LAN PORT |         |                          \r\n| +---------------------------------+--------------------------------------+---------------+-------------+         |                          \r\n| | vb_vpc-c6e016fe_subnet-321bd6b0 | d91428b3-a9ca-4fd6-8b0c-58b7f2c190aa | euca_tenant_1 |     None    |         |                          \r\n| +---------------------------------+--------------------------------------+---------------+-------------+         |                          \r\n| BRIDGE PORTS:                                                                                                    |                          \r\n| +------------------------------------+----+------+-------+----+------+----+------------------------------------+ |                          \r\n| |              PORT ID               |BGPS|IPADDR|NETWORK|MAC | TYPE | UP |              PEER ID               | |                          \r\n| +------------------------------------+----+------+-------+----+------+----+------------------------------------+ |                          \r\n| |653c2106-f1ad-4633-be26-0efe7447cfa0| 0  | None |None/-1|None|Bridge|True|cfe77728-a65b-4cef-abd8-df6ef40d5a51| |                          \r\n| +------------------------------------+----+------+-------+----+------+----+------------------------------------+ |                          \r\n| BRIDGE ARP TABLE:                                                                                                |                          \r\n| +---------------+-------------------+-------------------+------------+-------------+--------------+              |                          \r\n| |       IP      |        MAC        |      MAC ADDR     |   VM ID    |      NC     | LEARNED PORT |              |                          \r\n| +---------------+-------------------+-------------------+------------+-------------+--------------+              |                          \r\n| | 172.31.23.109 | d0:0d:37:3d:6b:20 | d0:0d:37:3d:6b:20 | i-7e5b2a23 | 10.111.5.26 | NOT LEARNED  |              |                          \r\n| |  172.31.29.82 | d0:0d:cf:b7:64:66 | d0:0d:cf:b7:64:66 | i-430deb13 | 10.111.5.27 | NOT LEARNED  |              |                          \r\n| +---------------+-------------------+-------------------+------------+-------------+--------------+              |                          \r\n| BRIDGE DHCP SUBNETS:                                                                                             |                          \r\n| +----------------+-------------+-------------+-------------+-------+                                             |                          \r\n| |     SUBNET     | SERVER ADDR |  DefaultGW  | DNS SERVERS | STATE |                                             |                          \r\n| +----------------+-------------+-------------+-------------+-------+                                             |                          \r\n| | 172.31.16.0/20 | 172.31.16.1 | 172.31.16.1 | 10.111.5.12 |  True |                                             |                          \r\n| +----------------+-------------+-------------+-------------+-------+                                             |                          \r\n| BRIDGE MAC TABLE:                                                                                                |                          \r\n| +-----------+----------+---------+---------+                                                                     |                          \r\n| | BRIDGE ID | MAC ADDR | PORT ID | VLAN ID |                                                                     |                          \r\n| +-----------+----------+---------+---------+                                                                     |                          \r\n| +-----------+----------+---------+---------+                                                                     |                          \r\n|                                                                                                                  |                          \r\n+------------------------------------------------------------------------------------------------------------------+                          \r\n+--------------------------------------------------------------------------------------------------------------------------------------------+\r\n| BRIDGE PORT FOR INSTANCE:i-430deb13, (BRIDGE:vb_vpc-c6e016fe_subnet-321bd6b0), (NOT LEARNED)                                               |\r\n+--------------------------------------------------------------------------------------------------------------------------------------------+\r\n| +----------------------------------------------------------------------------------------------------------------------------------------+ |\r\n| | PORT SUMMARY FOR PORT:2b52b333-778d-4801-ae85-c9a1c474ef02                                                                             | |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------+ |\r\n| | PORT INFO:                                                                                                                             | |\r\n| | +--------------------------------------+------+--------+---------+------+--------+------+---------+                                    | |\r\n| | |               PORT ID                | BGPS | IPADDR | NETWORK | MAC  |  TYPE  |  UP  | PEER ID |                                    | |\r\n| | +--------------------------------------+------+--------+---------+------+--------+------+---------+                                    | |\r\n| | | 2b52b333-778d-4801-ae85-c9a1c474ef02 |  0   |  None  | None/-1 | None | Bridge | True | None    |                                    | |\r\n| | +--------------------------------------+------+--------+---------+------+--------+------+---------+                                    | |\r\n| | PORT INBOUND FILTER:                                                                                                                   | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| | | CHAIN NAME:ic_i-430deb13_prechain, ID:25534332-61c2-4fb5-ac37-8da9216ef32b TENANT ID:euca_tenant_1                                 | | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULES FOR CHAIN:..ef32b| SRC  |     DST      |PROTO|DPORTS|TOS|GRP ADDRS|  FRAG POL  |POS| TYPE | ACTION |TARGET                | | | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:1                |None/0|    None/0    | TCP |80:80 | 0 |None     |unfragmented| 1 | dnat |continue|172.31.16.2           | | | |\r\n| | | |a74eb645-6ab2-4860-8769|      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | |-82e8e29370d1          |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:2                |None/0|    None/0    |  IP | None | 0 |None     |    any     | 2 |accept|        |                      | | | |\r\n| | | |e3e89efc-5917-4216     |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | |-becb-39d75dd38cce     |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:3                |None/0|172.31.16.2/32|  IP | None | 0 |None     |    any     | 3 |accept|        |                      | | | |\r\n| | | |2a2e28aa-04e3-4e08     |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | |-806a-41a0e56173b3     |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:4                |None/0|    None/0    |  IP | None | 0 |None     |    any     | 4 | jump |to chain|6f863356-c5a2-4c2d-   | | | |\r\n| | | |c9ca51b3-6b7b-         |      |              |     |      |   |         |            |   |      |        |9de1-ad7062c15ac6     | | | |\r\n| | | |40e2-9c16-f74e731a3107 |      |              |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+------+--------------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |                                                                                                                                  | | |\r\n| | | +--->+------------------------------------------------------------------------------------------------------+                      | | |\r\n| | |      | CHAIN NAME:sg_egress_sg-dd9a7e0e, ID:6f863356-c5a2-4c2d-9de1-ad7062c15ac6 TENANT ID:euca_tenant_1    |                      | | |\r\n| | |      +------------------------------------------------------------------------------------------------------+                      | | |\r\n| | |      | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ |                      | | |\r\n| | |      | |RULES FOR CHAIN:..15ac6| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS| TYPE |ACTION|TARGET| |                      | | |\r\n| | |      | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ |                      | | |\r\n| | |      | |RULE#:1                |None/0|None/0|  IP | None | 0 |None     |  any   | 1 |accept|      |      | |                      | | |\r\n| | |      | |b3a24941-d089-48f5-bc96|      |      |     |      |   |         |        |   |      |      |      | |                      | | |\r\n| | |      | |-571088ed3c10          |      |      |     |      |   |         |        |   |      |      |      | |                      | | |\r\n| | |      | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ |                      | | |\r\n| | |      +------------------------------------------------------------------------------------------------------+                      | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | | |RULES FOR CHAIN:..ef32b| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS|TYPE|ACTION|TARGET|                                 | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | | |RULE#:5                |None/0|None/0|  IP | None | 0 |None     |  any   | 5 |drop|      |      |                                 | | |\r\n| | | |2ed980cc-5ad7-4ab9     |      |      |     |      |   |         |        |   |    |      |      |                                 | | |\r\n| | | |-a1da-a3a235ef9715     |      |      |     |      |   |         |        |   |    |      |      |                                 | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| | PORT OUTBOUND FILTER:                                                                                                                  | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| | | CHAIN NAME:ic_i-430deb13_postchain, ID:79cbd68b-5ffc-435f-9fd0-7d426f9ae558 TENANT ID:euca_tenant_1                                | | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| | | +-----------------------+--------------+------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULES FOR CHAIN:..ae558|     SRC      | DST  |PROTO|DPORTS|TOS|GRP ADDRS|  FRAG POL  |POS| TYPE | ACTION |TARGET                | | | |\r\n| | | +-----------------------+--------------+------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:1                |172.31.16.2/32|None/0| TCP | None | 0 |None     |unfragmented| 1 | snat |continue|169.254.169.254       | | | |\r\n| | | |71cdc3fa-47dc-44ac-    |              |      |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | |9c01-80aeb05d1821      |              |      |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+--------------+------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:2                |    None/0    |None/0|  IP | None | 0 |None     |    any     | 2 |accept|        |                      | | | |\r\n| | | |10e54158-ead0-46b6-aab5|              |      |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | |-ed044de961fa          |              |      |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+--------------+------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |RULE#:3                |    None/0    |None/0|  IP | None | 0 |None     |    any     | 3 | jump |to chain|c1b1b1b2-af1b-        | | | |\r\n| | | |269cd577-d2fa-         |              |      |     |      |   |         |            |   |      |        |4d48-b6d3-160701022721| | | |\r\n| | | |403f-9332-86b54e17b419 |              |      |     |      |   |         |            |   |      |        |                      | | | |\r\n| | | +-----------------------+--------------+------+-----+------+---+---------+------------+---+------+--------+----------------------+ | | |\r\n| | | |                                                                                                                                  | | |\r\n| | | +--->+-----------------------------------------------------------------------------------------------------------------------+     | | |\r\n| | |      | CHAIN NAME:sg_ingress_sg-dd9a7e0e, ID:c1b1b1b2-af1b-4d48-b6d3-160701022721 TENANT ID:euca_tenant_1                    |     | | |\r\n| | |      +-----------------------------------------------------------------------------------------------------------------------+     | | |\r\n| | |      | +-----------------------+---------+------+-----+-------+---+----------------------+--------+---+------+------+------+ |     | | |\r\n| | |      | |RULES FOR CHAIN:..22721|   SRC   | DST  |PROTO| DPORTS|TOS|GRP ADDRS             |FRAG POL|POS| TYPE |ACTION|TARGET| |     | | |\r\n| | |      | +-----------------------+---------+------+-----+-------+---+----------------------+--------+---+------+------+------+ |     | | |\r\n| | |      | |RULE#:1                |0.0.0.0/0|None/0| UDP |0:65535| 0 |None                  | header | 1 |accept|      |      | |     | | |\r\n| | |      | |5bee810e-3715-4497-90b4|         |      |     |       |   |                      |        |   |      |      |      | |     | | |\r\n| | |      | |-adfd7a5a53ce          |         |      |     |       |   |                      |        |   |      |      |      | |     | | |\r\n| | |      | +-----------------------+---------+------+-----+-------+---+----------------------+--------+---+------+------+------+ |     | | |\r\n| | |      | |RULE#:2                |0.0.0.0/0|None/0| ICMP|  None | 0 |None                  |  any   | 2 |accept|      |      | |     | | |\r\n| | |      | |0a141dec-2ff1-4731     |         |      |     |       |   |                      |        |   |      |      |      | |     | | |\r\n| | |      | |-b2be-539ec59a390e     |         |      |     |       |   |                      |        |   |      |      |      | |     | | |\r\n| | |      | +-----------------------+---------+------+-----+-------+---+----------------------+--------+---+------+------+------+ |     | | |\r\n| | |      | |RULE#:3                |  None/0 |None/0|  IP |  None | 0 |(sg_all_sg-dd9a7e0e)  |  any   | 3 |accept|      |      | |     | | |\r\n| | |      | |e63dbddd-ccba-4795     |         |      |     |       |   |- 172.31.15.174       |        |   |      |      |      | |     | | |\r\n| | |      | |-a2ba-c2dcbd8f2bf6     |         |      |     |       |   |- 10.116.170.10       |        |   |      |      |      | |     | | |\r\n| | |      | |                       |         |      |     |       |   |- 10.116.170.100      |        |   |      |      |      | |     | | |\r\n| | |      | |                       |         |      |     |       |   |- 172.31.29.82        |        |   |      |      |      | |     | | |\r\n| | |      | |                       |         |      |     |       |   |- 172.31.23.109       |        |   |      |      |      | |     | | |\r\n| | |      | |                       |         |      |     |       |   |- 10.116.170.101      |        |   |      |      |      | |     | | |\r\n| | |      | +-----------------------+---------+------+-----+-------+---+----------------------+--------+---+------+------+------+ |     | | |\r\n| | |      +-----------------------------------------------------------------------------------------------------------------------+     | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | | |RULES FOR CHAIN:..ae558| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS|TYPE|ACTION|TARGET|                                 | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | | |RULE#:4                |None/0|None/0|  IP | None | 0 |None     |  any   | 4 |drop|      |      |                                 | | |\r\n| | | |a3515448-9967-4569-84d6|      |      |     |      |   |         |        |   |    |      |      |                                 | | |\r\n| | | |-0fdc62485fa9          |      |      |     |      |   |         |        |   |    |      |      |                                 | | |\r\n| | | +-----------------------+------+------+-----+------+---+---------+--------+---+----+------+------+                                 | | |\r\n| | +------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| |                                                                                                                                        | |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------+ |\r\n+--------------------------------------------------------------------------------------------------------------------------------------------+\r\n                                                                                                                                              \r\n+-------------------------------------------------------------------------------------------------------------------------------+             \r\n| HOST:h-27.qa1.eucalyptus-systems.com (57a953cf-aac0-44af-a5cd-d870ade4a9c7)                                                   |             \r\n+-------------------------------------------------------------------------------------------------------------------------------+             \r\n| HOST SUMMARY:                                                                                                                 |             \r\n| +--------------------------------------+---------------------------------+-------+-------------+                              |             \r\n| |               HOST ID                |            HOST NAME            | ALIVE |  HOST IP(S) |                              |             \r\n| +--------------------------------------+---------------------------------+-------+-------------+                              |             \r\n| | 57a953cf-aac0-44af-a5cd-d870ade4a9c7 | h-27.qa1.eucalyptus-systems.com |  True | 10.111.5.27 |                              |             \r\n| +--------------------------------------+---------------------------------+-------+-------------+                              |             \r\n| HOST PORTS:                                                                                                                   |             \r\n| +----------------+--------------------------------------+                                                                     |             \r\n| | HOST PORT NAME |             HOST PORT ID             |                                                                     |             \r\n| +----------------+--------------------------------------+                                                                     |             \r\n| | vn_i-430deb13  | 2b52b333-778d-4801-ae85-c9a1c474ef02 |                                                                     |             \r\n| +----------------+--------------------------------------+                                                                     |             \r\n| HOST INTERFACES:                                                                                                              |             \r\n| +---------------+----------+-------------------+--------+-------+-----------+-----------------------------------------------+ |             \r\n| |      NAME     |   TYPE   |        MAC        | STATUS |  MTU  |  ENDPOINT |                   ADDRESSES                   | |             \r\n| +---------------+----------+-------------------+--------+-------+-----------+-----------------------------------------------+ |             \r\n| |       lo      | Virtual  | 00:00:00:00:00:00 |   3    | 65536 | LOCALHOST |           127.0.0.1, 0:0:0:0:0:0:0:1          | |             \r\n| |    em1.116    | Virtual  | ec:b1:d7:7f:53:44 |   3    |  1500 |  UNKNOWN  |         fe80:0:0:0:eeb1:d7ff:fe7f:5344        | |             \r\n| |    em1.107    | Virtual  | ec:b1:d7:7f:53:44 |   3    |  1500 |  UNKNOWN  | 10.107.105.27, fe80:0:0:0:eeb1:d7ff:fe7f:5344 | |             \r\n| |      em1      | Physical | ec:b1:d7:7f:53:44 |   3    |  1500 |  PHYSICAL |         fe80:0:0:0:eeb1:d7ff:fe7f:5344        | |             \r\n| |      em2      | Physical | ec:b1:d7:7f:53:45 |   0    |  1500 |  PHYSICAL |                                               | |             \r\n| |      em3      | Physical | ec:b1:d7:7f:53:46 |   0    |  1500 |  PHYSICAL |                                               | |             \r\n| |      em4      | Physical | ec:b1:d7:7f:53:47 |   0    |  1500 |  PHYSICAL |                                               | |             \r\n| |   virbr0-nic  | Virtual  | 52:54:00:84:cc:13 |   0    |  1500 |  UNKNOWN  |                                               | |             \r\n| |    midonet    | Virtual  | a2:0c:4f:85:bf:be |   0    |  1500 |  DATAPATH |                                               | |             \r\n| |     virbr0    | Virtual  | 52:54:00:84:cc:13 |   3    |  1500 |  UNKNOWN  |                 192.168.122.1                 | |             \r\n| |      br0      | Virtual  | ec:b1:d7:7f:53:44 |   3    |  1500 |  UNKNOWN  |  10.111.5.27, fe80:0:0:0:eeb1:d7ff:fe7f:5344  | |             \r\n| | vn_i-430deb13 | Virtual  | fe:0d:cf:b7:64:66 |   3    | 65000 |  DATAPATH |         fe80:0:0:0:fc0d:cfff:feb7:6466        | |             \r\n| +---------------+----------+-------------------+--------+-------+-----------+-----------------------------------------------+ |             \r\n|                                                                                                                               |             \r\n+-------------------------------------------------------------------------------------------------------------------------------+             \r\n                                                                                                                                              \r\n+-------------------------------------------------------------------------+                                                                   \r\n| \"EUCALYPTUS CLOUD\" INSTANCE INFO (i-430deb13):                          |                                                                   \r\n+-------------------------------------------------------------------------+                                                                   \r\n|                                                                         |                                                                   \r\n|               EUCA SECURITY GROUPS FOR INSTANCE:i-430deb13              |                                                                   \r\n| +---------------------------------------------------------------------+ |                                                                   \r\n| |         Security Group: matt/sg-dd9a7e0e, VPC: vpc-c6e016fe         | |                                                                   \r\n| +---------------------------------------------------------------------+ |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| |  CIDR_IP  SRC_GRP_NAME  SRC_GRP_ID   OWNER_ID   PORT END_PORT PROTO | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| |    None      matt2     sg-0db0dba0 000582448208  80     80     tcp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| | 0.0.0.0/0     None         None        None      0    65535    tcp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| | 0.0.0.0/0     None         None        None      -1     -1     icmp | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| |    None      matt2     sg-0db0dba0 000582448208 100    100     tcp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| | 0.0.0.0/0     None         None        None      0    65535    udp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| |    None      matt2     sg-0db0dba0 000582448208  81     81     tcp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| | 0.0.0.0/0     None         None        None      22     22     tcp  | |                                                                   \r\n| |---------------------------------------------------------------------| |                                                                   \r\n| +---------------------------------------------------------------------+ |                                                                   \r\n|                                                                         |                                                                   \r\n+-------------------------------------------------------------------------+\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-03T22:59:52.516-0500","updated":"2015-09-03T22:59:52.516-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91249","id":"91249","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mclark], any chance you tested this in EDGE mode as well?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-04T00:33:14.625-0500","updated":"2015-09-04T00:33:14.625-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91268","id":"91268","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"[~zhill] this is working against edge on the system below:\r\n\r\n{code}\r\n 'Version     : 4.2.0',\r\n 'Release     : 0.0.23780.609.20150831git556baad.el6',\r\n 'Size        : 288 k',\r\n 'Repo        : installed',\r\n{code}\r\n\r\nTest...\r\n\r\n{code}\r\nIn [91]: tester.show_security_groups_for_instance(ins)\r\n[2015-09-04 10:18:29,150] [EUCAOPS] [DEBUG]: Found matching security group for name:None and id:sg-94faf3a9\r\n[2015-09-04 10:18:29,160] [EUCAOPS] [DEBUG]: \r\n+-----------------------------------------------------------------------------------------+\r\n|                       EUCA SECURITY GROUPS FOR INSTANCE:i-deddcad6                      |\r\n+-----------------------------------------------------------------------------------------+\r\n| +-------------------------------------------------------------------------------------+ |\r\n| |                     Security Group: matt/sg-94faf3a9, VPC: None                     | |\r\n| +-------------------------------------------------------------------------------------+ |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |  CIDR_IP  | SRC_GRP_NAME |  SRC_GRP_ID |   OWNER_ID   | PORT | END_PORT | PROTO | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |    None   |    matt2     | sg-7e979136 | 000565690151 |  85  |    85    |  udp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | | 0.0.0.0/0 |     None     |     None    |     None     |  22  |    22    |  tcp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |    None   |    matt2     | sg-7e979136 | 000565690151 |  85  |    85    |  tcp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |    None   |    matt2     | sg-7e979136 | 000565690151 |  83  |    83    |  udp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |    None   |    matt2     | sg-7e979136 | 000565690151 |  82  |    82    |  udp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | |    None   |    matt2     | sg-7e979136 | 000565690151 |  80  |    80    |  tcp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | | 0.0.0.0/0 |     None     |     None    |     None     |  0   |  65535   |  tcp  | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| | | 0.0.0.0/0 |     None     |     None    |     None     |  -1  |    -1    |  icmp | | |\r\n| | +-----------+--------------+-------------+--------------+------+----------+-------+ | |\r\n| +-------------------------------------------------------------------------------------+ |\r\n+-----------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [92]: ins.printself()\r\n[2015-09-04 10:18:33,130] [i-deddcad6] [DEBUG]: \r\n+---------------------------+--------------------------+-------------------+-----------------------------------------------------------+\r\n|INSTANCE ID                |INSTANCE IMAGE            |INSTANCE STATE     |INSTANCE NETWORK INFO:                                     |\r\n+---------------------------+--------------------------+-------------------+-----------------------------------------------------------+\r\n|ID: i-deddcad6             |EMI: emi-af04ab4b         |STATE: running     |+----+------+-----------+-+---------------+---------------+|\r\n|VMTYPE: m1.medium          |OS: linux                 |AGE: 295           ||VPC |SUBNET|  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|RES: r-30d5d851            |VIRT: HVM                 |ZONE: one          |+----+------+-----------+-+---------------+---------------+|\r\n|KEYPAIR:                   |(preciseservercloudimga..)|ROOTDEV:           ||None| None |sg-94faf3a9|N| 10.111.30.188 | 10.111.30.116 ||\r\n|net_tests_key_1441082753.88|                          |instance-store     |+----+------+-----------+-+---------------+---------------+|\r\n+---------------------------+--------------------------+-------------------+-----------------------------------------------------------+\r\n\r\n\r\n\r\nIn [93]: packet_test(ins.ssh, ssh, protocol=17, port=80, bind=True, count=2)\r\nOut[93]: \r\n{u'count': 2,\r\n u'date': u'Fri Sep  4 10:18:41 2015',\r\n u'elapsed': 0.18,\r\n u'error': u'',\r\n u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{80: 0}',\r\n u'packets': {u'10.111.30.116': {u'10.111.5.56': {u'80': 2}}},\r\n u'protocol': 17}\r\n\r\nIn [94]: packet_test(ins.ssh, ssh, protocol=17, port=22, bind=True, count=7)\r\nOut[94]: \r\n{u'count': 7,\r\n u'date': u'Fri Sep  4 10:18:52 2015',\r\n u'elapsed': 0.68,\r\n u'error': u'',\r\n u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{22: 0}',\r\n u'packets': {u'10.111.30.116': {u'10.111.5.56': {u'22': 7}}},\r\n u'protocol': 17}\r\n{code} ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-04T12:19:26.814-0500","updated":"2015-09-04T12:19:26.814-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91269","id":"91269","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mclark], thanks. That helps narrow my testing focus.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-04T12:21:59.935-0500","updated":"2015-09-04T12:21:59.935-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91304","id":"91304","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Dan is working this now.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-04T21:43:38.441-0500","updated":"2015-09-04T21:43:38.441-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/91491","id":"91491","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"commit d2b96f35e412861f883801b4ae400ce728105fc0\r\nAuthor: Daniel Nurmi <nurmi@eucalyptus.com>\r\nDate:   Wed Sep 9 15:32:26 2015 -0700\r\n\r\n    latest merge from network-vpc including fixes for EDGE EUCA-11241 and vpc EUCA-11322\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2015-09-09T17:33:37.508-0500","updated":"2015-09-09T17:33:37.508-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38025/comment/93509","id":"93509","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified with a mini-test matrix using 2 zones with 2 subnets each (4 subnets), 2 security groups in a single vpc...\r\n\r\n{code}\r\nIn [141]: user.ec2.show_instances(ins1)\r\n[2015-10-12 08:34:03,031][INFO][EC2ops(nephotest:admin)]: \r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|INSTANCE ID          |INSTANCE IMAGE      |INSTANCE STATE     |INSTANCE NETWORK INFO:                                                      |\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-ba213094       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36777         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-4c8e4ef4      |VIRT: HVM           |ZONE: two          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-51def31b   ||vpc-1ed5d912|subnet-7abc6f46|sg-885ec1f6|N| 172.31.32.164 | 10.116.170.221||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-22a442bf       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36775         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-d7e60ce9      |VIRT: HVM           |ZONE: one          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-7e1ecbd7   ||vpc-1ed5d912|subnet-c541bdc2|sg-885ec1f6|N| 172.31.33.150 | 10.116.170.75 ||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-77b6d8c2       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36772         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-393e3e72      |VIRT: HVM           |ZONE: two          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-bfe496c4   ||vpc-1ed5d912|subnet-0543c665|sg-885ec1f6|N|  172.31.34.77 | 10.116.170.116||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-033556df       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36768         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-4b0cd707      |VIRT: HVM           |ZONE: one          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-7aff974e   ||vpc-1ed5d912|subnet-b220996d|sg-885ec1f6|N|  172.31.35.71 | 10.116.170.135||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n\r\n\r\nIn [142]: user.ec2.show_instances(ins2)\r\n[2015-10-12 08:34:05,205][INFO][EC2ops(nephotest:admin)]: \r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|INSTANCE ID          |INSTANCE IMAGE      |INSTANCE STATE     |INSTANCE NETWORK INFO:                                                      |\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-9d355a29       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36756         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-65bd7806      |VIRT: HVM           |ZONE: two          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-a101f688   ||vpc-1ed5d912|subnet-7abc6f46|sg-53920d15|N| 172.31.32.171 | 10.116.170.101||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-6f2b4304       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36749         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-6b56424e      |VIRT: HVM           |ZONE: one          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-defae353   ||vpc-1ed5d912|subnet-c541bdc2|sg-53920d15|N| 172.31.33.240 | 10.116.170.107||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-18a5b996       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36741         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-67ef6be8      |VIRT: HVM           |ZONE: two          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-c6e658ff   ||vpc-1ed5d912|subnet-0543c665|sg-53920d15|N|  172.31.34.73 | 10.116.170.40 ||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n|ID: i-cf4b0f26       |EMI: emi-c30f6917   |STATE: running     |NODE:???\tKEYPAIR:vpcbasics_key_98298                                        |\r\n|TYPE: m1.small       |OS: linux           |AGE: 36732         |+------------+---------------+-----------+-+---------------+---------------+|\r\n|RES: r-4d09d206      |VIRT: HVM           |ZONE: one          ||    VPC     |     SUBNET    |  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+------------+---------------+-----------+-+---------------+---------------+|\r\n|000680023399         |image-import-i-7ac..|ebs:vol-f8648f5c   ||vpc-1ed5d912|subnet-b220996d|sg-53920d15|N|  172.31.35.68 | 10.116.170.183||\r\n+---------------------+--------------------+-------------------+----------------------------------------------------------------------------+\r\n\r\n\r\nIn [143]: user.ec2.show_security_groups([group1, group2])\r\n[2015-10-12 08:34:16,499][DEBUG][EC2ops(nephotest:admin)]: Found matching security group for name:None and id:sg-885ec1f6\r\n[2015-10-12 08:34:16,562][DEBUG][EC2ops(nephotest:admin)]: Found matching security group for name:None and id:sg-53920d15\r\n[2015-10-12 08:34:16,568][INFO][EC2ops(nephotest:admin)]: \r\n+-----------------------------------------------------------------------------------------------+\r\n|                Security Group: VpcBasics_1_98298/sg-885ec1f6, VPC: vpc-1ed5d912               |\r\n+-----------------------------------------------------------------------------------------------+\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |    CIDR_IP     |    SRC_GRP_NAME   |  SRC_GRP_ID |   OWNER_ID   | PORT | END_PORT | PROTO | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_2_98298 | sg-53920d15 | 000680023399 | 105  |   110    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |   0.0.0.0/0    |        None       |     None    |     None     |  22  |    22    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |   0.0.0.0/0    |        None       |     None    |     None     |  -1  |    -1    |  icmp | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| | 10.111.5.10/32 |        None       |     None    |     None     | 100  |   120    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_2_98298 | sg-53920d15 | 000680023399 | 100  |   120    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_2_98298 | sg-53920d15 | 000680023399 | 105  |   110    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_2_98298 | sg-53920d15 | 000680023399 | 100  |   120    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n+-----------------------------------------------------------------------------------------------+\r\n+-----------------------------------------------------------------------------------------------+\r\n|                Security Group: VpcBasics_2_98298/sg-53920d15, VPC: vpc-1ed5d912               |\r\n+-----------------------------------------------------------------------------------------------+\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |    CIDR_IP     |    SRC_GRP_NAME   |  SRC_GRP_ID |   OWNER_ID   | PORT | END_PORT | PROTO | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |   0.0.0.0/0    |        None       |     None    |     None     |  -1  |    -1    |  icmp | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_1_98298 | sg-885ec1f6 | 000680023399 | 100  |   120    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| | 10.111.5.10/32 |        None       |     None    |     None     | 100  |   120    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_1_98298 | sg-885ec1f6 | 000680023399 | 100  |   120    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_1_98298 | sg-885ec1f6 | 000680023399 | 105  |   110    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |   0.0.0.0/0    |        None       |     None    |     None     |  22  |    22    |  tcp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n| |      None      | VpcBasics_1_98298 | sg-885ec1f6 | 000680023399 | 105  |   110    |  udp  | |\r\n| +----------------+-------------------+-------------+--------------+------+----------+-------+ |\r\n+-----------------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [138]: for src in ins2:\r\n    for dst in ins1:\r\n        if src != dst:\r\n            port=115; proto=17; dst_ip = dst.ip_address; print 'testing {0}:{1} -> {2}:{3}, \r\n            protocol:{4}'.format(src.id, src.ip_address, dst.id, \"{0}:{1}\".format(dst_ip, port), proto)\r\n            res = packet_test(src.ssh, dst.ssh, dest_ip=dst_ip, protocol=proto, bind=True, port=port, count=2)\r\n            print res\r\n            if res.get('count') != 2:\r\n                raise RuntimeError('Count was not equal')\r\n   .....:             \r\ntesting i-9d355a29:10.116.170.101 -> i-ba213094:10.116.170.221:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.101': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.49, u'error': u'', u'date': u'Mon Oct 12 15:32:56 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-22a442bf:10.116.170.75:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.101': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:32:57 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-77b6d8c2:10.116.170.116:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.101': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:32:58 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-033556df:10.116.170.135:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.101': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.43, u'error': u'', u'date': u'Mon Oct 12 15:32:59 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-ba213094:10.116.170.221:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.107': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.49, u'error': u'', u'date': u'Mon Oct 12 15:33:00 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-22a442bf:10.116.170.75:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.107': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:33:01 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-77b6d8c2:10.116.170.116:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.107': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.43, u'error': u'', u'date': u'Mon Oct 12 15:33:02 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-033556df:10.116.170.135:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.107': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:02 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-ba213094:10.116.170.221:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.40': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.47, u'error': u'', u'date': u'Mon Oct 12 15:33:03 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-22a442bf:10.116.170.75:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.40': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:04 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-77b6d8c2:10.116.170.116:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.40': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:33:05 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-033556df:10.116.170.135:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.40': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:06 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-ba213094:10.116.170.221:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.183': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:33:07 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-22a442bf:10.116.170.75:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.183': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:33:08 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-77b6d8c2:10.116.170.116:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.183': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:33:08 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-033556df:10.116.170.135:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'10.116.170.183': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:33:09 2015'}\r\n\r\nIn [139]: for src in ins2:\r\n    for dst in ins1:\r\n        if src != dst:\r\n            port=115; proto=17; dst_ip = dst.private_ip_address; \r\n            print 'testing {0}:{1} -> {2}:{3}, protocol:{4}'.format(src.id, src.ip_address, dst.id, \"{0}:{1}\".format(dst_ip, port), proto)\r\n            res = packet_test(src.ssh, dst.ssh, dest_ip=dst_ip, protocol=proto, bind=True, port=port, count=2)\r\n            print res\r\n            if res.get('count') != 2:\r\n                raise RuntimeError('Count was not equal')\r\n   .....:             \r\ntesting i-9d355a29:10.116.170.101 -> i-ba213094:172.31.32.164:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.49, u'error': u'', u'date': u'Mon Oct 12 15:33:38 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-22a442bf:172.31.33.150:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.5, u'error': u'', u'date': u'Mon Oct 12 15:33:39 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-77b6d8c2:172.31.34.77:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.51, u'error': u'', u'date': u'Mon Oct 12 15:33:40 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-033556df:172.31.35.71:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:33:41 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-ba213094:172.31.32.164:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:33:42 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-22a442bf:172.31.33.150:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:33:43 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-77b6d8c2:172.31.34.77:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.43, u'error': u'', u'date': u'Mon Oct 12 15:33:43 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-033556df:172.31.35.71:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:44 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-ba213094:172.31.32.164:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.5, u'error': u'', u'date': u'Mon Oct 12 15:33:45 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-22a442bf:172.31.33.150:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:46 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-77b6d8c2:172.31.34.77:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:47 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-033556df:172.31.35.71:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:33:48 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-ba213094:172.31.32.164:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'172.31.32.164': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:33:49 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-22a442bf:172.31.33.150:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'172.31.33.150': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:33:50 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-77b6d8c2:172.31.34.77:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'172.31.34.77': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:33:50 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-033556df:172.31.35.71:115, protocol:17\r\n{u'count': 2, u'protocol': 17, u'name': u'PROTO:17, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'172.31.35.71': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:33:51 2015'}\r\n\r\n\r\nIn [144]: for src in ins2:\r\n    for dst in ins1:\r\n        if src != dst:\r\n            port=115; proto=6; dst_ip = dst.private_ip_address; print 'testing {0}:{1} -> {2}:{3}, protocol:{4}'.format(src.id, src.ip_address, dst.id, \"{0}:{1}\".format(dst_ip, port), proto)\r\n            res = packet_test(src.ssh, dst.ssh, dest_ip=dst_ip, protocol=proto, bind=True, port=port, count=2)\r\n            print res\r\n            if res.get('count') != 2:\r\n                raise RuntimeError('Count was not equal')\r\n   .....:             \r\ntesting i-9d355a29:10.116.170.101 -> i-ba213094:172.31.32.164:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:36:39 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-22a442bf:172.31.33.150:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:36:40 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-77b6d8c2:172.31.34.77:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:36:41 2015'}\r\ntesting i-9d355a29:10.116.170.101 -> i-033556df:172.31.35.71:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.32.171': {u'': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:36:41 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-ba213094:172.31.32.164:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:36:42 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-22a442bf:172.31.33.150:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:36:43 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-77b6d8c2:172.31.34.77:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:36:44 2015'}\r\ntesting i-6f2b4304:10.116.170.107 -> i-033556df:172.31.35.71:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.33.240': {u'': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:36:45 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-ba213094:172.31.32.164:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'': {u'115': 2}}}, u'elapsed': 0.48, u'error': u'', u'date': u'Mon Oct 12 15:36:46 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-22a442bf:172.31.33.150:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:36:47 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-77b6d8c2:172.31.34.77:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'': {u'115': 2}}}, u'elapsed': 0.47, u'error': u'', u'date': u'Mon Oct 12 15:36:58 2015'}\r\ntesting i-18a5b996:10.116.170.40 -> i-033556df:172.31.35.71:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.34.73': {u'': {u'115': 2}}}, u'elapsed': 0.44, u'error': u'', u'date': u'Mon Oct 12 15:36:59 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-ba213094:172.31.32.164:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'': {u'115': 2}}}, u'elapsed': 0.49, u'error': u'', u'date': u'Mon Oct 12 15:36:59 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-22a442bf:172.31.33.150:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:37:00 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-77b6d8c2:172.31.34.77:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'': {u'115': 2}}}, u'elapsed': 0.45, u'error': u'', u'date': u'Mon Oct 12 15:37:01 2015'}\r\ntesting i-cf4b0f26:10.116.170.183 -> i-033556df:172.31.35.71:115, protocol:6\r\n{u'count': 2, u'protocol': 6, u'name': u'PROTO:6, SRCADDRS:{}, DSTADDRS:{}, PORTS:{115: 0}', u'packets': {u'172.31.35.68': {u'': {u'115': 2}}}, u'elapsed': 0.46, u'error': u'', u'date': u'Mon Oct 12 15:37:02 2015'}\r\n\r\n\r\n\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-12T10:39:02.718-0500","updated":"2015-10-12T10:39:59.900-0500"}],"maxResults":7,"total":7,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}