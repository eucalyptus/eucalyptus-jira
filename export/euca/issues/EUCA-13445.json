{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"61300","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/61300","key":"EUCA-13445","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/19700","id":"19700","description":"Eucalyptus 4.4.3","name":"4.4.3","archived":false,"released":false}],"customfield_11001":null,"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13445/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2017-08-09T19:24:16.344-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kedwards","name":"kedwards","key":"kedwards","accountId":"557058:f9c2f8da-1fc6-4aa7-8fb0-750e7e422b6b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue"},"displayName":"Ken Edwards","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-08-15T14:27:47.419-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"description":"The Node Controller will accept two RebootInstance requests for the same instance. There are some hypervisor locks around this area but they don't fully protect the instance. In certain cases the two threads will step on each other, leading one thread to terminate the instance:\r\n\r\n{code}\r\n2017-08-09 17:08:15 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:15 DEBUG 000042185 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:15 DEBUG 000042185 change_state             | [i-0fd30257] state change for instance: Running -> Booting (Extant)\r\n2017-08-09 17:08:16  INFO 000053971 doRebootInstance         | [i-0fd30257] rebooting requested\r\n2017-08-09 17:08:16 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:16 DEBUG 000042192 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:17 DEBUG 000054127 change_state             | [i-0fd30257] state change for instance: Booting -> Running (Extant)\r\n2017-08-09 17:08:19 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:25 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:31  INFO 000053971 doRebootInstance         | [i-0fd30257] rebooting requested\r\n2017-08-09 17:08:31 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:31 DEBUG 000042285 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:31 DEBUG 000042285 change_state             | [i-0fd30257] state change for instance: Running -> Booting (Extant)\r\n2017-08-09 17:08:31 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:31  INFO 000053971 doRebootInstance         | [i-0fd30257] rebooting requested\r\n2017-08-09 17:08:31 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:31 DEBUG 000042291 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:32 DEBUG 000054127 change_state             | [i-0fd30257] state change for instance: Booting -> Running (Extant)\r\n2017-08-09 17:08:37 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:43 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:49 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:08:51  INFO 000053971 doRebootInstance         | [i-0fd30257] rebooting requested\r\n2017-08-09 17:08:51 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:51 DEBUG 000042447 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:51 DEBUG 000042447 change_state             | [i-0fd30257] state change for instance: Running -> Booting (Extant)\r\n2017-08-09 17:08:52  INFO 000053971 doRebootInstance         | [i-0fd30257] rebooting requested\r\n2017-08-09 17:08:52 DEBUG 000053971 doRebootInstance         | [i-0fd30257] invoked\r\n2017-08-09 17:08:52 DEBUG 000042458 rebooting_thread         | [i-0fd30257] spawning rebooting thread\r\n2017-08-09 17:08:53 DEBUG 000054127 change_state             | [i-0fd30257] state change for instance: Booting -> Running (Extant)\r\n2017-08-09 17:08:54  INFO 000042098 rebooting_thread         | [i-0fd30257] rebooting\r\n2017-08-09 17:08:55 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:02 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:06 ERROR 000042192 libvirt_err_handler      | libvirt: Domain not found: no domain with matching name 'i-0fd30257' (code=42)\r\n2017-08-09 17:09:06 ERROR 000054127 libvirt_err_handler      | libvirt: Domain not found: no domain with matching name 'i-0fd30257' (code=42)\r\n2017-08-09 17:09:06  WARN 000054127 refresh_instance_info    | [i-0fd30257] hypervisor failed to find domain, will retry 5 more time(s)\r\n2017-08-09 17:09:06 ERROR 000042192 shutdown_then_destroy_do | Failed to move console log file from /var/lib/eucalyptus/instances/work/AIDAAKY5VBHCKNJX4Z3P4/i-0fd30257/console.log to /var/lib/eucalyptus/instances/work/AIDAAKY5VBHCKNJX4Z3P4/i-0fd30257/console.log.old\r\n2017-08-09 17:09:06  INFO 000042103 rebooting_thread         | [i-0fd30257] rebooting\r\n2017-08-09 17:09:07 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:13 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:16  INFO 000042192 rebooting_thread         | [i-0fd30257] rebooting\r\n2017-08-09 17:09:19 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:25 DEBUG 000053971 doDescribeInstances      | [i-0fd30257] Extant (running) pub=0.0.0.0 vols=\r\n2017-08-09 17:09:26 ERROR 000042192 libvirt_err_handler      | libvirt: Requested operation is not valid: domain 'i-0fd30257' is already active (code=55)\r\n2017-08-09 17:09:26 ERROR 000042192 rebooting_thread         | [i-0fd30257] failed to restart instance\r\n2017-08-09 17:09:26 DEBUG 000042192 change_state             | [i-0fd30257] state change for instance: Running -> Shutoff (Extant)\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Simultaneous RebootInstance calls can cause an instance to be terminated.","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":null,"customfield_12100":"0|i0451r:","customfield_10001":null,"customfield_10200":null,"customfield_10002":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10000","value":"Customer Affecting","id":"10000"}],"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["kedwards(kedwards)","sgraham(sgraham)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13445/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}