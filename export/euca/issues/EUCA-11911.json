{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"40515","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40515","key":"EUCA-11911","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/10001","id":"10001","description":"This issue won't be actioned.","name":"Won't Do"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2017-06-13T13:29:25.346-0500","customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11911/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2016-01-20T04:05:10.862-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{}","labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[{"id":"34814","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/34814","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"22974","key":"EUCA-7148","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22974","fields":{"summary":"Cannot unbundle image which was bundled with euca-bundle-instance","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"46200","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/46200","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"40215","key":"TOOLS-611","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40215","fields":{"summary":"Need to avoid use of CLC private key while unbundling EMI image using euca-download-and-unbundle or euca-unbundle command","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811}}}}],"assignee":null,"updated":"2017-06-13T13:29:25.353-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"}],"timeoriginalestimate":null,"description":"This feature request ticket has been raised for avoiding use of CLC private key for downloading registered EMI images which were registered euca-bundle-instance & euca-register  commands against a running instance.\r\n\r\n\r\nEMI images can not be unbundled using euca-download-and-unbundle or euca-unbundle command without CLC private key in eu2ools 3.3.0 version.\r\n\r\nWe need to identify a way to unbundle EMI image without using CLC private key.\r\n\r\nNote: CLC private key can not be shared with end users due to security concern.\r\n\r\nHere are the steps executed for reproducing the problem and ended-up with error message :\r\n\r\n1. launched base image with normal user credentials(which has been made by eucalyptus accpunt and published to public)\r\n2. Made some changes and euca-bundle-instance to it\r\n3. Registered image after euca-bundle-instance has succeed\r\n4. launched this new re-bundled image and its working right way\r\n5. trying to euca-download-and-unbundle this re-bundled image using same credentials which used when base image was firstly (=step 1) launched and when euca-bundle-instance was made.\r\n\r\nHere is re-created image:\r\n\r\n{code}IMAGE emi-4e26e431 my-test-bucket/windows.7_edited.manifest.xml 000028020470 available private x86_64 machinewindows instance-store hvm {code}\r\n\r\nHere command and errors for download & unbundle:\r\n\r\n{code}[root@esclos84000 jarik]# euca-download-and-unbundle -b my-test-bucket -p windows.7_edited -k kuntsi_esclor84.pem -d unbundle/\r\nRSA operation error\r\n140165298747208:error:04065084:rsa routines:RSA_EAY_PRIVATE_DECRYPT:data too large for modulus:rsa_eay.c:590:\r\nRSA operation error\r\n140484052477768:error:0407106B:rsa routines:RSA_padding_check_PKCS1_type_2:block type is not 02:rsa_pk1.c:190:\r\n140484052477768:error:04065072:rsa routines:RSA_EAY_PRIVATE_DECRYPT:padding check failed:rsa_eay.c:674:\r\neuca-download-and-unbundle: error: Failed to decrypt the bundle's encryption key. Ensure the key supplied matches the one used for bundling.  {code}\r\n\r\n\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Avoid use of CLC private key while unbundling EMI image using euca-download-and-unbundle or euca-unbundle command","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kshaik","name":"kshaik","key":"kshaik","accountId":"557058:c99aa270-2e4b-40a1-a392-ecf800a93a31","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Kasim Shaik","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kshaik","name":"kshaik","key":"kshaik","accountId":"557058:c99aa270-2e4b-40a1-a392-ecf800a93a31","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6d01908cb401ffb023e2d01e4f9150c9?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Kasim Shaik","active":true,"timeZone":"US/Central"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_44094254493","customfield_12100":"0|i03l5b:","customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["kshaik(kshaik)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11911/votes","votes":1,"hasVoted":false},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}