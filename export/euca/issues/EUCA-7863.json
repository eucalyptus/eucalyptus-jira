{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"24675","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675","key":"EUCA-7863","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/13700","id":"13700","description":"Eucalyptus 3.4.2","name":"3.4.2","archived":false,"released":true,"releaseDate":"2014-02-24"}],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@3d36fa16[id=40,rapidViewId=75,state=CLOSED,name=4.0 Sprint 3,goal=<null>,startDate=2013-12-23T20:42:29.366Z,endDate=2014-01-23T20:42:00.000Z,completeDate=2014-01-24T21:16:38.266Z,sequence=40]","com.atlassian.greenhopper.service.sprint.Sprint@4ff15f65[id=42,rapidViewId=75,state=CLOSED,name=4.0 Sprint 4,goal=<null>,startDate=2014-01-25T17:49:13.076Z,endDate=2014-02-13T17:49:00.000Z,completeDate=2014-02-14T21:09:23.083Z,sequence=42]","com.atlassian.greenhopper.service.sprint.Sprint@4b080432[id=43,rapidViewId=75,state=CLOSED,name=4.0 Sprint 4+,goal=<null>,startDate=2014-02-14T21:12:53.357Z,endDate=2014-02-21T21:12:00.000Z,completeDate=2014-02-26T00:51:28.706Z,sequence=43]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10402","value":"Internal","id":"10402"},"customfield_10302":null,"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2014-02-24T15:26:51.570-0600","customfield_10308":null,"customfield_10704":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7863/watchers","watchCount":9,"isWatching":false},"created":"2013-10-11T18:29:08.435-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{repository={count=6, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":6,\"lastUpdated\":\"2014-01-22T08:06:05.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":6,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":["AWSCompat-PM","SUSTAINING_341"],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"}],"customfield_11901":null,"issuelinks":[{"id":"21903","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/21903","type":{"id":"10100","name":"Blocks","inward":"is blocked by","outward":"blocks","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10100"},"outwardIssue":{"id":"25563","key":"EUCA-8347","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/25563","fields":{"summary":"Cloud Resource Admin: S3 operations via API","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}},{"id":"20806","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20806","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"24677","key":"DOC-1043","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24677","fields":{"summary":"Instance Profiles Don't Support Roles With IAM S3 Policies","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"22202","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/22202","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"25902","key":"EUCA-8448","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/25902","fields":{"summary":"Metadata Service Doesn't Handle Multiple URL Requests Per HTTP Connection","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"20808","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20808","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"22211","key":"EUCA-6782","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22211","fields":{"summary":"Instance meta-data service should serve JSON for role security credentials","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"20816","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20816","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"24690","key":"EUCA-7870","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24690","fields":{"summary":"Instance Profiles Don't Work with IAM Roles that have an IAM Identity and Management Policy","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"20910","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20910","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"24706","key":"EUCA-7874","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24706","fields":{"summary":"IAM Role, Instance Profile with IAM AutoScaling Policy Has Login Failure Error","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"22513","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/22513","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"26580","key":"EUCA-8533","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/26580","fields":{"summary":"NPE in WalrusRESTBinding","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"updated":"2014-06-16T16:58:26.549-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11503","id":"11503","name":"IAM"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10015","id":"10015","name":"Walrus"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\nSet up an instance profile that is associated with a IAM role that contains a IAM S3 Policy.  After launching the instance, I could see the security credentials in the instance meta-data service, but boto could not access the credentials; therefore get_all_buckets() failed with the following error:\r\n\r\n{code}\r\nS3ResponseError: S3ResponseError: 400 Bad Request\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>No active access key for com.eucalyptus.auth.principal.RoleUser@1631d243</Message></Error></Errors><RequestID>No active access key for com.eucalyptus.auth.principal.RoleUser@1631d243</RequestID></Response>\r\n{code}\r\n\r\n*Signs*\r\n\r\nI used boto (boto-2.14.0) to test listing buckets. The security credentials were successfully deployed via the instance meta-data service:\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials\r\nACCT1-S3-ACTIONSubuntu@ip-172-17-189-109:~$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials/ACCT1-S3-ACTIONS\r\n{\r\n  \"Code\": \"Success\",\r\n  \"LastUpdated\": \"2013-10-11T20:54:51Z\",\r\n  \"Type\": \"AWS-HMAC\",\r\n  \"AccessKeyId\": \"AKIJMTXONUFGCYV4KI8K\",\r\n  \"SecretAccessKey\": \"1aYubyb4PhkfjQ3Llx9SM0dHthlRsxPtibabBRIA\",\r\n  \"Token\": \"ZXVjYQAB36mmW9AllCYqSZakpd6nkqppaw8R2kjvLe5hfaLiYWj7qKHUWslJrmbpj0nGntfIr1VFLX5o/F3PP96QjGOrFWQRDDd6+LJ0yRM8rvd1eHUKEYF2S4dVqACsAeKHIndaejB9r0PhtAtT7YEkLNFNM5DG+2hYlSk7mMsEaBjzJqrClj7512Q6Nk0SVPAue0ffqb6wKh42OK3a7E79gF+mDHR7h0S4u7isQdH0TGKR78+DCwitAaXJPA==\",\r\n  \"Expiration\": \"2013-10-11T21:54:51Z\"\r\n}\r\n{code}\r\n\r\nI enabled debugging in boto to get more output.  The output is as follows:\r\n{code}\r\n$ ipython\r\nPython 2.7.4 (default, Sep 26 2013, 03:20:26)\r\nType \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\nIPython 0.13.2 -- An enhanced Interactive Python.\r\n?         -> Introduction and overview of IPython's features.\r\n%quickref -> Quick reference.\r\nhelp      -> Python's own help system.\r\nobject?   -> Details about 'object', use 'object??' for extra details.\r\n\r\nIn [1]: import boto\r\n\r\nIn [2]: boto.set_stream_logger('paws')\r\n\r\nIn [3]: walrus = boto.connect_walrus(host='10.104.10.6',debug=2)\r\n2013-10-11 13:54:51,257 paws [DEBUG]:Retrieving credentials from metadata server.\r\n2013-10-11 13:54:51,964 paws [DEBUG]:Retrieved credentials will expire in 7:59:59.035954 at: 2013-10-11T21:54:51Z\r\n\r\nIn [4]: walrus.get_all_buckets()\r\n2013-10-11 13:54:57,247 paws [DEBUG]:path=/\r\n2013-10-11 13:54:57,248 paws [DEBUG]:auth_path=/\r\n2013-10-11 13:54:57,248 paws [DEBUG]:Method: GET\r\n2013-10-11 13:54:57,248 paws [DEBUG]:Path: /services/Walrus/\r\n2013-10-11 13:54:57,248 paws [DEBUG]:Data:\r\n2013-10-11 13:54:57,248 paws [DEBUG]:Headers: {}\r\n2013-10-11 13:54:57,248 paws [DEBUG]:Host: 10.104.10.6:8773\r\n2013-10-11 13:54:57,249 paws [DEBUG]:Port: 8773\r\n2013-10-11 13:54:57,249 paws [DEBUG]:Params: {}\r\n2013-10-11 13:54:57,249 paws [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2013-10-11 13:54:57,249 paws [DEBUG]:Token: ZXVjYQAB36mmW9AllCYqSZakpd6nkqppaw8R2kjvLe5hfaLiYWj7qKHUWslJrmbpj0nGntfIr1VFLX5o/F3PP96QjGOrFWQRDDd6+LJ0yRM8rvd1eHUKEYF2S4dVqACsAeKHIndaejB9r0PhtAtT7YEkLNFNM5DG+2hYlSk7mMsEaBjzJqrClj7512Q6Nk0SVPAue0ffqb6wKh42OK3a7E79gF+mDHR7h0S4u7isQdH0TGKR78+DCwitAaXJPA==\r\n2013-10-11 13:54:57,250 paws [DEBUG]:StringToSign:\r\nGET\r\n\r\n\r\nFri, 11 Oct 2013 20:54:57 GMT\r\nx-amz-security-token:ZXVjYQAB36mmW9AllCYqSZakpd6nkqppaw8R2kjvLe5hfaLiYWj7qKHUWslJrmbpj0nGntfIr1VFLX5o/F3PP96QjGOrFWQRDDd6+LJ0yRM8rvd1eHUKEYF2S4dVqACsAeKHIndaejB9r0PhtAtT7YEkLNFNM5DG+2hYlSk7mMsEaBjzJqrClj7512Q6Nk0SVPAue0ffqb6wKh42OK3a7E79gF+mDHR7h0S4u7isQdH0TGKR78+DCwitAaXJPA==\r\n/services/Walrus/\r\n2013-10-11 13:54:57,250 paws [DEBUG]:Signature:\r\nAWS AKIJMTXONUFGCYV4KI8K:EjktfijONfdXj0usYAtJh8eEhkc=\r\nsend: 'GET /services/Walrus/ HTTP/1.1\\r\\nHost: 10.104.10.6:8773\\r\\nAccept-Encoding: identity\\r\\nDate: Fri, 11 Oct 2013 20:54:57 GMT\\r\\nContent-Length: 0\\r\\nAuthorization: AWS AKIJMTXONUFGCYV4KI8K:EjktfijONfdXj0usYAtJh8eEhkc=\\r\\nx-amz-security-token: ZXVjYQAB36mmW9AllCYqSZakpd6nkqppaw8R2kjvLe5hfaLiYWj7qKHUWslJrmbpj0nGntfIr1VFLX5o/F3PP96QjGOrFWQRDDd6+LJ0yRM8rvd1eHUKEYF2S4dVqACsAeKHIndaejB9r0PhtAtT7YEkLNFNM5DG+2hYlSk7mMsEaBjzJqrClj7512Q6Nk0SVPAue0ffqb6wKh42OK3a7E79gF+mDHR7h0S4u7isQdH0TGKR78+DCwitAaXJPA==\\r\\nUser-Agent: Boto/2.14.0 Python/2.7.4 Linux/3.8.0-31-generic\\r\\n\\r\\n'\r\nreply: 'HTTP/1.1 400 Bad Request\\r\\n'\r\nheader: Content-Type: text/plain; charset=UTF-8\r\nheader: Content-Length: 288\r\nheader: Connection: close\r\n---------------------------------------------------------------------------\r\nS3ResponseError                           Traceback (most recent call last)\r\n# .bash_profile\r\n<ipython-input-4-11abf7f6d8d5> in <module>()\r\n----> 1 walrus.get_all_buckets()\r\n\r\n/usr/local/lib/python2.7/dist-packages/boto/s3/connection.pyc in get_all_buckets(self, headers)\r\n    385         if response.status > 300:\r\n    386             raise self.provider.storage_response_error(\r\n--> 387                 response.status, response.reason, body)\r\n    388         rs = ResultSet([('Bucket', self.bucket_class)])\r\n    389         h = handler.XmlHandler(rs, self)\r\n\r\nS3ResponseError: S3ResponseError: 400 Bad Request\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>No active access key for com.eucalyptus.auth.principal.RoleUser@1631d243</Message></Error></Errors><RequestID>No active access key for com.eucalyptus.auth.principal.RoleUser@1631d243</RequestID></Response>\r\n\r\nIn [5]: quit()\r\n{code}\r\n\r\nFrom my testing so far, the only service API affected is S3/Walrus.  \r\n\r\n*Actions*\r\n\r\n_I tested with the admin user of the \"eucalyptus\" account and a non-admin user of a non-\"eucalyptus\" account.  In order to test with the user in the non-\"eucalyptus\" account, I had to add an IAM policy for that user - following [AWS IAM docs on granting access to applications on Amazon EC2 Instances|http://docs.aws.amazon.com/IAM/latest/UserGuide/role-usecase-ec2app.html]._\r\n* Add IAM policy for user in non-eucalyptus account\r\n{code}\r\n# euare-useraddkey --as-account account1 -u user01 --region eucalyptus-admin@\r\n# euare-useruploadpolicy --as-account account1 -u user01 -p ec2-iam-role-profile -f ec2-iam-role-profile --region eucalyptus-admin@\r\n# # cat ec2-iam-role-profile\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1381496061787\",\r\n      \"Action\": \"ec2:*\",\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    },\r\n    {\r\n      \"Sid\": \"Stmt1381496190183\",\r\n      \"Action\": [\r\n        \"iam:AddRoleToInstanceProfile\",\r\n        \"iam:CreateInstanceProfile\",\r\n        \"iam:CreateRole\",\r\n        \"iam:DeleteInstanceProfile\",\r\n        \"iam:DeleteRole\",\r\n        \"iam:DeleteRolePolicy\",\r\n        \"iam:GetInstanceProfile\",\r\n        \"iam:GetRole\",\r\n        \"iam:GetRolePolicy\",\r\n        \"iam:ListInstanceProfiles\",\r\n        \"iam:ListInstanceProfilesForRole\",\r\n        \"iam:ListRolePolicies\",\r\n        \"iam:ListRoles\",\r\n        \"iam:PassRole\",\r\n        \"iam:PutRolePolicy\",\r\n        \"iam:RemoveRoleFromInstanceProfile\",\r\n        \"iam:UpdateAssumeRolePolicy\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n{code}\r\n* Create a role using the creds of the user on the non-eucalyptus account\r\n{code}\r\n# iam-rolecreate --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-S3-ACTIONS -s http://10.104.10.6:8773/services/Eucalyptus\r\n{code}\r\n* Upload IAM S3 policy to the role\r\n{code}\r\n# iam-roleuploadpolicy --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -p s3-all -f s3-all-policy -r ACCT1-S3-ACTIONS\r\n# cat s3-all-policy\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1381457391877\",\r\n      \"Action\": \"s3:*\",\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n# iam-rolelistpolicies --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-S3-ACTIONS -v\r\ns3-all\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1381457391877\",\r\n      \"Action\": \"s3:*\",\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n\r\nIsTruncated: false\r\n{code}\r\n* Create an instance profile associated with the role containing the IAM S3 policy\r\n{code}\r\n# iam-instanceprofilecreate --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-S3-ACTIONS -s instances-s3-actions\r\n# iam-instanceprofilelistforrole --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-S3-ACTIONS\r\narn:aws:iam::735723906303:instance-profile/instances-s3-actions\r\nIsTruncated: false\r\n{code}\r\n* After setting up ssh access in the default security group, launch an instance using the instance profile (this image was the latest [Ubuntu Raring cloud image|http://cloud-images.ubuntu.com/raring/current/])\r\n{code}\r\n# euca-run-instances -k account1-user01 emi-C25538DA -t m1.large -z Exodus --region account1-user01@ -p arn:aws:iam::735723906303:instance-profile/instances-s3-actions\r\n{code}\r\n* SSH into the instance and set up the testing environment by installing python-pip and ipython; then use pip to install latest version of boto.\r\n{code}\r\n# sudo apt-get install python-pip ipython\r\n# sudo pip install --upgrade boto\r\n{code}\r\n* Start an ipython session, import boto, establish a connection to Walrus, then attempt to list all buckets\r\n{code}\r\n$ ipython\r\nPython 2.7.4 (default, Sep 26 2013, 03:20:26)\r\nType \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\nIPython 0.13.2 -- An enhanced Interactive Python.\r\n?         -> Introduction and overview of IPython's features.\r\n%quickref -> Quick reference.\r\nhelp      -> Python's own help system.\r\nobject?   -> Details about 'object', use 'object??' for extra details.\r\n\r\nIn [1]: import boto\r\n\r\nIn [2]: walrus = boto.connect_walrus(host='10.104.10.6')\r\n\r\nIn [3]: walrus.get_all_buckets()\r\n---------------------------------------------------------------------------\r\nS3ResponseError                           Traceback (most recent call last)\r\n<ipython-input-3-11abf7f6d8d5> in <module>()\r\n----> 1 walrus.get_all_buckets()\r\n\r\n/usr/local/lib/python2.7/dist-packages/boto/s3/connection.pyc in get_all_buckets(self, headers)\r\n    385         if response.status > 300:\r\n    386             raise self.provider.storage_response_error(\r\n--> 387                 response.status, response.reason, body)\r\n    388         rs = ResultSet([('Bucket', self.bucket_class)])\r\n    389         h = handler.XmlHandler(rs, self)\r\n\r\nS3ResponseError: S3ResponseError: 400 Bad Request\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>No active access key for com.eucalyptus.auth.principal.RoleUser@23c3b9cc</Message></Error></Errors><RequestID>No active access key for com.eucalyptus.auth.principal.RoleUser@23c3b9cc</RequestID></Response>\r\n{code}\r\n\r\n*Pertinent Data*\r\n\r\nI was able to confirm that EC2 API calls work with boto with both the admin user of the eucalyptus account and a non-admin user of a non-eucalyptus account.  \r\n\r\nIn order to set IAM roles and instance profiles, [AWS IAM tools (1.5.0)|http://awsiammedia.s3.amazonaws.com/public/tools/cli/latest/IAMCli.zip] must be used.\r\n\r\n*Workarounds*\r\n\r\nN/A","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Instance Profiles Don't Support Tools/Scripts That Use S3 API Calls","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i00h73:","customfield_10000":"3_*:*_1_*:*_57925783_*|*_10001_*:*_3_*:*_6936234370_*|*_10002_*:*_1_*:*_1663393606_*|*_10000_*:*_2_*:*_241069816_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1116897836_*|*_10007_*:*_1_*:*_5116","customfield_10001":"2013-11-23T06:41:22.941-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["dshekhawat(dshekhawat)","decker(decker)","hspencer(hspencer)","sjones(sjones)","viglesias(viglesias)"],"customfield_10116":null,"customfield_10117":null,"environment":"*non-HA*\r\n* Managed mode, multi-cluster\r\n* One cluster using SAN - Equallogic; other cluster using Overlay (tgtd)\r\n{code}\r\nSERVICE\tjetty          \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Jetty  \tarn:euca:eucalyptus::jetty:10.104.10.6/\r\nSERVICE\tloadbalancing  \tloadbalancing  \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/LoadBalancing\tarn:euca:eucalyptus:loadbalancing:loadbalancing:10.104.10.6/\r\nSERVICE\tautoscaling    \tautoscaling    \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/AutoScaling\tarn:euca:eucalyptus:autoscaling:autoscaling:10.104.10.6/\r\nSERVICE\tstorage        \tExodus         \tTheHeathen     \tENABLED   \t30  \thttp://10.104.10.22:8773/services/Storage\tarn:euca:eucalyptus:Exodus:storage:TheHeathen/\r\nSERVICE\tstorage        \tLegend         \tNoWomanNoCry   \tENABLED   \t30  \thttp://10.104.1.185:8773/services/Storage\tarn:euca:eucalyptus:Legend:storage:NoWomanNoCry/\r\nSERVICE\ttokens         \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Tokens \tarn:euca:eucalyptus::tokens:10.104.10.6/\r\nSERVICE\teucalyptus     \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Eucalyptus\tarn:euca:eucalyptus:::10.104.10.6/\r\nSERVICE\teuare          \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Euare  \tarn:euca:eucalyptus::euare:10.104.10.6/\r\nSERVICE\tbootstrap      \tbootstrap      \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Empyrean\tarn:euca:bootstrap:::10.104.10.6/\r\nSERVICE\tcluster        \tExodus         \tNaturalMystic  \tENABLED   \t30  \thttp://10.104.10.22:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:Exodus:cluster:NaturalMystic/\r\nSERVICE\tcluster        \tLegend         \tIsThisLove     \tENABLED   \t30  \thttp://10.104.1.185:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:Legend:cluster:IsThisLove/\r\nSERVICE\tdns            \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Dns    \tarn:euca:eucalyptus::dns:10.104.10.6/\r\nSERVICE\treporting      \tbootstrap      \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Reporting\tarn:euca:bootstrap::reporting:10.104.10.6/\r\nSERVICE\twalrus         \twalrus         \tStirItUp       \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Walrus \tarn:euca:bootstrap:walrus:walrus:StirItUp/\r\nSERVICE\tnotifications  \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Notifications\tarn:euca:eucalyptus::notifications:10.104.10.6/\r\nSERVICE\tcloudwatch     \tcloudwatch     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/CloudWatch\tarn:euca:eucalyptus:cloudwatch:cloudwatch:10.104.10.6/\r\n{code}","customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7863/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/58704","id":"58704","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"body":"The fix adds support for security token lookup while preserving the existing authentication path.  \r\n\r\nhttps://github.com/eucalyptus/eucalyptus/pull/41\r\n\r\n[~sjones], please see that I've understood the token handling correctly.  [~neil], please see that the prior authentication path behaviour is preserved.\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-11-23T06:41:22.941-0600","updated":"2013-11-23T06:41:22.941-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/58817","id":"58817","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Pulling the QueryIdCredential from the subjects credentials is sufficient, the credentials should have been verified during authentication (no need to look up the access key), though it is not clear from the change if anything is setting the QueryIdCredential for S3.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-11-25T12:48:49.481-0600","updated":"2013-11-25T12:48:49.481-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59559","id":"59559","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Hi All,\r\n\r\nIs the fix for this issue coming in Eucalyptus 3.4.1 , I see it was merged to testing last saturday. Just wanted to confirm if the issue is fixed.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-12-12T06:48:29.725-0600","updated":"2013-12-12T06:48:29.725-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59569","id":"59569","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like this isnt fully fixed.\r\n\r\nWe are now getting a bit farther into the IAM roles auth stack but there appears to be an NPE:\r\n\r\n{code}\r\n2013-12-12 10:25:53 ERROR | java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.setRequiredParams(WalrusRESTBinding.java:440)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.bind(WalrusRESTBinding.java:381)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.incomingMessage(WalrusRESTBinding.java:196)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.handleUpstream(WalrusRESTBinding.java:173)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n{code}\r\n\r\n\r\nBoto gets back the following:\r\n{code}\r\nT 10.0.1.153:46501 -> 10.0.1.91:8773 [AP]\r\n  GET /services/Walrus/ HTTP/1.1..Host: 10.0.1.91:8773..Accept-Encoding: identity..Date: Thu, 12 Dec 2013 18:25:50 GMT..Content-Length: 0.\r\n  .Authorization: AWS AKIWTA6PWCJZKQEAVMGV:kqpD8ekY5GB6kI2Qd2sTb3+8gYU=..x-amz-security-token: ZXVjYQABrPO1TJJBIz+w0TAIr5hqHQFXKZksH4U4839\r\n  FyVw3JoahZc+bXliYAZ6U/Q4stFttCP4cBd54bCI2vST+ps/T6BPOXwV+YH0iTBLGg948lFwSnbjh5tnrNPVfQN0rA10iVEfnN+hHEF93lWdIgUzOykxdTTJn65HvMj123YL9Tyh\r\n  QcQCe1rtKc63d+jYONr8C4M9EV090v7NPCbhq0TkNlq+0HkVljoMOZQUdQnqjNrv/itflLKhI..User-Agent: Boto/2.13.3 Python/2.6.6 Linux/2.6.32-358.14.1.el\r\n  6.x86_64....\r\n##\r\nT 10.0.1.91:8773 -> 10.0.1.153:46501 [AP]\r\n  HTTP/1.1 500 Internal Server Error..Content-Type: text/xml; charset=UTF-8..Content-Length: 243..Connection: close....<?xml version=\"1.0\"\r\n   encoding=\"UTF-8\"?><Error><Code>UNKNOWN</Code><Message>No active access key for com.eucalyptus.auth.principal.RoleUser@c3bffae</Message>\r\n  <Resource></Resource><RequestId>2e6d1450-d4ee-4dae-a652-b374b964695e</RequestId></Error>\r\n{code}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-12T12:44:36.558-0600","updated":"2013-12-12T12:44:36.558-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59570","id":"59570","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~viglesias], you might want to have the partial fix reverted from 3.4.1, I would check the logs for errors on any Walrus requests.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-12T13:01:18.127-0600","updated":"2013-12-12T13:01:18.127-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59571","id":"59571","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones]\r\n\r\nLooks like you are right. On regular requests:\r\n{code}\r\n2013-12-12 11:03:42 ERROR | java.lang.NullPointerException\r\njava.lang.NullPointerException\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.setRequiredParams(WalrusRESTBinding.java:440)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.bind(WalrusRESTBinding.java:381)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.incomingMessage(WalrusRESTBinding.java:196)\r\n        at com.eucalyptus.objectstorage.pipeline.WalrusRESTBinding.handleUpstream(WalrusRESTBinding.java:173)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.channel.SimpleChannelHandler.messageReceived(SimpleChannelHandler.java:142)\r\n        at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:132)\r\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at com.eucalyptus.ws.Handlers$BootstrapStateCheck.handleUpstream(Handlers.java:237)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:142)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-12T13:04:32.242-0600","updated":"2013-12-12T13:04:32.242-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59574","id":"59574","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Fix reverted from maint/3.4/testing","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-12T13:56:04.646-0600","updated":"2013-12-12T13:56:04.646-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59666","id":"59666","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"I updated Eucalyptus to 3.4.1 from 3.4.0.  Now the error is around incorrect date parsing:\r\n{code}\r\nIn [8]: walrus.get_all_buckets()\r\n2013-12-15 06:40:03,335 paws [DEBUG]:path=/\r\n2013-12-15 06:40:03,335 paws [DEBUG]:path=/\r\n2013-12-15 06:40:03,335 paws [DEBUG]:auth_path=/\r\n2013-12-15 06:40:03,335 paws [DEBUG]:auth_path=/\r\n2013-12-15 06:40:03,335 paws [DEBUG]:Method: GET\r\n2013-12-15 06:40:03,335 paws [DEBUG]:Method: GET\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Path: /services/Walrus/\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Path: /services/Walrus/\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Data:\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Data:\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Headers: {}\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Headers: {}\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Host: 10.104.10.6:8773\r\n2013-12-15 06:40:03,336 paws [DEBUG]:Host: 10.104.10.6:8773\r\n2013-12-15 06:40:03,337 paws [DEBUG]:Port: 8773\r\n2013-12-15 06:40:03,337 paws [DEBUG]:Port: 8773\r\n2013-12-15 06:40:03,337 paws [DEBUG]:Params: {}\r\n2013-12-15 06:40:03,337 paws [DEBUG]:Params: {}\r\n2013-12-15 06:40:03,337 paws [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2013-12-15 06:40:03,337 paws [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2013-12-15 06:40:03,338 paws [DEBUG]:Token: ZXVjYQABVWj4E0mVrRB8Is4KDO5nKeEzZXNPjwBgFX6lozscGZD7V1HuhsWYEincFiRcdG04Hc+15Kv0apVVj4tQ4pzOmtrXuPKJymtCyZ234Mzcu0P812LQgWx93vAgN7btokuckBL9w+ZKAskFonyAAdzfH2P7j1ThBAFHH611huYz+EnO6CpKEETRx1dOXEaNLJwXSfVrhZsEa/5MdlL/qgtnMv+HCBGFrDU0OODgTRztyNFGCGh7USNA\r\n2013-12-15 06:40:03,338 paws [DEBUG]:Token: ZXVjYQABVWj4E0mVrRB8Is4KDO5nKeEzZXNPjwBgFX6lozscGZD7V1HuhsWYEincFiRcdG04Hc+15Kv0apVVj4tQ4pzOmtrXuPKJymtCyZ234Mzcu0P812LQgWx93vAgN7btokuckBL9w+ZKAskFonyAAdzfH2P7j1ThBAFHH611huYz+EnO6CpKEETRx1dOXEaNLJwXSfVrhZsEa/5MdlL/qgtnMv+HCBGFrDU0OODgTRztyNFGCGh7USNA\r\n2013-12-15 06:40:03,338 paws [DEBUG]:StringToSign:\r\nGET\r\n\r\n\r\nSun, 15 Dec 2013 14:40:03 GMT\r\nx-amz-security-token:ZXVjYQABVWj4E0mVrRB8Is4KDO5nKeEzZXNPjwBgFX6lozscGZD7V1HuhsWYEincFiRcdG04Hc+15Kv0apVVj4tQ4pzOmtrXuPKJymtCyZ234Mzcu0P812LQgWx93vAgN7btokuckBL9w+ZKAskFonyAAdzfH2P7j1ThBAFHH611huYz+EnO6CpKEETRx1dOXEaNLJwXSfVrhZsEa/5MdlL/qgtnMv+HCBGFrDU0OODgTRztyNFGCGh7USNA\r\n/services/Walrus/\r\n2013-12-15 06:40:03,338 paws [DEBUG]:StringToSign:\r\nGET\r\n\r\n\r\nSun, 15 Dec 2013 14:40:03 GMT\r\nx-amz-security-token:ZXVjYQABVWj4E0mVrRB8Is4KDO5nKeEzZXNPjwBgFX6lozscGZD7V1HuhsWYEincFiRcdG04Hc+15Kv0apVVj4tQ4pzOmtrXuPKJymtCyZ234Mzcu0P812LQgWx93vAgN7btokuckBL9w+ZKAskFonyAAdzfH2P7j1ThBAFHH611huYz+EnO6CpKEETRx1dOXEaNLJwXSfVrhZsEa/5MdlL/qgtnMv+HCBGFrDU0OODgTRztyNFGCGh7USNA\r\n/services/Walrus/\r\n2013-12-15 06:40:03,339 paws [DEBUG]:Signature:\r\nAWS AKIYK0S9ABN4XOBYNWEA:9hAb3MvW7B49mA9wz5/0+SKmAFk=\r\n2013-12-15 06:40:03,339 paws [DEBUG]:Signature:\r\nAWS AKIYK0S9ABN4XOBYNWEA:9hAb3MvW7B49mA9wz5/0+SKmAFk=\r\nsend: 'GET /services/Walrus/ HTTP/1.1\\r\\nHost: 10.104.10.6:8773\\r\\nAccept-Encoding: identity\\r\\nDate: Sun, 15 Dec 2013 14:40:03 GMT\\r\\nContent-Length: 0\\r\\nAuthorization: AWS AKIYK0S9ABN4XOBYNWEA:9hAb3MvW7B49mA9wz5/0+SKmAFk=\\r\\nx-amz-security-token: ZXVjYQABVWj4E0mVrRB8Is4KDO5nKeEzZXNPjwBgFX6lozscGZD7V1HuhsWYEincFiRcdG04Hc+15Kv0apVVj4tQ4pzOmtrXuPKJymtCyZ234Mzcu0P812LQgWx93vAgN7btokuckBL9w+ZKAskFonyAAdzfH2P7j1ThBAFHH611huYz+EnO6CpKEETRx1dOXEaNLJwXSfVrhZsEa/5MdlL/qgtnMv+HCBGFrDU0OODgTRztyNFGCGh7USNA\\r\\nUser-Agent: Boto/2.19.0 Python/2.7.4 Linux/3.8.0-31-generic\\r\\n\\r\\n'\r\nreply: 'HTTP/1.1 403 Forbidden\\r\\n'\r\nheader: Content-Type: text/xml; charset=UTF-8\r\nheader: Content-Length: 211\r\nheader: Connection: close\r\n---------------------------------------------------------------------------\r\nS3ResponseError                           Traceback (most recent call last)\r\n<ipython-input-8-11abf7f6d8d5> in <module>()\r\n----> 1 walrus.get_all_buckets()\r\n\r\n/usr/local/lib/python2.7/dist-packages/boto/s3/connection.pyc in get_all_buckets(self, headers)\r\n    385         if response.status > 300:\r\n    386             raise self.provider.storage_response_error(\r\n--> 387                 response.status, response.reason, body)\r\n    388         rs = ResultSet([('Bucket', self.bucket_class)])\r\n    389         h = handler.XmlHandler(rs, self)\r\n\r\nS3ResponseError: S3ResponseError: 403 Forbidden\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><Error><Code>AccessDenied</Code><Message>Access Denied</Message><Resource>Unable to parse date.</Resource><RequestId>4d727411-b083-4125-9fe4-727618739e22</RequestId></Error>\r\n{code}\r\n\r\nEucalyptus package information\r\n{code}\r\n[root@odc-c-06 ~]# rpm -qa | grep eucalyptus\r\neucalyptus-sos-plugins-0.1.4-0.el6.noarch\r\neucalyptus-common-java-libs-3.4.1-0.0.445.el6.x86_64\r\neucalyptus-cloud-3.4.1-0.0.445.el6.x86_64\r\neucalyptus-3.4.1-0.0.445.el6.x86_64\r\neucalyptus-admin-tools-3.4.1-0.0.445.el6.noarch\r\neucalyptus-common-java-3.4.1-0.0.445.el6.x86_64\r\neucalyptus-walrus-3.4.1-0.0.445.el6.x86_64\r\neucalyptus-load-balancer-image-1.0.2-0.127.131002git65fc4e1.el6.x86_64\r\neucalyptus-enterprise-storage-san-equallogic-libs-3.4.1-0.0.443.el6.x86_64\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-15T16:44:52.196-0600","updated":"2013-12-15T16:44:52.196-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59667","id":"59667","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hspencer]\r\n\r\nCan you make sure NTP is synced on the instance? Also this bug fix was reverted from 3.4.1.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-15T17:44:04.550-0600","updated":"2013-12-15T17:44:04.550-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/59668","id":"59668","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~viglesias],\r\n\r\nThat was it.  I am getting the error I mentioned before (where the request keeps retrying).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-15T18:50:06.409-0600","updated":"2013-12-15T18:50:06.409-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/61712","id":"61712","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"I reproduced / fixed the reported issue using a session token (i.e. user console style auth), we should verify the fix using an instance profile.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-01-22T17:22:06.944-0600","updated":"2014-01-22T17:22:06.944-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675/comment/62380","id":"62380","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"No issues found using an instance profile to connect to walrus using boto from inside an instance. \r\n\r\n{code}\r\nIn [7]: import boto\r\n\r\nIn [8]: s3 = boto.connect_s3(host=\"walrus.home\")\r\n\r\nIn [9]: s3.get_bucket(\"work\")\r\nOut[9]: <Bucket: work>\r\n\r\nIn [10]: s3.get\r\ns3.get_all_buckets        s3.get_bucket             s3.get_canonical_user_id  s3.get_http_connection    s3.get_path               s3.get_proxy_auth_header\r\n\r\nIn [10]: s3.get_\r\ns3.get_all_buckets        s3.get_bucket             s3.get_canonical_user_id  s3.get_http_connection    s3.get_path               s3.get_proxy_auth_header\r\n\r\nIn [10]: s3.access_key\r\nOut[10]: 'AKITYNWSZS5DHQWC8NRU'\r\n\r\nIn [11]: s3.se\r\ns3.secret_key        s3.server_name       s3.set_bucket_class\r\n\r\nIn [11]: s3.secret_key\r\nOut[11]: 'gvV9I447bya9l8BLr6FXWDVs1btMeudLLR2zWCpe'\r\n\r\nIn [12]:\r\nDo you really want to exit ([y]/n)? y\r\n[root@euca-10-0-1-151 ~]# curl http://169.254.169.254/latest/meta-data/iam/security-credentials/vic-instances\r\n{\r\n  \"Code\": \"Success\",\r\n  \"LastUpdated\": \"2014-02-04T21:32:28Z\",\r\n  \"Type\": \"AWS-HMAC\",\r\n  \"AccessKeyId\": \"AKITYNWSZS5DHQWC8NRU\",\r\n  \"SecretAccessKey\": \"gvV9I447bya9l8BLr6FXWDVs1btMeudLLR2zWCpe\",\r\n  \"Token\": \"ZXVjYQABhwNY3aobnlS5B+7dzD9C+AlJ3dTnzSwYqbfl73ja+dMxwXep/Wa5lw4uzgeF5GrYURoXGQpn5K72u9psl3fq6CBm2hI7Kh+6nFR/oYdlpsmNt9yB1aTzdcBrHBWS8LP19hqogiQcbIuKSJQG1qP2upYBLacEV7i1we+nZp65YI1JyJ7L020zcqt62IJVhPa94mflo6pfFSPeLJjl9nDI89ipzw/iZ6DZj5U84hIY8s4KTx3EVfqFdv0=\",\r\n  \"Expiration\": \"2014-02-04T22:32:28Z\"\r\n}[root@euca-10-0-1-151 ~]#\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-04T15:34:34.940-0600","updated":"2014-02-04T15:35:10.238-0600"}],"maxResults":12,"total":12,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}