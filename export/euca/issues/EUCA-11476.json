{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38642","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38642","key":"EUCA-11476","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16401","id":"16401","description":"Eucalyptus 4.2.1","name":"4.2.1","archived":false,"released":true,"releaseDate":"2015-12-07"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@475238a9[id=129,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 0,goal=<null>,startDate=2015-11-03T02:34:16.335Z,endDate=2015-11-24T02:34:00.000Z,completeDate=2015-12-01T17:42:47.033Z,sequence=129]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"resolutiondate":"2015-12-02T18:43:22.469-0600","customfield_10704":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11476/watchers","watchCount":4,"isWatching":false},"created":"2015-10-08T16:30:29.751-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=5, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":5,\"lastUpdated\":\"2015-11-13T19:45:04.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":5,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:25:23.248-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12800","id":"12800","name":"eucanetd","description":"Used to track component level items associated with Edge."}],"timeoriginalestimate":null,"description":"Security group rules are enforced in the FORWARD chain, which is processed before POSTROUTING (where SNAT happens). Thus, security group rules that use instances public IP addresses will not match in FORWARD chain (packets will have instances' private IP address in the FORWARD chain).","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"MANAGED mode - Security group rules using instances Public IP are not enforced","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"customfield_10000":"3_*:*_1_*:*_3295618019_*|*_10000_*:*_1_*:*_311821_*|*_10001_*:*_1_*:*_86699948_*|*_10003_*:*_1_*:*_1380942939_*|*_10006_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03fof:","customfield_10001":"2015-10-09T15:48:24.549-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["mclark(mclark)","tsugawa(tsugawa)","zhill(zhill)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38642/comment/93349","id":"93349","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"While waiting for my 4.1.2 Managed system to come up, tested with 4.1.2 edge. Passed. Will update shortly with 4.1.2 managed. \r\n\r\n{code}\r\nIn [200]: tc.admin.ec2.show_instances([ins1, ins2])\r\n[2015-10-09 14:38:32,802][INFO][EC2ops(eucalyptus:admin)]: \r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|INSTANCE ID          |INSTANCE IMAGE      |INSTANCE STATE     |INSTANCE NETWORK INFO:                                     |\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|ID: i-e498d2b0       |EMI: emi-ff9ce68d   |STATE: running     |KEYPAIR: mattedge2                                         |\r\n|TYPE: m1.small       |OS: linux           |AGE: 361           |+----+------+-----------+-+---------------+---------------+|\r\n|RES: r-41c01747      |VIRT: HVM           |ZONE: one          ||VPC |SUBNET|  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+----+------+-----------+-+---------------+---------------+|\r\n|003945653425         |BFEBS-test-create-..|ebs:vol-0f11d189   ||None| None |sg-f79693b2|N|  10.111.76.64 |  10.111.76.51 ||\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|ID: i-733100e7       |EMI: emi-ff9ce68d   |STATE: running     |KEYPAIR: mattedge2                                         |\r\n|TYPE: m1.small       |OS: linux           |AGE: 339           |+----+------+-----------+-+---------------+---------------+|\r\n|RES: r-55e6afae      |VIRT: HVM           |ZONE: one          ||VPC |SUBNET|  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+----+------+-----------+-+---------------+---------------+|\r\n|003945653425         |BFEBS-test-create-..|ebs:vol-84b0ae7f   ||None| None |sg-a9a0389e|N|  10.111.76.62 |  10.111.76.57 ||\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n\r\n\r\nIn [201]: tc.admin.ec2.show_security_groups_for_instance(ins1)\r\n[2015-10-09 14:38:43,837][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-f79693b2\r\n[2015-10-09 14:38:43,840][INFO][EC2ops(eucalyptus:admin)]: \r\n+------------------------------------------------------------------------------------+\r\n|                    EUCA SECURITY GROUPS FOR INSTANCE:i-e498d2b0                    |\r\n+------------------------------------------------------------------------------------+\r\n| +--------------------------------------------------------------------------------+ |\r\n| |               Security Group: testgroup1/sg-f79693b2, VPC: None                | |\r\n| +--------------------------------------------------------------------------------+ |\r\n| | +-----------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |  CIDR_IP  | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +-----------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 0.0.0.0/0 |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +-----------+--------------+------------+----------+------+----------+-------+ | |\r\n| +--------------------------------------------------------------------------------+ |\r\n+------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [202]: tc.admin.ec2.show_security_groups_for_instance(ins2)\r\n[2015-10-09 14:38:45,599][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-a9a0389e\r\n[2015-10-09 14:38:45,603][INFO][EC2ops(eucalyptus:admin)]: \r\n+------------------------------------------------------------------------------------------+\r\n|                       EUCA SECURITY GROUPS FOR INSTANCE:i-733100e7                       |\r\n+------------------------------------------------------------------------------------------+\r\n| +--------------------------------------------------------------------------------------+ |\r\n| |                  Security Group: testgroup2/sg-a9a0389e, VPC: None                   | |\r\n| +--------------------------------------------------------------------------------------+ |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |     CIDR_IP     | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 10.111.76.51/24 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |    0.0.0.0/0    |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| +--------------------------------------------------------------------------------------+ |\r\n+------------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [203]: ins1.sys('ping -c1 -t5 ' + ins2.ip_address)\r\n[2015-10-09 14:38:51,480][DEBUG][i-e498d2b0]: [root@10.111.76.51]# ping -c1 -t5 10.111.76.57\r\n[2015-10-09 14:38:51,603][DEBUG][i-e498d2b0]: \r\nPING 10.111.76.57 (10.111.76.57) 56(84) bytes of data.\r\n64 bytes from 10.111.76.57: icmp_req=1 ttl=64 time=0.514 ms\r\n\r\n--- 10.111.76.57 ping statistics ---\r\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\r\nrtt min/avg/max/mdev = 0.514/0.514/0.514/0.000 ms\r\n\r\n[2015-10-09 14:38:51,603][DEBUG][i-e498d2b0]: done with exec\r\nOut[203]: \r\n['PING 10.111.76.57 (10.111.76.57) 56(84) bytes of data.',\r\n '64 bytes from 10.111.76.57: icmp_req=1 ttl=64 time=0.514 ms',\r\n '',\r\n '--- 10.111.76.57 ping statistics ---',\r\n '1 packets transmitted, 1 received, 0% packet loss, time 0ms',\r\n 'rtt min/avg/max/mdev = 0.514/0.514/0.514/0.000 ms']\r\n\r\nIn [204]: ins1.ip_address\r\nOut[204]: u'10.111.76.51'\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-09T16:40:13.373-0500","updated":"2015-10-09T16:40:13.373-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38642/comment/93353","id":"93353","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"4.1.2 managed fails:\r\n\r\n{code}\r\nIn [51]: ins2.ip_address\r\nOut[51]: u'10.111.31.160'\r\n\r\nIn [52]: ins1.ip_address\r\nOut[52]: u'10.111.31.159'\r\n\r\nIn [53]: tc.admin.ec2.show_security_groups_for_instance(ins2)\r\n[2015-10-09 17:01:52,803][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-3a55e964\r\n[2015-10-09 17:01:52,809][INFO][EC2ops(eucalyptus:admin)]: \r\n+-------------------------------------------------------------------------------------------+\r\n|                        EUCA SECURITY GROUPS FOR INSTANCE:i-d9987647                       |\r\n+-------------------------------------------------------------------------------------------+\r\n| +---------------------------------------------------------------------------------------+ |\r\n| |                   Security Group: testgroup2/sg-3a55e964, VPC: None                   | |\r\n| +---------------------------------------------------------------------------------------+ |\r\n| | +------------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |     CIDR_IP      | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +------------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |    0.0.0.0/0     |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +------------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 10.111.31.159/32 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |\r\n| | +------------------+--------------+------------+----------+------+----------+-------+ | |\r\n| +---------------------------------------------------------------------------------------+ |\r\n+-------------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [54]: ins1.sys('ping -c1 -t5 ' + ins2.ip_address)\r\n[2015-10-09 17:01:56,533][DEBUG][i-e4c9a7b8]: [root@10.111.31.159]# ping -c1 -t5 10.111.31.160\r\n[2015-10-09 17:01:56,661][DEBUG][i-e4c9a7b8]: \r\nPING 10.111.31.160 (10.111.31.160) 56(84) bytes of data.\r\n\r\n[2015-10-09 17:02:06,655][DEBUG][i-e4c9a7b8]: \r\n--- 10.111.31.160 ping statistics ---\r\n\r\n[2015-10-09 17:02:06,707][DEBUG][i-e4c9a7b8]: 1 packets transmitted, 0 received, 100% packet loss, time 0ms\r\n\r\n\r\n[2015-10-09 17:02:06,707][DEBUG][i-e4c9a7b8]: done with exec\r\nOut[54]: \r\n['PING 10.111.31.160 (10.111.31.160) 56(84) bytes of data.',\r\n '',\r\n '--- 10.111.31.160 ping statistics ---',\r\n '1 packets transmitted, 0 received, 100% packet loss, time 0ms',\r\n '']\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-09T19:00:57.066-0500","updated":"2015-10-09T19:02:31.329-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38642/comment/93359","id":"93359","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Ok, thanks [~mclark], and [~tsugawa]. Based on [~mclark]'s findings that this is *not* a regression. I'm going to mark it for 4.2.1. Any code we have in progress can be saved and committed once the maint-4.2 branch is created, but I'm removing blocker status for 4.2.0 from this bug.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-09T19:52:56.114-0500","updated":"2015-10-09T19:53:07.697-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38642/comment/96428","id":"96428","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"From 4.2.1 cloud:\r\n\r\n{code}\r\nIn [29]: tc.admin.ec2.show_instances([ins1, ins2])\r\n[2015-12-02 16:39:39,741][INFO][EC2ops(eucalyptus:admin)]: \r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|INSTANCE ID          |INSTANCE IMAGE      |INSTANCE STATE     |INSTANCE NETWORK INFO:                                     |\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|ID: i-fa42b56d       |EMI: emi-c52d4556   |STATE: running     |NODE:10.111.5.168     KEYPAIR:managedkey                   |\r\n|TYPE: m1.small       |OS: linux           |AGE: 318           |+----+------+-----------+-+---------------+---------------+|\r\n|RES: r-04dbed39      |VIRT: HVM           |ZONE: one          ||VPC |SUBNET|  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+----+------+-----------+-+---------------+---------------+|\r\n|000323961139         |preciseservercloud..|instance-store     ||None| None |sg-1f03dbd5|N| 172.16.64.111 |  10.111.31.82 ||\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n|ID: i-563fcd03       |EMI: emi-c52d4556   |STATE: running     |NODE:10.111.5.168     KEYPAIR:managedkey                   |\r\n|TYPE: m1.small       |OS: linux           |AGE: 221           |+----+------+-----------+-+---------------+---------------+|\r\n|RES: r-ccfa7d50      |VIRT: HVM           |ZONE: one          ||VPC |SUBNET|  SEC GRPS |P|    PRIV IP    |     PUB IP    ||\r\n|ACCOUNT ID:          |IMAGE NAME:         |ROOTDEV:           |+----+------+-----------+-+---------------+---------------+|\r\n|000323961139         |preciseservercloud..|instance-store     ||None| None |sg-f7170c02|N| 172.16.70.249 |  10.111.31.78 ||\r\n+---------------------+--------------------+-------------------+-----------------------------------------------------------+\r\n\r\n\r\nIn [30]: tc.admin.ec2.show_security_groups_for_instance(ins2)\r\n[2015-12-02 16:39:43,708][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-f7170c02\r\n[2015-12-02 16:39:43,714][INFO][EC2ops(eucalyptus:admin)]: \r\n+------------------------------------------------------------------------------------------+\r\n|                       EUCA SECURITY GROUPS FOR INSTANCE:i-563fcd03                       |\r\n+------------------------------------------------------------------------------------------+\r\n| +--------------------------------------------------------------------------------------+ |\r\n| |                  Security Group: testgroup2/sg-f7170c02, VPC: None                   | |\r\n| +--------------------------------------------------------------------------------------+ |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |     CIDR_IP     | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |    0.0.0.0/0    |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 10.111.31.82/32 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |\r\n| | +-----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| +--------------------------------------------------------------------------------------+ |\r\n+------------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [31]: ins1.sys('ping -c1 -t5 ' + ins2.ip_address)\r\n[2015-12-02 16:40:09,674][DEBUG][i-fa42b56d]: [root@10.111.31.82]# ping -c1 -t5 10.111.31.78\r\n[2015-12-02 16:40:09,801][DEBUG][i-fa42b56d]: \r\nPING 10.111.31.78 (10.111.31.78) 56(84) bytes of data.\r\n64 bytes from 10.111.31.78: icmp_req=1 ttl=63 time=0.591 ms\r\n\r\n--- 10.111.31.78 ping statistics ---\r\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\r\nrtt min/avg/max/mdev = 0.591/0.591/0.591/0.000 ms\r\n\r\n[2015-12-02 16:40:09,801][DEBUG][i-fa42b56d]: done with exec\r\n\r\n\r\nIn [32]: ins1.ip_address\r\nOut[32]: u'10.111.31.82'\r\n\r\nIn [33]: tc.sysadmin.show_cloud_legacy_summary()\r\n # HOST        DISTRO  VER  ARCH    REPO  SERVICE CODES  \r\n 10.111.5.168  centos  6.7  x86_64  REPO  [NC]           \r\n 10.111.5.163  centos  6.7  x86_64  REPO  [NC]           \r\n 10.111.5.113  centos  6.7  x86_64  REPO  [CLC SC CC WS] \r\n 10.111.5.88   centos  6.7  x86_64  REPO  [UFS] \r\n\r\nIn [35]: tc.sysadmin.show_properties('network_confi')\r\n[2015-12-02 16:42:45,784][INFO][UserContext:000323961139:eucalyptus:admin]: \r\n+-----------------------------------+-----------------------------+-------+--+-------------------------------+\r\n|PROPERTY NAME                      |PROPERTY VALUE               |DEFAULT|RO|DESCRIPTION                    |\r\n+-----------------------------------+-----------------------------+-------+--+-------------------------------+\r\n|cloud.network.network_configuration|{                            |       |F |Network configuration document.|\r\n|                                   |  \"Clusters\": [              |       |  |                               |\r\n|                                   |    {                        |       |  |                               |\r\n|                                   |      \"MacPrefix\": \"d0:0d\",  |       |  |                               |\r\n|                                   |      \"Name\": \"one\"          |       |  |                               |\r\n|                                   |    }                        |       |  |                               |\r\n|                                   |  ],                         |       |  |                               |\r\n|                                   |  \"InstanceDnsServers\": [    |       |  |                               |\r\n|                                   |    \"10.111.5.88\"            |       |  |                               |\r\n|                                   |  ],                         |       |  |                               |\r\n|                                   |  \"ManagedSubnet\": {         |       |  |                               |\r\n|                                   |    \"MaxVlan\": \"639\",        |       |  |                               |\r\n|                                   |    \"MinVlan\": \"512\",        |       |  |                               |\r\n|                                   |    \"Netmask\": \"255.255.0.0\",|       |  |                               |\r\n|                                   |    \"Subnet\": \"172.16.0.0\"   |       |  |                               |\r\n|                                   |  },                         |       |  |                               |\r\n|                                   |  \"Mode\": \"MANAGED\",         |       |  |                               |\r\n|                                   |  \"PublicIps\": [             |       |  |                               |\r\n|                                   |    \"10.111.30.140\",         |       |  |                               |\r\n|                                   |    \"10.111.30.142\",         |       |  |                               |\r\n|                                   |    \"10.111.30.143\",         |       |  |                               |\r\n|                                   |    \"10.111.30.144\",         |       |  |                               |\r\n|                                   |    \"10.111.30.146\",         |       |  |                               |\r\n|                                   |    \"10.111.30.147\",         |       |  |                               |\r\n|                                   |    \"10.111.30.148\",         |       |  |                               |\r\n|                                   |    \"10.111.30.151\",         |       |  |                               |\r\n|                                   |    \"10.111.31.77\",          |       |  |                               |\r\n|                                   |    \"10.111.31.78\",          |       |  |                               |\r\n|                                   |    \"10.111.31.79\",          |       |  |                               |\r\n|                                   |    \"10.111.31.80\",          |       |  |                               |\r\n|                                   |    \"10.111.31.81\",          |       |  |                               |\r\n|                                   |    \"10.111.31.82\",          |       |  |                               |\r\n|                                   |    \"10.111.31.83\",          |       |  |                               |\r\n|                                   |    \"10.111.31.84\"           |       |  |                               |\r\n|                                   |  ]                          |       |  |                               |\r\n|                                   |}                            |       |  |                               |\r\n+-----------------------------------+-----------------------------+-------+--+-------------------------------+\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-02T18:43:22.476-0600","updated":"2015-12-02T18:43:22.476-0600"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11476/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}