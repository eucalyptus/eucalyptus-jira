{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"37341","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341","key":"EUCA-11159","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2015-10-26T16:24:41.296-0500","customfield_10704":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11159/watchers","watchCount":3,"isWatching":false},"lastViewed":null,"created":"2015-07-15T16:24:55.196-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{}","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:25:17.524-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12800","id":"12800","name":"eucanetd","description":"Used to track component level items associated with Edge."}],"timeoriginalestimate":null,"description":"Looks like eucanetd may be having issuing iterating through the ports associated with the Midonet router it is trying to delete. Existing ports on a router seem to prevent the deletion of the router. When eucanetd is restarted the ports are duplicated on the router. This causes provisioning failures in QA which expect a 1:1 mapping for the gw port (will open a ticket for the CB),  this may also affect the routing/bgp peering (may also just be a QA/CB issue). \r\nThanks -M\r\n\r\nExample showing eucanet -F error  when deleting the router (see attachment for full stdout log during eucanetd -f), also showing the manual reproduction before and success after deleting the ports.\r\n\r\n{code}\r\n[root@e-02 calyptos]# eucanetd -F \r\n...\r\n...\r\n2015-07-15 14:09:47 TRACE 000018648 mido_delete_resource     | resource to delete: eucabr/d94c6100-03a7-4ba5-986a-c4dd2329ef68 url to delete: http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/bridges/d94c6100-03a7-4ba5-986a-c4dd2329ef68\r\n2015-07-15 14:09:48 TRACE 000018648 mido_delete_resource     | resource to delete: eucart/051b73c3-c781-4145-b121-6dcf0d4c7d63 url to delete: http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/routers/051b73c3-c781-4145-b121-6dcf0d4c7d63\r\n{\"message\":\"An internal server error has occurred, please try again.\",\"code\":500}\r\n...\r\n...\r\n2015-07-15 14:09:50 DEBUG 000018648 main                     | main loop complete: sleeping 1 seconds before next poll\r\n2015-07-15 14:09:51  INFO 000018648 main                     | EUCANETD going down.\r\n\r\n\r\n[root@e-02 calyptos]# ps aux | grep eucanet\r\nroot     21165  0.0  0.0 103252   848 pts/0    S+   14:15   0:00 grep eucanet\r\n\r\n\r\n##########################################################################################################################################\r\n\r\nIn [1]: from cloud_admin.backends.network.midget import Midget\r\n\r\nIn [2]: md = Midget('10.111.1.107', clc_password='foobar')\r\n\r\nIn [3]: md.show_router_summary('eucart')\r\n[2015-07-15 14:07:21,658][INFO][MidoDebug:10.111.1.107]: Using Search String:^eucart$\r\n[2015-07-15 14:07:21,892][INFO][MidoDebug:10.111.1.107]: \r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n|ROUTER:eucart                                                                                                                            |\r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n|ROUTER SUMMARY:                                                                                                                          |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n||  Name  | AdminState |                  ID                  |      T-ID     |                                                           |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n|| eucart |    True    | 051b73c3-c781-4145-b121-6dcf0d4c7d63 | euca_tenant_1 |                                                           |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n|ROUTES:                                                                                                                                  |\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n||    Destination    |   Source  |   nexthopGW    |               nexthop                | weight |                  ID                  ||\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 6ef7aed1-1c35-4344-b2b7-60a00741052c |   0    | fb881ce7-c681-4ae7-a5dc-a620c2cdc89c ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 6ef7aed1-1c35-4344-b2b7-60a00741052c |   0    | e2eb00d9-3f91-4064-98ae-60e7561358f9 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 52b5f00d-e95b-4ea1-b35c-5c239085cb0b ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 21c2ad1c-1eb7-4fd4-a1c3-7c8fcd067d2a ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 6fefc19a-4b75-41d5-9858-dd1c6a913b6c ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 5b808bb4-e3e8-4f79-b4cd-0e6cf777253d ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 9a899ba2-4109-4930-acd6-348da7446775 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 37340e12-9f1b-4daf-80b7-85990390e03f ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | df14700c-13c7-49fc-8f90-5d915784ce15 |   0    | bbd1efba-2bd6-49cc-b94b-336b99504cbc ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | df14700c-13c7-49fc-8f90-5d915784ce15 |   0    | f4275629-3b26-4426-8c9b-2bae247f1182 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 771f23cc-78b3-471c-bbec-8938ef394ca5 |   0    | 8ca704db-e82d-4a43-8577-08dcadeb41fa ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 771f23cc-78b3-471c-bbec-8938ef394ca5 |   0    | ed93adcb-b35f-4eaa-a17a-d6098e1c22a2 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | 7f27da4b-2c92-44f6-b9db-2dc69e0c76b3 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | b7073215-6019-4306-b063-0b3f79bc6358 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | 5658599b-f677-47cb-adba-74f273df0e87 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | e50a39e3-d5b0-434c-a54c-86b34447bd05 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | 353acb50-27bf-4e47-a080-e131c1830c79 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | 5d363d23-3de4-4219-abef-bc456a75de40 ||\r\n|| 10.116.150.228/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 5b389d61-b3bd-461a-8f33-5586ade5a650 ||\r\n|| 10.116.150.158/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | df55db01-ebbf-46d3-a2e2-087f2009a3cf ||\r\n||  10.116.150.59/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | cc80e5b1-d1c6-47c5-b428-048e76f700cb ||\r\n|| 10.116.150.250/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 36394072-1608-47cc-b0c3-39186bdeb0b2 ||\r\n||  10.116.150.8/32  | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | a17af509-c5b8-4999-b89b-1ecf93d68f53 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | d50a3977-613c-4c1e-8fd9-94ed918766fa |   0    | 3c540d6b-34e1-4183-af41-5c765f53d778 ||\r\n||  10.116.150.56/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 95589891-d573-4499-8d6b-f9f022844aa4 ||\r\n|| 10.116.150.191/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | ace79678-d35f-42e8-938d-3b4dec34d7b7 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | d50a3977-613c-4c1e-8fd9-94ed918766fa |   0    | 6b5b2251-5340-4e0b-a498-df2f30503e84 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | a66f3b21-6b96-4eb2-a371-a273c513e63a ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | e7f74da7-dc8f-4058-ab3e-bf3aeae112ad ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | 8f6a8c83-4b86-4886-a7b2-fafd71523983 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 425edde3-fc25-4ac5-aed5-61dbf3ff892a |   0    | 2c3db9de-6270-4170-af38-e910e7e09316 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 425edde3-fc25-4ac5-aed5-61dbf3ff892a |   0    | 0b4e9853-afef-4ad4-a8d2-9536c95b4900 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 11a54c45-df7b-49eb-9431-095862a75045 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 1cfd9852-3070-45a0-9255-ffaf863b3a75 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 60e37f1c-777a-4ede-ac1d-45555e19b75d ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 0d650561-723b-4f1b-8a62-98689263cf9f |   0    | 2843ff51-3529-4f5d-aa5a-d60a043f7ad8 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 0d650561-723b-4f1b-8a62-98689263cf9f |   0    | 9ddb4b5a-761d-4a01-85b9-461f69eecb9d ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | acee0959-a2b1-4aaa-8d4f-beac756bb0b2 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | 793071cb-e1e1-4fa4-ae44-13a67d75c169 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | ab18034f-599c-417b-a648-11d1d65099a6 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | e0c505d4-3d0d-4b07-99fc-98b1723f0745 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | 34cc11e0-0e26-486d-8de8-28eb8b2a0310 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | 082bde5f-504e-4e5e-8770-897e09814e16 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 3a0b292b-c788-4c12-9dbf-114829440486 |   0    | 8c57bc38-4201-4e9d-93aa-d33adb010ea0 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 3a0b292b-c788-4c12-9dbf-114829440486 |   0    | c6c6bdd8-5023-47b5-8fc3-ba8e43042de5 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 911ecd0a-46ec-4bae-80c6-54ca338b90d2 |   0    | 98fde919-3c39-43de-92ed-2044b2629657 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 911ecd0a-46ec-4bae-80c6-54ca338b90d2 |   0    | cc9454fe-7d6b-483b-acd9-5c96345eb7fd ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | fa288f43-fcb3-460f-9ca5-e096de4bceb8 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | 59610151-5e38-44e8-a7e5-c7d1588f7e04 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | 6f937b7e-2c69-4e86-80fe-af7d8b3c6420 ||\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n|ROUTER PORTS:                                                                                                                            |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n||              PORT ID               |BGPS|    IPADDR   |    NETWORK    |       MAC       | TYPE | UP |PEER ID|                          |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n||6550f462-90f1-41d6-912c-8319bf68ef1e| 0  |10.116.129.99|10.116.128.0/17|ac:ca:ba:58:24:fb|Router|True|  None |                          |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n|                                                                                                                                         |\r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\nIn [4]: router = md.get_router_by_name('eucart')\r\n\r\nIn [5]: router\r\nOut[5]: Router{u'name': u'eucart', u'inboundFilter': None, u'outboundFilterId': None, u'adminStateUp': True, u'uri': u'http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/routers/051b73c3-c781-4145-b121-6dcf0d4c7d63', u'tenantId': u'euca_tenant_1', u'peerPorts': u'http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/routers/051b73c3-c781-4145-b121-6dcf0d4c7d63/peer_ports', u'loadBalancerId': None, u'routes': u'http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/routers/051b73c3-c781-4145-b121-6dcf0d4c7d63/routes', u'inboundFilterId': None, u'outboundFilter': None, u'id': u'051b73c3-c781-4145-b121-6dcf0d4c7d63', u'loadBalancer': None, u'ports': u'http://e-02.qa1.eucalyptus-systems.com:8080/midonet-api/routers/051b73c3-c781-4145-b121-6dcf0d4c7d63/ports'}\r\n\r\nIn [6]: router.delete()\r\nHTTPInternalServerError: {\"message\":\"An internal server error has occurred, please try again.\",\"code\":500}\r\n\r\nIn [10]: for port in router.get_ports():\r\n    md.mapi.delete_port(port.get_id())\r\n\r\n\r\n\r\nIn [11]: md.show_router_summary('eucart')\r\n[2015-07-15 14:12:38,680][INFO][MidoDebug:10.111.1.107]: Using Search String:^eucart$\r\n[2015-07-15 14:12:38,712][INFO][MidoDebug:10.111.1.107]: \r\n+------------------------------------------------------------------------------+\r\n|ROUTER:eucart                                                                 |\r\n+------------------------------------------------------------------------------+\r\n|ROUTER SUMMARY:                                                               |\r\n|+--------+------------+--------------------------------------+---------------+|\r\n||  Name  | AdminState |                  ID                  |      T-ID     ||\r\n|+--------+------------+--------------------------------------+---------------+|\r\n|| eucart |    True    | 051b73c3-c781-4145-b121-6dcf0d4c7d63 | euca_tenant_1 ||\r\n|+--------+------------+--------------------------------------+---------------+|\r\n|ROUTES:                                                                       |\r\n|+-------------+--------+-----------+---------+--------+----+                  |\r\n|| Destination | Source | nexthopGW | nexthop | weight | ID |                  |\r\n|+-------------+--------+-----------+---------+--------+----+                  |\r\n|+-------------+--------+-----------+---------+--------+----+                  |\r\n|ROUTER PORTS:                                                                 |\r\n|                                                                              |\r\n+------------------------------------------------------------------------------+\r\n\r\n\r\nIn [12]: \r\n\r\nIn [12]: router.delete()\r\n\r\nIn [13]: \r\n\r\n\r\n{code}\r\n\r\n\r\nExample showing the duplicate ports when eucanetd is restarted...\r\n\r\n{code}\r\nIn [3]: md.show_router_summary('eucart')\r\n[2015-07-15 14:07:21,658][INFO][MidoDebug:10.111.1.107]: Using Search String:^eucart$\r\n[2015-07-15 14:07:21,892][INFO][MidoDebug:10.111.1.107]: \r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n|ROUTER:eucart                                                                                                                            |\r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n|ROUTER SUMMARY:                                                                                                                          |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n||  Name  | AdminState |                  ID                  |      T-ID     |                                                           |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n|| eucart |    True    | 051b73c3-c781-4145-b121-6dcf0d4c7d63 | euca_tenant_1 |                                                           |\r\n|+--------+------------+--------------------------------------+---------------+                                                           |\r\n|ROUTES:                                                                                                                                  |\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n||    Destination    |   Source  |   nexthopGW    |               nexthop                | weight |                  ID                  ||\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 6ef7aed1-1c35-4344-b2b7-60a00741052c |   0    | fb881ce7-c681-4ae7-a5dc-a620c2cdc89c ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 6ef7aed1-1c35-4344-b2b7-60a00741052c |   0    | e2eb00d9-3f91-4064-98ae-60e7561358f9 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 52b5f00d-e95b-4ea1-b35c-5c239085cb0b ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 21c2ad1c-1eb7-4fd4-a1c3-7c8fcd067d2a ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 48feba79-b91b-4e6a-9ea8-a18e25f1908f |   0    | 6fefc19a-4b75-41d5-9858-dd1c6a913b6c ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 5b808bb4-e3e8-4f79-b4cd-0e6cf777253d ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 9a899ba2-4109-4930-acd6-348da7446775 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | acbb72be-f9cf-44cd-b0ff-b54aa97b9420 |   0    | 37340e12-9f1b-4daf-80b7-85990390e03f ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | df14700c-13c7-49fc-8f90-5d915784ce15 |   0    | bbd1efba-2bd6-49cc-b94b-336b99504cbc ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | df14700c-13c7-49fc-8f90-5d915784ce15 |   0    | f4275629-3b26-4426-8c9b-2bae247f1182 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 771f23cc-78b3-471c-bbec-8938ef394ca5 |   0    | 8ca704db-e82d-4a43-8577-08dcadeb41fa ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 771f23cc-78b3-471c-bbec-8938ef394ca5 |   0    | ed93adcb-b35f-4eaa-a17a-d6098e1c22a2 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | 7f27da4b-2c92-44f6-b9db-2dc69e0c76b3 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | b7073215-6019-4306-b063-0b3f79bc6358 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 989e79c5-41a1-4be2-bf83-f4561f658f18 |   0    | 5658599b-f677-47cb-adba-74f273df0e87 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | e50a39e3-d5b0-434c-a54c-86b34447bd05 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | 353acb50-27bf-4e47-a080-e131c1830c79 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 418c4bdb-ceb6-4a07-84d0-2ae433304f8d |   0    | 5d363d23-3de4-4219-abef-bc456a75de40 ||\r\n|| 10.116.150.228/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 5b389d61-b3bd-461a-8f33-5586ade5a650 ||\r\n|| 10.116.150.158/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | df55db01-ebbf-46d3-a2e2-087f2009a3cf ||\r\n||  10.116.150.59/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | cc80e5b1-d1c6-47c5-b428-048e76f700cb ||\r\n|| 10.116.150.250/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 36394072-1608-47cc-b0c3-39186bdeb0b2 ||\r\n||  10.116.150.8/32  | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | a17af509-c5b8-4999-b89b-1ecf93d68f53 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | d50a3977-613c-4c1e-8fd9-94ed918766fa |   0    | 3c540d6b-34e1-4183-af41-5c765f53d778 ||\r\n||  10.116.150.56/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | 95589891-d573-4499-8d6b-f9f022844aa4 ||\r\n|| 10.116.150.191/32 | 0.0.0.0/0 |  169.254.0.2   | d50a3977-613c-4c1e-8fd9-94ed918766fa |  100   | ace79678-d35f-42e8-938d-3b4dec34d7b7 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | d50a3977-613c-4c1e-8fd9-94ed918766fa |   0    | 6b5b2251-5340-4e0b-a498-df2f30503e84 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | a66f3b21-6b96-4eb2-a371-a273c513e63a ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | e7f74da7-dc8f-4058-ab3e-bf3aeae112ad ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 5104795f-fa85-482c-9e10-90a6e3188d33 |   0    | 8f6a8c83-4b86-4886-a7b2-fafd71523983 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 425edde3-fc25-4ac5-aed5-61dbf3ff892a |   0    | 2c3db9de-6270-4170-af38-e910e7e09316 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 425edde3-fc25-4ac5-aed5-61dbf3ff892a |   0    | 0b4e9853-afef-4ad4-a8d2-9536c95b4900 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 11a54c45-df7b-49eb-9431-095862a75045 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 1cfd9852-3070-45a0-9255-ffaf863b3a75 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 03d3fc65-a2c7-413c-b02b-8f1adccc2936 |   0    | 60e37f1c-777a-4ede-ac1d-45555e19b75d ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 0d650561-723b-4f1b-8a62-98689263cf9f |   0    | 2843ff51-3529-4f5d-aa5a-d60a043f7ad8 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 0d650561-723b-4f1b-8a62-98689263cf9f |   0    | 9ddb4b5a-761d-4a01-85b9-461f69eecb9d ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | acee0959-a2b1-4aaa-8d4f-beac756bb0b2 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | 793071cb-e1e1-4fa4-ae44-13a67d75c169 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 9cbdf263-e7fe-48c6-97b7-6304df77fce8 |   0    | ab18034f-599c-417b-a648-11d1d65099a6 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | e0c505d4-3d0d-4b07-99fc-98b1723f0745 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | 34cc11e0-0e26-486d-8de8-28eb8b2a0310 ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 533fc70a-c4b7-4bb0-9698-4c90f95e7fb7 |   0    | 082bde5f-504e-4e5e-8770-897e09814e16 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 3a0b292b-c788-4c12-9dbf-114829440486 |   0    | 8c57bc38-4201-4e9d-93aa-d33adb010ea0 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 3a0b292b-c788-4c12-9dbf-114829440486 |   0    | c6c6bdd8-5023-47b5-8fc3-ba8e43042de5 ||\r\n||   169.254.0.1/32  | 0.0.0.0/0 |      None      | 911ecd0a-46ec-4bae-80c6-54ca338b90d2 |   0    | 98fde919-3c39-43de-92ed-2044b2629657 ||\r\n||   169.254.0.0/17  | 0.0.0.0/0 |      None      | 911ecd0a-46ec-4bae-80c6-54ca338b90d2 |   0    | cc9454fe-7d6b-483b-acd9-5c96345eb7fd ||\r\n||  10.116.128.0/17  | 0.0.0.0/0 |      None      | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | fa288f43-fcb3-460f-9ca5-e096de4bceb8 ||\r\n||     0.0.0.0/0     | 0.0.0.0/0 | 10.116.133.173 | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | 59610151-5e38-44e8-a7e5-c7d1588f7e04 ||\r\n||  10.116.129.99/32 | 0.0.0.0/0 |      None      | 6550f462-90f1-41d6-912c-8319bf68ef1e |   0    | 6f937b7e-2c69-4e86-80fe-af7d8b3c6420 ||\r\n|+-------------------+-----------+----------------+--------------------------------------+--------+--------------------------------------+|\r\n|ROUTER PORTS:                                                                                                                            |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n||              PORT ID               |BGPS|    IPADDR   |    NETWORK    |       MAC       | TYPE | UP |PEER ID|                          |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n||6550f462-90f1-41d6-912c-8319bf68ef1e| 0  |10.116.129.99|10.116.128.0/17|ac:ca:ba:58:24:fb|Router|True|  None |                          |\r\n|+------------------------------------+----+-------------+---------------+-----------------+------+----+-------+                          |\r\n|                                                                                                                                         |\r\n+-----------------------------------------------------------------------------------------------------------------------------------------+\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/25029","id":"25029","filename":"eucanetd_flush.log","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-07-15T16:27:47.213-0500","size":243422,"mimeType":"text/plain","content":"https://eucalyptus.atlassian.net/secure/attachment/25029/eucanetd_flush.log"}],"summary":"eucanetd failing to delete router during 'flush'","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_39170_*|*_10000_*:*_1_*:*_86120506_*|*_10001_*:*_1_*:*_19554792_*|*_10003_*:*_1_*:*_7825830416_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03b2f:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2015-07-16T16:39:28.929-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["nurmi(nurmi)","lbiasi(lbiasi)","mclark(mclark)","sjones(sjones)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11159/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341/comment/89341","id":"89341","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"stdout during eucanetd -F","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-07-15T16:27:53.736-0500","updated":"2015-07-15T16:27:53.736-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341/comment/89409","id":"89409","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"[~mclark]\r\n\r\nI have a fix for this in the network-vpc branch, pending merge - I also noticed this behavior (it has to do with midonet internal doing recursive cleanup and timing - if you tried a eucanetd -F and then another eucanetd -F, you should not get the 'internal server errors' from midonet and things will be cleared).\r\n\r\nThe fix in the branch that I made last week instead is a lot nicer to mido, avoiding the recursive delete path by explicitly iterating through each port before finally deleting the router.  in my own testing earlier this week, I was no longer able to trigger this issue.\r\n\r\nI'll update this ticket as soon as I merge network-vpc\r\n-d","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2015-07-16T16:39:28.929-0500","updated":"2015-07-16T16:39:28.929-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341/comment/89436","id":"89436","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"commit d4a44ef470ba6f21964fba743572e77b3c9da62f\r\nAuthor: Daniel Nurmi <nurmi@eucalyptus.com>\r\nDate:   Thu Jul 16 16:06:02 2015 -0700\r\n\r\n    latest update from network-vpc.  includes fix for EUCA-11159","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2015-07-16T21:46:49.640-0500","updated":"2015-07-16T21:46:49.640-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341/comment/93901","id":"93901","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"To verify a single instance was run/terminated in a VPC with trace logging enabled:\r\n\r\n{code}\r\n2015-10-14 22:39:53 DEBUG 000006692 delete_mido_vpc          | DELETING VPC: vpc-4289cdbc, vr_vpc-4289cdbc_2\r\n2015-10-14 22:39:53 TRACE 000006692 mido_delete_resource     | resource to delete: 50e5ccf6-9f11-41dc-8468-31125cdcca28/50e5ccf6-9f11-41dc-8468-31125cdcca28 url to delete: http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/ports/50e5ccf6-9f11-41dc-8468-31125cdcca28\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_get         | total time for http operation: 0.026870 seconds\r\n2015-10-14 22:39:53 DEBUG 000006692 mido_check_state         | midonet-api system state: {\"state\":\"ACTIVE\",\"availability\":\"READWRITE\",\"writeVersion\":\"1.9\",\"uri\":\"http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/system_state\"}\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_delete      | total time for http operation: 0.240500 seconds\r\n2015-10-14 22:39:53 TRACE 000006692 mido_delete_resource     | resource to delete: vr_vpc-4289cdbc_2/84d05cfd-2753-406e-8234-095f8b635aed url to delete: http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/routers/84d05cfd-2753-406e-8234-095f8b635aed\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_get         | total time for http operation: 0.021700 seconds\r\n2015-10-14 22:39:53 DEBUG 000006692 mido_check_state         | midonet-api system state: {\"state\":\"ACTIVE\",\"availability\":\"READWRITE\",\"writeVersion\":\"1.9\",\"uri\":\"http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/system_state\"}\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_delete      | total time for http operation: 0.672120 seconds\r\n2015-10-14 22:39:53 TRACE 000006692 mido_delete_resource     | resource to delete: vc_vpc-4289cdbc_preelip/9dbec978-c416-4fe0-9dde-261eb9b1b5f7 url to delete: http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/chains/9dbec978-c416-4fe0-9dde-261eb9b1b5f7\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_get         | total time for http operation: 0.020530 seconds\r\n2015-10-14 22:39:53 DEBUG 000006692 mido_check_state         | midonet-api system state: {\"state\":\"ACTIVE\",\"availability\":\"READWRITE\",\"writeVersion\":\"1.9\",\"uri\":\"http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/system_state\"}\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_delete      | total time for http operation: 0.157120 seconds\r\n2015-10-14 22:39:53 TRACE 000006692 mido_delete_resource     | resource to delete: vc_vpc-4289cdbc_prechain/f088bdeb-2471-4b1d-a8b3-125aa6a195de url to delete: http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/chains/f088bdeb-2471-4b1d-a8b3-125aa6a195de\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_get         | total time for http operation: 0.021270 seconds\r\n2015-10-14 22:39:53 DEBUG 000006692 mido_check_state         | midonet-api system state: {\"state\":\"ACTIVE\",\"availability\":\"READWRITE\",\"writeVersion\":\"1.9\",\"uri\":\"http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/system_state\"}\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_delete      | total time for http operation: 0.164030 seconds\r\n2015-10-14 22:39:53 TRACE 000006692 mido_delete_resource     | resource to delete: vc_vpc-4289cdbc_postchain/0f16f6d2-90f9-4c0c-b0da-a0ad28c8fcc8 url to delete: http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/chains/0f16f6d2-90f9-4c0c-b0da-a0ad28c8fcc8\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_get         | total time for http operation: 0.020810 seconds\r\n2015-10-14 22:39:53 DEBUG 000006692 mido_check_state         | midonet-api system state: {\"state\":\"ACTIVE\",\"availability\":\"READWRITE\",\"writeVersion\":\"1.9\",\"uri\":\"http://e-09.qa1.eucalyptus-systems.com:8080/midonet-api/system_state\"}\r\n2015-10-14 22:39:53 TRACE 000006692 midonet_http_delete      | total time for http operation: 0.166190 seconds\r\n{code}\r\n\r\nverified that ports are explicitly deleted prior to the router.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-15T11:37:20.074-0500","updated":"2015-10-15T11:37:20.074-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37341/comment/94769","id":"94769","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"Released in 4.2","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2015-10-26T16:24:41.304-0500","updated":"2015-10-26T16:24:41.304-0500"}],"maxResults":5,"total":5,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}