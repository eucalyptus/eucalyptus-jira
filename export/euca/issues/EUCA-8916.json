{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"28109","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28109","key":"EUCA-8916","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/5","id":"5","description":"The sub-task of the issue","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14816&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":14816},"parent":{"id":"28103","key":"EUCA-8911","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28103","fields":{"summary":"Upgrade and resource migration between 3.4.x and 4.0","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@7992c59a[id=59,rapidViewId=75,state=CLOSED,name=4.0 Sprint 8,goal=<null>,startDate=2014-04-29T13:38:45.824Z,endDate=2014-05-27T22:00:00.000Z,completeDate=2014-06-09T16:26:51.613Z,sequence=59]"],"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2014-06-03T13:29:17.818-0500","customfield_10704":null,"customfield_10308":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8916/watchers","watchCount":2,"isWatching":false},"created":"2014-03-14T22:51:42.603-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{}","labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"updated":"2015-05-08T17:35:58.581-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10004","id":"10004","name":"Database"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11505","id":"11505","name":"Empyrean","description":"service management"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12700","id":"12700","name":"OSG","description":"Object Storage Gateway"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10015","id":"10015","name":"Walrus"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"Given completion of EUCA-8912, EUCA-8913, EUCA-8914, and EUCA-8915, we need to assess the feasibility of warm upgrade.  The procedure used in the past is included for reference below.  *It will require revision*.\r\n\r\n\r\nh3. Warm Upgrade Check Procedure\r\nThe main objective determines the scenarios we have to verify in that we have to check all the ways that an instance can exist survives the upgrade transition.  This are:\r\n- BFEBS states {Stopped,Running}\r\n- Volumes attached {tgtd, netapp, emc, eql}\r\n- Address assigned {user allocated, system allocated, private addressing}\r\n- Instance OS {linux, windows}\r\n- Other instance parameter combinations:  for each of these there is are two possible conditions an instance can be in: {has, doesn't have}. Here we are looking for a problem w/ the disk data structure on the NC.\r\n-- @dmitrii/@backend:  are there more here?\r\n-- keypair, userdata, ramdisk\r\n- I can think of no reason why it would matter, but also possible is to test for the various instance types {m1.small, c1.medium, m1.large, m1.xlarge, c1.xlarge}\r\n\r\nSome of these parameters can be evaluated separately.  I don't think we need to do test instances for each possible combination.  Specifically, the \"other instance parameters\" and \"instance types\" can be tested by running instances which go through upgrade with 3*2 instances and 5 instances, respectively, and 11 total rather than 30=(3*2)*5 instances.\r\n\r\nFor the remainder, there are 12 basic conditions an instance can be in when an upgrade occurs (list below).  This is double to do {linux,windows} so 24 instances.  Add the 11 for other params giving 35 instances flavours that need to be put through a running upgrade.\r\n\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:user        OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:system      OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:private     OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:user        OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:system      OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:private     OS:linux\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:user        OS:linux\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:system      OS:linux\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:private     OS:linux\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:user        OS:linux\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:system      OS:linux\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:private     OS:linux\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:user        OS:windows\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:system      OS:windows\r\nTest: INSTANCESTORE    VOLATTACH:no        ADDR:private     OS:windows\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:user        OS:windows\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:system      OS:windows\r\nTest: INSTANCESTORE    VOLATTACH:yes       ADDR:private     OS:windows\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:user        OS:windows\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:system      OS:windows\r\nTest: BFEBS:running    VOLATTACH:no        ADDR:private     OS:windows\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:user        OS:windows\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:system      OS:windows\r\nTest: BFEBS:running    VOLATTACH:yes       ADDR:private     OS:windows","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"3.4.2 to 4.0.0 warm upgrade assessment","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i02l47:","customfield_10000":"3_*:*_1_*:*_5992_*|*_1_*:*_1_*:*_6964649828_*|*_5_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["decker(decker)","viglesias(viglesias)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8916/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}