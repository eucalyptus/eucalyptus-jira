{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"15645","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/15645","key":"EUCA-3473","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3473/watchers","watchCount":2,"isWatching":false},"created":"2012-09-06T18:30:11.513-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":["LoadTest"],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10201","id":"10201","description":"Eucalyptus 3.1.1","name":"3.1.1","archived":false,"released":true,"releaseDate":"2012-08-24"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2016-03-24T16:50:34.094-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"description":"While running a test case that starts an instance of bonnie++ on the NC then launches max instances and terminates them repeatedly. One set of instances failed to boot properly due to the following error:\r\n\r\n{code}\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] {1377814272} detaching from loop device /dev/loop0\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] implemented artifact 994|eri-5F3B3A2C-8bfe53de on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] {1377814272} detaching from loop device /dev/loop10\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] implementing artifact 1021|dsk-B72E39A4-70488280\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] checking work blobstore for 1021|dsk-B72E39A4-70488280 (do_create=0 ret=1)\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] implementing artifact 1016|emi-B72E39A4-63a09a71\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] checking work blobstore for 1016|emi-B72E39A4-63a09a71 (do_create=0 ret=1)\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] implementing artifact 1015|emi-B72E39A4-87b03ad0\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] found existing artifact 1015|emi-B72E39A4-87b03ad0 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] implemented artifact 1015|emi-B72E39A4-87b03ad0 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] checking work blobstore for 1016|emi-B72E39A4-63a09a71 (do_create=1 ret=1)\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] {1377814272} attaching file /disk1/storage/eucalyptus/instances/work/P1E64ROMDFPOUGW7MUNMI/i-29EB3F93/emi-B72E39A4-63a09a71.blocks\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] {1377814272}             to /dev/loop0 at offset 0\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] created a blob for an artifact 1016|emi-B72E39A4-63a09a71 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAINFO  ] [i-29EB3F93] copying/cloning blob emi-B72E39A4-87b03ad0 to blob P1E64ROMDFPOUGW7MUNMI/i-29EB3F93/emi-B72E39A4-63a09a71\r\n[Thu Sep  6 16:18:36 2012][028561][EUCAERROR ] {1377814272} error: dm_create_devices: write returned number of bytes != write buffer: -1/30\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to clone blob emi-B72E39A4-87b03ad0 to blob P1E64ROMDFPOUGW7MUNMI/i-29EB3F93/emi-B72E39A4-63a09a71: 12 blobstore.c:2572 failed to set up device mapper table with 'dmsetup'\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to create artifact emi-B72E39A4-63a09a71 (error=12, may retry) on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] {1377814272} detaching from loop device /dev/loop0\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] error: failed to implement artifact 1016|emi-B72E39A4-63a09a71 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to provision dependency emi-B72E39A4-63a09a71 for artifact dsk-B72E39A4-70488280 (error=12) on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] error: failed to implement artifact 1021|dsk-B72E39A4-70488280 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to provision dependency dsk-B72E39A4-70488280 for artifact i-29EB3F93 (error=12) on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] error: failed to implement artifact 959|i-29EB3F93 on try 1\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to implement backing for instance\r\n[Thu Sep  6 16:18:36 2012][009569][EUCAERROR ] [i-29EB3F93] error: failed to prepare images for instance (error=1)\r\n[Thu Sep  6 16:18:36 2012][009569][EUCADEBUG ] [i-29EB3F93] state change for instance: Staging -> Shutoff (Pending)\r\n\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Failure to create blobstore while running instance churn + bonnie++","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":null,"customfield_12100":"0|i01won:","customfield_10001":"2012-09-07T10:34:42.035-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["nurmi(nurmi)","vasya(vasya)","viglesias(viglesias)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/15645/comment/31981","id":"31981","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"Vic,\n\nThis is certainly a bug to investigate (dmsetup is failing), but I want to make sure we understand the effects clearly.  The current set of fixes will not guarantee that instances run while the NC is under IO load (deps fail, as this shows), but the current fixes ARE intended to guarantee that the eucalyptus code/state isn't messed up when the system is under high IO load and the deps are failing.  \n\nOn this note, for these types of 'high IO failure' tests, I would like to ask if we can include a 'does the system return to correct (can run instances, no orphaned instances, no leaked resources) state after a failure of this type' investigation.\n\n-D","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2012-09-07T10:34:42.035-0500","updated":"2012-09-07T10:34:42.035-0500"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3473/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}