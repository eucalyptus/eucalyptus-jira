{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"34491","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491","key":"EUCA-10505","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@5a75e780[id=126,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 8,goal=<null>,startDate=2015-07-24T17:18:30.088Z,endDate=2015-08-14T17:18:00.000Z,completeDate=2015-08-19T20:57:28.154Z,sequence=126]","com.atlassian.greenhopper.service.sprint.Sprint@7cb737e[id=127,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 9,goal=<null>,startDate=2015-08-18T21:33:50.479Z,endDate=2015-09-08T21:33:00.000Z,completeDate=2015-09-11T20:28:07.867Z,sequence=127]","com.atlassian.greenhopper.service.sprint.Sprint@54027389[id=128,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 10,goal=<null>,startDate=2015-09-09T20:38:52.383Z,endDate=2015-10-02T20:38:00.000Z,completeDate=2015-11-03T02:34:19.117Z,sequence=128]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10100","value":"Yes","id":"10100"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2015-10-26T16:02:26.040-0500","customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10505/watchers","watchCount":6,"isWatching":false},"lastViewed":null,"created":"2015-01-29T12:28:27.223-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{}","labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"issuelinks":[{"id":"29600","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/29600","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"34321","key":"EUCA-10412","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34321","fields":{"summary":"VPC: Back-end stability finalize","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:24:40.790-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12800","id":"12800","name":"eucanetd","description":"Used to track component level items associated with Edge."}],"timeoriginalestimate":null,"description":"There appears to be an issue with security groups allowing unauthorized source networks to pass traffic to the VMs.  \r\n\r\nThe following eutester output shows:\r\n- An instance who's security group allows icmp from my local machine, but not the clc. \r\n-Then shows the clc successfully pinging the instance. (I tcpdumped on the vm to verify the source addr too). \r\n-Then dumps the midonet router, bridge, and bridge port info relevant to the instance. \r\n-The 'bridge port' I dump info on is the port which has learned the VM's mac. \r\n-I see bridge port rule allowing icmp just nothing about the src addr, the ip addr group is set to None? This appears to be the issue.\r\n\r\nThis has been reproducible at least once so far. \r\n\r\n{code}\r\n\r\n \r\nIn [77]: md.show_security_groups_for_instance(ins)\r\n[2015-01-28 19:12:15,890] [EUCAOPS] [DEBUG]: Found matching security group for name:None and id:sg-cbe42864\r\n[2015-01-28 19:12:15,895] [MidoDebug:10.111.5.100] [DEBUG]: \r\n+--------------------------------------------------------------------------------------+\r\n|                     EUCA SECURITY GROUPS FOR INSTANCE:i-6e00637d                     |\r\n+--------------------------------------------------------------------------------------+\r\n| +----------------------------------------------------------------------------------+ |\r\n| |                      Security Group:mattvpc100/sg-cbe42864                       | |\r\n| +----------------------------------------------------------------------------------+ |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |   CIDR_IP   | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |  0.0.0.0/0  |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 10.1.1.6/32 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ | |\r\n| +----------------------------------------------------------------------------------+ |\r\n+--------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [78]: tester.clc.hostname\r\nOut[78]: '10.111.5.100'\r\n\r\nIn [79]: tester.does_instance_sec_group_allow(ins, src_addr=tester.clc.hostname, port='-1', protocol='icmp')\r\n[2015-01-28 19:12:35,104] [EUCAOPS] [DEBUG]: \r\n--->(ec2ops.py:3042)Starting method: does_instance_sec_group_allow(self, instance=Instance:i-6e00637d, src_addr=10.111.5.100, src_group=None, protocol=icmp, port=-1)\r\n[2015-01-28 19:12:35,105] [EUCAOPS] [DEBUG]: Using src_addr:10.111.5.100\r\n[2015-01-28 19:12:35,105] [EUCAOPS] [DEBUG]: \r\n--->(ec2ops.py:3108)Starting method: does_sec_group_allow(self, group=SecurityGroup:mattvpc100, src_addr=10.111.5.100, src_group=None, protocol=icmp, port=-1)\r\n[2015-01-28 19:12:35,105] [EUCAOPS] [DEBUG]: Security group:mattvpc100, src ip:10.111.5.100, src_group:None, proto:icmp, port:-1\r\n[2015-01-28 19:12:35,245] [EUCAOPS] [DEBUG]: Found matching security group for name:mattvpc100 and id:sg-cbe42864\r\n[2015-01-28 19:12:35,245] [EUCAOPS] [DEBUG]: rule#1: ports:-1--1, grants:10.1.1.6/32,\r\n\r\n--->(ec2ops.py:3172)Starting method: is_address_in_network(, cls=<class 'eucaops.Eucaops'>, ip_addr=10.111.5.100, network=10.1.1.6/32)\r\n[2015-01-28 19:12:35,245] [EUCAOPS] [DEBUG]: sec_group:\"mattvpc100\" DOES NOT allow from: src_ip:\"10.111.5.100\", src_group:\"None\", proto:\"icmp\", port:\"-1\"\r\nOut[79]: False\r\n\r\nIn [80]: tester.clc.ping_cmd(ins.ip_address)\r\n[2015-01-28 19:12:43,408] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: cmd: ping -c 2 -t 10 -v  10.116.169.248\r\n[2015-01-28 19:12:43,408] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: [root@10.111.5.100]# ping -c 2 -t 10 -v  10.116.169.248\r\n[2015-01-28 19:12:43,534] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: \r\nPING 10.116.169.248 (10.116.169.248) 56(84) bytes of data.\r\n64 bytes from 10.116.169.248: icmp_seq=1 ttl=61 time=10.9 ms\r\n\r\n[2015-01-28 19:12:44,543] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: 64 bytes from 10.116.169.248: icmp_seq=2 ttl=61 time=5.92 ms\r\n\r\n--- 10.116.169.248 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1007ms\r\nrtt min/avg/max/mdev = 5.926/8.422/10.918/2.496 ms\r\n\r\n[2015-01-28 19:12:44,594] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: done with exec\r\n[2015-01-28 19:12:44,594] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: out: {'status': 0, 'output': 'PING 10.116.169.248 (10.116.169.248) 56(84) bytes of data.\\r\\n64 bytes from 10.116.169.248: icmp_seq=1 ttl=61 time=10.9 ms\\r\\n64 bytes from 10.116.169.248: icmp_seq=2 ttl=61 time=5.92 ms\\r\\n\\r\\n--- 10.116.169.248 ping statistics ---\\r\\n2 packets transmitted, 2 received, 0% packet loss, time 1007ms\\r\\nrtt min/avg/max/mdev = 5.926/8.422/10.918/2.496 ms\\r\\n', 'cmd': 'ping -c 2 -t 10 -v  10.116.169.248', 'cbfired': False, 'elapsed': 1}\r\n[2015-01-28 19:12:44,595] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: cbfired = False\r\n[2015-01-28 19:12:44,595] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: cmd = ping -c 2 -t 10 -v  10.116.169.248\r\n[2015-01-28 19:12:44,595] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: elapsed = 1\r\n[2015-01-28 19:12:44,595] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: output = PING 10.116.169.248 (10.116.169.248) 56(84) bytes of data.\r\n64 bytes from 10.116.169.248: icmp_seq=1 ttl=61 time=10.9 ms\r\n64 bytes from 10.116.169.248: icmp_seq=2 ttl=61 time=5.92 ms\r\n\r\n--- 10.116.169.248 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1007ms\r\nrtt min/avg/max/mdev = 5.926/8.422/10.918/2.496 ms\r\n\r\n[2015-01-28 19:12:44,595] [10.111.5.100:['ufs', 'osg', 'clc', 'ws']] [DEBUG]: status = 0\r\nOut[80]: \r\n{'cbfired': False,\r\n 'cmd': 'ping -c 2 -t 10 -v  10.116.169.248',\r\n 'elapsed': 1,\r\n 'output': 'PING 10.116.169.248 (10.116.169.248) 56(84) bytes of data.\\r\\n64 bytes from 10.116.169.248: icmp_seq=1 ttl=61 time=10.9 ms\\r\\n64 bytes from 10.116.169.248: icmp_seq=2 ttl=61 time=5.92 ms\\r\\n\\r\\n--- 10.116.169.248 ping statistics ---\\r\\n2 packets transmitted, 2 received, 0% packet loss, time 1007ms\\r\\nrtt min/avg/max/mdev = 5.926/8.422/10.918/2.496 ms\\r\\n',\r\n 'status': 0}\r\n\r\nIn [81]: md.show_instance_network_summary(ins)\r\n[2015-01-28 19:12:52,389] [MidoDebug:10.111.5.100] [DEBUG]: Gathering network info... (this may take a few seconds)\r\n[2015-01-28 19:12:52,389] [MidoDebug:10.111.5.100] [DEBUG]: Getting router for instance:i-6e00637d, vpc:vpc-f2a698aa\r\n[2015-01-28 19:12:52,531] [MidoDebug:10.111.5.100] [DEBUG]: Found router:vr_vpc-f2a698aa_2 for instance:i-6e00637d\r\n[2015-01-28 19:13:04,222] [MidoDebug:10.111.5.100] [DEBUG]: Getting router for instance:i-6e00637d, vpc:vpc-f2a698aa\r\n[2015-01-28 19:13:04,301] [MidoDebug:10.111.5.100] [DEBUG]: Found router:vr_vpc-f2a698aa_2 for instance:i-6e00637d\r\n[2015-01-28 19:13:04,726] [EUCAOPS] [DEBUG]: \r\n--->(ec2ops.py:3621)Starting method: get_instances(self, state=None, idstring=['verbose'], reservation=None, rootdevtype=None, zone=None, key=None, pubip=None, privip=None, ramdisk=None, kernel=None, image_id=None, filters={'network-interface.addresses.private-ip-address': u'172.31.2.200'})\r\n[2015-01-28 19:13:08,261] [MidoDebug:10.111.5.100] [DEBUG]: Getting router for instance:i-6e00637d, vpc:vpc-f2a698aa\r\n[2015-01-28 19:13:08,318] [MidoDebug:10.111.5.100] [DEBUG]: Found router:vr_vpc-f2a698aa_2 for instance:i-6e00637d\r\n[2015-01-28 19:13:08,575] [MidoDebug:10.111.5.100] [DEBUG]: Getting router for instance:i-6e00637d, vpc:vpc-f2a698aa\r\n[2015-01-28 19:13:08,632] [MidoDebug:10.111.5.100] [DEBUG]: Found router:vr_vpc-f2a698aa_2 for instance:i-6e00637d\r\n[2015-01-28 19:13:09,854] [EUCAOPS] [DEBUG]: Found matching security group for name:None and id:sg-cbe42864\r\n[2015-01-28 19:13:09,958] [MidoDebug:10.111.5.100] [DEBUG]: \r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n| NETWORK SUMMARY FOR INSTANCE:i-6e00637d, (PRIVIP:172.31.2.200, PUBIP:10.116.169.248)                                                                                                             |\r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+             |\r\n| | ROUTER:vr_vpc-f2a698aa_2                                                                                                                                                         |             |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+             |\r\n| |   ROUTER SUMMARY:                                                                                                                                                                |             |\r\n| |   +-------------------+------------+--------------------------------------+--------------------------------------+--------------------------------------+---------------+        |             |\r\n| |   |        Name       | AdminState |                  ID                  |             InboundChain             |            OutboundChain             |      T-ID     |        |             |\r\n| |   +-------------------+------------+--------------------------------------+--------------------------------------+--------------------------------------+---------------+        |             |\r\n| |   | vr_vpc-f2a698aa_2 |    True    | 368147f4-7646-4d0d-9797-7d3137f17381 | 35fa5831-6969-4216-afb5-9bcfdb439302 | ec8b6a76-63b0-4952-89de-33b62da492e7 | euca_tenant_1 |        |             |\r\n| |   +-------------------+------------+--------------------------------------+--------------------------------------+--------------------------------------+---------------+        |             |\r\n| |   ROUTES:                                                                                                                                                                        |             |\r\n| |   +----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+                                            |             |\r\n| |   |  Destination   |   Source  |  nexthopGW  |               nexthop                | weight |                  ID                  |                                            |             |\r\n| |   +----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+                                            |             |\r\n| |   | 172.31.0.1/32  | 0.0.0.0/0 |     None    | 861a8dda-8cbd-4288-acc6-72ddf9304485 |   0    | 8c99dd0e-34a5-4468-b16d-1eabc865d607 |                                            |             |\r\n| |   | 172.31.0.0/20  | 0.0.0.0/0 |     None    | 861a8dda-8cbd-4288-acc6-72ddf9304485 |   0    | 726b637d-b919-4bc7-94e2-4eff56d1cbfa |                                            |             |\r\n| |   | 172.31.99.0/24 | 0.0.0.0/0 |     None    | 3dad2104-3dfc-4645-b59f-647b6312bb7e |   0    | 47039bbc-e196-499f-81fb-91b2198ebcd8 |                                            |             |\r\n| |   | 172.31.99.1/32 | 0.0.0.0/0 |     None    | 3dad2104-3dfc-4645-b59f-647b6312bb7e |   0    | 64097a46-1770-4f87-8cab-b14379ae4941 |                                            |             |\r\n| |   | 172.31.16.0/20 | 0.0.0.0/0 |     None    | 27f923fd-f176-46ba-baef-49a78759a4d3 |   0    | 157b730d-2898-4c39-9e64-df8d93233119 |                                            |             |\r\n| |   | 172.31.16.1/32 | 0.0.0.0/0 |     None    | 27f923fd-f176-46ba-baef-49a78759a4d3 |   0    | 8dc59c9e-6688-4dd1-8771-5a876d94fbd1 |                                            |             |\r\n| |   | 172.31.89.1/32 | 0.0.0.0/0 |     None    | 49483bea-93bb-4b1d-86bb-d629e2879103 |   0    | 278b04fe-4615-4819-8b8b-e43b727b2791 |                                            |             |\r\n| |   | 172.31.89.0/24 | 0.0.0.0/0 |     None    | 49483bea-93bb-4b1d-86bb-d629e2879103 |   0    | 979e256a-6d23-4fc3-9748-1b619b31d3b1 |                                            |             |\r\n| |   |   0.0.0.0/0    | 0.0.0.0/0 | 169.254.0.1 | a2ddb30c-f76c-4b18-830f-b21d351da573 |   0    | 580ca7ad-6f57-444e-beca-e42fc3521b44 |                                            |             |\r\n| |   | 169.254.0.2/32 | 0.0.0.0/0 |     None    | a2ddb30c-f76c-4b18-830f-b21d351da573 |   0    | a4604749-d95a-4770-a868-71394f004c4d |                                            |             |\r\n| |   | 169.254.0.0/17 | 0.0.0.0/0 |     None    | a2ddb30c-f76c-4b18-830f-b21d351da573 |   0    | 0110414a-884f-49f9-880f-50812f586aed |                                            |             |\r\n| |   +----------------+-----------+-------------+--------------------------------------+--------+--------------------------------------+                                            |             |\r\n| |   ROUTER PORTS:                                                                                                                                                                  |             |\r\n| |   +--------------------------------------+------+-------------+----------------+-------------------+--------+------+--------------------------------------+                      |             |\r\n| |   |               PORT ID                | BGPS |    IPADDR   |    NETWORK     |        MAC        |  TYPE  |  UP  |               PEER ID                |                      |             |\r\n| |   +--------------------------------------+------+-------------+----------------+-------------------+--------+------+--------------------------------------+                      |             |\r\n| |   | a2ddb30c-f76c-4b18-830f-b21d351da573 |  0   | 169.254.0.2 | 169.254.0.0/17 | ac:ca:ba:b4:a7:e0 | Router | True | 4aac2de9-5a3c-4164-b28e-2b21a494cc67 |                      |             |\r\n| |   +--------------------------------------+------+-------------+----------------+-------------------+--------+------+--------------------------------------+                      |             |\r\n| |   ROUTER INBOUND FILTER:                                                                                                                                                         |             |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |             |\r\n| |   | CHAIN NAME: 35fa5831-6969-4216-afb5-9bcfdb439302, TENANT ID:euca_tenant_1                                                                                                  | |             |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |       RULE(S) for CHAIN: 35fa5..39302       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |                TARGET                | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | | RULE#1:28809a9d-0005-4720-99a7-826387234477 | None/0 |   IP  |   None   |  0  |     None     |   any    |  1  | jump | to chain | 6a6a0722-6f56-4617-99e7-b930afa81bd5 | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |                                                                                                                                                                          | |             |\r\n| |   | +-->+---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | CHAIN NAME: 6a6a0722-6f56-4617-99e7-b930afa81bd5, TENANT ID:euca_tenant_1 |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | NO RULES                                                                  |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |       RULE(S) for CHAIN: 35fa5..39302       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |                TARGET                | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | | RULE#2:64b97169-8eb6-40af-b233-f0b8620cd4fe | None/0 |   IP  |   None   |  0  |     None     |   any    |  2  | jump | to chain | 8f91683d-9b65-4233-b9dc-2bbda86992e4 | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |                                                                                                                                                                          | |             |\r\n| |   | +-->+---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | CHAIN NAME: 8f91683d-9b65-4233-b9dc-2bbda86992e4, TENANT ID:euca_tenant_1 |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | NO RULES                                                                  |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |       RULE(S) for CHAIN: 35fa5..39302       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |                TARGET                | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | | RULE#3:885016b8-1354-4dc3-8cd2-02eda69cb26d | None/0 |   IP  |   None   |  0  |     None     |   any    |  3  | jump | to chain | ef18c308-56a0-44ef-ba4d-1f1938504662 | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |                                                                                                                                                                          | |             |\r\n| |   | +-->+---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | CHAIN NAME: ef18c308-56a0-44ef-ba4d-1f1938504662, TENANT ID:euca_tenant_1 |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | NO RULES                                                                  |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |       RULE(S) for CHAIN: 35fa5..39302       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |                TARGET                | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | | RULE#4:f0f6a970-5705-4c0a-8ada-b4721486c6e1 | None/0 |   IP  |   None   |  0  |     None     |   any    |  4  | jump | to chain | 56a00f82-08d1-46bc-b504-b8ee6076b0bd | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |                                                                                                                                                                          | |             |\r\n| |   | +-->+----------------------------------------------------------------------------------------------------------------------------------------------------+                 | |             |\r\n| |   |     | CHAIN NAME: 56a00f82-08d1-46bc-b504-b8ee6076b0bd, TENANT ID:euca_tenant_1                                                                          |                 | |             |\r\n| |   |     +----------------------------------------------------------------------------------------------------------------------------------------------------+                 | |             |\r\n| |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------+ |                 | |             |\r\n| |   |     | |       RULE(S) for CHAIN: 56a00..6b0bd       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |    TARGET    | |                 | |             |\r\n| |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------+ |                 | |             |\r\n| |   |     | | RULE#1:8eb1519f-b1e1-459b-b9da-924bec63bd5e | None/0 |   IP  |   None   |  0  |     None     |   any    |  1  | dnat | continue | 172.31.2.200 | |                 | |             |\r\n| |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------+ |                 | |             |\r\n| |   |     +----------------------------------------------------------------------------------------------------------------------------------------------------+                 | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |       RULE(S) for CHAIN: 35fa5..39302       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |                TARGET                | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | | RULE#5:57407f66-d5d5-4a00-a3dd-fcab017b0403 | None/0 |   IP  |   None   |  0  |     None     |   any    |  5  | jump | to chain | a55d5082-2c90-4dd8-bdef-e77b35e30ca1 | | |             |\r\n| |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+----------+--------------------------------------+ | |             |\r\n| |   | |                                                                                                                                                                          | |             |\r\n| |   | +-->+---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | CHAIN NAME: a55d5082-2c90-4dd8-bdef-e77b35e30ca1, TENANT ID:euca_tenant_1 |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   |     | NO RULES                                                                  |                                                                                          | |             |\r\n| |   |     +---------------------------------------------------------------------------+                                                                                          | |             |\r\n| |   | None                                                                                                                                                                       | |             |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |             |\r\n| |   ROUTER OUTBOUND FILTER:                                                                                                                                                        |             |\r\n| |   +-------------------------------------------------------------------------------------------------------------------------------------------------------------+                |             |\r\n| |   | CHAIN NAME: ec8b6a76-63b0-4952-89de-33b62da492e7, TENANT ID:euca_tenant_1                                                                                   |                |             |\r\n| |   +-------------------------------------------------------------------------------------------------------------------------------------------------------------+                |             |\r\n| |   | +---------------------------------------------+---------------+-------+----------+-----+--------------+----------+-----+------+----------+----------------+ |                |             |\r\n| |   | |       RULE(S) for CHAIN: ec8b6..492e7       |      DST      | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE |  ACTION  |     TARGET     | |                |             |\r\n| |   | +---------------------------------------------+---------------+-------+----------+-----+--------------+----------+-----+------+----------+----------------+ |                |             |\r\n| |   | | RULE#1:e0f3d1cf-7427-4a53-8fd6-4c87519cbd38 | 172.31.0.2/32 |   IP  |   None   |  0  | 172.31.2.200 |   any    |  1  | snat | continue | 10.116.169.248 | |                |             |\r\n| |   | +---------------------------------------------+---------------+-------+----------+-----+--------------+----------+-----+------+----------+----------------+ |                |             |\r\n| |   +-------------------------------------------------------------------------------------------------------------------------------------------------------------+                |             |\r\n| |                                                                                                                                                                                  |             |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+             |\r\n| +------------------------------------------------------------------------------------------------------------------------------------+                                                           |\r\n| | BRIDGE:\"vb_vpc-f2a698aa_subnet-a6ad2bed\"                                                                                           |                                                           |\r\n| +------------------------------------------------------------------------------------------------------------------------------------+                                                           |\r\n| |   BRIDGE SUMMARY:                                                                                                                  |                                                           |\r\n| |   +---------------------------------+--------------------------------------+---------------+-------------+                         |                                                           |\r\n| |   |           BRIDGE NAME           |                  ID                  |     TENANT    | Vx LAN PORT |                         |                                                           |\r\n| |   +---------------------------------+--------------------------------------+---------------+-------------+                         |                                                           |\r\n| |   | vb_vpc-f2a698aa_subnet-a6ad2bed | dad0276c-d2c4-40f4-90fc-9b1f8a1cf7fa | euca_tenant_1 |     None    |                         |                                                           |\r\n| |   +---------------------------------+--------------------------------------+---------------+-------------+                         |                                                           |\r\n| |   BRIDGE PORTS:                                                                                                                    |                                                           |\r\n| |   +--------------------------------------+------+--------+---------+------+--------+------+--------------------------------------+ |                                                           |\r\n| |   |               PORT ID                | BGPS | IPADDR | NETWORK | MAC  |  TYPE  |  UP  |               PEER ID                | |                                                           |\r\n| |   +--------------------------------------+------+--------+---------+------+--------+------+--------------------------------------+ |                                                           |\r\n| |   | 6a190a96-26e5-437d-9212-b1dd027f50cb |  0   |  None  | None/-1 | None | Bridge | True | 861a8dda-8cbd-4288-acc6-72ddf9304485 | |                                                           |\r\n| |   +--------------------------------------+------+--------+---------+------+--------+------+--------------------------------------+ |                                                           |\r\n| |   BRIDGE ARP TABLE:                                                                                                                |                                                           |\r\n| |   +--------------+-------------------+-------------------+------------+-------------+--------------------------------------+       |                                                           |\r\n| |   |      IP      |        MAC        |      MAC ADDR     |   VM ID    |      NC     |             LEARNED PORT             |       |                                                           |\r\n| |   +--------------+-------------------+-------------------+------------+-------------+--------------------------------------+       |                                                           |\r\n| |   | 172.31.2.200 | d0:0d:08:e2:15:51 | d0:0d:08:e2:15:51 | i-6e00637d | 10.111.5.70 | 0f9c43b7-d2c2-46c2-b3be-46ea92600825 |       |                                                           |\r\n| |   +--------------+-------------------+-------------------+------------+-------------+--------------------------------------+       |                                                           |\r\n| |   BRIDGE DHCP SUBNETS:                                                                                                             |                                                           |\r\n| |   +---------------+-------------+------------+--------------+-------+                                                              |                                                           |\r\n| |   |     SUBNET    | SERVER ADDR | DefaultGW  | DNS SERVERS  | STATE |                                                              |                                                           |\r\n| |   +---------------+-------------+------------+--------------+-------+                                                              |                                                           |\r\n| |   | 172.31.0.0/20 |  172.31.0.1 | 172.31.0.1 | 10.111.5.100 |  True |                                                              |                                                           |\r\n| |   +---------------+-------------+------------+--------------+-------+                                                              |                                                           |\r\n| |   BRIDGE MAC TABLE:                                                                                                                |                                                           |\r\n| |   +-----------+-------------------+--------------------------------------+---------+                                               |                                                           |\r\n| |   | BRIDGE ID |      MAC ADDR     |               PORT ID                | VLAN ID |                                               |                                                           |\r\n| |   +-----------+-------------------+--------------------------------------+---------+                                               |                                                           |\r\n| |   |    None   | d0:0d:08:e2:15:51 | 0f9c43b7-d2c2-46c2-b3be-46ea92600825 |    0    |                                               |                                                           |\r\n| |   +-----------+-------------------+--------------------------------------+---------+                                               |                                                           |\r\n| |                                                                                                                                    |                                                           |\r\n| +------------------------------------------------------------------------------------------------------------------------------------+                                                           |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |\r\n| | BRIDGE PORT FOR INSTANCE:i-6e00637d, (BRIDGE:vb_vpc-f2a698aa_subnet-a6ad2bed)                                                                                                                | |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| |   | PORT SUMMARY FOR PORT:0f9c43b7-d2c2-46c2-b3be-46ea92600825                                                                                                                             | | |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| |   |   PORT INFO:                                                                                                                                                                           | | |\r\n| |   |   +--------------------------------------+------+--------+---------+------+--------+------+---------+                                                                                  | | |\r\n| |   |   |               PORT ID                | BGPS | IPADDR | NETWORK | MAC  |  TYPE  |  UP  | PEER ID |                                                                                  | | |\r\n| |   |   +--------------------------------------+------+--------+---------+------+--------+------+---------+                                                                                  | | |\r\n| |   |   | 0f9c43b7-d2c2-46c2-b3be-46ea92600825 |  0   |  None  | None/-1 | None | Bridge | True |   None  |                                                                                  | | |\r\n| |   |   +--------------------------------------+------+--------+---------+------+--------+------+---------+                                                                                  | | |\r\n| |   |   PORT INBOUND FILTER:                                                                                                                                                                 | | |\r\n| |   |   +--------------------------------------------------------------------------------------------------------------------------------------------------------+                           | | |\r\n| |   |   | CHAIN NAME: fb7a1e02-fe33-4b2e-8ab6-90ea89f44cf9, TENANT ID:euca_tenant_1                                                                              |                           | | |\r\n| |   |   +--------------------------------------------------------------------------------------------------------------------------------------------------------+                           | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+------------+ |                           | | |\r\n| |   |   | |       RULE(S) for CHAIN: fb7a1..44cf9       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS |   FRAG POL   | POS |  TYPE  |  ACTION  |   TARGET   | |                           | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+------------+ |                           | | |\r\n| |   |   | | RULE#1:62d2360a-c642-4216-b0f5-b447d4e5f01f | None/0 |  TCP  |  80:80   |  0  |     None     | unfragmented |  1  |  dnat  | continue | 172.31.0.2 | |                           | | |\r\n| |   |   | | RULE#2:2cddbd82-395d-4b0d-82df-9cd9802c665e | None/0 |   IP  |   None   |  0  |     None     |     any      |  2  | accept |          |            | |                           | | |\r\n| |   |   | | RULE#3:e0df604a-0e58-4d40-a58b-3199cbdde5d4 | None/0 |   IP  |   None   |  0  | 172.31.2.200 |     any      |  3  | accept |          |            | |                           | | |\r\n| |   |   | | RULE#4:977c6144-34fd-4eef-b629-1927dc0d39ee | None/0 |   IP  |   None   |  0  |     None     |     any      |  4  |  drop  |          |            | |                           | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+------------+ |                           | | |\r\n| |   |   +--------------------------------------------------------------------------------------------------------------------------------------------------------+                           | | |\r\n| |   |   PORT OUTBOUND FILTER:                                                                                                                                                                | | |\r\n| |   |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | | |\r\n| |   |   | CHAIN NAME: 046c2f58-fc30-4ed9-8fe7-f70d19e9b190, TENANT ID:euca_tenant_1                                                                                                        | | | |\r\n| |   |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+--------------------------------------+ | | | |\r\n| |   |   | |       RULE(S) for CHAIN: 046c2..9b190       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS |   FRAG POL   | POS |  TYPE  |  ACTION  |                TARGET                | | | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+--------------------------------------+ | | | |\r\n| |   |   | | RULE#1:ebb890fe-54bc-4e98-81c0-b9230503b67b | None/0 |  TCP  |   None   |  0  |     None     | unfragmented |  1  |  snat  | continue |           169.254.169.254            | | | | |\r\n| |   |   | | RULE#2:c5a04049-2da8-4e3c-a364-dbed9bc389fb | None/0 |   IP  |   None   |  0  |     None     |     any      |  2  | accept |          |                                      | | | | |\r\n| |   |   | | RULE#3:474796c2-76b9-483d-9df5-5d07c5eca01e | None/0 |   IP  |   None   |  0  |     None     |     any      |  3  |  jump  | to chain | 76c6898e-73a9-4621-9830-a43a4475b4e8 | | | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+--------------+-----+--------+----------+--------------------------------------+ | | | |\r\n| |   |   | |                                                                                                                                                                                | | | |\r\n| |   |   | +-->+----------------------------------------------------------------------------------------------------------------------------------------------+                             | | | |\r\n| |   |   |     | CHAIN NAME: 76c6898e-73a9-4621-9830-a43a4475b4e8, TENANT ID:euca_tenant_1                                                                    |                             | | | |\r\n| |   |   |     +----------------------------------------------------------------------------------------------------------------------------------------------+                             | | | |\r\n| |   |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+--------+--------+--------+ |                             | | | |\r\n| |   |   |     | |       RULE(S) for CHAIN: 76c68..5b4e8       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS |  TYPE  | ACTION | TARGET | |                             | | | |\r\n| |   |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+--------+--------+--------+ |                             | | | |\r\n| |   |   |     | | RULE#1:2ca536d0-99ad-4c10-bdc5-d623b2a0d88c | None/0 |  TCP  |  22:22   |  0  |     None     |  header  |  1  | accept |        |        | |                             | | | |\r\n| |   |   |     | | RULE#2:dba3a8cf-e282-485b-b522-a0f77178552f | None/0 |  ICMP |   None   |  0  |     None     |   any    |  2  | accept |        |        | |                             | | | |\r\n| |   |   |     | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+--------+--------+--------+ |                             | | | |\r\n| |   |   |     +----------------------------------------------------------------------------------------------------------------------------------------------+                             | | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+--------+--------+                                       | | | |\r\n| |   |   | |       RULE(S) for CHAIN: 046c2..9b190       |  DST   | PROTO | DSTPORTS | TOS | IP GRP ADDRS | FRAG POL | POS | TYPE | ACTION | TARGET |                                       | | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+--------+--------+                                       | | | |\r\n| |   |   | | RULE#4:edfdaab2-e5ef-4e1b-8ba9-193c15a3bbf4 | None/0 |   IP  |   None   |  0  |     None     |   any    |  4  | drop |        |        |                                       | | | |\r\n| |   |   | +---------------------------------------------+--------+-------+----------+-----+--------------+----------+-----+------+--------+--------+                                       | | | |\r\n| |   |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | | |\r\n| |   |                                                                                                                                                                                        | | |\r\n| |   +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | |\r\n| |                                                                                                                                                                                              | |\r\n| +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+ |\r\n| +---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+        |\r\n| | \"EUCALYPTUS CLOUD\" INSTANCE INFO (i-6e00637d):                                                                                                                                        |        |\r\n| +---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+        |\r\n| |                                                                                                                                                                                       |        |\r\n| | +------------+--------------+------------+-----------+--------+----------+---------+---------+--------------------------------------------------------------------------------------+ |        |\r\n| | |     ID     |     EMI      |    RES     | LASTSTATE |  AGE   |  VMTYPE  | ROOTVOL | CLUSTER | INSTANCE NETWORK INFO:                                                               | |        |\r\n| | +------------+--------------+------------+-----------+--------+----------+---------+---------+--------------------------------------------------------------------------------------+ |        |\r\n| | | i-6e00637d | emi-8c60b595 | r-26b4b557 |  running  | 9552.0 | m1.small |   None  |   one   | +--------------+-----------------+-------------+---+--------------+----------------+ | |        |\r\n| | |            |              |            |           |        |          |         |         | |     VPC      |      SUBNET     |   SEC GRPS  | P |   PRIV IP    |     PUB IP     | | |        |\r\n| | |            |              |            |           |        |          |         |         | +--------------+-----------------+-------------+---+--------------+----------------+ | |        |\r\n| | |            |              |            |           |        |          |         |         | | vpc-f2a698aa | subnet-a6ad2bed | sg-cbe42864 | 0 | 172.31.2.200 | 10.116.169.248 | | |        |\r\n| | |            |              |            |           |        |          |         |         | +--------------+-----------------+-------------+---+--------------+----------------+ | |        |\r\n| | +------------+--------------+------------+-----------+--------+----------+---------+---------+--------------------------------------------------------------------------------------+ |        |\r\n| | +--------------------------------------------------------------------------------------+                                                                                              |        |\r\n| | |                     EUCA SECURITY GROUPS FOR INSTANCE:i-6e00637d                     |                                                                                              |        |\r\n| | +--------------------------------------------------------------------------------------+                                                                                              |        |\r\n| | | +----------------------------------------------------------------------------------+ |                                                                                              |        |\r\n| | | |                      Security Group:mattvpc100/sg-cbe42864                       | |                                                                                              |        |\r\n| | | +----------------------------------------------------------------------------------+ |                                                                                              |        |\r\n| | | | +-------------+--------------+------------+----------+------+----------+-------+ | |                                                                                              |        |\r\n| | | | |   CIDR_IP   | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |                                                                                              |        |\r\n| | | | +-------------+--------------+------------+----------+------+----------+-------+ | |                                                                                              |        |\r\n| | | | |  0.0.0.0/0  |     None     |    None    |   None   |  22  |    22    |  tcp  | | |                                                                                              |        |\r\n| | | | +-------------+--------------+------------+----------+------+----------+-------+ | |                                                                                              |        |\r\n| | | | | 10.1.1.6/32 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |                                                                                              |        |\r\n| | | | +-------------+--------------+------------+----------+------+----------+-------+ | |                                                                                              |        |\r\n| | | +----------------------------------------------------------------------------------+ |                                                                                              |        |\r\n| | +--------------------------------------------------------------------------------------+                                                                                              |        |\r\n| +---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+        |\r\n+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\r\n\r\n\r\n\r\nmidonet> chain 046c2f58-fc30-4ed9-8fe7-f70d19e9b190 rule list\r\nrule rule0 src 172.31.0.2 proto 6 tos 0 src-port 31337 fragment-policy unfragmented pos 1 type snat action continue target 169.254.169.254:80\r\nrule rule1 proto 0 tos 0 flow return-flow fragment-policy any pos 2 type accept\r\nrule rule2 proto 0 tos 0 fragment-policy any pos 3 type jump jump-to chain1\r\nrule rule3 ethertype !2054 proto 0 tos 0 fragment-policy any pos 4 type drop\r\nmidonet> chain chain1 rule list\r\nrule rule0 proto 6 tos 0 dst-port 22 fragment-policy header pos 1 type accept\r\nrule rule1 proto 1 tos 0 fragment-policy any pos 2 type accept\r\nmidonet> chain list\r\nchain chain2 name vc_vpc-f2a698aa_premeta\r\nchain chain3 name vc_vpc-173fe181_preether\r\nchain chain4 name vc_vpc-f2a698aa_prefw\r\nchain chain5 name ic_i-eca8bc7d_prechain\r\nchain chain6 name ic_i-eca8bc7d_postchain\r\nchain chain7 name vc_vpc-173fe181_premeta\r\nchain chain1 name sg_ingress_sg-cbe42864\r\nchain chain8 name vc_vpc-f2a698aa_prevpcinternal\r\nchain chain9 name vc_vpc-173fe181_postchain\r\nchain chain10 name vc_vpc-f2a698aa_preelip\r\nchain chain11 name sg_egress_sg-cbe42864\r\nchain chain12 name vc_vpc-f2a698aa_prechain\r\nchain chain13 name vc_vpc-173fe181_preelip\r\nchain chain14 name vc_vpc-173fe181_prechain\r\nchain chain15 name vc_vpc-f2a698aa_preether\r\nchain chain16 name vc_vpc-f2a698aa_postchain\r\nchain chain17 name vc_vpc-173fe181_prefw\r\nchain chain18 name vc_vpc-173fe181_prevpcinternal\r\nchain chain0 name ic_i-6e00637d_postchain\r\nchain chain19 name ic_i-6e00637d_prechain\r\nmidonet> chain chain0 list rules\r\nSyntax error at: ...rules\r\nmidonet> chain chain0 rule list\r\nrule rule0 src 172.31.0.2 proto 6 tos 0 src-port 31337 fragment-policy unfragmented pos 1 type snat action continue target 169.254.169.254:80\r\nrule rule1 proto 0 tos 0 flow return-flow fragment-policy any pos 2 type accept\r\nrule rule2 proto 0 tos 0 fragment-policy any pos 3 type jump jump-to chain1\r\nrule rule3 ethertype !2054 proto 0 tos 0 fragment-policy any pos 4 type drop\r\nmidonet> chain chain6 rule list\r\nrule rule0 src 172.31.0.2 proto 6 tos 0 src-port 31337 fragment-policy unfragmented pos 1 type snat action continue target 169.254.169.254:80\r\nrule rule1 proto 0 tos 0 flow return-flow fragment-policy any pos 2 type accept\r\nrule rule2 ethertype !2054 proto 0 tos 0 fragment-policy any pos 3 type drop\r\nmidonet> chain chain5 rule list\r\nrule rule0 proto 6 tos 0 dst-port 80 ip-address-group-dst ip-address-group0 fragment-policy unfragmented pos 1 type dnat action continue target 172.31.0.2:31337\r\nrule rule1 proto 0 tos 0 flow return-flow fragment-policy any pos 2 type accept\r\nrule rule2 proto 0 tos 0 flow fwd-flow ip-address-group-src ip-address-group1 fragment-policy any pos 3 type accept\r\nrule rule3 ethertype !2054 proto 0 tos 0 fragment-policy any pos 4 type drop\r\nmidonet> exit\r\n[root@c-39 ~]# euca-describe-instance i-eca8bc7d\r\n-bash: euca-describe-instance: command not found\r\n[root@c-39 ~]# . eucarc\r\n[root@c-39 ~]# euca-describe-instances i-eca8bc7d\r\n[root@c-39 ~]# euca-create-group dan^C\r\n[root@c-39 ~]# euca-dews^C\r\n[root@c-39 ~]# midocli \r\nmidonet> chain 76c6898e-73a9-4621-9830-a43a4475b4e8 rule list\r\nrule rule0 proto 6 tos 0 dst-port 22 fragment-policy header pos 1 type accept\r\nrule rule1 proto 1 tos 0 fragment-policy any pos 2 type accept\r\n{code}\r\n\r\nThanks!!\r\n-Matt","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"VPC- Security group src group cidr value not being applied to rules","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_2_*:*_244544110_*|*_10000_*:*_1_*:*_1224435586_*|*_10002_*:*_1_*:*_8890076858_*|*_10001_*:*_2_*:*_11236476830_*|*_10003_*:*_1_*:*_123209511_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i001br:","customfield_10001":"2015-06-22T18:50:51.319-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["nurmi(nurmi)","mclark(mclark)"],"customfield_10116":null,"customfield_10117":null,"environment":"CLOUD GLOBAL:\r\nObjectStorage: \"walrus\"\r\nObjectStorage Endpoint: \"uninitialized-s3-endpoint\"\r\n  10.111.5.100 CENTOS 6.6 64 REPO [UFS OSG CLC WS]\r\n\r\nCLUSTER \"one\":\r\nNetwork Mode:EDGE\r\nEBS Backend:das\r\n  10.111.5.71 CENTOS 6.6 64 REPO [CC SC]\r\n  10.111.5.70 CENTOS 6.6 64 REPO [NC]\r\n\r\nCLUSTER \"two\":\r\nNetwork Mode:EDGE\r\nEBS Backend:das\r\n  10.111.5.147 CENTOS 6.6 64 REPO [CC SC]\r\n  10.111.5.148 CENTOS 6.6 64 REPO [NC]","customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491/comment/87119","id":"87119","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Quick update. Still an issue with a recent 4.2 build and Mido bits...\r\nThanks,\r\n-M\r\n\r\n{code}\r\nSECURITY GROUP/MIDO CHAIN RULE MAPPING for INSTANCE: 'i-44274273'\r\n+----------------------------------------------------------------------------------------------------------+\r\n| MIDO CHAIN RULES FOR EUCA SECURITY GROUP:sg-84150817 (group-1431508141)                                  |\r\n+----------------------------------------------------------------------------------------------------------+\r\n|                                                                                                          |\r\n| +----------------------------------------------------------------------------------+                     |\r\n| |         Security Group: group-1431508141/sg-84150817, VPC: vpc-e56e726f          |                     |\r\n| +----------------------------------------------------------------------------------+                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |   CIDR_IP   | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | | 2.27.8.4/24 |     None     |    None    |   None   |  -1  |    -1    |  icmp | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |  1.2.3.4/32 |     None     |    None    |   None   |  77  |    77    |  udp  | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |  0.0.0.0/0  |     None     |    None    |   None   |  22  |    22    |  tcp  | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |  2.2.2.2/24 |     None     |    None    |   None   |  66  |    88    |  tcp  | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |  2.2.2.2/24 |     None     |    None    |   None   |  66  |    66    |  tcp  | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| | |  0.0.0.0/0  |     None     |    None    |   None   |  80  |    80    |  tcp  | |                     |\r\n| | +-------------+--------------+------------+----------+------+----------+-------+ |                     |\r\n| +----------------------------------------------------------------------------------+                     |\r\n| +------------------------------------------------------------------------------------------------------+ |\r\n| | CHAIN NAME:sg_ingress_sg-84150817, ID:09c5d762-3601-444b-a4b7-36f245029965 TENANT ID:euca_tenant_1   | |\r\n| +------------------------------------------------------------------------------------------------------+ |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULES FOR CHAIN:..29965| SRC  | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS| TYPE |ACTION|TARGET| | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:1                |None/0|None/0| ICMP| None | 0 |None     |  any   | 1 |accept|      |      | | |\r\n| | |175e5a98-ef5e-4922-b2a8|      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-b4f0b877f7ed          |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:2                |None/0|None/0| UDP |77:77 | 0 |None     | header | 2 |accept|      |      | | |\r\n| | |36f81bf1-ad35-4cc6-b1e6|      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-e45aecab3874          |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:3                |None/0|None/0| TCP |22:22 | 0 |None     | header | 3 |accept|      |      | | |\r\n| | |86e5c58e-fdd3-4466-92c1|      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-7a148d028526          |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:4                |None/0|None/0| TCP |66:88 | 0 |None     | header | 4 |accept|      |      | | |\r\n| | |bb00218a-7f61-4e11-ad38|      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-0da81e035d20          |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:5                |None/0|None/0| TCP |66:66 | 0 |None     | header | 5 |accept|      |      | | |\r\n| | |0cb95d50-7d05-442f-    |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |84ea-951b801a0718      |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:6                |None/0|None/0| TCP |80:80 | 0 |None     | header | 6 |accept|      |      | | |\r\n| | |53299a9c-1542-4ff9-ac51|      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-45d845beb616          |      |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| +------------------------------------------------------------------------------------------------------+ |\r\n+----------------------------------------------------------------------------------------------------------+\r\n\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-29T17:21:22.729-0500","updated":"2015-05-29T17:21:22.729-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491/comment/88156","id":"88156","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"working on the handling of CIDRs for both ingress and egress rule sets - branch network-vpcmido has implementation that is currently running through QA","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2015-06-22T18:50:51.319-0500","updated":"2015-06-22T18:50:51.319-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491/comment/88351","id":"88351","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"Needs testing to verify in master 4.2: \r\n\r\ncommit 746c9586930d78588f5130036bc4bf1318eeab58\r\nAuthor: Daniel Nurmi <nurmi@eucalyptus.com>\r\nDate:   Thu Jun 25 12:42:47 2015 -0700\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2015-06-25T14:46:03.741-0500","updated":"2015-06-25T14:46:03.741-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491/comment/92974","id":"92974","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Closing as fixed. \r\nThanks!\r\n\r\n{code}\r\n\r\nIn [176]: tc.sysadmin.clc_machine.package_manager.get_installed_packages('eucalyptus.x86_64')\r\nOut[176]: ['eucalyptus.x86_64     4.2.0-0.0.23802.620.20150903gitf89e484.el6']\r\n\r\n\r\nIn [177]: tc.user.ec2.authorize_group(group, port=100, end_port=101,  protocol='udp', cidr_ip='1.2.3.0/24')\r\n[2015-10-06 10:09:58,741][DEBUG][EC2ops(nephotest:admin)]: \r\n--->(ec2ops.py:477)Starting method: authorize_group(self, group=SecurityGroup:default, group_name=None, group_id=None, port=100, end_port=101, protocol=udp, cidr_ip=1.2.3.0/24, src_security_group=None, src_security_group_id=None, src_security_group_name=None, src_security_group_owner_id=None)\r\nOut[177]: True\r\n\r\n\r\nIn [178]: tc.user.ec2.authorize_group(group, port=555, end_port=555,  protocol='udp', cidr_ip='5.5.5.5/5')\r\n[2015-10-06 10:10:27,787][DEBUG][EC2ops(nephotest:admin)]: \r\n--->(ec2ops.py:477)Starting method: authorize_group(self, group=SecurityGroup:default, group_name=None, group_id=None, port=555, end_port=555, protocol=udp, cidr_ip=5.5.5.5/5, src_security_group=None, src_security_group_id=None, src_security_group_name=None, src_security_group_owner_id=None)\r\nOut[178]: True\r\n\r\n\r\nIn [179]: tc.user.ec2.show_security_group(group)\r\n[2015-10-06 10:10:31,740][DEBUG][EC2ops(nephotest:admin)]: Found matching security group for name:None and id:sg-942b69cd\r\n[2015-10-06 10:10:31,745][DEBUG][EC2ops(nephotest:admin)]: \r\n+--------------------------------------------------------------------------------------+\r\n|                Security Group: default/sg-942b69cd, VPC: vpc-05b31724                |\r\n+--------------------------------------------------------------------------------------+\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| |  CIDR_IP   | SRC_GRP_NAME |  SRC_GRP_ID |   OWNER_ID   | PORT | END_PORT | PROTO | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| | 0.0.0.0/0  |     None     |     None    |     None     |  22  |    22    |  tcp  | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| | 1.2.3.0/24 |     None     |     None    |     None     | 100  |   101    |  udp  | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| |    None    |   default    | sg-942b69cd | 000703098226 | None |   None   |   -1  | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| | 0.0.0.0/0  |     None     |     None    |     None     |  -1  |    -1    |  icmp | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n| | 5.5.5.5/5  |     None     |     None    |     None     | 555  |   555    |  udp  | |\r\n| +------------+--------------+-------------+--------------+------+----------+-------+ |\r\n+--------------------------------------------------------------------------------------+\r\n\r\nIn [180]: md.show_chains_for_instance_security_groups(ins)\r\n[2015-10-06 10:10:37,101][INFO][MidoDebug:10.111.5.10]: Found matching security group for name:None and id:sg-942b69cd\r\n[2015-10-06 10:10:37,169][INFO][MidoDebug:10.111.5.10]: \r\nSECURITY GROUP/MIDO CHAIN RULE MAPPING for INSTANCE: 'i-49d269f6'\r\n+----------------------------------------------------------------------------------------------------------------------------+\r\n| MIDO CHAIN RULES FOR EUCA SECURITY GROUP:sg-942b69cd (default)                                                             |\r\n+----------------------------------------------------------------------------------------------------------------------------+\r\n|                                                                                                                            |\r\n| +----------------------------------------------------------------------+                                                   |\r\n| |        Security Group: default/sg-942b69cd, VPC: vpc-05b31724        |                                                   |\r\n| +----------------------------------------------------------------------+                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| |  CIDR_IP   SRC_GRP_NAME  SRC_GRP_ID   OWNER_ID   PORT END_PORT PROTO |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| | 0.0.0.0/0      None         None        None      22     22     tcp  |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| | 1.2.3.0/24     None         None        None     100    101     udp  |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| |    None      default    sg-942b69cd 000703098226 None   None     -1  |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| | 0.0.0.0/0      None         None        None      -1     -1     icmp |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| | 5.5.5.5/5      None         None        None     555    555     udp  |                                                   |\r\n| |----------------------------------------------------------------------|                                                   |\r\n| +----------------------------------------------------------------------+                                                   |\r\n| +------------------------------------------------------------------------------------------------------------------------+ |\r\n| | CHAIN NAME:sg_ingress_sg-942b69cd, ID:42c9fd6a-4717-499b-b6ed-c1860f2dd482 TENANT ID:euca_tenant_1                     | |\r\n| +------------------------------------------------------------------------------------------------------------------------+ |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULES FOR CHAIN:..dd482|   SRC    | DST  |PROTO| DPORTS|TOS|GRP ADDRS             |FRAG POL|POS| TYPE |ACTION|TARGET| | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULE#:1                |1.2.3.0/24|None/0| UDP |100:101| 0 |None                  | header | 1 |accept|      |      | | |\r\n| | |abd45888-c16d-4780-b709|          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | |-3b44f664cd3b          |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULE#:2                |0.0.0.0/0 |None/0| ICMP|  None | 0 |None                  |  any   | 2 |accept|      |      | | |\r\n| | |b6c14de5-67a4-46a0-a3a3|          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | |-1887f8c66149          |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULE#:3                |0.0.0.0/0 |None/0| TCP | 22:22 | 0 |None                  | header | 3 |accept|      |      | | |\r\n| | |67461fd2-6186-4718     |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | |-92da-657fb39d649d     |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULE#:4                |  None/0  |None/0|  IP |  None | 0 |(sg_all_sg-942b69cd)  |  any   | 4 |accept|      |      | | |\r\n| | |8e4352e3-18f2-47ca-    |          |      |     |       |   |- 10.116.170.10       |        |   |      |      |      | | |\r\n| | |b97a-57be3e04a810      |          |      |     |       |   |- 172.31.15.165       |        |   |      |      |      | | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| | |RULE#:5                |5.5.5.5/5 |None/0| UDP |555:555| 0 |None                  | header | 5 |accept|      |      | | |\r\n| | |fdc73f0e-066f-         |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | |4fe7-8273-ccbb3122fa0b |          |      |     |       |   |                      |        |   |      |      |      | | |\r\n| | +-----------------------+----------+------+-----+-------+---+----------------------+--------+---+------+------+------+ | |\r\n| +------------------------------------------------------------------------------------------------------------------------+ |\r\n+----------------------------------------------------------------------------------------------------------------------------+\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-06T12:14:00.574-0500","updated":"2015-10-06T12:14:00.574-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34491/comment/93146","id":"93146","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"{code}\r\nIn [79]: tc.admin.ec2.show_security_groups_for_instance(ins)\r\n[2015-10-07 20:21:45,034][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-dd9a7e0e\r\n[2015-10-07 20:21:45,037][INFO][EC2ops(eucalyptus:admin)]: \r\n+----------------------------------------------------------------------------------+\r\n|                   EUCA SECURITY GROUPS FOR INSTANCE:i-9cc9d89b                   |\r\n+----------------------------------------------------------------------------------+\r\n| +------------------------------------------------------------------------------+ |\r\n| |             Security Group: matt/sg-dd9a7e0e, VPC: vpc-c6e016fe              | |\r\n| +------------------------------------------------------------------------------+ |\r\n| | +---------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | CIDR_IP | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +---------+--------------+------------+----------+------+----------+-------+ | |\r\n| +------------------------------------------------------------------------------+ |\r\n+----------------------------------------------------------------------------------+\r\n\r\n\r\nIn [80]: tc.admin.ec2.authorize_group(group, port=22,  protocol='tcp')\r\n[2015-10-07 20:21:59,998][DEBUG][EC2ops(eucalyptus:admin)]: \r\n--->(ec2ops.py:479)Starting method: authorize_group(self, group=SecurityGroup:matt, group_name=None, group_id=None, port=22, end_port=None, protocol=tcp, cidr_ip=0.0.0.0/0, src_security_group=None, src_security_group_id=None, src_security_group_name=None, src_security_group_owner_id=None)\r\nOut[80]: True\r\n\r\n\r\nIn [82]: tc.admin.ec2.authorize_group(group, port=-1,  protocol='icmp', cidr_ip=tc.sysadmin.clc_machine.hostname + '/24')\r\n[2015-10-07 20:22:55,390][DEBUG][EC2ops(eucalyptus:admin)]: \r\n--->(ec2ops.py:479)Starting method: authorize_group(self, group=SecurityGroup:matt, group_name=None, group_id=None, port=-1, end_port=None, protocol=icmp, cidr_ip=10.111.5.10/24, src_security_group=None, src_security_group_id=None, src_security_group_name=None, src_security_group_owner_id=None)\r\nOut[82]: True\r\n\r\nIn [83]: tc.admin.ec2.show_security_groups_for_instance(ins)\r\n[2015-10-07 20:23:03,746][DEBUG][EC2ops(eucalyptus:admin)]: Found matching security group for name:None and id:sg-dd9a7e0e\r\n[2015-10-07 20:23:03,750][INFO][EC2ops(eucalyptus:admin)]: \r\n+-----------------------------------------------------------------------------------------+\r\n|                       EUCA SECURITY GROUPS FOR INSTANCE:i-9cc9d89b                      |\r\n+-----------------------------------------------------------------------------------------+\r\n| +-------------------------------------------------------------------------------------+ |\r\n| |                 Security Group: matt/sg-dd9a7e0e, VPC: vpc-c6e016fe                 | |\r\n| +-------------------------------------------------------------------------------------+ |\r\n| | +----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |    CIDR_IP     | SRC_GRP_NAME | SRC_GRP_ID | OWNER_ID | PORT | END_PORT | PROTO | | |\r\n| | +----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | |   0.0.0.0/0    |     None     |    None    |   None   |  22  |    22    |  tcp  | | |\r\n| | +----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| | | 10.111.5.10/24 |     None     |    None    |   None   |  -1  |    -1    |  icmp | | |\r\n| | +----------------+--------------+------------+----------+------+----------+-------+ | |\r\n| +-------------------------------------------------------------------------------------+ |\r\n+-----------------------------------------------------------------------------------------+\r\n\r\n\r\nIn [84]: md.show_chains_for_instance_security_groups(ins)\r\n[2015-10-07 20:23:10,936][INFO][MidoDebug:10.111.5.10]: Found matching security group for name:None and id:sg-dd9a7e0e\r\n[2015-10-07 20:23:11,092][INFO][MidoDebug:10.111.5.10]: \r\nSECURITY GROUP/MIDO CHAIN RULE MAPPING for INSTANCE: 'i-9cc9d89b'\r\n+------------------------------------------------------------------------------------------------------------------+\r\n| MIDO CHAIN RULES FOR EUCA SECURITY GROUP:sg-dd9a7e0e (matt)                                                      |\r\n+------------------------------------------------------------------------------------------------------------------+\r\n|                                                                                                                  |\r\n| +---------------------------------------------------------------------+                                          |\r\n| |         Security Group: matt/sg-dd9a7e0e, VPC: vpc-c6e016fe         |                                          |\r\n| +---------------------------------------------------------------------+                                          |\r\n| |---------------------------------------------------------------------|                                          |\r\n| |    CIDR_IP     SRC_GRP_NAME SRC_GRP_ID OWNER_ID PORT END_PORT PROTO |                                          |\r\n| |---------------------------------------------------------------------|                                          |\r\n| |   0.0.0.0/0        None        None      None    22     22     tcp  |                                          |\r\n| |---------------------------------------------------------------------|                                          |\r\n| | 10.111.5.10/24     None        None      None    -1     -1     icmp |                                          |\r\n| |---------------------------------------------------------------------|                                          |\r\n| +---------------------------------------------------------------------+                                          |\r\n| +--------------------------------------------------------------------------------------------------------------+ |\r\n| | CHAIN NAME:sg_ingress_sg-dd9a7e0e, ID:a3668888-a5fd-4153-be20-7d1a73a4527c TENANT ID:euca_tenant_1           | |\r\n| +--------------------------------------------------------------------------------------------------------------+ |\r\n| | +-----------------------+--------------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULES FOR CHAIN:..4527c|     SRC      | DST  |PROTO|DPORTS|TOS|GRP ADDRS|FRAG POL|POS| TYPE |ACTION|TARGET| | |\r\n| | +-----------------------+--------------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:1                |  0.0.0.0/0   |None/0| TCP |22:22 | 0 |None     | header | 1 |accept|      |      | | |\r\n| | |d656666c-90e1-4a3c-9972|              |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-94b8ddd94231          |              |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+--------------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| | |RULE#:2                |10.111.5.10/24|None/0| ICMP| None | 0 |None     |  any   | 2 |accept|      |      | | |\r\n| | |72287917-9e59-4ec0-a1b1|              |      |     |      |   |         |        |   |      |      |      | | |\r\n| | |-49ba26d0faa1          |              |      |     |      |   |         |        |   |      |      |      | | |\r\n| | +-----------------------+--------------+------+-----+------+---+---------+--------+---+------+------+------+ | |\r\n| +--------------------------------------------------------------------------------------------------------------+ |\r\n+------------------------------------------------------------------------------------------------------------------+\r\n\r\n\r\n\r\nFrom local machine which is not auth'd....\r\n\r\nIn [87]: ping(ins.ip_address, logger=tc.log, poll_count=2)\r\n[2015-10-07 20:24:01,940][DEBUG][TESTER:10.111.5.10]: Attempting to ping 10.116.170.111\r\n[2015-10-07 20:24:12,937][DEBUG][TESTER:10.111.5.10]: Output:PING 10.116.170.111 (10.116.170.111): 56 data bytes\r\n\r\n--- 10.116.170.111 ping statistics ---\r\n1 packets transmitted, 0 packets received, 100.0% packet loss\r\n\r\n[2015-10-07 20:24:12,938][DEBUG][TESTER:10.111.5.10]: Ping attempt 0/2 failed, err:Command 'ping -c 1 10.116.170.111' returned non-zero exit status 2\r\n[2015-10-07 20:24:12,938][DEBUG][TESTER:10.111.5.10]: sleeping for 2 seconds\r\n[2015-10-07 20:24:25,943][DEBUG][TESTER:10.111.5.10]: Output:PING 10.116.170.111 (10.116.170.111): 56 data bytes\r\n\r\n--- 10.116.170.111 ping statistics ---\r\n1 packets transmitted, 0 packets received, 100.0% packet loss\r\n\r\n[2015-10-07 20:24:25,943][DEBUG][TESTER:10.111.5.10]: Ping attempt 1/2 failed, err:Command 'ping -c 1 10.116.170.111' returned non-zero exit status 2\r\n[2015-10-07 20:24:25,943][CRITICAL][TESTER:10.111.5.10]: Was unable to ping address\r\nOut[87]: False\r\n\r\n\r\n\r\nFrom CLC machine which src addr is auth'd...\r\n\r\nIn [88]: tc.sysadmin.clc_machine.sys('ping -c2 ' + ins.ip_address, code=0)\r\n[2015-10-07 20:24:49,631][DEBUG][10.111.5.10:(['CLC'])]: test_port_status, ip:10.111.5.10, port:22, TCP:True\r\n[2015-10-07 20:24:49,651][DEBUG][10.111.5.10:(['CLC'])]: test_port_status, success\r\n[2015-10-07 20:24:49,651][DEBUG][10.111.5.10:(['CLC'])]: SSH connection has hostname:10.111.5.10 user:root password:f****r\r\n[2015-10-07 20:24:49,820][DEBUG][10.111.5.10:(['CLC'])]: SSH connection attempt(1 of 3), host:'root@10.111.5.10', using ipv4:10.111.5.10, thru proxy:'None'\r\n[2015-10-07 20:24:49,954][DEBUG][10.111.5.10:(['CLC'])]: SSH - Connected to 10.111.5.10\r\n[2015-10-07 20:24:49,954][DEBUG][10.111.5.10:(['CLC'])]: [root@10.111.5.10]# ping -c2 10.116.170.111\r\n[2015-10-07 20:24:50,080][DEBUG][10.111.5.10:(['CLC'])]: \r\nPING 10.116.170.111 (10.116.170.111) 56(84) bytes of data.\r\n64 bytes from 10.116.170.111: icmp_seq=1 ttl=61 time=5.46 ms\r\n\r\n[2015-10-07 20:24:51,126][DEBUG][10.111.5.10:(['CLC'])]: 64 bytes from 10.116.170.111: icmp_seq=2 ttl=61 time=2.93 ms\r\n\r\n--- 10.116.170.111 ping statistics ---\r\n2 packets transmitted, 2 received, 0% packet loss, time 1003ms\r\nrtt min/avg/max/mdev = 2.939/4.201/5.463/1.262 ms\r\n\r\n[2015-10-07 20:24:51,177][DEBUG][10.111.5.10:(['CLC'])]: done with exec\r\nOut[88]: \r\n['PING 10.116.170.111 (10.116.170.111) 56(84) bytes of data.',\r\n '64 bytes from 10.116.170.111: icmp_seq=1 ttl=61 time=5.46 ms',\r\n '64 bytes from 10.116.170.111: icmp_seq=2 ttl=61 time=2.93 ms',\r\n '',\r\n '--- 10.116.170.111 ping statistics ---',\r\n '2 packets transmitted, 2 received, 0% packet loss, time 1003ms',\r\n 'rtt min/avg/max/mdev = 2.939/4.201/5.463/1.262 ms']\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-07T22:27:30.105-0500","updated":"2015-10-07T22:27:30.105-0500"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10505/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}