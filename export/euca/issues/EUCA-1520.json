{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"11925","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925","key":"EUCA-1520","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":null,"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10100","value":"Yes","id":"10100"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10703":null,"resolutiondate":"2012-04-23T21:27:42.151-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-1520/watchers","watchCount":1,"isWatching":false},"created":"2012-04-23T21:27:12.573-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":"RT-5745","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wenye","name":"wenye","key":"wenye","accountId":"557058:410304ee-1904-4d8c-8ca1-b1148436b5a6","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/b87135ce3de714cf85240f6d40638792?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/b87135ce3de714cf85240f6d40638792?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/b87135ce3de714cf85240f6d40638792?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/b87135ce3de714cf85240f6d40638792?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Ye Wen","active":false,"timeZone":"America/Los_Angeles"},"updated":"2015-05-08T17:18:35.854-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_13000":null,"description":"This bug was reported by Steve Jones for 2.0.3. Might not be an issue in 3.0:\n\n  \n\nTo hijack an account you need to know the email address for a user and the\n\ncurrent time. You request an account reset (forgotten password) and then you\n\nuse the following URL to confirm reception of the email:\n\nhttps://<eucafront>:8443/?action=recover&code=001325314484698%\n\nThe numbers are the time of account reset plus 30 minutes in milliseconds.\nOnce\n\nyou've reset the account password you can download certificates, etc. For this\n\nattack, the caller would need several attempts to guess the correct time (code\n\nprefix)\n\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"weak code in password reset URL","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i017lz:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"1_*:*_1_*:*_29591_*|*_5_*:*_1_*:*_0","customfield_10001":"2012-04-23T21:27:17.720-0500","customfield_10200":1.0,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["agrimm(agrimm)","rusvika(rusvika)","wenye(wenye)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-1520/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21654","id":"21654","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-19 23:37:54 by rusvika\n\nThu Jan 19 15:37:54 2012: Request 5745 was acted upon.\n Transaction: Ticket created by vika.felmetsger\n       Queue: Engineering Bugs\n     Subject: weak code in password reset URL\n       Owner: Nobody\n  Requestors: Vika.Felmetsger@eucalyptus.com\n      Status: new\n Ticket <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\n\nThis bug was reported by Steve Jones for 2.0.3. Might not be an issue in 3.0:\n\nTo hijack an account you need to know the email address for a user and the\ncurrent time. You request an account reset (forgotten password) and then you\nuse the following URL to confirm reception of the email:\nhttps://<eucafront>:8443/?action=recover&code=001325314484698% The numbers are\nthe time of account reset plus 30 minutes in milliseconds. Once you've reset\nthe account password you can download certificates, etc. For this attack, the\ncaller would need several attempts to guess the correct time (code prefix)\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:17.720-0500","updated":"2012-04-23T21:27:17.720-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21655","id":"21655","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 18:41:47 by tjcramer\n\nFri Jan 20 10:41:47 2012: Request 5745 was acted upon.\n Transaction: Given to wen.ye by tim.cramer\n       Queue: Engineering Bugs\n     Subject: weak code in password reset URL\n       Owner: wen.ye\n  Requestors: Vika.Felmetsger@eucalyptus.com\n      Status: new\n Ticket <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\n\nThis transaction appears to have no content\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:18.281-0500","updated":"2012-04-23T21:27:18.281-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21656","id":"21656","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 19:33:30 by wenye\nI don't think it is still an issue in 3.0. The confirmation code is now\ncomposed by not only the time, but also a randomized hash of the user name. So\nit is much much harder for the attacker to guess.\n\n  \nDima still wants to verify this by looking at the 2.0.3 code. So assign it to\nDima for him to play.\n\n  \nOn Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> This bug was reported by Steve Jones for 2.0.3. Might not be an issue\n\n> in 3.0:\n\n>\n\n> To hijack an account you need to know the email address for a user and\n\n> the\n\n> current time. You request an account reset (forgotten password) and\n\n> then you\n\n> use the following URL to confirm reception of the email:\n\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> numbers are\n\n> the time of account reset plus 30 minutes in milliseconds. Once you've\n\n> reset\n\n> the account password you can download certificates, etc. For this\n\n> attack, the\n\n> caller would need several attempts to guess the correct time (code\n\n> prefix)\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:18.803-0500","updated":"2012-04-23T21:27:18.803-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21657","id":"21657","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 19:33:31 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nI don't think it is still an issue in 3.0. The confirmation code is now\ncomposed by not only the time, but also a randomized hash of the user name. So\nit is much much harder for the attacker to guess.\n\nDima still wants to verify this by looking at the 2.0.3 code. So assign it to\nDima for him to play.\n\nOn Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> This bug was reported by Steve Jones for 2.0.3. Might not be an issue\n> in 3.0:\n>\n> To hijack an account you need to know the email address for a user and\n> the\n> current time. You request an account reset (forgotten password) and\n> then you\n> use the following URL to confirm reception of the email:\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> numbers are\n> the time of account reset plus 30 minutes in milliseconds. Once you've\n> reset\n> the account password you can download certificates, etc. For this\n> attack, the\n> caller would need several attempts to guess the correct time (code\n> prefix)\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:19.328-0500","updated":"2012-04-23T21:27:19.328-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21658","id":"21658","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 19:33:31 by wenye\nI don't think it is still an issue in 3.0. The confirmation code is now\ncomposed by not only the time, but also a randomized hash of the user name. So\nit is much much harder for the attacker to guess. Dima still wants to verify\nthis by looking at the 2.0.3 code. So assign it to Dima for him to play. On\nThu Jan 19 15:37:54 2012, vika.felmetsger wrote: > This bug was reported by\nSteve Jones for 2.0.3. Might not be an issue > in 3.0: > > To hijack an\naccount you need to know the email address for a user and > the > current\ntime. You request an account reset (forgotten password) and > then you > use\nthe following URL to confirm reception of the email: >\nhttps://:8443/?action=recover&code;=001325314484698% The > numbers are > the\ntime of account reset plus 30 minutes in milliseconds. Once you've > reset >\nthe account password you can download certificates, etc. For this > attack,\nthe > caller would need several attempts to guess the correct time (code >\nprefix)\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:19.860-0500","updated":"2012-04-23T21:27:19.860-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21659","id":"21659","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 19:33:32 by wenye\n\nFri Jan 20 11:33:31 2012: Request 5745 was acted upon.\n Transaction: Given to dmitrii.zagorodnov by wen.ye\n       Queue: Engineering Bugs\n     Subject: weak code in password reset URL\n       Owner: dmitrii.zagorodnov\n  Requestors: Vika.Felmetsger@eucalyptus.com\n      Status: open\n Ticket <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\n\nThis transaction appears to have no content\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:20.500-0500","updated":"2012-04-23T21:27:20.500-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21660","id":"21660","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 20:18:18 by rusvika\nHere is an example of a URL that I see in 3.0:\n\n  \n[https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4E\nASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg](http\ns://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdj\nNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg)\n\n  \nA user can get to the password reset form with something like:\n\n  \n[https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053](https://\n192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFm\nGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg)\n\n  \nHowever, when submitting the new password to CLC, the password reset request\nwill be rejected unless the entire confirmationcode is provided. So, it looks\nlike we are good at least in 3.0.\n\n  \nOn Fri Jan 20 11:33:30 2012, wen.ye wrote:\n\n> I don't think it is still an issue in 3.0. The confirmation code is\n\n> now\n\n> composed by not only the time, but also a randomized hash of the user\n\n> name. So\n\n> it is much much harder for the attacker to guess.\n\n>\n\n> Dima still wants to verify this by looking at the 2.0.3 code. So\n\n> assign it to\n\n> Dima for him to play.\n\n>\n\n> On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > This bug was reported by Steve Jones for 2.0.3. Might not be an\n\n> issue\n\n> > in 3.0:\n\n> >\n\n> > To hijack an account you need to know the email address for a user\n\n> and\n\n> > the\n\n> > current time. You request an account reset (forgotten password) and\n\n> > then you\n\n> > use the following URL to confirm reception of the email:\n\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > numbers are\n\n> > the time of account reset plus 30 minutes in milliseconds. Once\n\n> you've\n\n> > reset\n\n> > the account password you can download certificates, etc. For this\n\n> > attack, the\n\n> > caller would need several attempts to guess the correct time (code\n\n> > prefix)\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:21.067-0500","updated":"2012-04-23T21:27:21.067-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21661","id":"21661","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 20:18:19 by admin\nhttps://support.eucalyptus.com/Ticket/Display.html?id=5745 This is a comment.\nIt is not sent to the Requestor(s): Here is an example of a URL that I see in\n3.0: https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX6\n3R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg A\nuser can get to the password reset form with something like:\nhttps://192.168.48.11:8443/#reset:confirmationcode=0013270921420053 However,\nwhen submitting the new password to CLC, the password reset request will be\nrejected unless the entire confirmationcode is provided. So, it looks like we\nare good at least in 3.0. On Fri Jan 20 11:33:30 2012, wen.ye wrote: > I don't\nthink it is still an issue in 3.0. The confirmation code is > now > composed\nby not only the time, but also a randomized hash of the user > name. So > it\nis much much harder for the attacker to guess. > > Dima still wants to verify\nthis by looking at the 2.0.3 code. So > assign it to > Dima for him to play. >\n> On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote: > > This bug was\nreported by Steve Jones for 2.0.3. Might not be an > issue > > in 3.0: > > > >\nTo hijack an account you need to know the email address for a user > and > >\nthe > > current time. You request an account reset (forgotten password) and >\n> then you > > use the following URL to confirm reception of the email: > >\nhttps://:8443/?action=recover&code;=001325314484698% The > > numbers are > >\nthe time of account reset plus 30 minutes in milliseconds. Once > you've > >\nreset > > the account password you can download certificates, etc. For this >\n> attack, the > > caller would need several attempts to guess the correct time\n(code > > prefix)\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:21.602-0500","updated":"2012-04-23T21:27:21.602-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21662","id":"21662","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 20:23:11 by tjcramer\nDima,\n\nAfter your analysis please discuss w/Vika and if you're both satisfied close\nthe issue.  Thanks!\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:22.151-0500","updated":"2012-04-23T21:27:22.151-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21663","id":"21663","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 20:23:11 by admin\nhttps://support.eucalyptus.com/Ticket/Display.html?id=5745 This is a comment.\nIt is not sent to the Requestor(s): Dima, After your analysis please discuss\nw/Vika and if you're both satisfied close the issue. Thanks!\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:22.688-0500","updated":"2012-04-23T21:27:22.688-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21664","id":"21664","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 22:28:27 by dmitrii\nThe code generating the token is the same in 2.0.3 and in 3.0. And in both\ncases the token consists not only of the timestamp, but also a long random\nhash. Thus, without further information, I am rejecting this bug.\n\n  \nThanks to Vika and Ye for their investigations!\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:23.268-0500","updated":"2012-04-23T21:27:23.268-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21665","id":"21665","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 22:28:28 by dmitrii\nThe code generating the token is the same in 2.0.3 and in 3.0. And in both\ncases the token consists not only of the timestamp, but also a long random\nhash. Thus, without further information, I am rejecting this bug. Thanks to\nVika and Ye for their investigations!\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:23.831-0500","updated":"2012-04-23T21:27:23.831-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21666","id":"21666","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-20 22:28:28 by dmitrii\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nThe code generating the token is the same in 2.0.3 and in 3.0. And in both\ncases the token consists not only of the timestamp, but also a long random\nhash. Thus, without further information, I am rejecting this bug.\n\nThanks to Vika and Ye for their investigations!\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:24.462-0500","updated":"2012-04-23T21:27:24.462-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21667","id":"21667","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:04:54 by rusvika\nShoot, I should've been more careful when reading the description of the\nproblem. The problem is not a weak code, but the fact that we use a query by\nexample to verity it, which allows for wildcard characters. The problem here\nis not a value of the code param, but '%\" at the end. I just checked against\n3.0, one can reset a password by entering:\n\n  \nhttps://<front-end>:8443/#reset:confirmationcode=%\n\n  \nNo need to guess anything other than an account name, user name and an email.\nThat's officially bad!\n\n  \nOn Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> Here is an example of a URL that I see in 3.0:\n\n>\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4\nEASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n\n>\n\n> A user can get to the password reset form with something like:\n\n>\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n\n>\n\n> However, when submitting the new password to CLC, the password reset\n\n> request\n\n> will be rejected unless the entire confirmationcode is provided. So,\n\n> it looks\n\n> like we are good at least in 3.0.\n\n>\n\n> On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n\n> > I don't think it is still an issue in 3.0. The confirmation code is\n\n> > now\n\n> > composed by not only the time, but also a randomized hash of the\n\n> user\n\n> > name. So\n\n> > it is much much harder for the attacker to guess.\n\n> >\n\n> > Dima still wants to verify this by looking at the 2.0.3 code. So\n\n> > assign it to\n\n> > Dima for him to play.\n\n> >\n\n> > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n\n> > issue\n\n> > > in 3.0:\n\n> > >\n\n> > > To hijack an account you need to know the email address for a user\n\n> > and\n\n> > > the\n\n> > > current time. You request an account reset (forgotten password)\n\n> and\n\n> > > then you\n\n> > > use the following URL to confirm reception of the email:\n\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > > numbers are\n\n> > > the time of account reset plus 30 minutes in milliseconds. Once\n\n> > you've\n\n> > > reset\n\n> > > the account password you can download certificates, etc. For this\n\n> > > attack, the\n\n> > > caller would need several attempts to guess the correct time (code\n\n> > > prefix)\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:24.951-0500","updated":"2012-04-23T21:27:24.951-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21668","id":"21668","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:04:54 by rusvika\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nShoot, I should've been more careful when reading the description of the\nproblem. The problem is not a weak code, but the fact that we use a query by\nexample to verity it, which allows for wildcard characters. The problem here is\nnot a value of the code param, but '%\" at the end. I just checked against 3.0,\none can reset a password by entering:\n\nhttps://<front-end>:8443/#reset:confirmationcode=%\n\nNo need to guess anything other than an account name, user name and an email.\nThat's officially bad!\n\nOn Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> Here is an example of a URL that I see in 3.0:\n>\n>\nhttps://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>\n> A user can get to the password reset form with something like:\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>\n> However, when submitting the new password to CLC, the password reset\n> request\n> will be rejected unless the entire confirmationcode is provided. So,\n> it looks\n> like we are good at least in 3.0.\n>\n> On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > I don't think it is still an issue in 3.0. The confirmation code is\n> > now\n> > composed by not only the time, but also a randomized hash of the\n> user\n> > name. So\n> > it is much much harder for the attacker to guess.\n> >\n> > Dima still wants to verify this by looking at the 2.0.3 code. So\n> > assign it to\n> > Dima for him to play.\n> >\n> > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n> > issue\n> > > in 3.0:\n> > >\n> > > To hijack an account you need to know the email address for a user\n> > and\n> > > the\n> > > current time. You request an account reset (forgotten password)\n> and\n> > > then you\n> > > use the following URL to confirm reception of the email:\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > numbers are\n> > > the time of account reset plus 30 minutes in milliseconds. Once\n> > you've\n> > > reset\n> > > the account password you can download certificates, etc. For this\n> > > attack, the\n> > > caller would need several attempts to guess the correct time (code\n> > > prefix)\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:25.438-0500","updated":"2012-04-23T21:27:25.438-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21669","id":"21669","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:58:03 by wenye\nConfirmed. Thanks Vika.\n\nYour example url won't work because a check of the confirmation code trying\nto extract an expiration time. But the problem is indeed there. This sounds\nlike a serious security problem. I think we should fix it for 3.0.\n\nOn Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>\n> Shoot, I should've been more careful when reading the description of the\n> problem. The problem is not a weak code, but the fact that we use a query\n> by\n> example to verity it, which allows for wildcard characters. The problem\n> here is\n> not a value of the code param, but '%\" at the end. I just checked against\n> 3.0,\n> one can reset a password by entering:\n>\n> https://<front-end>:8443/#reset:confirmationcode=%\n>\n> No need to guess anything other than an account name, user name and an\n> email.\n> That's officially bad!\n>\n> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > Here is an example of a URL that I see in 3.0:\n> >\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> >\n> > A user can get to the password reset form with something like:\n> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> >\n> > However, when submitting the new password to CLC, the password reset\n> > request\n> > will be rejected unless the entire confirmationcode is provided. So,\n> > it looks\n> > like we are good at least in 3.0.\n> >\n> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > > I don't think it is still an issue in 3.0. The confirmation code is\n> > > now\n> > > composed by not only the time, but also a randomized hash of the\n> > user\n> > > name. So\n> > > it is much much harder for the attacker to guess.\n> > >\n> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n> > > assign it to\n> > > Dima for him to play.\n> > >\n> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n> > > issue\n> > > > in 3.0:\n> > > >\n> > > > To hijack an account you need to know the email address for a user\n> > > and\n> > > > the\n> > > > current time. You request an account reset (forgotten password)\n> > and\n> > > > then you\n> > > > use the following URL to confirm reception of the email:\n> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > > numbers are\n> > > > the time of account reset plus 30 minutes in milliseconds. Once\n> > > you've\n> > > > reset\n> > > > the account password you can download certificates, etc. For this\n> > > > attack, the\n> > > > caller would need several attempts to guess the correct time (code\n> > > > prefix)\n>\n>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:25.995-0500","updated":"2012-04-23T21:27:25.995-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21670","id":"21670","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:58:03 by wenye\nConfirmed. Thanks Vika.\n\n  \n\nYour example url won't work because a check of the confirmation code trying to\nextract an expiration time. But the problem is indeed there. This sounds like\na serious security problem. I think we should fix it for 3.0.\n\n  \n\nOn Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT\n<[bugs@support.eucalyptus.com](mailto:bugs@support.eucalyptus.com)> wrote:\n\n>\n\n<URL: [https://support.eucalyptus.com/Ticket/Display.html?id=5745](https://sup\nport.eucalyptus.com/Ticket/Display.html?id=5745) >\n\n  \nShoot, I should've been more careful when reading the description of the\n\nproblem. The problem is not a weak code, but the fact that we use a query by\n\nexample to verity it, which allows for wildcard characters. The problem here\nis\n\nnot a value of the code param, but '%\" at the end. I just checked against 3.0,\n\none can reset a password by entering:\n\n  \nhttps://<front-end>:8443/#reset:confirmationcode=%\n\n  \nNo need to guess anything other than an account name, user name and an email.\n\nThat's officially bad!\n\n>\n\n>\n\nOn Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> Here is an example of a URL that I see in 3.0:\n\n>\n\n>\n\n[https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4E\nASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg](http\ns://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdj\nNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg)\n\n>\n\n> A user can get to the password reset form with something like:\n\n>\n\n> [https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053](https:\n//192.168.48.11:8443/#reset:confirmationcode=0013270921420053)\n\n>\n\n> However, when submitting the new password to CLC, the password reset\n\n> request\n\n> will be rejected unless the entire confirmationcode is provided. So,\n\n> it looks\n\n> like we are good at least in 3.0.\n\n>\n\n> On Fri Jan 20 11:33:30 2012, [wen.ye](http://wen.ye) wrote:\n\n> > I don't think it is still an issue in 3.0. The confirmation code is\n\n> > now\n\n> > composed by not only the time, but also a randomized hash of the\n\n> user\n\n> > name. So\n\n> > it is much much harder for the attacker to guess.\n\n> >\n\n> > Dima still wants to verify this by looking at the 2.0.3 code. So\n\n> > assign it to\n\n> > Dima for him to play.\n\n> >\n\n> > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n\n> > issue\n\n> > > in 3.0:\n\n> > >\n\n> > > To hijack an account you need to know the email address for a user\n\n> > and\n\n> > > the\n\n> > > current time. You request an account reset (forgotten password)\n\n> and\n\n> > > then you\n\n> > > use the following URL to confirm reception of the email:\n\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > > numbers are\n\n> > > the time of account reset plus 30 minutes in milliseconds. Once\n\n> > you've\n\n> > > reset\n\n> > > the account password you can download certificates, etc. For this\n\n> > > attack, the\n\n> > > caller would need several attempts to guess the correct time (code\n\n> > > prefix)\n\n  \n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:26.573-0500","updated":"2012-04-23T21:27:26.573-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21671","id":"21671","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:58:04 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nConfirmed. Thanks Vika.\n\nYour example url won't work because a check of the confirmation code trying\nto extract an expiration time. But the problem is indeed there. This sounds\nlike a serious security problem. I think we should fix it for 3.0.\n\nOn Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>\n> Shoot, I should've been more careful when reading the description of the\n> problem. The problem is not a weak code, but the fact that we use a query\n> by\n> example to verity it, which allows for wildcard characters. The problem\n> here is\n> not a value of the code param, but '%\" at the end. I just checked against\n> 3.0,\n> one can reset a password by entering:\n>\n> https://<front-end>:8443/#reset:confirmationcode=%\n>\n> No need to guess anything other than an account name, user name and an\n> email.\n> That's officially bad!\n>\n> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > Here is an example of a URL that I see in 3.0:\n> >\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> >\n> > A user can get to the password reset form with something like:\n> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> >\n> > However, when submitting the new password to CLC, the password reset\n> > request\n> > will be rejected unless the entire confirmationcode is provided. So,\n> > it looks\n> > like we are good at least in 3.0.\n> >\n> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > > I don't think it is still an issue in 3.0. The confirmation code is\n> > > now\n> > > composed by not only the time, but also a randomized hash of the\n> > user\n> > > name. So\n> > > it is much much harder for the attacker to guess.\n> > >\n> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n> > > assign it to\n> > > Dima for him to play.\n> > >\n> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n> > > issue\n> > > > in 3.0:\n> > > >\n> > > > To hijack an account you need to know the email address for a user\n> > > and\n> > > > the\n> > > > current time. You request an account reset (forgotten password)\n> > and\n> > > > then you\n> > > > use the following URL to confirm reception of the email:\n> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > > numbers are\n> > > > the time of account reset plus 30 minutes in milliseconds. Once\n> > > you've\n> > > > reset\n> > > > the account password you can download certificates, etc. For this\n> > > > attack, the\n> > > > caller would need several attempts to guess the correct time (code\n> > > > prefix)\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:27.090-0500","updated":"2012-04-23T21:27:27.090-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21672","id":"21672","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 00:58:04 by wenye\nConfirmed. Thanks Vika.\n\nYour example url won't work because a check of the confirmation code trying\nto extract an expiration time. But the problem is indeed there. This sounds\nlike a serious security problem. I think we should fix it for 3.0.\n\nOn Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>\n> Shoot, I should've been more careful when reading the description of the\n> problem. The problem is not a weak code, but the fact that we use a query\n> by\n> example to verity it, which allows for wildcard characters. The problem\n> here is\n> not a value of the code param, but '%\" at the end. I just checked against\n> 3.0,\n> one can reset a password by entering:\n>\n> https://<front-end>:8443/#reset:confirmationcode=%\n>\n> No need to guess anything other than an account name, user name and an\n> email.\n> That's officially bad!\n>\n> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > Here is an example of a URL that I see in 3.0:\n> >\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> >\n> > A user can get to the password reset form with something like:\n> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> >\n> > However, when submitting the new password to CLC, the password reset\n> > request\n> > will be rejected unless the entire confirmationcode is provided. So,\n> > it looks\n> > like we are good at least in 3.0.\n> >\n> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > > I don't think it is still an issue in 3.0. The confirmation code is\n> > > now\n> > > composed by not only the time, but also a randomized hash of the\n> > user\n> > > name. So\n> > > it is much much harder for the attacker to guess.\n> > >\n> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n> > > assign it to\n> > > Dima for him to play.\n> > >\n> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n> > > issue\n> > > > in 3.0:\n> > > >\n> > > > To hijack an account you need to know the email address for a user\n> > > and\n> > > > the\n> > > > current time. You request an account reset (forgotten password)\n> > and\n> > > > then you\n> > > > use the following URL to confirm reception of the email:\n> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > > numbers are\n> > > > the time of account reset plus 30 minutes in milliseconds. Once\n> > > you've\n> > > > reset\n> > > > the account password you can download certificates, etc. For this\n> > > > attack, the\n> > > > caller would need several attempts to guess the correct time (code\n> > > > prefix)\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:27.648-0500","updated":"2012-04-23T21:27:27.648-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21673","id":"21673","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 01:18:50 by wenye\nKen reminded me this operation requires login. So not really a serious\nproblem. We can fix this either by making the query to be exact or perform\na validity check of the confirmation code.\n\nOn Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Confirmed. Thanks Vika.\n>\n> Your example url won't work because a check of the confirmation code\n> trying to extract an expiration time. But the problem is indeed there. This\n> sounds like a serious security problem. I think we should fix it for 3.0.\n>\n> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> bugs@support.eucalyptus.com> wrote:\n>\n>>\n>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>\n>> Shoot, I should've been more careful when reading the description of the\n>> problem. The problem is not a weak code, but the fact that we use a query\n>> by\n>> example to verity it, which allows for wildcard characters. The problem\n>> here is\n>> not a value of the code param, but '%\" at the end. I just checked against\n>> 3.0,\n>> one can reset a password by entering:\n>>\n>> https://<front-end>:8443/#reset:confirmationcode=%\n>>\n>> No need to guess anything other than an account name, user name and an\n>> email.\n>> That's officially bad!\n>>\n>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>> > Here is an example of a URL that I see in 3.0:\n>> >\n>> >\n>>\n>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>> >\n>> > A user can get to the password reset form with something like:\n>> >\n>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>> >\n>> > However, when submitting the new password to CLC, the password reset\n>> > request\n>> > will be rejected unless the entire confirmationcode is provided. So,\n>> > it looks\n>> > like we are good at least in 3.0.\n>> >\n>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>> > > now\n>> > > composed by not only the time, but also a randomized hash of the\n>> > user\n>> > > name. So\n>> > > it is much much harder for the attacker to guess.\n>> > >\n>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>> > > assign it to\n>> > > Dima for him to play.\n>> > >\n>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>> > > issue\n>> > > > in 3.0:\n>> > > >\n>> > > > To hijack an account you need to know the email address for a user\n>> > > and\n>> > > > the\n>> > > > current time. You request an account reset (forgotten password)\n>> > and\n>> > > > then you\n>> > > > use the following URL to confirm reception of the email:\n>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>> > > > numbers are\n>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>> > > you've\n>> > > > reset\n>> > > > the account password you can download certificates, etc. For this\n>> > > > attack, the\n>> > > > caller would need several attempts to guess the correct time (code\n>> > > > prefix)\n>>\n>>\n>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:28.132-0500","updated":"2012-04-23T21:27:28.132-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21674","id":"21674","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 01:18:50 by wenye\nKen reminded me this operation requires login. So not really a serious\nproblem. We can fix this either by making the query to be exact or perform a\nvalidity check of the confirmation code.\n\n  \n\nOn Fri, Jan 20, 2012 at 4:57 PM, Ye Wen\n<[wenye@eucalyptus.com](mailto:wenye@eucalyptus.com)> wrote:\n\n> Confirmed. Thanks Vika.\n\n>\n\n>\n\n>\n\n> Your example url won't work because a check of the confirmation code trying\nto extract an expiration time. But the problem is indeed there. This sounds\nlike a serious security problem. I think we should fix it for 3.0.\n\n>\n\n>\n\n>\n\n> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT\n<[bugs@support.eucalyptus.com](mailto:bugs@support.eucalyptus.com)> wrote:\n\n>\n\n>>\n\n<URL: [https://support.eucalyptus.com/Ticket/Display.html?id=5745](https://sup\nport.eucalyptus.com/Ticket/Display.html?id=5745) >\n\n  \nShoot, I should've been more careful when reading the description of the\n\nproblem. The problem is not a weak code, but the fact that we use a query by\n\nexample to verity it, which allows for wildcard characters. The problem here\nis\n\nnot a value of the code param, but '%\" at the end. I just checked against 3.0,\n\none can reset a password by entering:\n\n  \nhttps://<front-end>:8443/#reset:confirmationcode=%\n\n  \nNo need to guess anything other than an account name, user name and an email.\n\nThat's officially bad!\n\n>>\n\n>>\n\nOn Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> Here is an example of a URL that I see in 3.0:\n\n>\n\n>\n\n[https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4E\nASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg](http\ns://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdj\nNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg)\n\n>\n\n> A user can get to the password reset form with something like:\n\n>\n\n> [https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053](https:\n//192.168.48.11:8443/#reset:confirmationcode=0013270921420053)\n\n>\n\n> However, when submitting the new password to CLC, the password reset\n\n> request\n\n> will be rejected unless the entire confirmationcode is provided. So,\n\n> it looks\n\n> like we are good at least in 3.0.\n\n>\n\n> On Fri Jan 20 11:33:30 2012, [wen.ye](http://wen.ye) wrote:\n\n> > I don't think it is still an issue in 3.0. The confirmation code is\n\n> > now\n\n> > composed by not only the time, but also a randomized hash of the\n\n> user\n\n> > name. So\n\n> > it is much much harder for the attacker to guess.\n\n> >\n\n> > Dima still wants to verify this by looking at the 2.0.3 code. So\n\n> > assign it to\n\n> > Dima for him to play.\n\n> >\n\n> > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n\n> > issue\n\n> > > in 3.0:\n\n> > >\n\n> > > To hijack an account you need to know the email address for a user\n\n> > and\n\n> > > the\n\n> > > current time. You request an account reset (forgotten password)\n\n> and\n\n> > > then you\n\n> > > use the following URL to confirm reception of the email:\n\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > > numbers are\n\n> > > the time of account reset plus 30 minutes in milliseconds. Once\n\n> > you've\n\n> > > reset\n\n> > > the account password you can download certificates, etc. For this\n\n> > > attack, the\n\n> > > caller would need several attempts to guess the correct time (code\n\n> > > prefix)\n\n  \n\n>\n\n>\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:28.692-0500","updated":"2012-04-23T21:27:28.692-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21675","id":"21675","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 01:18:51 by wenye\nKen reminded me this operation requires login. So not really a serious\nproblem. We can fix this either by making the query to be exact or perform\na validity check of the confirmation code.\n\nOn Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Confirmed. Thanks Vika.\n>\n> Your example url won't work because a check of the confirmation code\n> trying to extract an expiration time. But the problem is indeed there. This\n> sounds like a serious security problem. I think we should fix it for 3.0.\n>\n> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> bugs@support.eucalyptus.com> wrote:\n>\n>>\n>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>\n>> Shoot, I should've been more careful when reading the description of the\n>> problem. The problem is not a weak code, but the fact that we use a query\n>> by\n>> example to verity it, which allows for wildcard characters. The problem\n>> here is\n>> not a value of the code param, but '%\" at the end. I just checked against\n>> 3.0,\n>> one can reset a password by entering:\n>>\n>> https://<front-end>:8443/#reset:confirmationcode=%\n>>\n>> No need to guess anything other than an account name, user name and an\n>> email.\n>> That's officially bad!\n>>\n>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>> > Here is an example of a URL that I see in 3.0:\n>> >\n>> >\n>>\n>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>> >\n>> > A user can get to the password reset form with something like:\n>> >\n>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>> >\n>> > However, when submitting the new password to CLC, the password reset\n>> > request\n>> > will be rejected unless the entire confirmationcode is provided. So,\n>> > it looks\n>> > like we are good at least in 3.0.\n>> >\n>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>> > > now\n>> > > composed by not only the time, but also a randomized hash of the\n>> > user\n>> > > name. So\n>> > > it is much much harder for the attacker to guess.\n>> > >\n>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>> > > assign it to\n>> > > Dima for him to play.\n>> > >\n>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>> > > issue\n>> > > > in 3.0:\n>> > > >\n>> > > > To hijack an account you need to know the email address for a user\n>> > > and\n>> > > > the\n>> > > > current time. You request an account reset (forgotten password)\n>> > and\n>> > > > then you\n>> > > > use the following URL to confirm reception of the email:\n>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>> > > > numbers are\n>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>> > > you've\n>> > > > reset\n>> > > > the account password you can download certificates, etc. For this\n>> > > > attack, the\n>> > > > caller would need several attempts to guess the correct time (code\n>> > > > prefix)\n>>\n>>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:29.224-0500","updated":"2012-04-23T21:27:29.224-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21676","id":"21676","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 01:18:51 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nKen reminded me this operation requires login. So not really a serious\nproblem. We can fix this either by making the query to be exact or perform\na validity check of the confirmation code.\n\nOn Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Confirmed. Thanks Vika.\n>\n> Your example url won't work because a check of the confirmation code\n> trying to extract an expiration time. But the problem is indeed there. This\n> sounds like a serious security problem. I think we should fix it for 3.0.\n>\n> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> bugs@support.eucalyptus.com> wrote:\n>\n>>\n>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>\n>> Shoot, I should've been more careful when reading the description of the\n>> problem. The problem is not a weak code, but the fact that we use a query\n>> by\n>> example to verity it, which allows for wildcard characters. The problem\n>> here is\n>> not a value of the code param, but '%\" at the end. I just checked against\n>> 3.0,\n>> one can reset a password by entering:\n>>\n>> https://<front-end>:8443/#reset:confirmationcode=%\n>>\n>> No need to guess anything other than an account name, user name and an\n>> email.\n>> That's officially bad!\n>>\n>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>> > Here is an example of a URL that I see in 3.0:\n>> >\n>> >\n>>\n>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>> >\n>> > A user can get to the password reset form with something like:\n>> >\n>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>> >\n>> > However, when submitting the new password to CLC, the password reset\n>> > request\n>> > will be rejected unless the entire confirmationcode is provided. So,\n>> > it looks\n>> > like we are good at least in 3.0.\n>> >\n>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>> > > now\n>> > > composed by not only the time, but also a randomized hash of the\n>> > user\n>> > > name. So\n>> > > it is much much harder for the attacker to guess.\n>> > >\n>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>> > > assign it to\n>> > > Dima for him to play.\n>> > >\n>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>> > > issue\n>> > > > in 3.0:\n>> > > >\n>> > > > To hijack an account you need to know the email address for a user\n>> > > and\n>> > > > the\n>> > > > current time. You request an account reset (forgotten password)\n>> > and\n>> > > > then you\n>> > > > use the following URL to confirm reception of the email:\n>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>> > > > numbers are\n>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>> > > you've\n>> > > > reset\n>> > > > the account password you can download certificates, etc. For this\n>> > > > attack, the\n>> > > > caller would need several attempts to guess the correct time (code\n>> > > > prefix)\n>>\n>>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:29.787-0500","updated":"2012-04-23T21:27:29.787-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21677","id":"21677","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 02:22:25 by wenye\nI have a fix in my branch. Waiting for approval to merge.\n\nOn Fri, Jan 20, 2012 at 5:18 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Ken reminded me this operation requires login. So not really a serious\n> problem. We can fix this either by making the query to be exact or perform\n> a validity check of the confirmation code.\n>\n>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n>\n>> Confirmed. Thanks Vika.\n>>\n>> Your example url won't work because a check of the confirmation code\n>> trying to extract an expiration time. But the problem is indeed there. This\n>> sounds like a serious security problem. I think we should fix it for 3.0.\n>>\n>> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n>> bugs@support.eucalyptus.com> wrote:\n>>\n>>>\n>>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>>\n>>> Shoot, I should've been more careful when reading the description of the\n>>> problem. The problem is not a weak code, but the fact that we use a\n>>> query by\n>>> example to verity it, which allows for wildcard characters. The problem\n>>> here is\n>>> not a value of the code param, but '%\" at the end. I just checked\n>>> against 3.0,\n>>> one can reset a password by entering:\n>>>\n>>> https://<front-end>:8443/#reset:confirmationcode=%\n>>>\n>>> No need to guess anything other than an account name, user name and an\n>>> email.\n>>> That's officially bad!\n>>>\n>>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>>> > Here is an example of a URL that I see in 3.0:\n>>> >\n>>> >\n>>>\n>>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>>> >\n>>> > A user can get to the password reset form with something like:\n>>> >\n>>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>>> >\n>>> > However, when submitting the new password to CLC, the password reset\n>>> > request\n>>> > will be rejected unless the entire confirmationcode is provided. So,\n>>> > it looks\n>>> > like we are good at least in 3.0.\n>>> >\n>>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>>> > > now\n>>> > > composed by not only the time, but also a randomized hash of the\n>>> > user\n>>> > > name. So\n>>> > > it is much much harder for the attacker to guess.\n>>> > >\n>>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>>> > > assign it to\n>>> > > Dima for him to play.\n>>> > >\n>>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>>> > > issue\n>>> > > > in 3.0:\n>>> > > >\n>>> > > > To hijack an account you need to know the email address for a user\n>>> > > and\n>>> > > > the\n>>> > > > current time. You request an account reset (forgotten password)\n>>> > and\n>>> > > > then you\n>>> > > > use the following URL to confirm reception of the email:\n>>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>>> > > > numbers are\n>>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>>> > > you've\n>>> > > > reset\n>>> > > > the account password you can download certificates, etc. For this\n>>> > > > attack, the\n>>> > > > caller would need several attempts to guess the correct time (code\n>>> > > > prefix)\n>>>\n>>>\n>>\n>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:30.324-0500","updated":"2012-04-23T21:27:30.324-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21678","id":"21678","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 02:22:25 by wenye\nI have a fix in my branch. Waiting for approval to merge.\n\n  \n\nOn Fri, Jan 20, 2012 at 5:18 PM, Ye Wen\n<[wenye@eucalyptus.com](mailto:wenye@eucalyptus.com)> wrote:\n\n> Ken reminded me this operation requires login. So not really a serious\nproblem. We can fix this either by making the query to be exact or perform a\nvalidity check of the confirmation code.\n\n>\n\n>\n\n  \n\n>\n\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen\n<[wenye@eucalyptus.com](mailto:wenye@eucalyptus.com)> wrote:\n\n>\n\n>> Confirmed. Thanks Vika.\n\n>>\n\n>>\n\n>>\n\n>> Your example url won't work because a check of the confirmation code trying\nto extract an expiration time. But the problem is indeed there. This sounds\nlike a serious security problem. I think we should fix it for 3.0.\n\n>>\n\n>>\n\n>>\n\n>> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT\n<[bugs@support.eucalyptus.com](mailto:bugs@support.eucalyptus.com)> wrote:\n\n>>\n\n>>>\n\n<URL: [https://support.eucalyptus.com/Ticket/Display.html?id=5745](https://sup\nport.eucalyptus.com/Ticket/Display.html?id=5745) >\n\n  \nShoot, I should've been more careful when reading the description of the\n\nproblem. The problem is not a weak code, but the fact that we use a query by\n\nexample to verity it, which allows for wildcard characters. The problem here\nis\n\nnot a value of the code param, but '%\" at the end. I just checked against 3.0,\n\none can reset a password by entering:\n\n  \nhttps://<front-end>:8443/#reset:confirmationcode=%\n\n  \nNo need to guess anything other than an account name, user name and an email.\n\nThat's officially bad!\n\n>>>\n\n>>>\n\nOn Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> Here is an example of a URL that I see in 3.0:\n\n>\n\n>\n\n[https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4E\nASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg](http\ns://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdj\nNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg)\n\n>\n\n> A user can get to the password reset form with something like:\n\n>\n\n> [https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053](https:\n//192.168.48.11:8443/#reset:confirmationcode=0013270921420053)\n\n>\n\n> However, when submitting the new password to CLC, the password reset\n\n> request\n\n> will be rejected unless the entire confirmationcode is provided. So,\n\n> it looks\n\n> like we are good at least in 3.0.\n\n>\n\n> On Fri Jan 20 11:33:30 2012, [wen.ye](http://wen.ye) wrote:\n\n> > I don't think it is still an issue in 3.0. The confirmation code is\n\n> > now\n\n> > composed by not only the time, but also a randomized hash of the\n\n> user\n\n> > name. So\n\n> > it is much much harder for the attacker to guess.\n\n> >\n\n> > Dima still wants to verify this by looking at the 2.0.3 code. So\n\n> > assign it to\n\n> > Dima for him to play.\n\n> >\n\n> > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n\n> > issue\n\n> > > in 3.0:\n\n> > >\n\n> > > To hijack an account you need to know the email address for a user\n\n> > and\n\n> > > the\n\n> > > current time. You request an account reset (forgotten password)\n\n> and\n\n> > > then you\n\n> > > use the following URL to confirm reception of the email:\n\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > > numbers are\n\n> > > the time of account reset plus 30 minutes in milliseconds. Once\n\n> > you've\n\n> > > reset\n\n> > > the account password you can download certificates, etc. For this\n\n> > > attack, the\n\n> > > caller would need several attempts to guess the correct time (code\n\n> > > prefix)\n\n  \n\n>>\n\n>>\n\n>\n\n>\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:30.834-0500","updated":"2012-04-23T21:27:30.834-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21679","id":"21679","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 02:22:26 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nI have a fix in my branch. Waiting for approval to merge.\n\nOn Fri, Jan 20, 2012 at 5:18 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Ken reminded me this operation requires login. So not really a serious\n> problem. We can fix this either by making the query to be exact or perform\n> a validity check of the confirmation code.\n>\n>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n>\n>> Confirmed. Thanks Vika.\n>>\n>> Your example url won't work because a check of the confirmation code\n>> trying to extract an expiration time. But the problem is indeed there. This\n>> sounds like a serious security problem. I think we should fix it for 3.0.\n>>\n>> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n>> bugs@support.eucalyptus.com> wrote:\n>>\n>>>\n>>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>>\n>>> Shoot, I should've been more careful when reading the description of the\n>>> problem. The problem is not a weak code, but the fact that we use a\n>>> query by\n>>> example to verity it, which allows for wildcard characters. The problem\n>>> here is\n>>> not a value of the code param, but '%\" at the end. I just checked\n>>> against 3.0,\n>>> one can reset a password by entering:\n>>>\n>>> https://<front-end>:8443/#reset:confirmationcode=%\n>>>\n>>> No need to guess anything other than an account name, user name and an\n>>> email.\n>>> That's officially bad!\n>>>\n>>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>>> > Here is an example of a URL that I see in 3.0:\n>>> >\n>>> >\n>>>\n>>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>>> >\n>>> > A user can get to the password reset form with something like:\n>>> >\n>>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>>> >\n>>> > However, when submitting the new password to CLC, the password reset\n>>> > request\n>>> > will be rejected unless the entire confirmationcode is provided. So,\n>>> > it looks\n>>> > like we are good at least in 3.0.\n>>> >\n>>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>>> > > now\n>>> > > composed by not only the time, but also a randomized hash of the\n>>> > user\n>>> > > name. So\n>>> > > it is much much harder for the attacker to guess.\n>>> > >\n>>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>>> > > assign it to\n>>> > > Dima for him to play.\n>>> > >\n>>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>>> > > issue\n>>> > > > in 3.0:\n>>> > > >\n>>> > > > To hijack an account you need to know the email address for a user\n>>> > > and\n>>> > > > the\n>>> > > > current time. You request an account reset (forgotten password)\n>>> > and\n>>> > > > then you\n>>> > > > use the following URL to confirm reception of the email:\n>>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>>> > > > numbers are\n>>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>>> > > you've\n>>> > > > reset\n>>> > > > the account password you can download certificates, etc. For this\n>>> > > > attack, the\n>>> > > > caller would need several attempts to guess the correct time (code\n>>> > > > prefix)\n>>>\n>>>\n>>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:31.377-0500","updated":"2012-04-23T21:27:31.377-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21680","id":"21680","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 02:22:26 by wenye\nI have a fix in my branch. Waiting for approval to merge.\n\nOn Fri, Jan 20, 2012 at 5:18 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n> Ken reminded me this operation requires login. So not really a serious\n> problem. We can fix this either by making the query to be exact or perform\n> a validity check of the confirmation code.\n>\n>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n>\n>> Confirmed. Thanks Vika.\n>>\n>> Your example url won't work because a check of the confirmation code\n>> trying to extract an expiration time. But the problem is indeed there. This\n>> sounds like a serious security problem. I think we should fix it for 3.0.\n>>\n>> On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n>> bugs@support.eucalyptus.com> wrote:\n>>\n>>>\n>>> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n>>>\n>>> Shoot, I should've been more careful when reading the description of the\n>>> problem. The problem is not a weak code, but the fact that we use a\n>>> query by\n>>> example to verity it, which allows for wildcard characters. The problem\n>>> here is\n>>> not a value of the code param, but '%\" at the end. I just checked\n>>> against 3.0,\n>>> one can reset a password by entering:\n>>>\n>>> https://<front-end>:8443/#reset:confirmationcode=%\n>>>\n>>> No need to guess anything other than an account name, user name and an\n>>> email.\n>>> That's officially bad!\n>>>\n>>> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n>>> > Here is an example of a URL that I see in 3.0:\n>>> >\n>>> >\n>>>\n>>> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n>>> >\n>>> > A user can get to the password reset form with something like:\n>>> >\n>>> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n>>> >\n>>> > However, when submitting the new password to CLC, the password reset\n>>> > request\n>>> > will be rejected unless the entire confirmationcode is provided. So,\n>>> > it looks\n>>> > like we are good at least in 3.0.\n>>> >\n>>> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n>>> > > I don't think it is still an issue in 3.0. The confirmation code is\n>>> > > now\n>>> > > composed by not only the time, but also a randomized hash of the\n>>> > user\n>>> > > name. So\n>>> > > it is much much harder for the attacker to guess.\n>>> > >\n>>> > > Dima still wants to verify this by looking at the 2.0.3 code. So\n>>> > > assign it to\n>>> > > Dima for him to play.\n>>> > >\n>>> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n>>> > > > This bug was reported by Steve Jones for 2.0.3. Might not be an\n>>> > > issue\n>>> > > > in 3.0:\n>>> > > >\n>>> > > > To hijack an account you need to know the email address for a user\n>>> > > and\n>>> > > > the\n>>> > > > current time. You request an account reset (forgotten password)\n>>> > and\n>>> > > > then you\n>>> > > > use the following URL to confirm reception of the email:\n>>> > > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n>>> > > > numbers are\n>>> > > > the time of account reset plus 30 minutes in milliseconds. Once\n>>> > > you've\n>>> > > > reset\n>>> > > > the account password you can download certificates, etc. For this\n>>> > > > attack, the\n>>> > > > caller would need several attempts to guess the correct time (code\n>>> > > > prefix)\n>>>\n>>>\n>>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:31.914-0500","updated":"2012-04-23T21:27:31.914-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21681","id":"21681","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 05:00:51 by rusvika\nNot sure what requires a login here. It's a pasword reset and cannot require a\nlogin, the only \"secret\" token here is the confirmation code.\n\n  \nOn Fri Jan 20 17:18:50 2012, wen.ye wrote:\n\n> Ken reminded me this operation requires login. So not really a serious\n\n> problem. We can fix this either by making the query to be exact or\n\n> perform\n\n> a validity check of the confirmation code.\n\n>\n\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n\n>\n\n> > Confirmed. Thanks Vika.\n\n> >\n\n> > Your example url won't work because a check of the confirmation code\n\n> > trying to extract an expiration time. But the problem is indeed\n\n> there. This\n\n> > sounds like a serious security problem. I think we should fix it for\n\n> 3.0.\n\n> >\n\n> > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n\n> > bugs@support.eucalyptus.com> wrote:\n\n> >\n\n> >>\n\n> >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\n> >>\n\n> >> Shoot, I should've been more careful when reading the description\n\n> of the\n\n> >> problem. The problem is not a weak code, but the fact that we use a\n\n> query\n\n> >> by\n\n> >> example to verity it, which allows for wildcard characters. The\n\n> problem\n\n> >> here is\n\n> >> not a value of the code param, but '%\" at the end. I just checked\n\n> against\n\n> >> 3.0,\n\n> >> one can reset a password by entering:\n\n> >>\n\n> >> https://<front-end>:8443/#reset:confirmationcode=%\n\n> >>\n\n> >> No need to guess anything other than an account name, user name and\n\n> an\n\n> >> email.\n\n> >> That's officially bad!\n\n> >>\n\n> >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> >> > Here is an example of a URL that I see in 3.0:\n\n> >> >\n\n> >> >\n\n> >>\n\n> >>\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4\nEASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n\n> >> >\n\n> >> > A user can get to the password reset form with something like:\n\n> >> >\n\n> >> >\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n\n> >> >\n\n> >> > However, when submitting the new password to CLC, the password\n\n> reset\n\n> >> > request\n\n> >> > will be rejected unless the entire confirmationcode is provided.\n\n> So,\n\n> >> > it looks\n\n> >> > like we are good at least in 3.0.\n\n> >> >\n\n> >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n\n> >> > > I don't think it is still an issue in 3.0. The confirmation\n\n> code is\n\n> >> > > now\n\n> >> > > composed by not only the time, but also a randomized hash of\n\n> the\n\n> >> > user\n\n> >> > > name. So\n\n> >> > > it is much much harder for the attacker to guess.\n\n> >> > >\n\n> >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n\n> So\n\n> >> > > assign it to\n\n> >> > > Dima for him to play.\n\n> >> > >\n\n> >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n\n> an\n\n> >> > > issue\n\n> >> > > > in 3.0:\n\n> >> > > >\n\n> >> > > > To hijack an account you need to know the email address for a\n\n> user\n\n> >> > > and\n\n> >> > > > the\n\n> >> > > > current time. You request an account reset (forgotten\n\n> password)\n\n> >> > and\n\n> >> > > > then you\n\n> >> > > > use the following URL to confirm reception of the email:\n\n> >> > > >\n\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> >> > > > numbers are\n\n> >> > > > the time of account reset plus 30 minutes in milliseconds.\n\n> Once\n\n> >> > > you've\n\n> >> > > > reset\n\n> >> > > > the account password you can download certificates, etc. For\n\n> this\n\n> >> > > > attack, the\n\n> >> > > > caller would need several attempts to guess the correct time\n\n> (code\n\n> >> > > > prefix)\n\n> >>\n\n> >>\n\n> >\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:32.547-0500","updated":"2012-04-23T21:27:32.547-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21682","id":"21682","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 05:00:51 by admin\n\nhttps://support.eucalyptus.com/Ticket/Display.html?id=5745\nThis is a comment.  It is not sent to the Requestor(s):\n\nNot sure what requires a login here. It's a pasword reset and cannot require a\nlogin, the only \"secret\" token here is the confirmation code.\n\nOn Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> Ken reminded me this operation requires login. So not really a serious\n> problem. We can fix this either by making the query to be exact or\n> perform\n> a validity check of the confirmation code.\n>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n>\n> > Confirmed. Thanks Vika.\n> >\n> > Your example url won't work because a check of the confirmation code\n> > trying to extract an expiration time. But the problem is indeed\n> there. This\n> > sounds like a serious security problem. I think we should fix it for\n> 3.0.\n> >\n> > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > bugs@support.eucalyptus.com> wrote:\n> >\n> >>\n> >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> >>\n> >> Shoot, I should've been more careful when reading the description\n> of the\n> >> problem. The problem is not a weak code, but the fact that we use a\n> query\n> >> by\n> >> example to verity it, which allows for wildcard characters. The\n> problem\n> >> here is\n> >> not a value of the code param, but '%\" at the end. I just checked\n> against\n> >> 3.0,\n> >> one can reset a password by entering:\n> >>\n> >> https://<front-end>:8443/#reset:confirmationcode=%\n> >>\n> >> No need to guess anything other than an account name, user name and\n> an\n> >> email.\n> >> That's officially bad!\n> >>\n> >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> >> > Here is an example of a URL that I see in 3.0:\n> >> >\n> >> >\n> >>\n> >>\n>\nhttps://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> >> >\n> >> > A user can get to the password reset form with something like:\n> >> >\n> >> >\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> >> >\n> >> > However, when submitting the new password to CLC, the password\n> reset\n> >> > request\n> >> > will be rejected unless the entire confirmationcode is provided.\n> So,\n> >> > it looks\n> >> > like we are good at least in 3.0.\n> >> >\n> >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> >> > > I don't think it is still an issue in 3.0. The confirmation\n> code is\n> >> > > now\n> >> > > composed by not only the time, but also a randomized hash of\n> the\n> >> > user\n> >> > > name. So\n> >> > > it is much much harder for the attacker to guess.\n> >> > >\n> >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> So\n> >> > > assign it to\n> >> > > Dima for him to play.\n> >> > >\n> >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> an\n> >> > > issue\n> >> > > > in 3.0:\n> >> > > >\n> >> > > > To hijack an account you need to know the email address for a\n> user\n> >> > > and\n> >> > > > the\n> >> > > > current time. You request an account reset (forgotten\n> password)\n> >> > and\n> >> > > > then you\n> >> > > > use the following URL to confirm reception of the email:\n> >> > > >\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> >> > > > numbers are\n> >> > > > the time of account reset plus 30 minutes in milliseconds.\n> Once\n> >> > > you've\n> >> > > > reset\n> >> > > > the account password you can download certificates, etc. For\n> this\n> >> > > > attack, the\n> >> > > > caller would need several attempts to guess the correct time\n> (code\n> >> > > > prefix)\n> >>\n> >>\n> >\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:33.058-0500","updated":"2012-04-23T21:27:33.058-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21683","id":"21683","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:00:19 by wenye\nTim approved the merge. I'll check in the fix once passing QA.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:33.586-0500","updated":"2012-04-23T21:27:33.586-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21684","id":"21684","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:00:19 by wenye\nTim approved the merge. I&#39;ll check in the fix once passing QA.<br><br><div class=\"gmail_quote\">On Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <span dir=\"ltr\"><<a href=\"mailto:bugs@support.eucalyptus.com\">bugs@support.eucalyptus.com</a>></span> wrote:<br>\n\n<blockquote class=\"gmail_quote\" style=\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex\"><div class=\"im\"><br>\n<a href=\"https://support.eucalyptus.com/Ticket/Display.html?id=5745\" target=\"_blank\">https://support.eucalyptus.com/Ticket/Display.html?id=5745</a><br>\nThis is a comment.   It is not sent to the Requestor(s):<br>\n<br>\n</div>Not sure what requires a login here. It&#39;s a pasword reset and cannot require a<br>\nlogin, the only \"secret\" token here is the confirmation code.<br>\n<div class=\"HOEnZb\"><div class=\"h5\"><br>\nOn Fri Jan 20 17:18:50 2012, <a href=\"http://wen.ye\" target=\"_blank\">wen.ye</a> wrote:<br>\n> Ken reminded me this operation requires login. So not really a serious<br>\n> problem. We can fix this either by making the query to be exact or<br>\n> perform<br>\n> a validity check of the confirmation code.<br>\n><br>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <<a href=\"mailto:wenye@eucalyptus.com\">wenye@eucalyptus.com</a>> wrote:<br>\n><br>\n> > Confirmed. Thanks Vika.<br>\n> ><br>\n> > Your example url won&#39;t work because a check of the confirmation code<br>\n> > trying to extract an expiration time. But the problem is indeed<br>\n> there. This<br>\n> > sounds like a serious security problem. I think we should fix it for<br>\n> 3.0.<br>\n> ><br>\n> > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <<br>\n> > <a href=\"mailto:bugs@support.eucalyptus.com\">bugs@support.eucalyptus.com</a>> wrote:<br>\n> ><br>\n> >><br>\n> >> <URL: <a href=\"https://support.eucalyptus.com/Ticket/Display.html?id=5745\" target=\"_blank\">https://support.eucalyptus.com/Ticket/Display.html?id=5745</a> ><br>\n> >><br>\n> >> Shoot, I should&#39;ve been more careful when reading the description<br>\n> of the<br>\n> >> problem. The problem is not a weak code, but the fact that we use a<br>\n> query<br>\n> >> by<br>\n> >> example to verity it, which allows for wildcard characters. The<br>\n> problem<br>\n> >> here is<br>\n> >> not a value of the code param, but &#39;%\" at the end. I just checked<br>\n> against<br>\n> >> 3.0,<br>\n> >> one can reset a password by entering:<br>\n> >><br>\n> >> https://<front-end>:8443/#reset:confirmationcode=%<br>\n> >><br>\n> >> No need to guess anything other than an account name, user name and<br>\n> an<br>\n> >> email.<br>\n> >> That&#39;s officially bad!<br>\n> >><br>\n> >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:<br>\n> >> > Here is an example of a URL that I see in 3.0:<br>\n> >> ><br>\n> >> ><br>\n> >><br>\n> >><br>\n><br>\n<a href=\"https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\" target=\"_blank\">https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg</a><br>\n\n\n> >> ><br>\n> >> > A user can get to the password reset form with something like:<br>\n> >> ><br>\n> >> ><br>\n> <a href=\"https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\" target=\"_blank\">https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053</a><br>\n> >> ><br>\n> >> > However, when submitting the new password to CLC, the password<br>\n> reset<br>\n> >> > request<br>\n> >> > will be rejected unless the entire confirmationcode is provided.<br>\n> So,<br>\n> >> > it looks<br>\n> >> > like we are good at least in 3.0.<br>\n> >> ><br>\n> >> > On Fri Jan 20 11:33:30 2012, <a href=\"http://wen.ye\" target=\"_blank\">wen.ye</a> wrote:<br>\n> >> > > I don&#39;t think it is still an issue in 3.0. The confirmation<br>\n> code is<br>\n> >> > > now<br>\n> >> > > composed by not only the time, but also a randomized hash of<br>\n> the<br>\n> >> > user<br>\n> >> > > name. So<br>\n> >> > > it is much much harder for the attacker to guess.<br>\n> >> > ><br>\n> >> > > Dima still wants to verify this by looking at the 2.0.3 code.<br>\n> So<br>\n> >> > > assign it to<br>\n> >> > > Dima for him to play.<br>\n> >> > ><br>\n> >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:<br>\n> >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be<br>\n> an<br>\n> >> > > issue<br>\n> >> > > > in 3.0:<br>\n> >> > > ><br>\n> >> > > > To hijack an account you need to know the email address for a<br>\n> user<br>\n> >> > > and<br>\n> >> > > > the<br>\n> >> > > > current time. You request an account reset (forgotten<br>\n> password)<br>\n> >> > and<br>\n> >> > > > then you<br>\n> >> > > > use the following URL to confirm reception of the email:<br>\n> >> > > ><br>\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The<br>\n> >> > > > numbers are<br>\n> >> > > > the time of account reset plus 30 minutes in milliseconds.<br>\n> Once<br>\n> >> > > you&#39;ve<br>\n> >> > > > reset<br>\n> >> > > > the account password you can download certificates, etc. For<br>\n> this<br>\n> >> > > > attack, the<br>\n> >> > > > caller would need several attempts to guess the correct time<br>\n> (code<br>\n> >> > > > prefix)<br>\n> >><br>\n> >><br>\n> ><br>\n<br>\n</div></div></blockquote></div><br>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:34.137-0500","updated":"2012-04-23T21:27:34.137-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21685","id":"21685","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:00:20 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nTim approved the merge. I'll check in the fix once passing QA.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:34.674-0500","updated":"2012-04-23T21:27:34.674-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21686","id":"21686","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:00:20 by wenye\nTim approved the merge. I'll check in the fix once passing QA.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:35.231-0500","updated":"2012-04-23T21:27:35.231-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21687","id":"21687","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:03:30 by wenye\nYou are right. Vika. I guess I was confused.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:35.804-0500","updated":"2012-04-23T21:27:35.804-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21688","id":"21688","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:03:30 by wenye\nYou are right. Vika. I guess I was confused.<br><br><div class=\"gmail_quote\">On Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <span dir=\"ltr\"><<a href=\"mailto:bugs@support.eucalyptus.com\">bugs@support.eucalyptus.com</a>></span> wrote:<br>\n\n<blockquote class=\"gmail_quote\" style=\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex\"><div class=\"im\"><br>\n<a href=\"https://support.eucalyptus.com/Ticket/Display.html?id=5745\" target=\"_blank\">https://support.eucalyptus.com/Ticket/Display.html?id=5745</a><br>\nThis is a comment.   It is not sent to the Requestor(s):<br>\n<br>\n</div>Not sure what requires a login here. It&#39;s a pasword reset and cannot require a<br>\nlogin, the only \"secret\" token here is the confirmation code.<br>\n<div class=\"HOEnZb\"><div class=\"h5\"><br>\nOn Fri Jan 20 17:18:50 2012, <a href=\"http://wen.ye\" target=\"_blank\">wen.ye</a> wrote:<br>\n> Ken reminded me this operation requires login. So not really a serious<br>\n> problem. We can fix this either by making the query to be exact or<br>\n> perform<br>\n> a validity check of the confirmation code.<br>\n><br>\n> On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <<a href=\"mailto:wenye@eucalyptus.com\">wenye@eucalyptus.com</a>> wrote:<br>\n><br>\n> > Confirmed. Thanks Vika.<br>\n> ><br>\n> > Your example url won&#39;t work because a check of the confirmation code<br>\n> > trying to extract an expiration time. But the problem is indeed<br>\n> there. This<br>\n> > sounds like a serious security problem. I think we should fix it for<br>\n> 3.0.<br>\n> ><br>\n> > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <<br>\n> > <a href=\"mailto:bugs@support.eucalyptus.com\">bugs@support.eucalyptus.com</a>> wrote:<br>\n> ><br>\n> >><br>\n> >> <URL: <a href=\"https://support.eucalyptus.com/Ticket/Display.html?id=5745\" target=\"_blank\">https://support.eucalyptus.com/Ticket/Display.html?id=5745</a> ><br>\n> >><br>\n> >> Shoot, I should&#39;ve been more careful when reading the description<br>\n> of the<br>\n> >> problem. The problem is not a weak code, but the fact that we use a<br>\n> query<br>\n> >> by<br>\n> >> example to verity it, which allows for wildcard characters. The<br>\n> problem<br>\n> >> here is<br>\n> >> not a value of the code param, but &#39;%\" at the end. I just checked<br>\n> against<br>\n> >> 3.0,<br>\n> >> one can reset a password by entering:<br>\n> >><br>\n> >> https://<front-end>:8443/#reset:confirmationcode=%<br>\n> >><br>\n> >> No need to guess anything other than an account name, user name and<br>\n> an<br>\n> >> email.<br>\n> >> That&#39;s officially bad!<br>\n> >><br>\n> >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:<br>\n> >> > Here is an example of a URL that I see in 3.0:<br>\n> >> ><br>\n> >> ><br>\n> >><br>\n> >><br>\n><br>\n<a href=\"https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\" target=\"_blank\">https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg</a><br>\n\n\n> >> ><br>\n> >> > A user can get to the password reset form with something like:<br>\n> >> ><br>\n> >> ><br>\n> <a href=\"https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\" target=\"_blank\">https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053</a><br>\n> >> ><br>\n> >> > However, when submitting the new password to CLC, the password<br>\n> reset<br>\n> >> > request<br>\n> >> > will be rejected unless the entire confirmationcode is provided.<br>\n> So,<br>\n> >> > it looks<br>\n> >> > like we are good at least in 3.0.<br>\n> >> ><br>\n> >> > On Fri Jan 20 11:33:30 2012, <a href=\"http://wen.ye\" target=\"_blank\">wen.ye</a> wrote:<br>\n> >> > > I don&#39;t think it is still an issue in 3.0. The confirmation<br>\n> code is<br>\n> >> > > now<br>\n> >> > > composed by not only the time, but also a randomized hash of<br>\n> the<br>\n> >> > user<br>\n> >> > > name. So<br>\n> >> > > it is much much harder for the attacker to guess.<br>\n> >> > ><br>\n> >> > > Dima still wants to verify this by looking at the 2.0.3 code.<br>\n> So<br>\n> >> > > assign it to<br>\n> >> > > Dima for him to play.<br>\n> >> > ><br>\n> >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:<br>\n> >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be<br>\n> an<br>\n> >> > > issue<br>\n> >> > > > in 3.0:<br>\n> >> > > ><br>\n> >> > > > To hijack an account you need to know the email address for a<br>\n> user<br>\n> >> > > and<br>\n> >> > > > the<br>\n> >> > > > current time. You request an account reset (forgotten<br>\n> password)<br>\n> >> > and<br>\n> >> > > > then you<br>\n> >> > > > use the following URL to confirm reception of the email:<br>\n> >> > > ><br>\n> https://<eucafront>:8443/?action=recover&code=001325314484698% The<br>\n> >> > > > numbers are<br>\n> >> > > > the time of account reset plus 30 minutes in milliseconds.<br>\n> Once<br>\n> >> > > you&#39;ve<br>\n> >> > > > reset<br>\n> >> > > > the account password you can download certificates, etc. For<br>\n> this<br>\n> >> > > > attack, the<br>\n> >> > > > caller would need several attempts to guess the correct time<br>\n> (code<br>\n> >> > > > prefix)<br>\n> >><br>\n> >><br>\n> ><br>\n<br>\n</div></div></blockquote></div><br>\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:36.340-0500","updated":"2012-04-23T21:27:36.340-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21689","id":"21689","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:03:31 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nYou are right. Vika. I guess I was confused.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:36.865-0500","updated":"2012-04-23T21:27:36.865-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21690","id":"21690","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 06:03:31 by wenye\nYou are right. Vika. I guess I was confused.\n\nOn Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\nbugs@support.eucalyptus.com> wrote:\n\n>\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> This is a comment.  It is not sent to the Requestor(s):\n>\n> Not sure what requires a login here. It's a pasword reset and cannot\n> require a\n> login, the only \"secret\" token here is the confirmation code.\n>\n> On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > Ken reminded me this operation requires login. So not really a serious\n> > problem. We can fix this either by making the query to be exact or\n> > perform\n> > a validity check of the confirmation code.\n> >\n> > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com> wrote:\n> >\n> > > Confirmed. Thanks Vika.\n> > >\n> > > Your example url won't work because a check of the confirmation code\n> > > trying to extract an expiration time. But the problem is indeed\n> > there. This\n> > > sounds like a serious security problem. I think we should fix it for\n> > 3.0.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > bugs@support.eucalyptus.com> wrote:\n> > >\n> > >>\n> > >> <URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > >>\n> > >> Shoot, I should've been more careful when reading the description\n> > of the\n> > >> problem. The problem is not a weak code, but the fact that we use a\n> > query\n> > >> by\n> > >> example to verity it, which allows for wildcard characters. The\n> > problem\n> > >> here is\n> > >> not a value of the code param, but '%\" at the end. I just checked\n> > against\n> > >> 3.0,\n> > >> one can reset a password by entering:\n> > >>\n> > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > >>\n> > >> No need to guess anything other than an account name, user name and\n> > an\n> > >> email.\n> > >> That's officially bad!\n> > >>\n> > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > >> > Here is an example of a URL that I see in 3.0:\n> > >> >\n> > >> >\n> > >>\n> > >>\n> >\n>\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > >> >\n> > >> > A user can get to the password reset form with something like:\n> > >> >\n> > >> >\n> > https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > >> >\n> > >> > However, when submitting the new password to CLC, the password\n> > reset\n> > >> > request\n> > >> > will be rejected unless the entire confirmationcode is provided.\n> > So,\n> > >> > it looks\n> > >> > like we are good at least in 3.0.\n> > >> >\n> > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > code is\n> > >> > > now\n> > >> > > composed by not only the time, but also a randomized hash of\n> > the\n> > >> > user\n> > >> > > name. So\n> > >> > > it is much much harder for the attacker to guess.\n> > >> > >\n> > >> > > Dima still wants to verify this by looking at the 2.0.3 code.\n> > So\n> > >> > > assign it to\n> > >> > > Dima for him to play.\n> > >> > >\n> > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not be\n> > an\n> > >> > > issue\n> > >> > > > in 3.0:\n> > >> > > >\n> > >> > > > To hijack an account you need to know the email address for a\n> > user\n> > >> > > and\n> > >> > > > the\n> > >> > > > current time. You request an account reset (forgotten\n> > password)\n> > >> > and\n> > >> > > > then you\n> > >> > > > use the following URL to confirm reception of the email:\n> > >> > > >\n> > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > >> > > > numbers are\n> > >> > > > the time of account reset plus 30 minutes in milliseconds.\n> > Once\n> > >> > > you've\n> > >> > > > reset\n> > >> > > > the account password you can download certificates, etc. For\n> > this\n> > >> > > > attack, the\n> > >> > > > caller would need several attempts to guess the correct time\n> > (code\n> > >> > > > prefix)\n> > >>\n> > >>\n> > >\n>\n>\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:37.395-0500","updated":"2012-04-23T21:27:37.395-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21691","id":"21691","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 13:34:48 by wenye\nFixed in 2541.\n\n  \nOn Fri Jan 20 22:03:30 2012, wen.ye wrote:\n\n> You are right. Vika. I guess I was confused.\n\n>\n\n> On Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\n\n> bugs@support.eucalyptus.com> wrote:\n\n>\n\n> >\n\n> > https://support.eucalyptus.com/Ticket/Display.html?id=5745\n\n> > This is a comment. It is not sent to the Requestor(s):\n\n> >\n\n> > Not sure what requires a login here. It's a pasword reset and cannot\n\n> > require a\n\n> > login, the only \"secret\" token here is the confirmation code.\n\n> >\n\n> > On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n\n> > > Ken reminded me this operation requires login. So not really a\n\n> serious\n\n> > > problem. We can fix this either by making the query to be exact or\n\n> > > perform\n\n> > > a validity check of the confirmation code.\n\n> > >\n\n> > > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com>\n\n> wrote:\n\n> > >\n\n> > > > Confirmed. Thanks Vika.\n\n> > > >\n\n> > > > Your example url won't work because a check of the confirmation\n\n> code\n\n> > > > trying to extract an expiration time. But the problem is indeed\n\n> > > there. This\n\n> > > > sounds like a serious security problem. I think we should fix it\n\n> for\n\n> > > 3.0.\n\n> > > >\n\n> > > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n\n> > > > bugs@support.eucalyptus.com> wrote:\n\n> > > >\n\n> > > >>\n\n> > > >> <URL:\n\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\n> > > >>\n\n> > > >> Shoot, I should've been more careful when reading the\n\n> description\n\n> > > of the\n\n> > > >> problem. The problem is not a weak code, but the fact that we\n\n> use a\n\n> > > query\n\n> > > >> by\n\n> > > >> example to verity it, which allows for wildcard characters. The\n\n> > > problem\n\n> > > >> here is\n\n> > > >> not a value of the code param, but '%\" at the end. I just\n\n> checked\n\n> > > against\n\n> > > >> 3.0,\n\n> > > >> one can reset a password by entering:\n\n> > > >>\n\n> > > >> https://<front-end>:8443/#reset:confirmationcode=%\n\n> > > >>\n\n> > > >> No need to guess anything other than an account name, user name\n\n> and\n\n> > > an\n\n> > > >> email.\n\n> > > >> That's officially bad!\n\n> > > >>\n\n> > > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n\n> > > >> > Here is an example of a URL that I see in 3.0:\n\n> > > >> >\n\n> > > >> >\n\n> > > >>\n\n> > > >>\n\n> > >\n\n> >\n\n> >\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4\nEASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n\n> > > >> >\n\n> > > >> > A user can get to the password reset form with something\n\n> like:\n\n> > > >> >\n\n> > > >> >\n\n> > >\n\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n\n> > > >> >\n\n> > > >> > However, when submitting the new password to CLC, the\n\n> password\n\n> > > reset\n\n> > > >> > request\n\n> > > >> > will be rejected unless the entire confirmationcode is\n\n> provided.\n\n> > > So,\n\n> > > >> > it looks\n\n> > > >> > like we are good at least in 3.0.\n\n> > > >> >\n\n> > > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n\n> > > >> > > I don't think it is still an issue in 3.0. The confirmation\n\n> > > code is\n\n> > > >> > > now\n\n> > > >> > > composed by not only the time, but also a randomized hash\n\n> of\n\n> > > the\n\n> > > >> > user\n\n> > > >> > > name. So\n\n> > > >> > > it is much much harder for the attacker to guess.\n\n> > > >> > >\n\n> > > >> > > Dima still wants to verify this by looking at the 2.0.3\n\n> code.\n\n> > > So\n\n> > > >> > > assign it to\n\n> > > >> > > Dima for him to play.\n\n> > > >> > >\n\n> > > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n\n> > > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not\n\n> be\n\n> > > an\n\n> > > >> > > issue\n\n> > > >> > > > in 3.0:\n\n> > > >> > > >\n\n> > > >> > > > To hijack an account you need to know the email address\n\n> for a\n\n> > > user\n\n> > > >> > > and\n\n> > > >> > > > the\n\n> > > >> > > > current time. You request an account reset (forgotten\n\n> > > password)\n\n> > > >> > and\n\n> > > >> > > > then you\n\n> > > >> > > > use the following URL to confirm reception of the email:\n\n> > > >> > > >\n\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n\n> > > >> > > > numbers are\n\n> > > >> > > > the time of account reset plus 30 minutes in\n\n> milliseconds.\n\n> > > Once\n\n> > > >> > > you've\n\n> > > >> > > > reset\n\n> > > >> > > > the account password you can download certificates, etc.\n\n> For\n\n> > > this\n\n> > > >> > > > attack, the\n\n> > > >> > > > caller would need several attempts to guess the correct\n\n> time\n\n> > > (code\n\n> > > >> > > > prefix)\n\n> > > >>\n\n> > > >>\n\n> > > >\n\n> >\n\n> >\n\n  \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:37.986-0500","updated":"2012-04-23T21:27:37.986-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21692","id":"21692","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 13:34:49 by wenye\n\n<URL: https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n\nFixed in 2541.\n\nOn Fri Jan 20 22:03:30 2012, wen.ye wrote:\n> You are right. Vika. I guess I was confused.\n>\n> On Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\n> bugs@support.eucalyptus.com> wrote:\n>\n> >\n> > https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> > This is a comment. It is not sent to the Requestor(s):\n> >\n> > Not sure what requires a login here. It's a pasword reset and cannot\n> > require a\n> > login, the only \"secret\" token here is the confirmation code.\n> >\n> > On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > > Ken reminded me this operation requires login. So not really a\n> serious\n> > > problem. We can fix this either by making the query to be exact or\n> > > perform\n> > > a validity check of the confirmation code.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com>\n> wrote:\n> > >\n> > > > Confirmed. Thanks Vika.\n> > > >\n> > > > Your example url won't work because a check of the confirmation\n> code\n> > > > trying to extract an expiration time. But the problem is indeed\n> > > there. This\n> > > > sounds like a serious security problem. I think we should fix it\n> for\n> > > 3.0.\n> > > >\n> > > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > > bugs@support.eucalyptus.com> wrote:\n> > > >\n> > > >>\n> > > >> <URL:\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > > >>\n> > > >> Shoot, I should've been more careful when reading the\n> description\n> > > of the\n> > > >> problem. The problem is not a weak code, but the fact that we\n> use a\n> > > query\n> > > >> by\n> > > >> example to verity it, which allows for wildcard characters. The\n> > > problem\n> > > >> here is\n> > > >> not a value of the code param, but '%\" at the end. I just\n> checked\n> > > against\n> > > >> 3.0,\n> > > >> one can reset a password by entering:\n> > > >>\n> > > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > > >>\n> > > >> No need to guess anything other than an account name, user name\n> and\n> > > an\n> > > >> email.\n> > > >> That's officially bad!\n> > > >>\n> > > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > > >> > Here is an example of a URL that I see in 3.0:\n> > > >> >\n> > > >> >\n> > > >>\n> > > >>\n> > >\n> >\n> >\n>\nhttps://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > > >> >\n> > > >> > A user can get to the password reset form with something\n> like:\n> > > >> >\n> > > >> >\n> > >\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > > >> >\n> > > >> > However, when submitting the new password to CLC, the\n> password\n> > > reset\n> > > >> > request\n> > > >> > will be rejected unless the entire confirmationcode is\n> provided.\n> > > So,\n> > > >> > it looks\n> > > >> > like we are good at least in 3.0.\n> > > >> >\n> > > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > > code is\n> > > >> > > now\n> > > >> > > composed by not only the time, but also a randomized hash\n> of\n> > > the\n> > > >> > user\n> > > >> > > name. So\n> > > >> > > it is much much harder for the attacker to guess.\n> > > >> > >\n> > > >> > > Dima still wants to verify this by looking at the 2.0.3\n> code.\n> > > So\n> > > >> > > assign it to\n> > > >> > > Dima for him to play.\n> > > >> > >\n> > > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not\n> be\n> > > an\n> > > >> > > issue\n> > > >> > > > in 3.0:\n> > > >> > > >\n> > > >> > > > To hijack an account you need to know the email address\n> for a\n> > > user\n> > > >> > > and\n> > > >> > > > the\n> > > >> > > > current time. You request an account reset (forgotten\n> > > password)\n> > > >> > and\n> > > >> > > > then you\n> > > >> > > > use the following URL to confirm reception of the email:\n> > > >> > > >\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > >> > > > numbers are\n> > > >> > > > the time of account reset plus 30 minutes in\n> milliseconds.\n> > > Once\n> > > >> > > you've\n> > > >> > > > reset\n> > > >> > > > the account password you can download certificates, etc.\n> For\n> > > this\n> > > >> > > > attack, the\n> > > >> > > > caller would need several attempts to guess the correct\n> time\n> > > (code\n> > > >> > > > prefix)\n> > > >>\n> > > >>\n> > > >\n> >\n> >\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:38.565-0500","updated":"2012-04-23T21:27:38.565-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21693","id":"21693","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 13:34:49 by wenye\nFixed in 2541.\n\nOn Fri Jan 20 22:03:30 2012, wen.ye wrote:\n> You are right. Vika. I guess I was confused.\n>\n> On Fri, Jan 20, 2012 at 9:00 PM, Vika Felmetsger via RT <\n> bugs@support.eucalyptus.com> wrote:\n>\n> >\n> > https://support.eucalyptus.com/Ticket/Display.html?id=5745\n> > This is a comment. It is not sent to the Requestor(s):\n> >\n> > Not sure what requires a login here. It's a pasword reset and cannot\n> > require a\n> > login, the only \"secret\" token here is the confirmation code.\n> >\n> > On Fri Jan 20 17:18:50 2012, wen.ye wrote:\n> > > Ken reminded me this operation requires login. So not really a\n> serious\n> > > problem. We can fix this either by making the query to be exact or\n> > > perform\n> > > a validity check of the confirmation code.\n> > >\n> > > On Fri, Jan 20, 2012 at 4:57 PM, Ye Wen <wenye@eucalyptus.com>\n> wrote:\n> > >\n> > > > Confirmed. Thanks Vika.\n> > > >\n> > > > Your example url won't work because a check of the confirmation\n> code\n> > > > trying to extract an expiration time. But the problem is indeed\n> > > there. This\n> > > > sounds like a serious security problem. I think we should fix it\n> for\n> > > 3.0.\n> > > >\n> > > > On Fri, Jan 20, 2012 at 4:04 PM, Vika Felmetsger via RT <\n> > > > bugs@support.eucalyptus.com> wrote:\n> > > >\n> > > >>\n> > > >> <URL:\n> https://support.eucalyptus.com/Ticket/Display.html?id=5745 >\n> > > >>\n> > > >> Shoot, I should've been more careful when reading the\n> description\n> > > of the\n> > > >> problem. The problem is not a weak code, but the fact that we\n> use a\n> > > query\n> > > >> by\n> > > >> example to verity it, which allows for wildcard characters. The\n> > > problem\n> > > >> here is\n> > > >> not a value of the code param, but '%\" at the end. I just\n> checked\n> > > against\n> > > >> 3.0,\n> > > >> one can reset a password by entering:\n> > > >>\n> > > >> https://<front-end>:8443/#reset:confirmationcode=%\n> > > >>\n> > > >> No need to guess anything other than an account name, user name\n> and\n> > > an\n> > > >> email.\n> > > >> That's officially bad!\n> > > >>\n> > > >> On Fri Jan 20 12:18:18 2012, vika.felmetsger wrote:\n> > > >> > Here is an example of a URL that I see in 3.0:\n> > > >> >\n> > > >> >\n> > > >>\n> > > >>\n> > >\n> >\n> >\n>\nhttps://192.168.48.11:8443/#reset:confirmationcode=0013270921420053ExuQX63R4EASYdjNiFmGlOvvQU7uwAoAzfnFjBHWDbcN5fHjPXc0jR6OW7n9EPCMO2XLPOwDuvjMqTc7Kg\n> > > >> >\n> > > >> > A user can get to the password reset form with something\n> like:\n> > > >> >\n> > > >> >\n> > >\n> https://192.168.48.11:8443/#reset:confirmationcode=0013270921420053\n> > > >> >\n> > > >> > However, when submitting the new password to CLC, the\n> password\n> > > reset\n> > > >> > request\n> > > >> > will be rejected unless the entire confirmationcode is\n> provided.\n> > > So,\n> > > >> > it looks\n> > > >> > like we are good at least in 3.0.\n> > > >> >\n> > > >> > On Fri Jan 20 11:33:30 2012, wen.ye wrote:\n> > > >> > > I don't think it is still an issue in 3.0. The confirmation\n> > > code is\n> > > >> > > now\n> > > >> > > composed by not only the time, but also a randomized hash\n> of\n> > > the\n> > > >> > user\n> > > >> > > name. So\n> > > >> > > it is much much harder for the attacker to guess.\n> > > >> > >\n> > > >> > > Dima still wants to verify this by looking at the 2.0.3\n> code.\n> > > So\n> > > >> > > assign it to\n> > > >> > > Dima for him to play.\n> > > >> > >\n> > > >> > > On Thu Jan 19 15:37:54 2012, vika.felmetsger wrote:\n> > > >> > > > This bug was reported by Steve Jones for 2.0.3. Might not\n> be\n> > > an\n> > > >> > > issue\n> > > >> > > > in 3.0:\n> > > >> > > >\n> > > >> > > > To hijack an account you need to know the email address\n> for a\n> > > user\n> > > >> > > and\n> > > >> > > > the\n> > > >> > > > current time. You request an account reset (forgotten\n> > > password)\n> > > >> > and\n> > > >> > > > then you\n> > > >> > > > use the following URL to confirm reception of the email:\n> > > >> > > >\n> > > https://<eucafront>:8443/?action=recover&code=001325314484698% The\n> > > >> > > > numbers are\n> > > >> > > > the time of account reset plus 30 minutes in\n> milliseconds.\n> > > Once\n> > > >> > > you've\n> > > >> > > > reset\n> > > >> > > > the account password you can download certificates, etc.\n> For\n> > > this\n> > > >> > > > attack, the\n> > > >> > > > caller would need several attempts to guess the correct\n> time\n> > > (code\n> > > >> > > > prefix)\n> > > >>\n> > > >>\n> > > >\n> >\n> >\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:39.101-0500","updated":"2012-04-23T21:27:39.101-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11925/comment/21694","id":"21694","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Originally posted on 2012-01-21 13:34:49 by wenye\nAccording to our records, your request has been resolved. If you have any\nfurther questions or concerns, please respond to this message.\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-04-23T21:27:39.670-0500","updated":"2012-04-23T21:27:39.670-0500"}],"maxResults":41,"total":41,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}