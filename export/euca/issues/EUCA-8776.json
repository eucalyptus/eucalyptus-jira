{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"27559","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27559","key":"EUCA-8776","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10308","value":"Managed-NOVLAN","id":"10308"}],"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2014-02-24T02:54:38.309-0600","customfield_10308":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10203","value":"Xen","id":"10203"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8776/watchers","watchCount":2,"isWatching":false},"created":"2014-02-22T22:05:52.137-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12106","id":"12106","description":"Eucalyptus 3.3.1","name":"3.3.1","archived":false,"released":true,"releaseDate":"2013-08-27"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12107","id":"12107","description":"Eucalyptus 3.3.2","name":"3.3.2","archived":false,"released":true,"releaseDate":"2013-10-02"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12801","id":"12801","description":"Eucalyptus 3.4.1","name":"3.4.1","archived":false,"released":true,"releaseDate":"2013-12-16"}],"issuelinks":[],"assignee":null,"updated":"2014-02-24T02:54:38.625-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"I tried making a snapshot of a \"sparse file\" volume.\r\n\r\nVolumes are created as \"sparse\" linux files if the Eucalyptus-SC option \"Zero-fill volumes\" is not selected.\r\n\r\nI noticed that the snapshot is not created as a sparse file.\r\n(see EUCA-8775)\r\n\r\nAdditionally, the snapshot is stored in Walrus.\r\n\r\nFor my \"sparse\" volume, which only occupied 279M:\r\n279M -rw-r--r--  1 root       root        31G Feb 22 20:47 vol-0942421F\r\n\r\n31.2 GB was required for the snapshot between both copies!!!\r\n\r\nIn the /var/lib/eucalyptus/volumes directory:\r\n 31G -rw-r--r--  1 root       root        30G Feb 22 15:14 snap-C3513D77\r\n\r\nIn the /var/lib/eucalyptus/bukkits/snapset-3ee82f82-ff30-4864-9642-6a959a65ae72/ directory:\r\n198M -rw-r--r-- 1 eucalyptus eucalyptus 198M Feb 22 15:58 d9ed68ae-a4ba-4bb7-a4c3-3ffc7229c1c7\r\n\r\nIf the bukkit snapshot is sufficient, can the snapshot file under the volumes directory be deleted and/or not created?  \r\n\r\nThis is consuming a lot of disk space!\r\n(and probably time to create two copies)","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Snapshots are stored in both Walrus and under the volumes directory consuming too MUCH disk space","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wlloyd","name":"wlloyd","key":"wlloyd","accountId":"557058:e7bbe1b9-5ad1-43f6-9780-334c73017bd1","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Wes Lloyd","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wlloyd","name":"wlloyd","key":"wlloyd","accountId":"557058:e7bbe1b9-5ad1-43f6-9780-334c73017bd1","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Wes Lloyd","active":true,"timeZone":"US/Central"},"customfield_12100":"0|i02k33:","customfield_10000":"10000_*:*_1_*:*_103726489_*|*_6_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["wlloyd(wlloyd)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8776/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27559/comment/63300","id":"63300","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wlloyd","name":"wlloyd","key":"wlloyd","accountId":"557058:e7bbe1b9-5ad1-43f6-9780-334c73017bd1","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Wes Lloyd","active":true,"timeZone":"US/Central"},"body":"I realize now this is a feature. \r\nThe configurable option is provided as a check box under the eucalyptus-SC setup:\r\n\"transfer snapshots to walrus\"\r\n\r\nThis feature allows snapshot data to be accessible from other clusters.\r\n\r\nIt would be nice to see documentation which describes how to create a volume from a snapshot in walrus.\r\n\r\nIs there special functionality to support this? (beyond manually  downloading the bundle and moving the data into the volume)\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wlloyd","name":"wlloyd","key":"wlloyd","accountId":"557058:e7bbe1b9-5ad1-43f6-9780-334c73017bd1","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/50ec8d8b1a23b63b5e58ae33c163c6f6?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Wes Lloyd","active":true,"timeZone":"US/Central"},"created":"2014-02-24T02:54:38.454-0600","updated":"2014-02-24T02:54:38.454-0600"}],"maxResults":1,"total":1,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}