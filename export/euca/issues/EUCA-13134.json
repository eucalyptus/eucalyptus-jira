{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"53510","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510","key":"EUCA-13134","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2017-03-15T23:14:10.034-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13134/watchers","watchCount":5,"isWatching":false},"created":"2017-01-18T19:02:14.302-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2017-01-20T16:42:03.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2017-03-15T23:14:10.045-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12700","id":"12700","name":"OSG","description":"Object Storage Gateway"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"When a chunked/streaming signature v4 request does not use an expect/continue header we pass though the first part of the request without removing the chunked encoding.\r\n\r\nWire logging of an example request not using expect/continue header:\r\n\r\n{code}\r\n[2017-01-18 16:50:40,261] - http-outgoing-3 >> \"PUT /object-1 HTTP/1.1[\\r][\\n]\"\r\n[2017-01-18 16:50:40,261] - http-outgoing-3 >> \"Host: 3fd7b932f4b2852a.s3.g-05-03.autoqa.qa1.eucalyptus-systems.com:8773[\\r][\\n]\"\r\n[2017-01-18 16:50:40,262] - http-outgoing-3 >> \"x-amz-content-sha256: STREAMING-AWS4-HMAC-SHA256-PAYLOAD[\\r][\\n]\"\r\n[2017-01-18 16:50:40,262] - http-outgoing-3 >> \"Authorization: AWS4-HMAC-SHA256 Credential=AKIAAT6CYSQRTDASU3V3/20170119/g-05-03/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-retry;content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length, Signature=904eb3c28408cec88250269a539fad6c7d8754b207296f76745c16ef9422f9ae[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"X-Amz-Date: 20170119T005040Z[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"User-Agent: aws-sdk-java/1.11.68 Linux/4.8.16-300.fc25.x86_64 OpenJDK_64-Bit_Server_VM/25.111-b16/1.8.0_111[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"amz-sdk-invocation-id: e77b565e-cab5-9cab-0189-6166382c3b7f[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"x-amz-decoded-content-length: 100[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"amz-sdk-retry: 0/0/500[\\r][\\n]\"\r\n[2017-01-18 16:50:40,263] - http-outgoing-3 >> \"Content-Type: application/octet-stream[\\r][\\n]\"\r\n[2017-01-18 16:50:40,264] - http-outgoing-3 >> \"Content-Length: 273[\\r][\\n]\"\r\n[2017-01-18 16:50:40,264] - http-outgoing-3 >> \"Connection: Keep-Alive[\\r][\\n]\"\r\n[2017-01-18 16:50:40,264] - http-outgoing-3 >> \"[\\r][\\n]\"\r\n[2017-01-18 16:50:40,264] - http-outgoing-3 >> \"64;chunk-signature=4289f92c4dab530c0bc993230197b76c5d653e3c6171cc31967fbe46c420df9c[\\r][\\n]\"\r\n[2017-01-18 16:50:40,265] - http-outgoing-3 >> \"[0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][0x0][\\r][\\n]\"\r\n[2017-01-18 16:50:40,265] - http-outgoing-3 >> \"0;chunk-signature=86868070ca2a99bc9b1c754f734ef37b84f822d54c6477728c43e7d6c264bcda[\\r][\\n]\"\r\n[2017-01-18 16:50:40,265] - http-outgoing-3 >> \"[\\r][\\n]\"\r\n[2017-01-18 16:50:40,425] - http-outgoing-3 << \"HTTP/1.1 200 OK[\\r][\\n]\"\r\n[2017-01-18 16:50:40,425] - http-outgoing-3 << \"ETag: \"6e57f73d0952d84e11c49470691ce21b\"[\\r][\\n]\"\r\n[2017-01-18 16:50:40,425] - http-outgoing-3 << \"Date: Thu, 19 Jan 2017 00:50:40 GMT[\\r][\\n]\"\r\n[2017-01-18 16:50:40,425] - http-outgoing-3 << \"Content-Length: 0[\\r][\\n]\"\r\n[2017-01-18 16:50:40,425] - http-outgoing-3 << \"x-amz-request-id: c328cb23-cb33-4c7a-9dc8-dfb9f6175e08[\\r][\\n]\"\r\n[2017-01-18 16:50:40,426] - http-outgoing-3 << \"Server: Eucalyptus/4.4.0[\\r][\\n]\"\r\n[2017-01-18 16:50:40,426] - http-outgoing-3 << \"[\\r][\\n]\"\r\n{code}\r\n\r\nUploaded object containing chunked encoding metadata:\r\n\r\n{code}\r\n#\r\n# aws --endpoint $S3_URL s3 cp s3://3fd7b932f4b2852a/object-1 ./\r\ndownload: s3://3fd7b932f4b2852a/object-1 to ./object-1            \r\n#\r\n#\r\n# cat object-1 \r\n64;chunk-signature=4289f92c4dab530c0bc993230197b76c5d653e3c6171cc31967fbe46c420df9c\r\n#\r\n#\r\n{code}\r\n\r\nAlthough the put succeeds the client will likely fail the action since the etag does not match, e.g.:\r\n\r\n{code}\r\ncom.amazonaws.SdkClientException: Unable to verify integrity of data upload.  Client calculated content hash (contentMD5: bQuwCVTOt/vuQ2u1WoOXqQ== in base 64) didn't match hash (etag: 6e57f73d0952d84e11c49470691ce21b in hex) calculated by Amazon S3.  You may need to delete the data stored in Amazon S3. (metadata.contentMD5: null, md5DigestStream: com.amazonaws.services.s3.internal.MD5DigestCalculatingInputStream@2af4129d, bucketName: 3fd7b932f4b2852a, key: object-1)\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/38003","id":"38003","filename":"cap.log","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:37:31.441-0600","size":544732,"mimeType":"text/plain","content":"https://eucalyptus.atlassian.net/secure/attachment/38003/cap.log"}],"summary":"S3 signature v4 streaming request without expect/continue corrupts object","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_2_*:*_26863750_*|*_10000_*:*_1_*:*_75959768_*|*_10001_*:*_2_*:*_8151348_*|*_10003_*:*_2_*:*_393228662_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i041s7:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2017-01-19T18:44:37.773-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["jhalterman(jhalterman)","lbiasi(lbiasi)","sjones(sjones)","vasya(vasya)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/115993","id":"115993","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed indirectly by the EUCA-13046 fix.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T18:44:37.773-0600","updated":"2017-01-19T18:44:37.773-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/115995","id":"115995","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue still occurs for me using current maint-4.4 ( c31941b7fdb19118b991265bc98abf19d5cc0c95 )","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:25:32.272-0600","updated":"2017-01-19T19:25:32.272-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/115997","id":"115997","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Here's the capture of the request/response which is a bit clearer than the wire logging in the description:\r\n\r\n{code}\r\nPUT /object-1 HTTP/1.1\r\nHost: 3fb0175ed5219120.s3.g-05-03.autoqa.qa1.eucalyptus-systems.com:8773\r\nx-amz-content-sha256: STREAMING-AWS4-HMAC-SHA256-PAYLOAD\r\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAAVGGDQPNZNAOOGX7/20170120/g-05-03/s3/aws4_request, SignedHeaders=amz-sdk-invocation-id;amz-sdk-retry;content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date;x-amz-decoded-content-length, Signature=90a3f74466e96a56a5ca2a8d98ba5cdb3a3783f7c11af7def7a5f14c0c73ada8\r\nX-Amz-Date: 20170120T012259Z\r\nUser-Agent: aws-sdk-java/1.11.68 Linux/4.8.16-300.fc25.x86_64 OpenJDK_64-Bit_Server_VM/25.111-b16/1.8.0_111\r\namz-sdk-invocation-id: d4a9cd93-26dd-b8e2-e506-b651d4577d92\r\nx-amz-decoded-content-length: 100\r\namz-sdk-retry: 0/0/500\r\nContent-Type: application/octet-stream\r\nContent-Length: 273\r\nConnection: Keep-Alive\r\n\r\n64;chunk-signature=ae84ab31c79ed2ab0a2f781bb30704cce959f8d054825c2a36d017e611a8bb57\r\n....................................................................................................\r\n0;chunk-signature=b7c5f4dc50327829e5f538dec11d10ac6933dd7e1761f661541ee325f08a0a14\r\n\r\n\r\nHTTP/1.1 200 OK\r\nETag: \"f4b15fd371458a6a91e0afadac1c4f46\"\r\nDate: Fri, 20 Jan 2017 01:22:59 GMT\r\nContent-Length: 0\r\nx-amz-request-id: 32202948-fb34-4ee6-85fa-ecfc56348ba9\r\nServer: Eucalyptus/4.4.0\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:27:39.648-0600","updated":"2017-01-19T19:27:39.648-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/115998","id":"115998","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones] Can you provide some more detail on steps to reproduce? With a chunked V4 request and expect/continue disabled:\r\n\r\nclientConfiguration.setUseExpectContinue(false);\r\n\r\n... I do a PUT:\r\n\r\nWhich succeeds, including the MD5 check (which is not disabled). Then GET the file and diff the contents with the original.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:28:15.730-0600","updated":"2017-01-19T19:28:15.730-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/115999","id":"115999","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~jhalterman], I think a chunked request and no expect/continue is sufficient to reproduce the issue. I would capture or log the request to check it looks right (for wire logging I used Logger.getLogger(\"org.apache.http.wire\").setLevel(Level.ALL))","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:33:59.978-0600","updated":"2017-01-19T19:33:59.978-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116000","id":"116000","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones] The attached .log shows what I'm seeing...","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:37:48.475-0600","updated":"2017-01-19T19:37:48.475-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116002","id":"116002","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~jhalterman], if you send > ~100K of data you exceed the chunk size and will not hit the issue.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-19T19:44:47.636-0600","updated":"2017-01-19T19:44:47.636-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116210","id":"116210","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~sjones], I've tried uploading and getting files of several sizes from 1K to 400K with sigv4 and withUseExpectContinue set to false with AWS SDK. I don't see an error. I also don't see any commits with the bug in git log.  How would I reproduce/test this? \r\n[~jhalterman], was the bug fixed by a commit for EUCA-13046?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T13:39:14.939-0600","updated":"2017-01-24T13:39:14.939-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116211","id":"116211","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"body":"[~vasya] The commit for this fix was f6eb84ea055597c67408cd1688db7493c2b27069\r\n\r\nhttps://github.com/eucalyptus/eucalyptus/commit/f6eb84ea055597c67408cd1688db7493c2b27069","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T14:03:06.457-0600","updated":"2017-01-24T14:03:06.457-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116216","id":"116216","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~jhalterman], thank you. I was looking for commits on a wrong branch :(.\r\nVerified. RPM: eucalyptus-4.4.0-0.25761.132.20170123gitf4d0c0b.el7.x86_64","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T15:05:29.684-0600","updated":"2017-01-24T15:05:29.684-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116217","id":"116217","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~vasya], IIRC for testing you'd need to disable expect/continue, perhaps set client options such as:\r\n\r\n{code}\r\n    S3ClientOptions options = S3ClientOptions.builder( )\r\n        .setPayloadSigningEnabled( true )\r\n        .build( );\r\n    s3Client.setS3ClientOptions( options );\r\n{code}\r\n\r\nand use a request size that was less than the clouds chunk size.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T15:10:57.800-0600","updated":"2017-01-24T15:10:57.800-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/116228","id":"116228","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"File upload/download still works with .setPayloadSigningEnabled(true).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-01-24T16:52:50.027-0600","updated":"2017-01-24T16:52:50.027-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/53510/comment/119151","id":"119151","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"Moving 4.4.0 Issues from Release Pending to Resolved","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2017-03-15T23:14:10.043-0500","updated":"2017-03-15T23:14:10.043-0500"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13134/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}