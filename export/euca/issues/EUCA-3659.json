{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"16157","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157","key":"EUCA-3659","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2013-04-17T19:00:07.400-0500","customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3659/watchers","watchCount":8,"isWatching":false},"lastViewed":null,"created":"2012-10-02T09:21:22.943-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10005","id":"10005","description":"Eucalyptus 3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10201","id":"10201","description":"Eucalyptus 3.1.1","name":"3.1.1","archived":false,"released":true,"releaseDate":"2012-08-24"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10801","id":"10801","name":"3.1.2","archived":false,"released":true,"releaseDate":"2012-10-04"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"updated":"2014-06-16T16:51:14.722-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10015","id":"10015","name":"Walrus"}],"timeoriginalestimate":null,"description":"The S3 REST API requires that each resource is signed with a computed signature. This signature requires that headers beginning with x-amz- are included in the signature in a canonicalized form. Walrus does not compute this signature correctly in the case where there are several headers with the same name.\r\n\r\n*Reference Information*\r\n\r\n* http://docs.amazonwebservices.com/AmazonS3/2006-03-01/dev/RESTAuthentication.html#RESTAuthenticationConstructingCanonicalizedAmzHeaders\r\n* http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2\r\n\r\nEutester testcase [canonical_headers_test.py | https://github.com/hspencer77/eutester/blob/testing/testcases/cloud_user/s3/canonical_headers_test.py] confirms this.  The testcases used are as follows:\r\n\r\n*Test Case 1 - Null CanonicalizedAmzHeaders Element*\r\n\r\ntest_headers = {}\r\n\r\nstatus = self.connection.request(\"GET\", \"/\", self.connection.fix_resource(\"/\"), '', headers=test_headers)\r\n\r\nHTTP status from Walrus returns 200\r\nHTTP status from AWS S3 returns 200\r\n\r\n*Test Case 2 - Comma-separated CanonicalizedAmzHeaders Element*\r\n\r\ntest_headers = {'x-amz-wutang': 'RZA,GZA,Ol Dirty Bastard,Method Man,Raekwon,Ghostface Killah,Inspectah Deck,U-God,Masta Killa'}\r\n\r\nstatus = self.connection.request(\"GET\", \"/\", self.connection.fix_resource(\"/\"), '', headers=test_headers)\r\n\r\nHTTP status from Walrus returns 200\r\nHTTP status from AWS S3 returns 200\r\n\r\n*Test Case 3 - Separate CanonicalizedAmzHeaders Elements*\r\n\r\ntest_headers = {'x-amz-wutang': ['RZA','GZA','Ol Dirty Bastard','Method Man','Raekwon','Ghostface Killah','Inspectah Deck','U-God','Masta Killa']}\r\n\r\nstatus = self.connection.request(\"GET\", \"/\", self.connection.fix_resource(\"/\"), '', headers=test_headers)\r\n\r\n*HTTP status from Walrus returns 403*\r\n*HTTP status from AWS S3 returns 200*\r\n\r\n*Test Case 4 - Separate, Broken-up CanonicalizedAmzHeaders Elements*\r\n\r\ntest_header1= {'x-amz-wutang': ['RZA','GZA','Method Man','Raekwon','Ghostface Killah','Inspectah Deck','U-God','Masta Killa']}\r\n        test_header2 = \\['x-amz-wutang:RZA'\\]\r\n\r\nstatus = self.connection.request(\"GET\", \"/\", self.connection.fix_resource(\"/\"), '', headers=test_header1, x_amz_headerlist=test_header2)\r\n\r\n\r\n*HTTP status from Walrus returns 200*\r\n*HTTP status from AWS S3 returns 403*","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/14050","id":"14050","filename":"basictest.rb","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-10T22:07:58.277-0600","size":856,"mimeType":"application/x-ruby","content":"https://eucalyptus.atlassian.net/secure/attachment/14050/basictest.rb"}],"summary":"Walrus REST API does not canonicalize x-amz-headers properly","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i01l4v:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10001_*:*_1_*:*_3542363541_*|*_10002_*:*_1_*:*_13406939526_*|*_10000_*:*_1_*:*_17323_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_106111589_*|*_10007_*:*_1_*:*_92490","customfield_10001":"2012-11-12T08:22:36.293-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["agrimm(agrimm)","hspencer(hspencer)","neil(neil)","tjcramer(tjcramer)","viglesias(viglesias)","zhill(zhill)"],"customfield_10116":null,"customfield_10117":null,"environment":"*HA and non-HA*","customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3659/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/33042","id":"33042","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Was able to confirm with Eutester test case - canonical_headers_test.py.  Results are as follows:\r\n\r\n{code}\r\neuca-prod-1-82:eutester haroldspencerjr$ ./testcases/cloud_user/s3/canonical_headers_test.py --credpath ../PartnerCloud/euca2-admin-x509/\r\nCanonicalizedAmzNullHeaders (__main__.WalrusBasics) ... [2012-10-02 10:22:57,388] [EUTESTER] [DEBUG]: Extracting keys from ../PartnerCloud/euca2-admin-x509/\r\n[2012-10-02 10:22:57,389] [EUTESTER] [DEBUG]: Attempting to create ec2 connection to eucalyptus.partner.eucalyptus.com\r\n[2012-10-02 10:22:57,390] [EUTESTER] [DEBUG]: Attempting to create S3 connection to walrus.partner.eucalyptus.com\r\n[2012-10-02 10:22:57,394] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:57,394] [EUTESTER] [DEBUG]: \tStarting CanonicalizedAmzNullHeaders test\r\n[2012-10-02 10:22:57,394] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:58,899] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:58,899] [EUTESTER] [DEBUG]: \tSuccessfully completed CanonicalizedAmzNullHeaders test\r\n[2012-10-02 10:22:58,899] [EUTESTER] [DEBUG]: ###\r\nok\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 1.512s\r\n\r\nOK\r\nCanonicalizedAmzCommaHeaders (__main__.WalrusBasics) ... [2012-10-02 10:22:58,900] [EUTESTER] [DEBUG]: Extracting keys from ../PartnerCloud/euca2-admin-x509/\r\n[2012-10-02 10:22:58,900] [EUTESTER] [DEBUG]: Attempting to create ec2 connection to eucalyptus.partner.eucalyptus.com\r\n[2012-10-02 10:22:58,901] [EUTESTER] [DEBUG]: Attempting to create S3 connection to walrus.partner.eucalyptus.com\r\n[2012-10-02 10:22:58,902] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:58,902] [EUTESTER] [DEBUG]: \tStarting CanonicalizedAmzCommaHeaders test\r\n[2012-10-02 10:22:58,902] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,227] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,227] [EUTESTER] [DEBUG]: \tSuccessfully completed CanonicalizedAmzCommaHeaders test\r\n[2012-10-02 10:22:59,227] [EUTESTER] [DEBUG]: ###\r\nok\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.328s\r\n\r\nOK\r\nCanonicalizedAmzSeparateHeadersBroken (__main__.WalrusBasics) ... [2012-10-02 10:22:59,228] [EUTESTER] [DEBUG]: Extracting keys from ../PartnerCloud/euca2-admin-x509/\r\n[2012-10-02 10:22:59,228] [EUTESTER] [DEBUG]: Attempting to create ec2 connection to eucalyptus.partner.eucalyptus.com\r\n[2012-10-02 10:22:59,229] [EUTESTER] [DEBUG]: Attempting to create S3 connection to walrus.partner.eucalyptus.com\r\n[2012-10-02 10:22:59,230] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,230] [EUTESTER] [DEBUG]: \tStarting CanonicalizedAmzSeparateHeadersBroken test\r\n[2012-10-02 10:22:59,230] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,461] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,461] [EUTESTER] [DEBUG]: \tSuccessfully completed CanonicalizedAmzSeparateHeadersBroken test\r\n[2012-10-02 10:22:59,461] [EUTESTER] [DEBUG]: ###\r\nok\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.234s\r\n\r\nOK\r\nCanonicalizedAmzSeparateHeaders (__main__.WalrusBasics) ... [2012-10-02 10:22:59,462] [EUTESTER] [DEBUG]: Extracting keys from ../PartnerCloud/euca2-admin-x509/\r\n[2012-10-02 10:22:59,462] [EUTESTER] [DEBUG]: Attempting to create ec2 connection to eucalyptus.partner.eucalyptus.com\r\n[2012-10-02 10:22:59,462] [EUTESTER] [DEBUG]: Attempting to create S3 connection to walrus.partner.eucalyptus.com\r\n[2012-10-02 10:22:59,463] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 10:22:59,463] [EUTESTER] [DEBUG]: \tStarting CanonicalizedAmzSeparateHeaders test\r\n[2012-10-02 10:22:59,463] [EUTESTER] [DEBUG]: ###\r\nFAIL\r\n\r\n======================================================================\r\nFAIL: CanonicalizedAmzSeparateHeaders (__main__.WalrusBasics)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"./testcases/cloud_user/s3/canonical_headers_test.py\", line 123, in CanonicalizedAmzSeparateHeaders\r\n    self.assertEqual(status[0], 200, 'Expected status code to be 200, actual status code is ' + str(status[0]))\r\nAssertionError: Expected status code to be 200, actual status code is 403\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.205s\r\n\r\nFAILED (failures=1)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-02T09:23:12.753-0500","updated":"2012-10-02T09:23:12.753-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/33072","id":"33072","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Updated CanonicalizedAmzSeparateHeadersBroken method to reflect the proper test scenario that was reported.  Instead of using:\r\n\r\n{code}\r\ntest_header1 = {'x-amz-wutang': ['RZA','GZA','Method Man','Raekwon','Ghostface Killah','Inspectah Deck','U-God','Masta Killa']}\r\n        \r\ntest_header2 = ['x-amz-wutang:Ol Dirty Bastard']\r\n{code}\r\n\r\nchanged it to \r\n\r\n{code}\r\ntest_header1 = {'x-amz-wutang': ['RZA','GZA','Method Man','Raekwon','Ghostface Killah','Inspectah Deck','U-God','Masta Killa']}\r\n\r\ntest_header2 = ['x-amz-wutang:RZA']\r\n{code}\r\n\r\nEucalyptus Walrus returns 200.  AWS S3 returns 403.\r\n\r\n* Eucalyptus Walrus Result*\r\n{code}\r\nCanonicalizedAmzSeparateHeadersBroken (__main__.WalrusBasics) ... [2012-10-02 19:20:37,540] [EUTESTER] [DEBUG]: Extracting keys from ../PartnerCloud/euca2-admin-x509/\r\n[2012-10-02 19:20:37,541] [EUTESTER] [DEBUG]: Attempting to create ec2 connection to eucalyptus.partner.eucalyptus.com\r\n[2012-10-02 19:20:37,542] [EUTESTER] [DEBUG]: Attempting to create S3 connection to walrus.partner.eucalyptus.com\r\n[2012-10-02 19:20:37,543] [EUTESTER] [DEBUG]: ###\r\n[2012-10-02 19:20:37,544] [EUTESTER] [DEBUG]: \tStarting CanonicalizedAmzSeparateHeadersBroken test\r\n[2012-10-02 19:20:37,544] [EUTESTER] [DEBUG]: ###\r\nFAIL\r\n\r\n======================================================================\r\nFAIL: CanonicalizedAmzSeparateHeadersBroken (__main__.WalrusBasics)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"./testcases/cloud_user/s3/canonical_headers_test.py\", line 147, in CanonicalizedAmzSeparateHeadersBroken\r\n    self.assertEqual(status[0], 403, 'Expected status code to be 403, actual status code is ' + str(status[0]))\r\nAssertionError: Expected status code to be 403, actual status code is 200\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.333s\r\n{code}\r\n\r\n*AWS S3 Result*\r\n{code}\r\nIn [59]: test_header1 = {'x-amz-wutang': ['RZA','GZA','Method Man','Raekwon','Ghostface Killah','Inspectah Deck','U-God','Masta Killa']} \r\nIn [60]: test_header2 = ['x-amz-wutang:RZA']\r\nIn [61]: status = conn.request(\"GET\", \"/\", conn.fix_resource(\"/\"), '', headers=test_header1, x_amz_headerlist=test_header2)\r\nIn [62]: print status\r\n(403, '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><StringToSignBytes>47 45 54 0a 0a 74 65 78 74 2f 70 6c 61 69 6e 0a 54 75 65 2c 20 30 32 20 4f 63 74 20 32 30 31 32 20 32 33 3a 35 30 3a 33 30 20 47 4d 54 0a 78 2d 61 6d 7a 2d 77 75 74 61 6e 67 3a 52 5a 41 2c 47 5a 41 2c 4d 65 74 68 6f 64 20 4d 61 6e 2c 52 61 65 6b 77 6f 6e 2c 47 68 6f 73 74 66 61 63 65 20 4b 69 6c 6c 61 68 2c 49 6e 73 70 65 63 74 61 68 20 44 65 63 6b 2c 55 2d 47 6f 64 2c 4d 61 73 74 61 20 4b 69 6c 6c 61 0a 2f</StringToSignBytes><RequestId>51AAADE13342C1CD</RequestId><HostId>7RyCsxx5p8+fgRnbaZOeoaXU28ATjk6qWSYzPWQOShcW+NkhtovR+JXIp0pz7y/C</HostId><SignatureProvided>ENtCG2RSWrz+QE4vLKKhua06XzI=</SignatureProvided><StringToSign>GET\\n\\ntext/plain\\nTue, 02 Oct 2012 23:50:30 GMT\\nx-amz-wutang:RZA,GZA,Method Man,Raekwon,Ghostface Killah,Inspectah Deck,U-God,Masta Killa\\n/</StringToSign><AWSAccessKeyId>AKIAJZURM52JPNYBFRSA</AWSAccessKeyId></Error>')\r\n{code}\r\n\r\nUpdated https://github.com/hspencer77/eutester/blob/testing/testcases/cloud_user/s3/canonical_headers_test.py accordingly.\r\n\r\nLet me know if there are any questions.\r\n\r\nRegards,\r\n\r\nHarold Spencer, Jr.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-02T18:47:14.678-0500","updated":"2012-10-02T18:51:27.709-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/33073","id":"33073","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Pull request associated with this ticket:\n\nhttps://github.com/eucalyptus/eutester/pull/91","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-02T19:06:27.047-0500","updated":"2012-10-02T19:06:27.047-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/33087","id":"33087","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Further Troubleshooting Information*\n\nFor the test cases that we don't match AWS S3 on, here is the wire traffic showing the difference responses in those test cases:\n\n\n*\\{Separate, Broken-up CanonicalizedAmzHeaders Elements\\}*\n\n\\[Eucalyptus Walrus\\]\n\n*GET message on the wire*\n\n{code}\n10:37:42.509829 IP 192.168.1.126.58899 > partner-frontend.eucalyptus.com.8773: Flags [P.], seq 1:454, ack 1, win 8235, options [nop,nop,TS val 1469118299 ecr 569506193], length 453\nE....R@.@.w....~......\"ExA..|..N.. +.......\nW..[!...GET /services/Walrus/ HTTP/1.1\nAccept-Encoding: identity\nContent-Length: 0\nx-amz-wutang: RZA\nx-amz-wutang: GZA\nx-amz-wutang: Method Man\nx-amz-wutang: Raekwon\nx-amz-wutang: Ghostface Killah\nx-amz-wutang: Inspectah Deck\nx-amz-wutang: U-God\nx-amz-wutang: Masta Killa\nHost: walrus.partner.eucalyptus.com:8773\nDate: Wed, 03 Oct 2012 14:37:41 GMT\nContent-Type: text/plain\nAuthorization: AWS …….\n{code}\n\n*HTTP response code on the wire*\n\n{code}\n10:37:42.727314 IP partner-frontend.eucalyptus.com.8773 > 192.168.1.126.58899: Flags [P.], seq 1:512, ack 454, win 122, options [nop,nop,TS val 569506411 ecr 1469118299], length 511\nE..3S.@.7..........~\"E..|..NxA.t...z.7.....\n!..kW..[HTTP/1.1 200 OK\nContent-Length: 440\nContent-Type: application/xml\n\n<ListAllMyBucketsResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><Owner><ID>628376682871</ID><DisplayName>euca16</DisplayName></Owner><Buckets><Bucket><Name>appscale-hackfest</Name><CreationDate>2012-08-09T23:52:49.000Z</CreationDate></Bucket><Bucket><Name>appscale-hackfest2</Name><CreationDate>2012-08-10T00:04:03.000Z</CreationDate></Bucket></Buckets></ListAllMyBucketsResult>\n10:37:42.727376 IP 192.168.1.126.58899 > partner-frontend.eucalyptus.com.8773: Flags [.], ack 512, win 8203, options [nop,nop,TS val 1469118515 ecr 569506411], length 0\n{code}\n\n\n\\[AWS S3\\]\n\n*GET message on the wire*\n\n{code}\n11:09:54.263084 IP 192.168.1.126.59141 > s3-1.amazonaws.com.http: Flags [P.], seq 1:419, ack 1, win 16384, length 418\nE....>@.@......~.......P..p]5.,.P.@..#..GET / HTTP/1.1\nAccept-Encoding: identity\nContent-Length: 0\nx-amz-wutang: RZA\nx-amz-wutang: GZA\nx-amz-wutang: Method Man\nx-amz-wutang: Raekwon\nx-amz-wutang: Ghostface Killah\nx-amz-wutang: Inspectah Deck\nx-amz-wutang: U-God\nx-amz-wutang: Masta Killa\nHost: s3.amazonaws.com\nDate: Wed, 03 Oct 2012 15:09:53 GMT\nContent-Type: text/plain\nAuthorization: AWS …….\n{code}\n\n*HTTP response code on the wire*\n\n{code}\n11:09:54.306517 IP s3-1.amazonaws.com.http > 192.168.1.126.59141: Flags [P.], seq 1:1337, ack 419, win 127, length 1336\nE..`.=@...S........~.P..5.,...q.P.......HTTP/1.1 403 Forbidden\nx-amz-request-id: E10239F19A73DFBF\nx-amz-id-2: IsrVUMNXRDZl00+2xbEJum68Z0QVFeFajHQ2kUdlL7OhPcN2aGR07zV1SHQHWZQv\nContent-Type: application/xml\nTransfer-Encoding: chunked\nDate: Wed, 03 Oct 2012 15:09:32 GMT\nServer: AmazonS3\n\n433\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><StringToSignBytes>47 45 54 0a 0a 74 65 78 74 2f 70 6c 61 69 6e 0a 57 65 64 2c 20 30 33 20 4f 63 74 20 32 30 31 32 20 31 35 3a 30 39 3a 35 33 20 47 4d 54 0a 78 2d 61 6d 7a 2d 77 75 74 61 6e 67 3a 52 5a 41 2c 47 5a 41 2c 4d 65 74 68 6f 64 20 4d 61 6e 2c 52 61 65 6b 77 6f 6e 2c 47 68 6f 73 74 66 61 63 65 20 4b 69 6c 6c 61 68 2c 49 6e 73 70 65 63 74 61 68 20 44 65 63 6b 2c 55 2d 47 6f 64 2c 4d 61 73 74 61 20 4b 69 6c 6c 61 0a 2f</StringToSignBytes><RequestId>E10239F19A73DFBF</RequestId><HostId>IsrVUMNXRDZl00+2xbEJum68Z0QVFeFajHQ2kUdlL7OhPcN2aGR07zV1SHQHWZQv</HostId><SignatureProvided>2uyltP+RrU7N9P9ZqpM42Lldps8=</SignatureProvided><StringToSign>GET\n\ntext/plain\nWed, 03 Oct 2012 15:09:53 GMT\nx-amz-wutang:RZA,GZA,Method Man,Raekwon,Ghostface Killah,Inspectah Deck,U-God,Masta Killa\n/</StringToSign><AWSAccessKeyId>..............</AWSAccessKeyId></Error>\n{code}\n\n\n*\\{Separate CanonicalizedAmzHeaders Elements\\}*\n\n\\[Eucalyptus Walrus\\]\n\n*GET message on the wire*\n\n{code}\n11:35:14.600398 IP 192.168.1.126.59369 > partner-frontend.eucalyptus.com.8773: Flags [P.], seq 1:486, ack 1, win 8235, options [nop,nop,TS val 1472534734 ecr 572958188], length 485\nE....y@.@..j...~......\"E.KQ\\wk.... +.h.....\nW...\"&..GET /services/Walrus/ HTTP/1.1\nAccept-Encoding: identity\nContent-Length: 0\nx-amz-wutang: RZA\nx-amz-wutang: GZA\nx-amz-wutang: Ol Dirty Bastard\nx-amz-wutang: Method Man\nx-amz-wutang: Raekwon\nx-amz-wutang: Ghostface Killah\nx-amz-wutang: Inspectah Deck\nx-amz-wutang: U-God\nx-amz-wutang: Masta Killa\nHost: walrus.partner.eucalyptus.com:8773\nDate: Wed, 03 Oct 2012 15:35:13 GMT\nContent-Type: text/plain\nAuthorization: AWS ……\n\n\n11:35:14.699876 IP partner-frontend.eucalyptus.com.8773 > 192.168.1.126.59369: Flags [.], ack 486, win 122, options [nop,nop,TS val 572958288 ecr 1472534734], length 0\n{code}\n\n*HTTP response code on the wire*\n\n{code}\n\"&.`W...HTTP/1.1 403 Forbidden\nContent-Type: text/plain; charset=UTF-8\n\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>javax.security.auth.login.LoginException: Login Failure: all modules ignored</Message></Error></Errors><RequestID>javax.security.auth.login.LoginException: Login Failure: all modules ignored</RequestID></Response>\n11:35:14.716503 IP partner-frontend.eucalyptus.com.8773 > 192.168.1.126.59369: Flags [F.], seq 362, ack 486, win 122, options [nop,nop,TS val 572958304 ecr 1472534734], length 0\n{code}\n\n\\[AWS S3\\]\n\n*GET message on the wire*\n\n{code}\n11:37:45.131283 IP 192.168.1.126.59389 > s3-1.amazonaws.com.http: Flags [P.], seq 1:419, ack 1, win 16384, length 418\nE.....@.@..m...~H......PG(...rv.P.@.]{..GET / HTTP/1.1\nAccept-Encoding: identity\nContent-Length: 0\nx-amz-wutang: RZA\nx-amz-wutang: GZA\nx-amz-wutang: Method Man\nx-amz-wutang: Raekwon\nx-amz-wutang: Ghostface Killah\nx-amz-wutang: Inspectah Deck\nx-amz-wutang: U-God\nx-amz-wutang: Masta Killa\nHost: s3.amazonaws.com\nDate: Wed, 03 Oct 2012 15:37:45 GMT\nContent-Type: text/plain\nAuthorization: AWS …….\n{code}\n\n\n{code}\n11:37:45.217588 IP s3-1.amazonaws.com.http > 192.168.1.126.59389: Flags [P.], seq 1:533, ack 419, win 127, length 532\nE..<c.@.1..RH......~.P...rv.G(..P...w...HTTP/1.1 200 OK\nx-amz-id-2: eNwi5Ch3xEiLLTcsQwmqK14aI34dIATqsmQdFODoVz6ruevs9QAEK8hZxv7jCInT\nx-amz-request-id: 7B33615D2F79A3A0\nDate: Wed, 03 Oct 2012 15:37:24 GMT\nContent-Type: application/xml\nTransfer-Encoding: chunked\nServer: AmazonS3\n\n116\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<ListAllMyBucketsResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Owner><ID>d5e503650562fa592ae159309643353535c82f5076dd34cc9b48716e4f3ce658</ID><DisplayName>harold.spencer.jr</DisplayName></Owner><Buckets/></ListAllMyBucketsResult>\n\n11:37:45.217643 IP s3-1.amazonaws.com.http > 192.168.1.126.59389: Flags [P.], seq 533:538, ack 419, win 127, length 5\n{code}\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-03T10:49:54.678-0500","updated":"2012-10-03T10:49:54.678-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/35011","id":"35011","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Antti Rasinen has posted a pull request for this.  [~swathi], could you please review it?\r\n\r\nhttps://github.com/eucalyptus/eucalyptus/pull/9","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-11-12T08:22:36.293-0600","updated":"2012-11-12T08:22:36.293-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38197","id":"38197","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"This patch still merges clean on maint/3.2/testing ; running tests on it today.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-07T11:25:49.076-0600","updated":"2013-01-07T11:25:49.076-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38209","id":"38209","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"The build failed with the most recent version of the patch.  I've commented to the contributor on what the problem appears to be:\n\nhttps://github.com/arsatiki/eucalyptus/commit/d85483136e367c0a73983eebadf2ed2763a0edaa#commitcomment-2395381\n\nI changed two lines and was able to compile the code, and the eutester test case now passes.\n\nNext step is to run the standard QA test sequence against it to ensure that it does not cause any regressions.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-07T13:31:12.680-0600","updated":"2013-01-07T13:31:12.680-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38218","id":"38218","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"This patch appears to cause at least two failures in our current QA tests for Walrus.  Given the nature of the errors (in both cases, a 403 is returned by walrus when 200 is expected), it could be an error in the tests.\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-07T14:57:32.893-0600","updated":"2013-01-07T14:57:32.893-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38435","id":"38435","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"I've done a bit more testing on this patch today.  The patch is causing intermittent failure in bucket creation using the RightAWS ruby library, and I haven't figured out the pattern yet.  I don't see these failures in boto, but the headers passed are completely different between the two libraries.  boto passes headers like:\n\n{noformat}\nHost: 192.168.51.67:8773\nAccept-Encoding: identity\nContent-Length: 98\nx-amz-acl: public-read\nUser-Agent: Boto/2.5.2 (linux2)\nDate: Thu, 10 Jan 2013 21:26:31 GMT\nAuthorization: AWS VKLOZCAHDU1LJP8ZKUSNX:rMAySXopBqDPNtdaf2UliJBIRVI=\n{noformat}\n\nWhile RightAWS looks like:\n\n{noformat}\nAccept: */*\nUser-Agent: \nContent-Type: \nX-Amz-Acl: public-read\nAuthorization: AWS VKLOZCAHDU1LJP8ZKUSNX:ZrjLl4q+4PEsN6KG34cY731GJWg=\nDate: Thu, 10 Jan 2013 19:50:45 GMT\nContent-Length: 98\nHost: 192.168.51.67:8773\n{noformat}\n\nThe obvious difference is x-amz-acl versus X-Amz-Acl, but even if this is a problem, it doesn't make sense that it's not consistently failing.\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-10T15:47:11.249-0600","updated":"2013-01-10T15:47:11.249-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38453","id":"38453","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Attached is an example script which fails using RightAWS.  It always fails on the 4th or 5th iteration, never sooner.  Similar code using boto does not seem to ever fail. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-01-10T22:07:58.282-0600","updated":"2013-01-10T22:07:58.282-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/38602","id":"38602","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Andy, I'm seeing this as well on other systems. The failure looks like a problem in the message stack. I've implemented a canonicalization method that will handle all headers in the message and comma-delimit duplicates, which is correct per HTTP 1.1 spec (RFC 2616 Section 4.2). So, this should not be a x-amz specific fix. But, as I said, I'm seeing periodic behavior where all the headers are actually being duplicated somewhere in the message stack that is causing authentication to fail. I will update this when I find a solution.\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-14T00:06:39.494-0600","updated":"2013-01-14T00:06:39.494-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/43415","id":"43415","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"body":"I believe this is fixed in 3.2.2. Cannot reproduce against 3.3.0\n\nfor i in {1..50}; do ./basictest.rb; done\n\n\nI, [2013-04-16T11:26:44.469988 #441]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:44.470471 #441]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\nI, [2013-04-16T11:26:47.178879 #505]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:47.179361 #505]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\nI, [2013-04-16T11:26:49.953831 #558]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:49.954326 #558]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\nI, [2013-04-16T11:26:52.598194 #626]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:52.598853 #626]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\nlifemylifegroupmygroup\nlifemylifegroupmygroup\nlifemylifegroupmygroup\nlifemylifegroupmygroup\nlifemylifegroupmygroup\nlifemylifegroupmygroup\nI, [2013-04-16T11:26:55.309239 #678]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:55.309788 #678]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\nI, [2013-04-16T11:26:58.041769 #746]  INFO -- : New RightAws::S3Interface using single-threaded mode\nI, [2013-04-16T11:26:58.042270 #746]  INFO -- : Opening new HTTP connection to 10.1.20.124:8773\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\ngroupmygrouplifemylife\n...\nso on","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-16T13:31:23.886-0500","updated":"2013-04-16T13:31:23.886-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/43518","id":"43518","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-17T19:00:07.410-0500","updated":"2013-04-17T19:00:07.410-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16157/comment/48934","id":"48934","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved in the 3.3.0 release","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-26T21:46:36.967-0500","updated":"2013-06-26T21:46:36.967-0500"}],"maxResults":14,"total":14,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}