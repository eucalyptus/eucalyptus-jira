{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"35521","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521","key":"EUCA-10697","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10703":null,"resolutiondate":null,"customfield_10308":null,"customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10697/watchers","watchCount":5,"isWatching":false},"lastViewed":null,"created":"2015-03-31T01:31:19.596-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{}","labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/15500","id":"15500","description":"Eucalyptus 4.1.1","name":"4.1.1","archived":false,"released":true,"releaseDate":"2015-05-11"}],"customfield_11901":null,"issuelinks":[{"id":"38014","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/38014","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"43402","key":"EUCA-12373","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/43402","fields":{"summary":"EC2 volume attachment should verify instance state","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2016-05-18T01:08:39.994-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"[~viglesias] and I tried to launch windows EBS instances using a volume/snapshot that was created in a different zone than was being launched.  For example, the volume/snapshot/image was created and registered in zone 'one' and then the instance was launched into zone 'two'.  After the instance(s) failed to launch, the volumes were deleted but never finished.  The status of the volume(s) show 'deleting' but never changes and the entries are never removed.  I tried to reproduce this using an ubuntu image created from zone 'one' and launched in zone 'two' but I was not able to reproduce.  It only happened with the windows image, I'm not sure why.\r\ncloud-error.log:\r\n{code}\r\nMon Mar 30 22:23:39 2015 ERROR [ChunkedDataStream:New I/O worker #310] [com.eucalyptus.storage.common.ChunkedDataStream.isEndOfInput(ChunkedDataStream.java):92] org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 3654724351; received: 3599238962\r\norg.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 3654724351; received: 3599238962\r\n\tat org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:147)\r\n\tat org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:121)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n\tat java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n\tat java.io.PushbackInputStream.read(PushbackInputStream.java:139)\r\n\tat com.eucalyptus.storage.common.ChunkedDataStream.isEndOfInput(ChunkedDataStream.java:84)\r\n\tat org.jboss.netty.handler.stream.ChunkedWriteHandler.flush(ChunkedWriteHandler.java:218)\r\n\tat org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:132)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.channelInterestChanged(SimpleChannelUpstreamHandler.java:200)\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:106)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n\tat org.jboss.netty.channel.SimpleChannelHandler.channelInterestChanged(SimpleChannelHandler.java:191)\r\n\tat org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:124)\r\n\tat org.jboss.netty.handler.timeout.IdleStateAwareChannelHandler.handleUpstream(IdleStateAwareChannelHandler.java:36)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.channelInterestChanged(SimpleChannelUpstreamHandler.java:200)\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:106)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)\r\n\tat org.jboss.netty.channel.Channels.fireChannelInterestChanged(Channels.java:358)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioChannel$WriteRequestQueue.poll(AbstractNioChannel.java:310)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioChannel$WriteRequestQueue.poll(AbstractNioChannel.java:204)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.write0(AbstractNioWorker.java:187)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.writeFromSelectorLoop(AbstractNioWorker.java:159)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:115)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:90)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\r\n\tat org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\r\n\tat org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\r\n\tat org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:622)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nMon Mar 30 22:23:57 2015 ERROR [ClusterAllocator:Eucalyptus.cluster:ClusterConfiguration:arn:euca:eucalyptus:two:cluster:CC_5/.class java.util.concurrent.ThreadPoolExecutor$Worker#607] [com.eucalyptus.cloud.run.ClusterAllocator.waitForVolume(ClusterAllocator.java):696] com.eucalyptus.util.EucalyptusCloudException: volume creation failed\r\ncom.eucalyptus.util.EucalyptusCloudException: volume creation failed\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator.waitForVolume(ClusterAllocator.java:689)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator.makeVmTypeInfo(ClusterAllocator.java:576)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator.setupVmMessages(ClusterAllocator.java:535)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator.<init>(ClusterAllocator.java:261)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator.<init>(ClusterAllocator.java:174)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator$SubmitAllocation$1.call(ClusterAllocator.java:213)\r\n\tat com.eucalyptus.cloud.run.ClusterAllocator$SubmitAllocation$1.call(ClusterAllocator.java:209)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat com.eucalyptus.system.Threads$Queue$EucaFutureTask.run(Threads.java:696)\r\n\tat com.eucalyptus.system.Threads$Queue.run(Threads.java:753)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nMon Mar 30 22:23:57 2015 ERROR [ClusterAllocator:Eucalyptus.cluster:ClusterConfiguration:arn:euca:eucalyptus:two:cluster:CC_5/.class java.util.concurrent.ThreadPoolExecutor$Worker#607] [com.eucalyptus.cloud.run.ClusterAllocator.cleanupOnFailure(ClusterAllocator.java):292] com.eucalyptus.util.EucalyptusCloudException: volume creation failed\r\n{code}\r\nwindows image\r\n{code}\r\nIMAGE\temi-e6f73b99\t695914519336/winders\t695914519336\tavailable\tpublic\ti386\tmachine\t\t\twindows\tebs\thvm\r\n{code}\r\n\r\n[~shaon] also discovered that if you restart the Storage Controller, the volume 'deleting' entries are removed and the volumes are actually deleted.","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Unable to launch EBS instance or delete volume when launched in different zone than created.","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i03647:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":null,"customfield_10001":"2015-04-01T01:58:10.391-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["ccassler(ccassler)","shaon(shaon)","swathi(swathi)","vasya(vasya)","zhill(zhill)"],"environment":"Shared Setup #1 \r\n\r\nCLC: 10.111.5.1\r\n\r\nCLUSTER\tone            \tCC_2           \t10.111.5.2               \tENABLED\t{}\r\nCLUSTER\ttwo            \tCC_5           \t10.111.5.5               \tENABLED\t{}\r\n\r\nSTORAGECONTROLLER\tone            \tSC_2           \t10.111.5.2               \tENABLED\t{}\r\nSTORAGECONTROLLER\ttwo            \tSC_5           \t10.111.5.5               \tENABLED\t{}\r\nNODE\tone\t\t10.111.5.7\tENABLED\r\nNODE\tone\t\t10.111.5.6\tENABLED\r\nNODE\ttwo\t\t10.111.5.9\tENABLED\r\nNODE\ttwo\t\t10.111.5.14\tENABLED\r\n","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/84631","id":"84631","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"body":"I was able to reproduce this using a linux image from zone 1.  I saw different errors though noted below.  I created this image by using dd to copy a raw image to a volume mounted inside an instance.  The volume was created in zone 1 and I attempted to launch it in zone 2.  I was able to launch it in zone 1 without issues.\r\nImage Info:\r\n{code}\r\nIMAGE   emi-46db6503    622291201442/ZoneTestDD 622291201442    available       private i386    machine                         ebs     hvm\r\n{code}\r\ncloud-error.log:\r\n{code}\r\nTue Mar 31 14:54:01 2015 ERROR [Volumes:Eucalyptus.eucalyptus:EphemeralConfiguration:arn:euca:eucalyptus:::com.eucalyptus.cloud.run.ClusterAllocator/.class java.util.concurrent.ThreadPoolExecutor$Worker#754] [com.eucalyptus.blockstorage.Volumes$2.fire(Volumes.java):436] Failed to create volume: vol-dfb2410f\r\njava.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageVolumeType Id:RelatesTo Error: Total Volume Size Limit Exceeded volume: vol-dfb2410fTotal Volume Size Limit Exceeded volume: vol-dfb2410f\r\n        at com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:252)\r\n        at com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:261)\r\n        at com.eucalyptus.util.async.AsyncRequest.execute(AsyncRequest.java:304)\r\n        at com.eucalyptus.util.async.AsyncRequest.sendSync(AsyncRequest.java:283)\r\n        at com.eucalyptus.util.async.AsyncRequests.sendSync(AsyncRequests.java:154)\r\n        at com.eucalyptus.util.async.AsyncRequests.sendSync(AsyncRequests.java:122)\r\n        at com.eucalyptus.blockstorage.Volumes$2.fire(Volumes.java:424)\r\n        at com.eucalyptus.blockstorage.Volumes$2.fire(Volumes.java:417)\r\n        at com.eucalyptus.entities.Transactions.save(Transactions.java:374)\r\n        at com.eucalyptus.blockstorage.Volumes.createStorageVolume(Volumes.java:417)\r\n        at com.eucalyptus.cloud.run.ClusterAllocator$1.call(ClusterAllocator.java:461)\r\n        at com.eucalyptus.cloud.run.ClusterAllocator$1.call(ClusterAllocator.java:459)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at com.eucalyptus.system.Threads$Queue$EucaFutureTask.run(Threads.java:696)\r\n        at com.eucalyptus.system.Threads$Queue.run(Threads.java:753)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageVolumeType Id:RelatesTo Error: Total Volume Size Limit Exceeded volume: vol-dfb2410fTotal Volume Size Limit Exceeded volume: vol-dfb2410f\r\n        at com.eucalyptus.ws.protocol.SoapHandler.incomingMessage(SoapHandler.java:131)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.incomingMessage(MessageStackHandler.java:106)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:115)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:117)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:117)\r\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:117)\r\n        at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:145)\r\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)\r\n        at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:459)\r\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)\r\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)\r\n        at org.jboss.netty.handler.timeout.IdleStateAwareChannelHandler.handleUpstream(IdleStateAwareChannelHandler.java:36)\r\n        at org.jboss.netty.handler.timeout.IdleStateHandler.messageReceived(IdleStateHandler.java:294)\r\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)\r\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)\r\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:109)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:90)\r\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\r\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:622)\r\n        ... 3 more\r\nTue Mar 31 14:54:01 2015 ERROR [ClusterAllocator:Eucalyptus.cluster:ClusterConfiguration:arn:euca:eucalyptus:two:cluster:CC_5/.class java.util.concurrent.ThreadPoolExecutor$Worker#615] [com.eucalyptus.cloud.run.ClusterAllocator.cleanupOnFailure(ClusterAllocator.java):292] java.util.concurrent.ExecutionException: com.eucalyptus.entities.TransactionCallbackException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageVolumeType Id:RelatesTo Error: Total Volume Size Limit Exceeded volume: vol-dfb2410fTotal Volume Size Limit Exceeded volume: vol-dfb2410f\r\n{code}\r\n\r\nI know for a fact that I only had one volume in zone 2 that was only using 1GB of space as shown below:\r\n{code}\r\n[root@h-01 ~]# euca-describe-volumes verbose\r\nVOLUME  vol-65dd3a2b    1               two     available       2015-03-23T13:17:40.193Z        standard\r\nVOLUME  vol-6c127dac    1               one     in-use  2015-03-17T19:47:50.054Z        standard\r\nATTACHMENT      vol-6c127dac    i-ce5d04bc      /dev/vdd        attached        2015-03-17T19:48:12.566Z\r\nVOLUME  vol-553d5f18    5               one     available       2015-03-31T19:24:37.200Z        standard\r\nVOLUME  vol-259910e5    3       snap-cb422024   two     available       2015-03-31T21:11:10.317Z        standard\r\nVOLUME  vol-a07ca0d8    1               one     in-use  2015-03-17T19:45:03.695Z        standard\r\nATTACHMENT      vol-a07ca0d8    i-ce5d04bc      /dev/vdc        attached        2015-03-17T19:46:37.060Z\r\nVOLUME  vol-ce0da5bd    2               one     available       2015-03-24T14:54:13.420Z        standard\r\nVOLUME  vol-b7245302    15      snap-abe9113d   one     in-use  2015-03-20T20:26:15.414Z        standard\r\nATTACHMENT      vol-b7245302    i-a18ca6c5      /dev/sda        attached        2015-03-20T20:26:15.534Z\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-31T17:43:45.107-0500","updated":"2015-03-31T17:43:45.107-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/84644","id":"84644","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"body":"I have generated an SOS report for this issue here: http://10.111.4.85/images/sos/sosreport-ccassler.10697-20150331164459-c687.tar.xz","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-01T01:09:19.679-0500","updated":"2015-04-01T01:09:19.679-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/84646","id":"84646","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi Casey,\r\n\r\nSo here is what I found so far:\r\n\r\na) I used the snapshot (snap-e1e53ec0) of the linux image (emi-46db6503) above.\r\n{noformat}\r\n# euca-describe-images emi-46db6503\r\nIMAGE\temi-46db6503\t622291201442/ZoneTestDD\t622291201442\tavailable\tprivate\ti386\tmachine\t\t\t\tebs\thvm\r\nBLOCKDEVICEMAPPING\tEBS\t/dev/sda\tsnap-e1e53ec0\t6\ttrue\tstandard\r\n{noformat}\r\n\r\nb) Created a volume from the snapshot, which failed after some time due to not finding the volume in the storage backend (Netapp SAN in this case), which makes half sense, because AFAIK, the process is to first check if the snapshot is in the SAN, if not found then check for the object storage, but in this case it didn't happen. But it probably create backing snapshot holder for snapshot snap-e1e53ec0.\r\n{noformat}\r\n# euca-create-volume -z two --snapshot snap-e1e53ec0\r\nVOLUME\tvol-f351fc7c\t6\tsnap-e1e53ec0\ttwo\tcreating\t2015-04-01T06:28:41.824Z\r\n{noformat}\r\n\r\n{noformat}\r\n2015-03-31 23:28:42  INFO | Creating backend snapshot holder snap-e1e53ec0 mapping to snap-e1e53ec0\r\n2015-03-31 23:28:45  INFO | Exporting backend snapshot holder snap-e1e53ec0 mapping to snap-e1e53ec0 to SC host IQN iqn.1994-05.com.redhat:30b64d9bf563\r\n{noformat}\r\n\r\n{noformat}\r\n# euca-describe-volumes vol-f351fc7c\r\nVOLUME\tvol-f351fc7c\t6\tsnap-e1e53ec0\ttwo\tfailed\t2015-04-01T06:28:41.824Z\tstandard\r\n{noformat}\r\n\r\n{noformat}\r\n2015-03-31 23:29:30 ERROR | Failed to prepare the snapshot snap-e1e53ec0 on storage backend. Cleaning up the snapshot on backend\r\ncom.eucalyptus.blockstorage.exceptions.SnapshotTransferException: Failed to download snapshot snap-e1e53ec0 to storage backend\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:588)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1466)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 258047843; received: 212633632\r\n        at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:184)\r\n        at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:138)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at com.amazonaws.util.ContentLengthValidationInputStream.read(ContentLengthValidationInputStream.java:77)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:238)\r\n        at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n        at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:116)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:482)\r\n        ... 4 more\r\n2015-03-31 23:29:36  INFO | Deleting backend snapshot snap-e1e53ec0 mapping to snap-e1e53ec0\r\n2015-03-31 23:29:39 ERROR | Failed to create volume vol-f351fc7c\r\ncom.eucalyptus.blockstorage.exceptions.SnapshotTransferException: Failed to download snapshot snap-e1e53ec0 to storage backend\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:588)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1466)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 258047843; received: 212633632\r\n        at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:184)\r\n        at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:138)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at com.amazonaws.util.ContentLengthValidationInputStream.read(ContentLengthValidationInputStream.java:77)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:238)\r\n        at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n        at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:116)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:482)\r\n        ... 4 more\r\n{noformat}\r\n\r\nc) Then I enabled the DEBUG logging to check further and created the volume again, but this time the volume was created (the download snapshot process completed?)\r\n\r\n{noformat}\r\n# euca-create-volume -z two --snapshot snap-e1e53ec0\r\nVOLUME\tvol-8beafee6\t6\tsnap-e1e53ec0\ttwo\tcreating\t2015-04-01T06:33:08.372Z\r\n\r\n# euca-describe-volumes vol-8beafee6\r\nVOLUME\tvol-8beafee6\t6\tsnap-e1e53ec0\ttwo\tavailable\t2015-04-01T06:33:08.372Z\tstandard\r\n{noformat}\r\n\r\nI checked the snapshot and found it in the netapp san:\r\n{noformat}\r\n                                 Vserver Name: euca-vserver\r\n                                  Volume Name: snap_e1e53ec0\r\n                               Aggregate Name: aggr1_euca_node_1\r\n                                  Volume Size: 7.31GB\r\n                           Volume Data Set ID: 5006\r\n                    Volume Master Data Set ID: 2147488654\r\n                                 Volume State: online\r\n                                  Volume Type: RW\r\n                                 Volume Style: flex\r\n                       Is Cluster-Mode Volume: true\r\n                        Is Constituent Volume: false\r\n                                Export Policy: default\r\n                                      User ID: 0\r\n                                     Group ID: 1\r\n                               Security Style: unix\r\n{noformat}\r\n\r\nd) then finally I went ahead and ran an instance that failed earlier and the instance ran successfully in zone two\r\n{noformat}\r\n# euca-run-instances -k sshlogin -z two emi-46db6503\r\nRESERVATION\tr-7445e3c0\t622291201442\tdefault\r\nINSTANCE\ti-2aa2ad61\temi-46db6503\t\teuca-10-111-52-176.eucalyptus.internal\tpending\tsshlogin\t0\t\tm1.small\t2015-04-01T06:37:52.181Z\ttwo\t\t\t\tmonitoring-disabled\t10.111.52.176\t10.111.52.176\t\t\tebs\t\t\t\t\thvm\t\t\tsg-7c8cd983\t\t\t\ti386\r\n\r\n# euca-describe-instances i-2aa2ad61\r\nRESERVATION\tr-7445e3c0\t622291201442\tdefault\r\nINSTANCE\ti-2aa2ad61\temi-46db6503\teuca-10-111-52-118.eucalyptus.h-01.autoqa.qa1.eucalyptus-systems.com\teuca-10-111-52-176.eucalyptus.internal\trunning\tsshlogin\t0\t\tm1.small\t2015-04-01T06:37:52.181Z\ttwo\t\t\t\tmonitoring-disabled\t10.111.52.118\t10.111.52.176\t\t\tebs\t\t\t\t\thvm\t\t\tsg-7c8cd983\t\t\t\ti386\r\nBLOCKDEVICE\t/dev/sda\tvol-86548516\t2015-04-01T06:37:52.429Z\ttrue\r\nTAG\tinstance\ti-2aa2ad61\teuca:node\t10.111.5.14\r\n\r\n# ping euca-10-111-52-118.eucalyptus.h-01.autoqa.qa1.eucalyptus-systems.com\r\nPING euca-10-111-52-118.eucalyptus.h-01.autoqa.qa1.eucalyptus-system (10.111.52.118) 56(84) bytes of data.\r\n64 bytes from 10.111.52.118: icmp_seq=1 ttl=64 time=0.389 ms\r\n^C\r\n--- euca-10-111-52-118.eucalyptus.h-01.autoqa.qa1.eucalyptus-system ping statistics ---\r\n1 packets transmitted, 1 received, 0% packet loss, time 872ms\r\nrtt min/avg/max/mdev = 0.389/0.389/0.389/0.000 ms\r\n{noformat}\r\n\r\nSo, my guess is something went wrong or for some reason it did not check the object storage when the snapshot was not found in the SAN.\r\n\r\n[~swathi] or [~zhill] may have some more insight on the first failure though.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-01T01:58:10.391-0500","updated":"2015-04-01T01:58:10.391-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/84663","id":"84663","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"I've not looked through logs provided by [~ccassler] yet. From [~shaon]'s logs in the above comment, SC attempted to download the snapshot from OSG and this download attempt failed in step b due to: Premature end of Content-Length delimited message body (expected: 258047843; received: 212633632\r\n\r\n{noformat}\r\n2015-03-31 23:29:30 ERROR | Failed to prepare the snapshot snap-e1e53ec0 on storage backend. Cleaning up the snapshot on backend\r\ncom.eucalyptus.blockstorage.exceptions.SnapshotTransferException: Failed to download snapshot snap-e1e53ec0 to storage backend\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:588)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1466)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 258047843; received: 212633632\r\n        at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:184)\r\n        at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:138)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at com.amazonaws.util.ContentLengthValidationInputStream.read(ContentLengthValidationInputStream.java:77)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:238)\r\n        at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n        at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:116)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:482)\r\n        ... 4 more\r\n2015-03-31 23:29:36  INFO | Deleting backend snapshot snap-e1e53ec0 mapping to snap-e1e53ec0\r\n2015-03-31 23:29:39 ERROR | Failed to create volume vol-f351fc7c\r\ncom.eucalyptus.blockstorage.exceptions.SnapshotTransferException: Failed to download snapshot snap-e1e53ec0 to storage backend\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:588)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1466)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 258047843; received: 212633632\r\n        at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:184)\r\n        at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:138)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at com.amazonaws.util.ContentLengthValidationInputStream.read(ContentLengthValidationInputStream.java:77)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:133)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)\r\n        at java.util.zip.InflaterInputStream.fill(InflaterInputStream.java:238)\r\n        at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n        at java.util.zip.GZIPInputStream.read(GZIPInputStream.java:116)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:107)\r\n        at com.eucalyptus.blockstorage.S3SnapshotTransfer.download(S3SnapshotTransfer.java:482)\r\n        ... 4 more\r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-01T13:30:31.022-0500","updated":"2015-04-01T13:30:31.022-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/84676","id":"84676","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"body":"[~swathi], I reproduced per [~shaon]'s instructions:\r\n\r\n1) Created a 15GB volume in zone one.\r\n2) Wrote some data to the volume\r\n3) Created a snapshot of the volume\r\n4) Created a new volume in zone two using the snapshot from zone one.\r\nvolume output:\r\n{code}\r\nVOLUME  vol-d4dc1565    15      snap-8cee694e   two     failed  2015-04-01T20:52:16.024Z        standard\r\nTAG     volume  vol-d4dc1565    Name    ZoneTwoTest\r\n{code}\r\ncloud-error.log:\r\n{code}\r\nWed Apr 1 13:53:29 2015 ERROR [ChunkedDataStream:New I/O worker #386] [com.eucalyptus.storage.common.ChunkedDataStream.isEndOfInput(ChunkedDataStream.java):92] org.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 418237613; received: 410604390\r\norg.apache.http.ConnectionClosedException: Premature end of Content-Length delimited message body (expected: 418237613; received: 410604390\r\n        at org.apache.http.impl.io.ContentLengthInputStream.read(ContentLengthInputStream.java:147)\r\n        at org.apache.http.conn.EofSensorInputStream.read(EofSensorInputStream.java:121)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n        at com.amazonaws.util.ContentLengthValidationInputStream.read(ContentLengthValidationInputStream.java:57)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n        at java.io.FilterInputStream.read(FilterInputStream.java:83)\r\n        at java.io.PushbackInputStream.read(PushbackInputStream.java:139)\r\n        at com.eucalyptus.storage.common.ChunkedDataStream.isEndOfInput(ChunkedDataStream.java:84)\r\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.flush(ChunkedWriteHandler.java:218)\r\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:132)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.channelInterestChanged(SimpleChannelUpstreamHandler.java:200)\r\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:106)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.channel.SimpleChannelHandler.channelInterestChanged(SimpleChannelHandler.java:191)\r\n        at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:124)\r\n        at org.jboss.netty.handler.timeout.IdleStateAwareChannelHandler.handleUpstream(IdleStateAwareChannelHandler.java:36)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\r\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.channelInterestChanged(SimpleChannelUpstreamHandler.java:200)\r\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:106)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\r\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)\r\n        at org.jboss.netty.channel.Channels.fireChannelInterestChanged(Channels.java:358)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioChannel$WriteRequestQueue.poll(AbstractNioChannel.java:310)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioChannel$WriteRequestQueue.poll(AbstractNioChannel.java:204)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.write0(AbstractNioWorker.java:187)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.writeFromSelectorLoop(AbstractNioWorker.java:159)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:115)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\r\n        at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:90)\r\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\r\n        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\r\n        at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\r\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:622)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-01T16:02:18.590-0500","updated":"2015-04-01T16:04:00.670-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/85345","id":"85345","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"body":"I setup a multi-cluster das cloud and was not able to reproduce this issue.  So this somehow related to the shared cloud storage configuration.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-16T20:09:17.946-0500","updated":"2015-04-23T16:40:51.085-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/86371","id":"86371","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ccassler], have you seen this issue again? From your logs and [~shaon]'s logs it looks like the snapshot download was failing consistently. We should try to find out what caused the premature closing of connection. \r\n\r\n[~zhill], any ideas as to why the SC - OSG connection might get closed (sort of consistently) before the download completed? ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-12T19:19:22.619-0500","updated":"2015-05-12T19:19:22.619-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35521/comment/86400","id":"86400","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Should probably check the Walrus host's logs as well to see if something failed retrieving the object. Assuming this is a multipart uploaded object there could be several places where an error would cause premature closure of the download prior to it delivering the full object content. I see some \"Read timed out\" messages in the CLC/Walrus log that could be an indicator.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-05-13T16:34:22.772-0500","updated":"2015-05-13T16:34:22.772-0500"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10697/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}