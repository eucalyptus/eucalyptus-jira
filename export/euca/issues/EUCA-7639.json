{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"24200","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24200","key":"EUCA-7639","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10402","value":"Internal","id":"10402"},"customfield_10104":[],"customfield_10302":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2013-09-23T06:24:48.200-0500","customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7639/watchers","watchCount":1,"isWatching":false},"created":"2013-09-22T23:24:28.912-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12106","id":"12106","description":"Eucalyptus 3.3.1","name":"3.3.1","archived":false,"released":true,"releaseDate":"2013-08-27"}],"issuelinks":[],"assignee":null,"updated":"2015-05-08T17:14:22.852-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\nAfter doing a clean install of Eucalyptus 3.3.1, NetApp could not be set as an option for {code}<partition>.storage.blockstoragemanager{code} cloud property, even though the Eucalyptus Enterprise Netapp packages are installed.\r\n\r\n*Signs*\r\n\r\nWhen setting the blockstoragemanager cloud property to set it to Netapp, the following was returned:\r\n{code}\r\n$ euca-modify-property -p selfmade3.storage.blockstoragemanager=netapp\r\nPROPERTY\tselfmade3.storage.blockstoragemanager\t<unset> was <unset>\r\n{code}\r\n\r\nIn the cloud-error.log, the following shows up:\r\n{code}\r\nSun Sep 22 21:10:08 2013 ERROR [Topology:Eucalyptus.bootstrap:EphemeralConfiguration:arn:euca:bootstrap:Topology::external/.class java.util.concurrent.ThreadPoolExecutor$Worker#25] [com.eucalyptus.component.Topology$TopologyChange.doTopologyChange(Topology.java):1186] CHECK:null  arn:euca:eucalyptus:selfmade3:storage:layitdown/ BROKEN->DISABLED=BROKEN [SC blockstorageamanger not configured. Found empty or unset manager(null).  Legal values are: das,overlay]\r\n{code}\r\n\r\nThis is odd, since the Eucalyptus Enterprise NetApp packages are installed:\r\n{code}\r\n$ rpm -qa | grep euca\r\neucalyptus-enterprise-release-3.3-1.CS_Team.Unlimited.noarch\r\neucalyptus-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-cloud-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-load-balancer-image-1.0.1-0.115.el6.x86_64\r\neucalyptus-enterprise-storage-san-common-libs-3.3.1-0.0.1383.el6.x86_64\r\neuca2ools-release-3.0-1.el6.noarch\r\neucalyptus-common-java-libs-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-gl-3.3.1-0.0.1429.el6.x86_64\r\neuca2ools-3.0.1-0.0.104.el6.noarch\r\npython-eucadmin-3.3.1-0.0.1429.el6.noarch\r\neucalyptus-common-java-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-cc-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-walrus-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-release-3.3-1.el6.noarch\r\neucalyptus-admin-tools-3.3.1-0.0.1429.el6.noarch\r\neucalyptus-sc-3.3.1-0.0.1429.el6.x86_64\r\neucalyptus-enterprise-storage-san-netapp-libs-3.3.1-0.0.1383.el6.x86_64\r\n{code}\r\n\r\n*Actions*\r\n\r\n* sudo yum install http://downloads.eucalyptus.com/software/eucalyptus/3.3/centos/6/x86_64/eucalyptus-release-3.3.noarch.rpm\r\n* sudo yum install http://downloads.eucalyptus.com/software/euca2ools/3.0/centos/6/x86_64/euca2ools-release-3.0.noarch.rpm\r\n* sudo yum install http://downloads.eucalyptus.com/software/eucalyptus/3.3/centos/6/x86_64/epel-release-6.noarch.rpm\r\n* sudo yum install http://downloads.eucalyptus.com/software/eucalyptus/3.3/centos/6/x86_64/elrepo-release-6.noarch.rpm\r\n* sudo yum install CS-Team-Unlimited-1.3.3/eucalyptus-enterprise-release-3.3-1.CS_Team.Unlimited.noarch.rpm\r\n* sudo yum install eucalyptus-cloud eucalyptus-cc eucalyptus-walrus eucalyptus-sc\r\n* sudo yum install eucalyptus-load-balancer-image\r\n* sudo yum install eucalyptus-enterprise-storage-san-netapp-libs\r\n* sudo /usr/sbin/euca_conf --initialize\r\n* sudo service eucalyptus-cloud start\r\n* sudo chkconfig ntpd on\r\n* sudo service ntpd start\r\n* sudo ntpdate -u pool.ntp.org\r\n* sudo service eucalyptus-cloud restart\r\n* sudo service eucalyptus-cc start\r\n* sudo /usr/sbin/euca_conf --register-walrus --partition walrus --host 10.104.10.11 --component Levels\r\n* sudo /usr/sbin/euca_conf --register-cluster --partition selfmade3 --host 10.104.10.11 --component poordecisions\r\n* sudo /usr/bin/euca_conf --register-sc --partition selfmade3 --host 10.104.10.11 --component layitdown\r\n* sudo /usr/sbin/euca_conf --register-sc --partition selfmade3 --host 10.104.10.11 --component layitdown\r\n* sudo /usr/sbin/euca_conf --register-nodes 10.104.10.22\r\n* sudo /usr/sbin/euca_conf --get-credentials admin.zip\r\n* sudo chown hspencer:hspencer admin.zip\r\n* unzip admin.zip\r\n_Note: didn't have VNET_DNS set, so CC wouldn't start up in Managed mode.  Set VNET_DNS and CC started_\r\n* sudo service eucalyptus-cc cleanrestart\r\n* source eucarc\r\n* euca-describe-services\r\n{code}\r\n$ euca-describe-services\r\nSERVICE\teuare          \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Euare \tarn:euca:eucalyptus::euare:10.104.10.11/\r\nSERVICE\twalrus         \twalrus         \tLevels         \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Walrus\tarn:euca:bootstrap:walrus:walrus:Levels/\r\nSERVICE\tcluster        \tselfmade3      \tpoordecisions  \tENABLED   \t33  \thttp://10.104.10.11:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:selfmade3:cluster:poordecisions/\r\nSERVICE\tstorage        \tselfmade3      \tlayitdown      \tBROKEN    \t33  \thttp://10.104.10.11:8773/services/Storage\tarn:euca:eucalyptus:selfmade3:storage:layitdown/\r\nSERVICE\ttokens         \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Tokens\tarn:euca:eucalyptus::tokens:10.104.10.11/\r\nSERVICE\tcloudwatch     \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/CloudWatch\tarn:euca:eucalyptus::cloudwatch:10.104.10.11/\r\nSERVICE\teucalyptus     \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Eucalyptus\tarn:euca:eucalyptus:::10.104.10.11/\r\nSERVICE\treporting      \tbootstrap      \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Reporting\tarn:euca:bootstrap::reporting:10.104.10.11/\r\nSERVICE\tnotifications  \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Notifications\tarn:euca:eucalyptus::notifications:10.104.10.11/\r\nSERVICE\tdns            \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Dns   \tarn:euca:eucalyptus::dns:10.104.10.11/\r\nSERVICE\tautoscaling    \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/AutoScaling\tarn:euca:eucalyptus::autoscaling:10.104.10.11/\r\nSERVICE\tbootstrap      \tbootstrap      \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Empyrean\tarn:euca:bootstrap:::10.104.10.11/\r\nSERVICE\tloadbalancing  \teucalyptus     \t10.104.10.11   \tNOTREADY  \t33  \thttp://10.104.10.11:8773/services/LoadBalancing\tarn:euca:eucalyptus::loadbalancing:10.104.10.11/\r\nSERVICE\tjetty          \teucalyptus     \t10.104.10.11   \tENABLED   \t33  \thttp://10.104.10.11:8773/services/Jetty \tarn:euca:eucalyptus::jetty:10.104.10.11/\r\n{code}\r\n* euca-modify-property -p selfmade3.storage.blockstoragemanager=netapp\r\n{code}\r\n$ euca-modify-property -p selfmade3.storage.blockstoragemanager=netapp\r\nPROPERTY\tselfmade3.storage.blockstoragemanager\t<unset> was <unset>\r\n{code}\r\n\r\n*Pertinent Data*\r\n\r\nAttempting to reproduce issue where LUNs associated with snapshots are left behind on the NetApp after snapshots and volumes had been deleted.\r\n\r\n*Workaround*\r\n\r\nNo workaround known at this time","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Netapp SAN Manager stays <unset> after clean install","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10000_*:*_1_*:*_25219401_*|*_5_*:*_1_*:*_0","customfield_12100":"0|i02ah3:","customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["hspencer(hspencer)"],"customfield_10117":null,"environment":"*non-HA*\r\n\r\n* Frontend (CLC, CC, Walrus, SC)\r\n* 1 x NC","customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24200/comment/53805","id":"53805","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Missed instruction step regarding NetApp package for the [SC|http://www.eucalyptus.com/docs/eucalyptus/3.3/install-guide/installing_euca_release.html#install_euca_release]. \r\n\r\n*Steps to Resolution*\r\n\r\n* sudo yum install eucalyptus-enterprise-storage-san-netapp\r\n* sudo service eucalyptus-cloud restart\r\n* sudo euca-modify-property -p selfmade3.storage.blockstoragemanager=netapp\r\n{code}\r\n$ euca-modify-property -p selfmade3.storage.blockstoragemanager=netapp\r\nPROPERTY\tselfmade3.storage.blockstoragemanager\tnetapp was <unset>\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-23T06:24:48.292-0500","updated":"2013-09-23T06:24:48.292-0500"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7639/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}