{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"52000","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/52000","key":"EUCA-13030","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12601","value":"CentOS 7","id":"12601"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2016-12-13T15:23:55.134-0600","customfield_10308":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13030/watchers","watchCount":2,"isWatching":false},"created":"2016-12-13T14:51:09.366-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17800","id":"17800","description":"Eucalyptus 4.3.1","name":"4.3.1","archived":false,"released":true,"releaseDate":"2016-12-14"}],"customfield_11901":null,"issuelinks":[{"id":"46400","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/46400","type":{"id":"10100","name":"Blocks","inward":"is blocked by","outward":"blocks","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10100"},"outwardIssue":{"id":"42439","key":"TOOLS-635","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42439","fields":{"summary":"euca-bundle-image doesn't pull bootstrap URL from euca2ools config","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10006","description":"A fix has been committed, and will be part of the next release","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Release Pending","id":"10006","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2016-12-13T15:23:55.148-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12700","id":"12700","name":"OSG","description":"Object Storage Gateway"}],"timeoriginalestimate":null,"description":"*Assessment*\r\n\r\nDuring the testing of TOOLS-635, when trying to register an image on the non-native region of the account, the following error was observed:\r\n{code}\r\n[root@d-14 ~]# euca-register -n ubuntu-trusty-x86_64-kernel ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml --region qa-admin@drake\r\neuca-register: error (RegisterImageType): Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n{code}\r\nThis only happens when going through the use case of bundle, upload and registering components for instance store-backed paravirtual images (i.e. kernel, ramdisk and image) on *non-native regions*.  Bundle, upload and registering this type of image on native regions work as expected.  Full debug output is below:\r\n{code}\r\n[root@d-14 ~]# euca-register -n ubuntu-trusty-x86_64-kernel ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml --region qa-admin@drake --debug\r\n2016-12-13 11:29:57,453 DEBUG   RegisterImage parsed arguments from CLI: {'VirtualizationType': None, 'BlockDeviceMapping': [], 'Description': None, 'security_token': None, 'url': None, 'region': 'qa-admin@drake', 'key_id': None, 'Platform': None, 'snapshot': None, 'Architecture': None, 'show_empty_fields': False, 'ImageLocation': 'ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml', 'KernelId': None, 'RamdiskId': None, 'secret_key': None, 'RootDeviceName': None, 'Name': 'ubuntu-trusty-x86_64-kernel'}\r\n2016-12-13 11:29:57,454 INFO    Config set region to drake\r\n2016-12-13 11:29:57,454 INFO    Config set user to qa-admin\r\n2016-12-13 11:29:57,454 INFO    Config finding region option ec2-url\r\n2016-12-13 11:29:57,454 DEBUG   Config   section drake\r\n2016-12-13 11:29:57,454 INFO    Config   found   drake::ec2-url = 'http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/'\r\n2016-12-13 11:29:57,454 INFO    Config finding region option name\r\n2016-12-13 11:29:57,454 DEBUG   Config   section drake\r\n2016-12-13 11:29:57,454 INFO    Config   found   drake::name = 'drake'\r\n2016-12-13 11:29:57,454 INFO    Config finding global option max-retries\r\n2016-12-13 11:29:57,454 INFO    Config   novalue for max-retries\r\n2016-12-13 11:29:57,454 INFO    Config finding global option timeout\r\n2016-12-13 11:29:57,454 INFO    Config   novalue for timeout\r\n2016-12-13 11:29:57,454 INFO    Config finding region option verify-ssl\r\n2016-12-13 11:29:57,455 DEBUG   Config   section drake\r\n2016-12-13 11:29:57,455 DEBUG   Config   section *\r\n2016-12-13 11:29:57,455 INFO    Config   novalue for verify-ssl\r\n2016-12-13 11:29:57,455 INFO    Config finding user option key-id\r\n2016-12-13 11:29:57,455 DEBUG   Config   section qa-admin\r\n2016-12-13 11:29:57,455 DEBUG   Config   jump-to 001769317121:qa-admin::key-id (from qa-admin)\r\n2016-12-13 11:29:57,455 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 11:29:57,455 INFO    Config   found   001769317121:qa-admin::key-id = 'AKIABO5S45C45R3PKPW6'\r\n2016-12-13 11:29:57,455 INFO    Config finding user option secret-key\r\n2016-12-13 11:29:57,455 DEBUG   Config   section qa-admin\r\n2016-12-13 11:29:57,455 DEBUG   Config   jump-to 001769317121:qa-admin::secret-key (from qa-admin)\r\n2016-12-13 11:29:57,455 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 11:29:57,455 INFO    Config   found   001769317121:qa-admin::secret-key = <redacted>\r\n2016-12-13 11:29:57,455 DEBUG   HmacV4Auth using auth info from configuration\r\n2016-12-13 11:29:57,456 INFO    RegisterImage parameters: {'Action': 'RegisterImage', 'Version': '2015-10-01', 'Name': 'ubuntu-trusty-x86_64-kernel', 'ImageLocation': 'ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml'}\r\n2016-12-13 11:29:57,456 DEBUG   RegisterImage sending flattened parameters as form data\r\n2016-12-13 11:29:57,459 INFO    EC2 sending request (attempt 1 of 3)\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T192957Z']\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T192957Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T192957Z\\n20161213/drake/ec2/aws4_request\\n12b61101c7006842e1c63f76a8d0337e112aa9322731604184fae437c7d8e46a'\r\n2016-12-13 11:29:57,465 DEBUG   HmacV4Auth signature: e7ef43839782e5642d33a837b133c954d54b39dc3f7aa07c73be3aad990d3bfa\r\n2016-12-13 11:29:57,466 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request method: POST\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=e7ef43839782e5642d33a837b133c954d54b39dc3f7aa07c73be3aad990d3bfa\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request header: X-Amz-Date: 20161213T192957Z\r\n2016-12-13 11:29:57,466 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 11:29:57,467 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 11:29:57,467 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 11:29:57,467 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 11:29:58,028 DEBUG   EC2 response time: 0.561 seconds\r\n2016-12-13 11:29:58,028 ERROR   EC2 response status: 500\r\n2016-12-13 11:29:58,028 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 11:29:58,028 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 11:29:58,028 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 19:29:58 UTC\r\n2016-12-13 11:29:58,029 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 11:29:58,029 DEBUG   EC2 will retry after 1.214 seconds\r\n2016-12-13 11:29:59,245 INFO    EC2 sending request (attempt 2 of 3)\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T192959Z']\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:29:59,246 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T192959Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 11:29:59,247 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T192959Z\\n20161213/drake/ec2/aws4_request\\nd183b7cecadf0b49ac443f4b5f7e81669fbcd6cf8d867a2b4b680dfd20bbb5ed'\r\n2016-12-13 11:29:59,247 DEBUG   HmacV4Auth signature: bb0f72feea0819053d68cd7180795367df484a8afb5e1caa987257aa11e63e60\r\n2016-12-13 11:29:59,247 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:29:59,247 DEBUG   EC2 request method: POST\r\n2016-12-13 11:29:59,247 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 11:29:59,247 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 11:29:59,247 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=bb0f72feea0819053d68cd7180795367df484a8afb5e1caa987257aa11e63e60\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request header: X-Amz-Date: 20161213T192959Z\r\n2016-12-13 11:29:59,248 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 11:29:59,249 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 11:29:59,249 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 11:29:59,249 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 11:29:59,616 DEBUG   EC2 response time: 0.366 seconds\r\n2016-12-13 11:29:59,616 ERROR   EC2 response status: 500\r\n2016-12-13 11:29:59,616 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 11:29:59,616 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 11:29:59,616 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 19:29:59 UTC\r\n2016-12-13 11:29:59,616 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 11:29:59,616 DEBUG   EC2 will retry after 3.830 seconds\r\n2016-12-13 11:30:03,450 INFO    EC2 sending request (attempt 3 of 3)\r\n2016-12-13 11:30:03,451 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:30:03,451 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 11:30:03,451 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 11:30:03,451 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T193003Z']\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T193003Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T193003Z\\n20161213/drake/ec2/aws4_request\\n8fa464d6243c5b14c0d77738fc000b5a40c7457c3d050643231925e489ea3575'\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth signature: 6cba38a5d2fb529ab8e0d3160587c30d7cc8053edca878117fdd5ae1b829409b\r\n2016-12-13 11:30:03,452 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 11:30:03,452 DEBUG   EC2 request method: POST\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=6cba38a5d2fb529ab8e0d3160587c30d7cc8053edca878117fdd5ae1b829409b\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 11:30:03,453 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 11:30:03,454 DEBUG   EC2 request header: X-Amz-Date: 20161213T193003Z\r\n2016-12-13 11:30:03,454 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 11:30:03,454 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 11:30:03,454 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 11:30:03,454 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 11:30:06,231 DEBUG   EC2 response time: 2.776 seconds\r\n2016-12-13 11:30:06,231 ERROR   EC2 response status: 500\r\n2016-12-13 11:30:06,231 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 11:30:06,232 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 11:30:06,232 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 19:30:06 UTC\r\n2016-12-13 11:30:06,232 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 11:30:06,233 DEBUG   RegisterImage -- response content --\r\n<Response xmlns=\"\"><Errors><Error><Code>RegisterImageType</Code><Message>Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml</Message></Error></Errors><RequestID>02490e45-b671-4d0e-a712-15bc593904e7</RequestID></Response>\r\n2016-12-13 11:30:06,233 DEBUG   RegisterImage -- end of response content --\r\n2016-12-13 11:30:06,233 INFO    RegisterImage result: failure\r\neuca-register: error (RegisterImageType): Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-register\", line 6, in <module>\r\n    euca2ools.commands.ec2.registerimage.RegisterImage.run()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/command.py\", line 295, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/command.py\", line 292, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 205, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 276, in send\r\n    return BaseRequest.send(self)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 171, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 158, in send\r\n    auth=self.auth)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/service.py\", line 227, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.7/site-packages/euca2ools/commands/ec2/__init__.py\", line 65, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (500, 'RegisterImageType', 'RegisterImageType', 'Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml')\r\n{code}\r\n\r\n*Triage*\r\n\r\n* Using AWS CLI, we can see on that region that the bucket and contents are there:\r\n{code}\r\n[root@d-14 ~]# aws --endpoint-url http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/ s3 ls s3://ubuntu-trusty-x86_64-kernel --profile qa-admin\r\n2016-12-13 11:28:07       1956 trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 11:28:06    5785216 trusty-server-cloudimg-amd64-vmlinuz-generic.part.00\r\n{code}\r\n* On the UFS for that region, the cloud-requests.log contain the follow when that error occurs:\r\n{code}\r\nTue Dec 13 11:30:03 2016 02490e45-b671-4d0e-a712-15bc593904e7 arn:aws:euare::001769317121:user/admin /10.111.5.138:40744 /10.111.5.2:8773 compute RegisterImageType [POST,Name=ubuntu-trusty-x86_64-kernel,ImageLocation=ubuntu-trusty-x86_64-kernel%2Ftrusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml]\r\nTue Dec 13 11:30:06 2016 02490e45-b671-4d0e-a712-15bc593904e7 arn:aws:euare::001769317121:user/admin /10.111.5.138:40744 /10.111.5.2:8773 compute ErrorResponse [500 RegisterImageType]\r\n{code}\r\n* Same machine, but contents of cloud-debug.log:\r\n{code}\r\nTue Dec 13 11:30:03 2016 DEBUG [ComputeService:Compute.5610] RegisterImageType:02490e45-b671-4d0e-a712-15bc593904e7:return=true:epoch=null:status=null\r\nTue Dec 13 11:30:06 2016 DEBUG [ComputeErrorHandler:ComputeErrorQueue.19] :1481657406229:ComputeErrorHandler:MSG_REPLY:RegisterImageType\r\n{code}\r\n\r\n*Additional Notes*\r\n\r\n* This currently blocks verifying TOOLS-635.\r\n* Setup - Federated \r\n** [hspencer-207|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Maint-4.3/207/] - native region\r\n** [hspencer-208|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Maint-4.3/208/] - non-native region","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"RegisterImage fails on non-native region","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"6_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_1965783","customfield_12100":"0|i040tb:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["hspencer(hspencer)"],"environment":"Federated setup","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/52000/comment/114308","id":"114308","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"euca2ools configuration file for this user:\r\n{code}\r\n[root@d-14 ~]# cat .euca/qa-admin.ini\r\n[global]\r\ndefault-region = future\r\n\r\n[region future]\r\nautoscaling-url = http://autoscaling.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nbootstrap-url = http://bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\ncloudformation-url = http://cloudformation.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nec2-url = http://ec2.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nelasticloadbalancing-url = http://elasticloadbalancing.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\niam-url = http://iam.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nmonitoring-url = http://monitoring.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nproperties-url = http://properties.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nreporting-url = http://reporting.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\ns3-url = http://s3.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\nsts-url = http://sts.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\n\r\n[region drake]\r\nautoscaling-url = http://autoscaling.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nbootstrap-url = http://bootstrap.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\ncloudformation-url = http://cloudformation.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nec2-url = http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nelasticloadbalancing-url = http://elasticloadbalancing.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\niam-url = http://iam.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nmonitoring-url = http://monitoring.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nproperties-url = http://properties.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nreporting-url = http://reporting.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\ns3-url = http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\nsts-url = http://sts.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n\r\n[user 001769317121:qa-admin]\r\nkey-id = AKIABO5S45C45R3PKPW6\r\nsecret-key = XXXXXXXXXXXXXXXXXXXXXXX\r\naccount-id = 001769317121\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-12-13T15:05:43.432-0600","updated":"2016-12-13T15:05:43.432-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/52000/comment/114309","id":"114309","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Bundle, upload and register with {{\\--debug}} flag:\r\n{code}\r\n[root@d-14 ~]# euca-bundle-image -i trusty-server-cloudimg-amd64-vmlinuz-generic --arch x86_64 --kernel true --region qa-admin@drake --debug\r\n2016-12-13 13:08:49,789 DEBUG   BundleImage parsed arguments from CLI: {'kernel': 'true', 'show_progress': True, 'image': 'trusty-server-cloudimg-amd64-vmlinuz-generic', 'part_size': 10485760, 'prefix': None, 'ec2cert': None, 'productcodes': [], 'image_type': 'machine', 'destination': None, 'bootstrap_auth': None, 'ramdisk': None, 'enc_key': None, 'bootstrap_service': None, 'enc_iv': None, 'user': None, 'image_size': None, 'bootstrap_url': None, 'arch': 'x86_64', 'block_device_mappings': None, 'security_token': None, 'region': 'qa-admin@drake', 'show_porcelain': False, 'privatekey': None, 'batch': False, 'cert': None, 'key_id': None, 'secret_key': None}\r\n2016-12-13 13:08:49,789 INFO    Config set region to drake\r\n2016-12-13 13:08:49,790 INFO    Config set user to qa-admin\r\n2016-12-13 13:08:49,790 INFO    Config finding global option default-region\r\n2016-12-13 13:08:49,790 INFO    Config   found   default-region = future\r\n2016-12-13 13:08:49,790 INFO    Config set region to future\r\n2016-12-13 13:08:49,790 INFO    Config finding region option user\r\n2016-12-13 13:08:49,790 DEBUG   Config   section future\r\n2016-12-13 13:08:49,790 DEBUG   Config   section *\r\n2016-12-13 13:08:49,790 INFO    Config   novalue for user\r\n2016-12-13 13:08:49,790 INFO    Config finding region option bootstrap-url\r\n2016-12-13 13:08:49,790 DEBUG   Config   section future\r\n2016-12-13 13:08:49,790 INFO    Config   found   future::bootstrap-url = 'http://bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/'\r\n2016-12-13 13:08:49,790 INFO    Config finding region option name\r\n2016-12-13 13:08:49,790 DEBUG   Config   section future\r\n2016-12-13 13:08:49,790 INFO    Config   found   future::name = 'future'\r\n2016-12-13 13:08:49,791 INFO    Config finding global option max-retries\r\n2016-12-13 13:08:49,791 INFO    Config   novalue for max-retries\r\n2016-12-13 13:08:49,791 INFO    Config finding global option timeout\r\n2016-12-13 13:08:49,791 INFO    Config   novalue for timeout\r\n2016-12-13 13:08:49,791 INFO    Config finding region option verify-ssl\r\n2016-12-13 13:08:49,791 DEBUG   Config   section future\r\n2016-12-13 13:08:49,791 DEBUG   Config   section *\r\n2016-12-13 13:08:49,791 INFO    Config   novalue for verify-ssl\r\n2016-12-13 13:08:49,791 INFO    Config finding user option key-id\r\n2016-12-13 13:08:49,791 DEBUG   Config   section qa-admin\r\n2016-12-13 13:08:49,791 DEBUG   Config   jump-to 001769317121:qa-admin::key-id (from qa-admin)\r\n2016-12-13 13:08:49,791 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:08:49,791 INFO    Config   found   001769317121:qa-admin::key-id = 'AKIABO5S45C45R3PKPW6'\r\n2016-12-13 13:08:49,791 INFO    Config finding user option secret-key\r\n2016-12-13 13:08:49,791 DEBUG   Config   section qa-admin\r\n2016-12-13 13:08:49,792 DEBUG   Config   jump-to 001769317121:qa-admin::secret-key (from qa-admin)\r\n2016-12-13 13:08:49,792 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:08:49,792 INFO    Config   found   001769317121:qa-admin::secret-key = <redacted>\r\n2016-12-13 13:08:49,792 DEBUG   HmacV4Auth using auth info from configuration\r\n2016-12-13 13:08:49,792 INFO    Config finding user option account-id\r\n2016-12-13 13:08:49,792 DEBUG   Config   section qa-admin\r\n2016-12-13 13:08:49,792 DEBUG   Config   jump-to 001769317121:qa-admin::account-id (from qa-admin)\r\n2016-12-13 13:08:49,792 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:08:49,792 INFO    Config   found   001769317121:qa-admin::account-id = '001769317121'\r\n2016-12-13 13:08:49,792 DEBUG   BundleImage using account ID from configuration\r\n2016-12-13 13:08:49,792 DEBUG   BundleImage account ID: 001769317121\r\n2016-12-13 13:08:49,792 INFO    Config finding user option certificate\r\n2016-12-13 13:08:49,792 DEBUG   Config   section qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   jump-to 001769317121:qa-admin::certificate (from qa-admin)\r\n2016-12-13 13:08:49,793 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   section 001769317121:*\r\n2016-12-13 13:08:49,793 DEBUG   Config   section *:qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   section *:*\r\n2016-12-13 13:08:49,793 DEBUG   Config   section *\r\n2016-12-13 13:08:49,793 INFO    Config   novalue for certificate\r\n2016-12-13 13:08:49,793 DEBUG   BundleImage certificate: None\r\n2016-12-13 13:08:49,793 INFO    Config finding user option private-key\r\n2016-12-13 13:08:49,793 DEBUG   Config   section qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   jump-to 001769317121:qa-admin::private-key (from qa-admin)\r\n2016-12-13 13:08:49,793 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   section 001769317121:*\r\n2016-12-13 13:08:49,793 DEBUG   Config   section *:qa-admin\r\n2016-12-13 13:08:49,793 DEBUG   Config   section *:*\r\n2016-12-13 13:08:49,794 DEBUG   Config   section *\r\n2016-12-13 13:08:49,794 INFO    Config   novalue for private-key\r\n2016-12-13 13:08:49,794 DEBUG   BundleImage private key: None\r\n2016-12-13 13:08:49,794 INFO    Config finding region option certificate\r\n2016-12-13 13:08:49,794 DEBUG   Config   section future\r\n2016-12-13 13:08:49,794 DEBUG   Config   section *\r\n2016-12-13 13:08:49,794 INFO    Config   novalue for certificate\r\n2016-12-13 13:08:49,794 INFO    BundleImage attempting to obtain cloud certificate from bootstrap service\r\n2016-12-13 13:08:49,795 INFO    Config set region to future\r\n2016-12-13 13:08:49,795 DEBUG   HmacV4Auth using auth info provided directly\r\n2016-12-13 13:08:49,795 INFO    DescribeServiceCertificates parameters: {'Action': 'DescribeServiceCertificates', 'Version': 'eucalyptus', 'FingerprintDigest': 'SHA-256', 'Format': 'pem'}\r\n2016-12-13 13:08:49,795 DEBUG   DescribeServiceCertificates sending flattened parameters as form data\r\n2016-12-13 13:08:49,798 INFO    Bootstrap sending request (attempt 1 of 3)\r\n2016-12-13 13:08:49,804 DEBUG   HmacV4Auth payload hash: a989842a160f71826a3e1f9cb880289e503a5eebb444d9bd162fba185f1f6336\r\n2016-12-13 13:08:49,804 DEBUG   HmacV4Auth scope: 20161213/future/bootstrap/aws4_request\r\n2016-12-13 13:08:49,804 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:90', 'content-type:application/x-www-form-urlencoded', 'host:bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a989842a160f71826a3e1f9cb880289e503a5eebb444d9bd162fba185f1f6336', 'x-amz-date:20161213T210849Z']\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:90\\ncontent-type:application/x-www-form-urlencoded\\nhost:bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a989842a160f71826a3e1f9cb880289e503a5eebb444d9bd162fba185f1f6336\\nx-amz-date:20161213T210849Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na989842a160f71826a3e1f9cb880289e503a5eebb444d9bd162fba185f1f6336'\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T210849Z\\n20161213/future/bootstrap/aws4_request\\nafdffc9ccc29f897199ff6687f3266dec65743a81872e7c119ae25df32ce0b68'\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth signature: 00af313a1d9504c01c437daa5c9244684a986afd8de1bd032c0db9986f93708b\r\n2016-12-13 13:08:49,805 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:08:49,805 DEBUG   Bootstrap request method: POST\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request url:    http://bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Accept: */*\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/future/bootstrap/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=00af313a1d9504c01c437daa5c9244684a986afd8de1bd032c0db9986f93708b\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Connection: keep-alive\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Content-Length: 90\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: Host: bootstrap.g-08-01.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: X-Amz-Content-SHA256: a989842a160f71826a3e1f9cb880289e503a5eebb444d9bd162fba185f1f6336\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request header: X-Amz-Date: 20161213T210849Z\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request data:   Action: DescribeServiceCertificates\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request data:   FingerprintDigest: SHA-256\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request data:   Format: pem\r\n2016-12-13 13:08:49,806 DEBUG   Bootstrap request data:   Version: eucalyptus\r\n2016-12-13 13:08:49,830 DEBUG   Bootstrap response time: 0.023 seconds\r\n2016-12-13 13:08:49,830 INFO    Bootstrap response status: 200\r\n2016-12-13 13:08:49,830 DEBUG   Bootstrap response header: content-length: 2075\r\n2016-12-13 13:08:49,831 DEBUG   Bootstrap response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 13:08:49,831 DEBUG   Bootstrap response header: date: Tue, 13 Dec 2016 21:08:49 UTC\r\n2016-12-13 13:08:49,831 DEBUG   Bootstrap response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:08:49,831 DEBUG   DescribeServiceCertificates -- response content --\r\n<euca:DescribeServiceCertificatesResponseType xmlns:euca=\"http://msgs.eucalyptus.com/4.3.1\"><euca:EmpyreanMessage><euca:correlationId>c06c0dfb-5a7c-49d4-b040-eabe176e615f</euca:correlationId><euca:_return>true</euca:_return><euca:_services/><euca:_disabledServices/><euca:_notreadyServices/><euca:_stoppedServices/></euca:EmpyreanMessage><euca:serviceCertificates><euca:item><euca:serviceType>compute</euca:serviceType><euca:certificateUsage>image-bundling</euca:certificateUsage><euca:certificateFormat>pem</euca:certificateFormat><euca:certificate>-----BEGIN CERTIFICATE-----\r\nMIIDQDCCAiigAwIBAgIGDaXMLcFcMA0GCSqGSIb3DQEBDQUAMEcxCzAJBgNVBAYT\r\nAlVTMQ4wDAYDVQQKEwVDbG91ZDETMBEGA1UECxMKRXVjYWx5cHR1czETMBEGA1UE\r\nAxMKZXVjYWx5cHR1czAeFw0xNjExMTUyMDEyMDlaFw0yMTExMTUyMDEyMDlaMEcx\r\nCzAJBgNVBAYTAlVTMQ4wDAYDVQQKEwVDbG91ZDETMBEGA1UECxMKRXVjYWx5cHR1\r\nczETMBEGA1UEAxMKZXVjYWx5cHR1czCCASIwDQYJKoZIhvcNAQEBBQADggEPADCC\r\nAQoCggEBALDyu9G+AiKPTwMd5nmOQWcNKPAIKUvVNIJmz5VLVjmcuHYAj26wyCfx\r\nwyac3uMKTu586nDuDIDjogXD9or2pV8T2KgX4Q2ywpcVFk8AdmnCsU1gFXCPQBj8\r\nBenw8UmI3RnI3uAZ4mduYOhvnwPJcbpCqUUvCYaxeV50+3G9STLneVHXuzmW1g0g\r\nCtEr8IgAYFm/BLVWglgx0PTO2av1J8jshzlTOT3GAF7GhOmGrXWqFgorzugPiGxP\r\ntu50E2v/qQqmP0z4/8gNPX0bwQBMQubOHvZto2ImrDHFW2JAv1p+coO4eV3E7/dU\r\naRq6o/btnWBVxF3ch9qIdZZ+HqerxmUCAwEAAaMyMDAwDwYDVR0TAQH/BAUwAwEB\r\n/zAdBgNVHQ4EFgQUW+u6Nsf51NI5shEsf8bZLU00YZ0wDQYJKoZIhvcNAQENBQAD\r\nggEBAHw3HT0w6TsVP6FJXU069FHu6LAhCHO9ExmLjz82UNAHJysT4QEIPdkZxOlh\r\n8sfpVGR8HXrl+5YMJMkxOJ/Jr0uQkiyOQfsl9oD1HpjLj0Z8gLSvStRUGBoz4np0\r\nHA4igmdOo8y3K7ihxl6E3iqM3LNsC3g8b+DlDlJ2dysPT/NBK+ewbpTFmmIxb08D\r\n0AJixJltaN4bTsYmcso8s7v+6LFeF+uq9IF1HqCvhcezuVs7OAnApIvqmaxUr9AX\r\ntZ/uFNxUTOJsxCH2Bmg8BdwHforLt5sn81Sty8teKmcmWBvJQbPYSfku1J7QWaHo\r\ny8eJVGORLStYwSgdj/jQ76Zqe38=\r\n-----END CERTIFICATE-----\r\n</euca:certificate><euca:certificateFingerprint>23:8F:9F:F7:96:64:A7:93:32:2F:3C:3A:CA:D4:2F:AC:DF:A0:72:EB:6B:CC:9E:7A:04:B1:82:1E:5D:91:C5:4F</euca:certificateFingerprint><euca:certificateFingerprintDigest>SHA-256</euca:certificateFingerprintDigest></euca:item></euca:serviceCertificates></euca:DescribeServiceCertificatesResponseType>\r\n2016-12-13 13:08:49,831 DEBUG   DescribeServiceCertificates -- end of response content --\r\n2016-12-13 13:08:49,832 DEBUG   BundleImage using cloud certificate from bootstrap service\r\n2016-12-13 13:08:49,832 DEBUG   BundleImage cloud certificate: /tmp/tmpnSFAMm\r\n2016-12-13 13:08:49,873 DEBUG   BundleImage bundle path prefix: /var/tmp/bundle-3bk4zy/trusty-server-cloudimg-amd64-vmlinuz-generic\r\nBundling image 100% |======================================================================================================|   5.58 MB  26.94 MB/s Time: 0:00:00\r\n2016-12-13 13:08:50,118 INFO    BundleImage 1 bundle parts written to /var/tmp/bundle-3bk4zy\r\n2016-12-13 13:08:50,118 DEBUG   BundleImage bundle digest: 3992681ddc43fa1435d0a5dd4668f8caee21a864\r\n2016-12-13 13:08:50,131 INFO    BundleManifest creating manifest for EC2 service with fingerprint 302a409bf29f9410aedae91f7feb2e9efc0eb382\r\n2016-12-13 13:08:50,132 DEBUG   BundleManifest EC2 certificate:  /tmp/tmpnSFAMm\r\n2016-12-13 13:08:50,132 DEBUG   BundleManifest user certificate: None\r\n2016-12-13 13:08:50,132 DEBUG   BundleManifest user private key: None\r\n2016-12-13 13:08:50,142 DEBUG   BundleManifest hex-encoded signature: UNSIGNED\r\n2016-12-13 13:08:50,142 DEBUG   BundleManifest -- manifest content --\r\n<manifest>\r\n  <version>2007-10-10</version>\r\n  <bundler>\r\n    <name>euca2ools</name>\r\n    <version>3.3.1-68-ga195aac</version>\r\n    <release>0</release>\r\n  </bundler>\r\n  <machine_configuration>\r\n    <architecture>x86_64</architecture>\r\n    <kernel_id>true</kernel_id>\r\n  </machine_configuration>\r\n  <image>\r\n    <name>trusty-server-cloudimg-amd64-vmlinuz-generic</name>\r\n    <user>001769317121</user>\r\n    <type>kernel</type>\r\n    <digest algorithm=\"SHA1\">3992681ddc43fa1435d0a5dd4668f8caee21a864</digest>\r\n    <size>5849488</size>\r\n    <bundled_size>5785216</bundled_size>\r\n    <ec2_encrypted_key algorithm=\"AES-128-CBC\">612ed9a62e0a22fa4a14ec86e72116e05c0e0a2a622f78c0538b9726052dbca73f2561bfd1956ea16b07272f0ace53fba9ff20442a63ea3510401490229e98e27f24822e27be8b2ed5bb86a985102b8e6c12c89f439dec33ff60380037b6fc2e8d05363bf795bacc50b449ca520959b218441835344afb21e98226dc58b565d1413788cdfe399702378b8e99ba9fc9ccc1706160e15549930a391cd8ffdcc3eb77bd6617e1180a1b43e558f67f5e0bef6a3c9eba0a308bdfafe97f3060728d521a2ba170fec1a432ee01276e48e7dd1f4922728e4ec7cb79ac4114a0b2306b884de6cdc330d828f817832665767ad77c01c73efd829e0a171492069a86c05516</ec2_encrypted_key>\r\n    <user_encrypted_key algorithm=\"AES-128-CBC\"/>\r\n    <ec2_encrypted_iv>970c2b9d52550f63fcc71da396279574667d46028a6cafb5f3220200ae146665da2d841d52cfc5c235292ec7c94a50718d01221a1948e4d64c2f4638a4fb0830a559725ec860d03db2a32ba0b7d25b6d2b2ef538f018e0194733f6c1b86041351daccb2033099aa0e0133b9daa84ea75d49fcd984e48aa6af321c4adf66b72e74340b04ff23aa1391971463586799509196009e73a93a29b0271ca7985431d0bad354ace686b479d6c4308ba43f8d9458ff00f35dafeaafa473dea3cada1753562688eaaccef12f658d8e3a5a9fc2fffceca9ffb31a0945b07d5938b7e3f685b60c5c5a235469038ec573630a5ab1043edb377f5eb366c2258eb131750b4e4c3</ec2_encrypted_iv>\r\n    <user_encrypted_iv/>\r\n    <parts count=\"1\">\r\n      <part index=\"0\">\r\n        <filename>trusty-server-cloudimg-amd64-vmlinuz-generic.part.00</filename>\r\n        <digest algorithm=\"SHA1\">6b937c6656c47a9b90f61fcab94927bd1b3650eb</digest>\r\n      </part>\r\n    </parts>\r\n  </image>\r\n  <signature>UNSIGNED</signature>\r\n</manifest>\r\n2016-12-13 13:08:50,142 DEBUG   BundleManifest -- end of manifest content --\r\nWrote manifest /var/tmp/bundle-3bk4zy/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n[root@d-14 ~]# euca-upload-bundle -b ubuntu-trusty-x86_64-kernel -m  /var/tmp/bundle-3bk4zy/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml --region qa-admin@drake --debug\r\n2016-12-13 13:09:16,433 DEBUG   UploadBundle parsed arguments from CLI: {'retries': 0, 'show_progress': True, 'security_token': None, 'url': None, 'upload_policy': None, 'skipmanifest': False, 'show_porcelain': False, 'bucket': 'ubuntu-trusty-x86_64-kernel', 'acl': 'aws-exec-read', 'part': 0, 'location': None, 'upload_policy_signature': None, 'directory': None, 'key_id': None, 'secret_key': None, 'manifest': '/var/tmp/bundle-3bk4zy/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml', 'region': 'qa-admin@drake'}\r\n2016-12-13 13:09:16,433 INFO    Config set region to drake\r\n2016-12-13 13:09:16,433 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:16,433 INFO    Config finding region option s3-url\r\n2016-12-13 13:09:16,433 DEBUG   Config   section drake\r\n2016-12-13 13:09:16,433 INFO    Config   found   drake::s3-url = 'http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/'\r\n2016-12-13 13:09:16,433 INFO    Config finding region option name\r\n2016-12-13 13:09:16,433 DEBUG   Config   section drake\r\n2016-12-13 13:09:16,433 INFO    Config   found   drake::name = 'drake'\r\n2016-12-13 13:09:16,433 INFO    Config finding global option max-retries\r\n2016-12-13 13:09:16,433 INFO    Config   novalue for max-retries\r\n2016-12-13 13:09:16,433 INFO    Config finding global option timeout\r\n2016-12-13 13:09:16,433 INFO    Config   novalue for timeout\r\n2016-12-13 13:09:16,433 INFO    Config finding region option verify-ssl\r\n2016-12-13 13:09:16,434 DEBUG   Config   section drake\r\n2016-12-13 13:09:16,434 DEBUG   Config   section *\r\n2016-12-13 13:09:16,434 INFO    Config   novalue for verify-ssl\r\n2016-12-13 13:09:16,434 INFO    Config finding user option key-id\r\n2016-12-13 13:09:16,434 DEBUG   Config   section qa-admin\r\n2016-12-13 13:09:16,434 DEBUG   Config   jump-to 001769317121:qa-admin::key-id (from qa-admin)\r\n2016-12-13 13:09:16,434 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:09:16,434 INFO    Config   found   001769317121:qa-admin::key-id = 'AKIABO5S45C45R3PKPW6'\r\n2016-12-13 13:09:16,434 INFO    Config finding user option secret-key\r\n2016-12-13 13:09:16,434 DEBUG   Config   section qa-admin\r\n2016-12-13 13:09:16,434 DEBUG   Config   jump-to 001769317121:qa-admin::secret-key (from qa-admin)\r\n2016-12-13 13:09:16,434 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:09:16,434 INFO    Config   found   001769317121:qa-admin::secret-key = <redacted>\r\n2016-12-13 13:09:16,434 DEBUG   HmacV1Auth using auth info from configuration\r\n2016-12-13 13:09:16,435 INFO    Config finding region option s3-force-sigv4\r\n2016-12-13 13:09:16,435 DEBUG   Config   section drake\r\n2016-12-13 13:09:16,435 DEBUG   Config   section *\r\n2016-12-13 13:09:16,435 INFO    Config   novalue for s3-force-sigv4\r\n2016-12-13 13:09:16,436 INFO    Config set region to drake\r\n2016-12-13 13:09:16,436 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:16,436 DEBUG   HmacV1Auth using auth info provided directly\r\n2016-12-13 13:09:16,439 INFO    S3 sending request (attempt 1 of 3)\r\n2016-12-13 13:09:16,446 DEBUG   HmacV1Auth canonicalized headers: ''\r\n2016-12-13 13:09:16,446 DEBUG   HmacV1Auth canonicalized resource: '/ubuntu-trusty-x86_64-kernel'\r\n2016-12-13 13:09:16,446 DEBUG   HmacV1Auth string to sign: 'GET\\n\\n\\nTue, 13 Dec 2016 21:09:16 -0000\\n/ubuntu-trusty-x86_64-kernel'\r\n2016-12-13 13:09:16,446 DEBUG   HmacV1Auth b64-encoded signature: ntF6A9Bqg+iJk76grJqHk10iTvM=\r\n2016-12-13 13:09:16,446 DEBUG   S3 request method: GET\r\n2016-12-13 13:09:16,446 DEBUG   S3 request url:    http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/ubuntu-trusty-x86_64-kernel?max-keys=0\r\n2016-12-13 13:09:16,446 DEBUG   S3 request header: Accept: */*\r\n2016-12-13 13:09:16,446 DEBUG   S3 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:16,446 DEBUG   S3 request header: Authorization: AWS AKIABO5S45C45R3PKPW6:ntF6A9Bqg+iJk76grJqHk10iTvM=\r\n2016-12-13 13:09:16,447 DEBUG   S3 request header: Connection: keep-alive\r\n2016-12-13 13:09:16,447 DEBUG   S3 request header: Date: Tue, 13 Dec 2016 21:09:16 -0000\r\n2016-12-13 13:09:16,447 DEBUG   S3 request header: Host: s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:16,447 DEBUG   S3 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:16,447 DEBUG   S3 request param:  max-keys: 0\r\n2016-12-13 13:09:16,587 DEBUG   S3 response time: 0.140 seconds\r\n2016-12-13 13:09:16,587 ERROR   S3 response status: 404\r\n2016-12-13 13:09:16,587 DEBUG   S3 response header: connection: close\r\n2016-12-13 13:09:16,588 DEBUG   S3 response header: content-length: 289\r\n2016-12-13 13:09:16,588 DEBUG   S3 response header: content-type: application/xml\r\n2016-12-13 13:09:16,588 DEBUG   S3 response header: date: Tue, 13 Dec 2016 21:09:16 GMT\r\n2016-12-13 13:09:16,588 DEBUG   S3 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:16,588 DEBUG   S3 response header: x-amz-request-id: 5fe43fab-9818-4d54-a879-a60597d9e41c\r\n2016-12-13 13:09:16,600 DEBUG   CheckBucket -- response content --\r\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?><Error xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Code>NoSuchBucket</Code><Message>The specified bucket does not exist.</Message><Resource>ubuntu-trusty-x86_64-kernel</Resource><RequestId>5fe43fab-9818-4d54-a879-a60597d9e41c</RequestId></Error>\r\n2016-12-13 13:09:16,600 DEBUG   CheckBucket -- end of response content --\r\n2016-12-13 13:09:16,600 INFO    CheckBucket result: failure\r\n2016-12-13 13:09:16,600 INFO    UploadBundle creating bucket 'ubuntu-trusty-x86_64-kernel'\r\n2016-12-13 13:09:16,602 INFO    Config set region to drake\r\n2016-12-13 13:09:16,602 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:16,602 DEBUG   HmacV1Auth using auth info provided directly\r\n2016-12-13 13:09:16,603 INFO    Config finding region option s3-location-constraint\r\n2016-12-13 13:09:16,603 DEBUG   Config   section drake\r\n2016-12-13 13:09:16,603 DEBUG   Config   section *\r\n2016-12-13 13:09:16,603 INFO    Config   novalue for s3-location-constraint\r\n2016-12-13 13:09:16,603 INFO    S3 sending request (attempt 1 of 3)\r\n2016-12-13 13:09:16,604 DEBUG   HmacV1Auth canonicalized headers: ''\r\n2016-12-13 13:09:16,604 DEBUG   HmacV1Auth canonicalized resource: '/ubuntu-trusty-x86_64-kernel'\r\n2016-12-13 13:09:16,604 DEBUG   HmacV1Auth string to sign: 'PUT\\n\\n\\nTue, 13 Dec 2016 21:09:16 -0000\\n/ubuntu-trusty-x86_64-kernel'\r\n2016-12-13 13:09:16,605 DEBUG   HmacV1Auth b64-encoded signature: NDz0N3RMFRWtEE5m+v8yPIiW1Fg=\r\n2016-12-13 13:09:16,605 DEBUG   S3 request method: PUT\r\n2016-12-13 13:09:16,605 DEBUG   S3 request url:    http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/ubuntu-trusty-x86_64-kernel\r\n2016-12-13 13:09:16,605 DEBUG   S3 request header: Accept: */*\r\n2016-12-13 13:09:16,605 DEBUG   S3 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:16,605 DEBUG   S3 request header: Authorization: AWS AKIABO5S45C45R3PKPW6:NDz0N3RMFRWtEE5m+v8yPIiW1Fg=\r\n2016-12-13 13:09:16,605 DEBUG   S3 request header: Connection: keep-alive\r\n2016-12-13 13:09:16,605 DEBUG   S3 request header: Content-Length: 0\r\n2016-12-13 13:09:16,606 DEBUG   S3 request header: Date: Tue, 13 Dec 2016 21:09:16 -0000\r\n2016-12-13 13:09:16,606 DEBUG   S3 request header: Host: s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:16,606 DEBUG   S3 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:17,124 DEBUG   S3 response time: 0.518 seconds\r\n2016-12-13 13:09:17,124 INFO    S3 response status: 200\r\n2016-12-13 13:09:17,124 DEBUG   S3 response header: content-length: 0\r\n2016-12-13 13:09:17,124 DEBUG   S3 response header: date: Tue, 13 Dec 2016 21:09:17 GMT\r\n2016-12-13 13:09:17,125 DEBUG   S3 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:17,125 DEBUG   S3 response header: x-amz-request-id: 1543c913-3bb9-4382-acaa-2395ce6654c6\r\n2016-12-13 13:09:17,134 INFO    Config set region to drake\r\n2016-12-13 13:09:17,135 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:17,135 DEBUG   HmacV1Auth using auth info provided directly\r\n2016-12-13 13:09:17,135 INFO    S3 sending request (attempt 1 of 3)\r\n2016-12-13 13:09:17,137 DEBUG   HmacV1Auth canonicalized headers: 'x-amz-acl:aws-exec-read\\n'                             |   0.00  B   0.00  B/s ETA:  --:--:--\r\n2016-12-13 13:09:17,137 DEBUG   HmacV1Auth canonicalized resource: '/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.part.00'\r\n2016-12-13 13:09:17,137 DEBUG   HmacV1Auth string to sign: 'PUT\\n\\n\\nTue, 13 Dec 2016 21:09:17 -0000\\nx-amz-acl:aws-exec-read\\n/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.part.00'\r\n2016-12-13 13:09:17,138 DEBUG   HmacV1Auth b64-encoded signature: YM2mgzHVQoBzlp+wCxUhVluRgSo=\r\n2016-12-13 13:09:17,138 DEBUG   S3 request method: PUT\r\n2016-12-13 13:09:17,138 DEBUG   S3 request url:    http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.part.00\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Accept: */*\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Authorization: AWS AKIABO5S45C45R3PKPW6:YM2mgzHVQoBzlp+wCxUhVluRgSo=\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Connection: keep-alive\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Content-Length: 5785216\r\n2016-12-13 13:09:17,138 DEBUG   S3 request header: Date: Tue, 13 Dec 2016 21:09:17 -0000\r\n2016-12-13 13:09:17,139 DEBUG   S3 request header: Host: s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:17,139 DEBUG   S3 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:17,139 DEBUG   S3 request header: x-amz-acl: aws-exec-read\r\n2016-12-13 13:09:17,813 DEBUG   S3 response time: 0.674 secondseric.part.00 100% |=========================================|   5.52 MB   8.84 MB/s ETA:  0:00:00\r\n2016-12-13 13:09:17,813 INFO    S3 response status: 200\r\n2016-12-13 13:09:17,813 DEBUG   S3 response header: content-length: 0\r\n2016-12-13 13:09:17,814 DEBUG   S3 response header: date: Tue, 13 Dec 2016 21:09:17 GMT\r\n2016-12-13 13:09:17,814 DEBUG   S3 response header: etag: \"db555871e12797a964150d36c4888070\"\r\n2016-12-13 13:09:17,814 DEBUG   S3 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:17,814 DEBUG   S3 response header: x-amz-request-id: ee48173c-80db-4e0c-8b43-692fd745a085\r\n/var/tmp/bundle-3bk4zy/trusty-server-cloudimg-amd64-vmlinuz-generic.part.00 100% |=========================================|   5.52 MB   8.21 MB/s Time: 0:00:00\r\n2016-12-13 13:09:17,844 INFO    Config set region to drake\r\n2016-12-13 13:09:17,844 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:17,844 DEBUG   HmacV1Auth using auth info provided directly\r\n2016-12-13 13:09:17,844 INFO    S3 sending request (attempt 1 of 3)\r\n2016-12-13 13:09:17,845 DEBUG   HmacV1Auth canonicalized headers: 'x-amz-acl:aws-exec-read\\n'\r\n2016-12-13 13:09:17,845 DEBUG   HmacV1Auth canonicalized resource: '/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml'\r\n2016-12-13 13:09:17,846 DEBUG   HmacV1Auth string to sign: 'PUT\\n\\n\\nTue, 13 Dec 2016 21:09:17 -0000\\nx-amz-acl:aws-exec-read\\n/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml'\r\n2016-12-13 13:09:17,846 DEBUG   HmacV1Auth b64-encoded signature: bZgBHkkxj4vmwfMSXmQoirS8GtE=\r\n2016-12-13 13:09:17,846 DEBUG   S3 request method: PUT\r\n2016-12-13 13:09:17,846 DEBUG   S3 request url:    http://s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773/ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 13:09:17,846 DEBUG   S3 request header: Accept: */*\r\n2016-12-13 13:09:17,846 DEBUG   S3 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:17,846 DEBUG   S3 request header: Authorization: AWS AKIABO5S45C45R3PKPW6:bZgBHkkxj4vmwfMSXmQoirS8GtE=\r\n2016-12-13 13:09:17,846 DEBUG   S3 request header: Connection: keep-alive\r\n2016-12-13 13:09:17,847 DEBUG   S3 request header: Content-Length: 1956\r\n2016-12-13 13:09:17,847 DEBUG   S3 request header: Date: Tue, 13 Dec 2016 21:09:17 -0000\r\n2016-12-13 13:09:17,847 DEBUG   S3 request header: Host: s3.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:17,847 DEBUG   S3 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:17,847 DEBUG   S3 request header: x-amz-acl: aws-exec-read\r\n2016-12-13 13:09:18,553 DEBUG   S3 response time: 0.705 seconds\r\n2016-12-13 13:09:18,553 INFO    S3 response status: 200\r\n2016-12-13 13:09:18,553 DEBUG   S3 response header: content-length: 0\r\n2016-12-13 13:09:18,553 DEBUG   S3 response header: date: Tue, 13 Dec 2016 21:09:18 GMT\r\n2016-12-13 13:09:18,553 DEBUG   S3 response header: etag: \"b9aaea40d98af396f6ae34d7200cc3f9\"\r\n2016-12-13 13:09:18,554 DEBUG   S3 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:18,554 DEBUG   S3 response header: x-amz-request-id: 809fe516-168d-489d-8f87-b3b106dc428b\r\nUploaded ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.part.00\r\nUploaded ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n[root@d-14 ~]# euca-register -n ubuntu-trusty-x86_64-kernel ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml --region qa-admin@drake --debug\r\n2016-12-13 13:09:32,740 DEBUG   RegisterImage parsed arguments from CLI: {'VirtualizationType': None, 'BlockDeviceMapping': [], 'Description': None, 'security_token': None, 'url': None, 'region': 'qa-admin@drake', 'key_id': None, 'Platform': None, 'snapshot': None, 'Architecture': None, 'show_empty_fields': False, 'ImageLocation': 'ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml', 'KernelId': None, 'RamdiskId': None, 'secret_key': None, 'RootDeviceName': None, 'Name': 'ubuntu-trusty-x86_64-kernel'}\r\n2016-12-13 13:09:32,740 INFO    Config set region to drake\r\n2016-12-13 13:09:32,740 INFO    Config set user to qa-admin\r\n2016-12-13 13:09:32,740 INFO    Config finding region option ec2-url\r\n2016-12-13 13:09:32,740 DEBUG   Config   section drake\r\n2016-12-13 13:09:32,740 INFO    Config   found   drake::ec2-url = 'http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/'\r\n2016-12-13 13:09:32,741 INFO    Config finding region option name\r\n2016-12-13 13:09:32,741 DEBUG   Config   section drake\r\n2016-12-13 13:09:32,741 INFO    Config   found   drake::name = 'drake'\r\n2016-12-13 13:09:32,741 INFO    Config finding global option max-retries\r\n2016-12-13 13:09:32,741 INFO    Config   novalue for max-retries\r\n2016-12-13 13:09:32,741 INFO    Config finding global option timeout\r\n2016-12-13 13:09:32,741 INFO    Config   novalue for timeout\r\n2016-12-13 13:09:32,741 INFO    Config finding region option verify-ssl\r\n2016-12-13 13:09:32,741 DEBUG   Config   section drake\r\n2016-12-13 13:09:32,741 DEBUG   Config   section *\r\n2016-12-13 13:09:32,741 INFO    Config   novalue for verify-ssl\r\n2016-12-13 13:09:32,741 INFO    Config finding user option key-id\r\n2016-12-13 13:09:32,741 DEBUG   Config   section qa-admin\r\n2016-12-13 13:09:32,741 DEBUG   Config   jump-to 001769317121:qa-admin::key-id (from qa-admin)\r\n2016-12-13 13:09:32,741 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:09:32,742 INFO    Config   found   001769317121:qa-admin::key-id = 'AKIABO5S45C45R3PKPW6'\r\n2016-12-13 13:09:32,742 INFO    Config finding user option secret-key\r\n2016-12-13 13:09:32,742 DEBUG   Config   section qa-admin\r\n2016-12-13 13:09:32,742 DEBUG   Config   jump-to 001769317121:qa-admin::secret-key (from qa-admin)\r\n2016-12-13 13:09:32,742 DEBUG   Config   section 001769317121:qa-admin\r\n2016-12-13 13:09:32,742 INFO    Config   found   001769317121:qa-admin::secret-key = <redacted>\r\n2016-12-13 13:09:32,742 DEBUG   HmacV4Auth using auth info from configuration\r\n2016-12-13 13:09:32,742 INFO    RegisterImage parameters: {'Action': 'RegisterImage', 'Version': '2015-10-01', 'Name': 'ubuntu-trusty-x86_64-kernel', 'ImageLocation': 'ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml'}\r\n2016-12-13 13:09:32,742 DEBUG   RegisterImage sending flattened parameters as form data\r\n2016-12-13 13:09:32,745 INFO    EC2 sending request (attempt 1 of 3)\r\n2016-12-13 13:09:32,751 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T210932Z']\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T210932Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T210932Z\\n20161213/drake/ec2/aws4_request\\n8d3e585ebccee85cda0c98d6973100dd0dfe3fe54b39d8b4d225d5a275855f02'\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth signature: 8c015bddf0055c646ea4d4f88740e99eb2cfd5d7f77cf98f6b5066faa71c11c1\r\n2016-12-13 13:09:32,752 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request method: POST\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=8c015bddf0055c646ea4d4f88740e99eb2cfd5d7f77cf98f6b5066faa71c11c1\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request header: X-Amz-Date: 20161213T210932Z\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 13:09:32,753 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 13:09:32,754 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 13:09:38,583 DEBUG   EC2 response time: 5.828 seconds\r\n2016-12-13 13:09:38,583 ERROR   EC2 response status: 500\r\n2016-12-13 13:09:38,583 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 13:09:38,583 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 13:09:38,583 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 21:09:38 UTC\r\n2016-12-13 13:09:38,583 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:38,583 DEBUG   EC2 will retry after 1.905 seconds\r\n2016-12-13 13:09:40,490 INFO    EC2 sending request (attempt 2 of 3)\r\n2016-12-13 13:09:40,491 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T210940Z']\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T210940Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 13:09:40,492 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T210940Z\\n20161213/drake/ec2/aws4_request\\n8ec103ed76fc61c4cdb5a7a8268d44ce1dd6ecf0a190cea9091c54806a304cc9'\r\n2016-12-13 13:09:40,493 DEBUG   HmacV4Auth signature: c298c835efdea225d186e424023b10c4873a37544f05e83fc3cfb74f903f9949\r\n2016-12-13 13:09:40,493 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:40,493 DEBUG   EC2 request method: POST\r\n2016-12-13 13:09:40,493 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 13:09:40,493 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 13:09:40,493 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:40,493 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=c298c835efdea225d186e424023b10c4873a37544f05e83fc3cfb74f903f9949\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request header: X-Amz-Date: 20161213T210940Z\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 13:09:40,494 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 13:09:40,495 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 13:09:40,495 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 13:09:41,024 DEBUG   EC2 response time: 0.528 seconds\r\n2016-12-13 13:09:41,024 ERROR   EC2 response status: 500\r\n2016-12-13 13:09:41,024 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 13:09:41,024 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 13:09:41,024 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 21:09:41 UTC\r\n2016-12-13 13:09:41,024 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:41,024 DEBUG   EC2 will retry after 3.379 seconds\r\n2016-12-13 13:09:44,406 INFO    EC2 sending request (attempt 3 of 3)\r\n2016-12-13 13:09:44,407 DEBUG   HmacV4Auth payload hash: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:44,407 DEBUG   HmacV4Auth scope: 20161213/drake/ec2/aws4_request\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth canonical URI: /\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth canonical query:\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:174', 'content-type:application/x-www-form-urlencoded', 'host:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153', 'x-amz-date:20161213T210944Z']\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:174\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\\nx-amz-date:20161213T210944Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\na62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153'\r\n2016-12-13 13:09:44,408 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20161213T210944Z\\n20161213/drake/ec2/aws4_request\\n44aa23bd92b19e769ea1e3291d3799f2eb6420d20b5cf4840a6645e569a8789d'\r\n2016-12-13 13:09:44,409 DEBUG   HmacV4Auth signature: 9837241ae14294d16e9f72ea7656a297ee0749558f49e7b906c8dd274aef5877\r\n2016-12-13 13:09:44,409 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request method: POST\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request url:    http://ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request header: Accept: */*\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIABO5S45C45R3PKPW6/20161213/drake/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=9837241ae14294d16e9f72ea7656a297ee0749558f49e7b906c8dd274aef5877\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request header: Connection: keep-alive\r\n2016-12-13 13:09:44,409 DEBUG   EC2 request header: Content-Length: 174\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request header: Host: ec2.h-02.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.1-68-ga195aac (CPython 2.7.5; Linux 3.10.0-327.36.3.el7.x86_64; x86_64) requestbuilder/0.6.0 requests/2.6.0\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request header: X-Amz-Content-SHA256: a62341707b437d17c25bc01ef15151ca4bf0417d22bec27e4e0e79bad15ce153\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request header: X-Amz-Date: 20161213T210944Z\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request data:   Action: RegisterImage\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request data:   ImageLocation: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request data:   Name: ubuntu-trusty-x86_64-kernel\r\n2016-12-13 13:09:44,410 DEBUG   EC2 request data:   Version: 2015-10-01\r\n2016-12-13 13:09:44,994 DEBUG   EC2 response time: 0.583 seconds\r\n2016-12-13 13:09:44,994 ERROR   EC2 response status: 500\r\n2016-12-13 13:09:44,994 DEBUG   EC2 response header: content-length: 285\r\n2016-12-13 13:09:44,994 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2016-12-13 13:09:44,994 DEBUG   EC2 response header: date: Tue, 13 Dec 2016 21:09:44 UTC\r\n2016-12-13 13:09:44,994 DEBUG   EC2 response header: server: Eucalyptus/4.3.1\r\n2016-12-13 13:09:44,995 DEBUG   RegisterImage -- response content --\r\n<Response xmlns=\"\"><Errors><Error><Code>RegisterImageType</Code><Message>Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml</Message></Error></Errors><RequestID>28d26f09-0778-459c-8e24-1027ced80b67</RequestID></Response>\r\n2016-12-13 13:09:44,995 DEBUG   RegisterImage -- end of response content --\r\n2016-12-13 13:09:44,995 INFO    RegisterImage result: failure\r\neuca-register: error (RegisterImageType): Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-register\", line 6, in <module>\r\n    euca2ools.commands.ec2.registerimage.RegisterImage.run()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/command.py\", line 295, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/command.py\", line 292, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 205, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 276, in send\r\n    return BaseRequest.send(self)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 171, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/request.py\", line 158, in send\r\n    auth=self.auth)\r\n  File \"/usr/lib/python2.7/site-packages/requestbuilder/service.py\", line 227, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.7/site-packages/euca2ools/commands/ec2/__init__.py\", line 65, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (500, 'RegisterImageType', 'RegisterImageType', 'Failed to read manifest file: ubuntu-trusty-x86_64-kernel/trusty-server-cloudimg-amd64-vmlinuz-generic.manifest.xml')\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-12-13T15:12:21.281-0600","updated":"2016-12-13T15:12:21.281-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/52000/comment/114311","id":"114311","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"This isn't a bug.  The issue here regards the parsing of the euca2ools configuration file - which relates to TOOLS-635.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-12-13T15:23:55.146-0600","updated":"2016-12-13T15:23:55.146-0600"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13030/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}