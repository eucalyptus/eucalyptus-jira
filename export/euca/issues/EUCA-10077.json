{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"32941","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/32941","key":"EUCA-10077","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@234c7a1[id=83,rapidViewId=92,state=CLOSED,name=4.1.0 Sprint 6,goal=<null>,startDate=2014-10-15T21:01:31.173Z,endDate=2014-11-04T22:01:00.000Z,completeDate=2014-11-06T16:40:34.661Z,sequence=83]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2015-01-22T02:57:21.164-0600","customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10077/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2014-10-14T20:27:40.752-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2014-10-22T12:33:26.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":["4.1-vpc"],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"updated":"2015-05-08T17:00:23.341-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11500","id":"11500","name":"ELB","description":"Load Balancing"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"When using ELB with a default VPC a security group is created automatically. This EC2 security group should not be tagged as a load balancer resource (but note that tagging as a load balancer resource is the expected behaviour for ELB security groups in the eucalyptus account)","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Default VPC security group should not be tagged as load balancer resource","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i02y3j:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_58433464_*|*_10000_*:*_1_*:*_23450_*|*_10001_*:*_1_*:*_604531166_*|*_10003_*:*_1_*:*_7917592349_*|*_10006_*:*_1_*:*_0","customfield_10001":"2015-01-22T02:57:08.776-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["dshekhawat(dshekhawat)","sjones(sjones)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/32941/comment/82402","id":"82402","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Verified that this issue is fixed. Created a ELB as account administrator under non-eucalyptus account:\r\n\r\n{code}\r\n# eulb-create-lb -s subnet-5bdca743  -l \"lb-port=80, protocol=HTTP, instance-port=80, instance-protocol=HTTP\" MyLoadBalancer \r\nDNS_NAME\tMyLoadBalancer-778100406974.lb.c-06.autoqa.qa1.eucalyptus-systems.com\r\n{code}\r\n\r\nAs cloud administrator checked the details for the ELB instance to find out the security group:\r\n\r\n{code}\r\n# euca-describe-instances i-72e8b424\r\nRESERVATION\tr-917f7569\t330756414320\tdefault\r\nINSTANCE\ti-72e8b424\temi-0b9b2940\teuca-10-116-45-12.eucalyptus.c-06.autoqa.qa1.eucalyptus-systems.com\teuca-172-31-19-133.eucalyptus.internal\trunning\t\tm1.small\t2015-01-22T08:47:13.341Z\ttwo\t\t\t\tmonitoring-enabled\t10.116.45.12\t172.31.19.133\tvpc-facaa464\tsubnet-5bdca743\tinstance-store\t\t\t\t\thvm\t\t9282f22c-9276-4d01-a5f3-db69dcb260ae_two_1\tsg-31d4f8ca\t\t\tarn:aws:iam::330756414320:instance-profile/internal/loadbalancer/loadbalancer-vm-778100406974-MyLoadBalancer\tx86_64\r\nNETWORKINTERFACE\teni-4f71fd6d\tsubnet-5bdca743\tvpc-facaa464\t330756414320\tin-use\t172.31.19.133\teuca-172-31-19-133.eucalyptus.internal\ttrue\r\nATTACHMENT\t\t0\tattached\t2015-01-22T08:47:13.347Z\ttrue\r\nASSOCIATION\t10.116.45.12\teucalyptus\t172.31.19.133\r\nGROUP\tsg-31d4f8ca\tdefault\r\nPRIVATEIPADDRESS\t172.31.19.133\teuca-172-31-19-133.eucalyptus.internal\tprimary\r\nTAG\tinstance\ti-72e8b424\tName\tloadbalancer-resources\r\nTAG\tinstance\ti-72e8b424\taws:autoscaling:groupName\tasg-euca-internal-elb-778100406974-MyLoadBalancer\r\nTAG\tinstance\ti-72e8b424\teuca:node\t10.111.5.101\r\n{code}\r\n\r\nConfirmed that the new security group was created for this ELB and it isn't tagged as loadbalancer resource\r\n\r\n{code}\r\n# euca-describe-groups verbose sg-31d4f8ca\r\nGROUP\tsg-31d4f8ca\t778100406974\tdefault\tdefault VPC security group\tvpc-facaa464\r\nPERMISSION\t778100406974\tdefault\tALLOWS\t-1\t\t\tFROM\tUSER\t778100406974\tID\tsg-31d4f8ca\tingress\r\nPERMISSION\t778100406974\tdefault\tALLOWS\t-1\t\t\tTO\tCIDR\t0.0.0.0/0\tegress\r\n[root@c-06 dshekhawat]# euca-describe-groups verbose sg-31d4f8ca --debug\r\n2015-01-22 00:48:56,262 DEBUG   DescribeSecurityGroups parsed arguments: {'group': ['verbose', 'sg-31d4f8ca'], 'filters': None, 'security_token': None, 'url': None, 'region': None, 'show_empty_fields': False, 'key_id': None, 'secret_key': None}\r\n2015-01-22 00:48:56,262 INFO    Config finding global option default-region\r\n2015-01-22 00:48:56,262 INFO    Config   novalue for default-region\r\n2015-01-22 00:48:56,263 INFO    Config finding global option max-retries\r\n2015-01-22 00:48:56,263 INFO    Config   novalue for max-retries\r\n2015-01-22 00:48:56,263 INFO    Config finding global option timeout\r\n2015-01-22 00:48:56,263 INFO    Config   novalue for timeout\r\n2015-01-22 00:48:56,266 INFO    DescribeSecurityGroups parameters: {'GroupName.1': 'verbose', 'GroupId.1': 'sg-31d4f8ca', 'Version': '2014-06-15', 'Action': 'DescribeSecurityGroups'}\r\n2015-01-22 00:48:56,266 INFO    EC2 sending request (attempt 1 of 3)\r\n2015-01-22 00:48:56,267 DEBUG   QuerySigV2Auth string to sign: 'POST\\n10.111.1.41:8773\\n/services/compute\\nAWSAccessKeyId=AKIKSLJOPGVJVOWZO9KB&Action=DescribeSecurityGroups&GroupId.1=sg-31d4f8ca&GroupName.1=verbose&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2015-01-22T08%3A48%3A56Z&Version=2014-06-15'\r\n2015-01-22 00:48:56,268 DEBUG   QuerySigV2Auth b64-encoded signature: Ea6ugiYRBxJ6kv/3t/V2ncFA5BmnwO9yvKILVFbq0wE=\r\n2015-01-22 00:48:56,268 DEBUG   QuerySigV2Auth converting params to POST data\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request method: POST\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request url:    http://10.111.1.41:8773/services/compute\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request header: Content-Length: 268\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request header: Host: 10.111.1.41:8773\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request header: User-Agent: euca2ools/3.2.0-pre1-65-gb4d4d07 (CPython 2.6.6; Linux 2.6.32-504.3.3.el6.x86_64; x86_64) requestbuilder/0.2.3 requests/1.1.0\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   AWSAccessKeyId: AKIKSLJOPGVJVOWZO9KB\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   Action: DescribeSecurityGroups\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   GroupId.1: sg-31d4f8ca\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   GroupName.1: verbose\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   Signature: Ea6ugiYRBxJ6kv/3t/V2ncFA5BmnwO9yvKILVFbq0wE=\r\n2015-01-22 00:48:56,273 DEBUG   EC2 request data:   SignatureMethod: HmacSHA256\r\n2015-01-22 00:48:56,274 DEBUG   EC2 request data:   SignatureVersion: 2\r\n2015-01-22 00:48:56,274 DEBUG   EC2 request data:   Timestamp: 2015-01-22T08:48:56Z\r\n2015-01-22 00:48:56,274 DEBUG   EC2 request data:   Version: 2014-06-15\r\n2015-01-22 00:48:56,338 DEBUG   EC2 response time: 0.064 seconds\r\n2015-01-22 00:48:56,338 INFO    EC2 response status: 200\r\n2015-01-22 00:48:56,339 DEBUG   EC2 response header: content-length: 768\r\n2015-01-22 00:48:56,339 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2015-01-22 00:48:56,339 DEBUG   DescribeSecurityGroups -- response content --\r\n<DescribeSecurityGroupsResponse xmlns=\"http://ec2.amazonaws.com/doc/2014-06-15/\"><requestId>50956a1f-d589-4886-9812-33fd60a946cc</requestId><securityGroupInfo><item><ownerId>778100406974</ownerId><groupId>sg-31d4f8ca</groupId><groupName>default</groupName><groupDescription>default VPC security group</groupDescription><vpcId>vpc-facaa464</vpcId><ipPermissions><item><ipProtocol>-1</ipProtocol><groups><item><userId>778100406974</userId><groupName>default</groupName><groupId>sg-31d4f8ca</groupId></item></groups><ipRanges/></item></ipPermissions><ipPermissionsEgress><item><ipProtocol>-1</ipProtocol><groups/><ipRanges><item><cidrIp>0.0.0.0/0</cidrIp></item></ipRanges></item></ipPermissionsEgress><tagSet/></item></securityGroupInfo></DescribeSecurityGroupsResponse>\r\n2015-01-22 00:48:56,340 DEBUG   DescribeSecurityGroups -- end of response content --\r\nGROUP\tsg-31d4f8ca\t778100406974\tdefault\tdefault VPC security group\tvpc-facaa464\r\nPERMISSION\t778100406974\tdefault\tALLOWS\t-1\t\t\tFROM\tUSER\t778100406974\tID\tsg-31d4f8ca\tingress\r\nPERMISSION\t778100406974\tdefault\tALLOWS\t-1\t\t\tTO\tCIDR\t0.0.0.0/0\tegress\r\n{code}\r\n\r\nCreated a similar load balancer in non-VPC mode as Eucalyptus account administrator and checked the security group details, found that it was tagged as loadbalancer resource\r\n\r\n{code}\r\n# euca-describe-groups sg-77f4e961\r\nGROUP\tsg-77f4e961\t453485424274\teuca-internal-453485424274-MyLoadBalancer\tgroup for loadbalancer MyLoadBalancer\t\r\nPERMISSION\t453485424274\teuca-internal-453485424274-MyLoadBalancer\tALLOWS\ttcp\t80\t80\tFROM\tCIDR\t0.0.0.0/0\tingress\r\nTAG\tsecurity-group\tsg-77f4e961\tName\tloadbalancer-resources\r\n[root@h-12 ~]# euca-describe-groups sg-77f4e961 --debug\r\n2015-01-22 00:53:38,959 DEBUG   DescribeSecurityGroups parsed arguments: {'group': ['sg-77f4e961'], 'filters': None, 'security_token': None, 'url': None, 'region': None, 'show_empty_fields': False, 'key_id': None, 'secret_key': None}\r\n2015-01-22 00:53:38,960 INFO    Config finding global option default-region\r\n2015-01-22 00:53:38,960 INFO    Config   novalue for default-region\r\n2015-01-22 00:53:38,960 INFO    Config finding global option max-retries\r\n2015-01-22 00:53:38,960 INFO    Config   novalue for max-retries\r\n2015-01-22 00:53:38,960 INFO    Config finding global option timeout\r\n2015-01-22 00:53:38,960 INFO    Config   novalue for timeout\r\n2015-01-22 00:53:38,963 INFO    DescribeSecurityGroups parameters: {'GroupId.1': 'sg-77f4e961', 'Action': 'DescribeSecurityGroups', 'Version': '2014-06-15'}\r\n2015-01-22 00:53:38,964 INFO    EC2 sending request (attempt 1 of 3)\r\n2015-01-22 00:53:38,965 DEBUG   QuerySigV2Auth string to sign: 'POST\\n10.111.5.12:8773\\n/services/compute\\nAWSAccessKeyId=AKIFM6MUXGXOG6UXNZOE&Action=DescribeSecurityGroups&GroupId.1=sg-77f4e961&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2015-01-22T08%3A53%3A38Z&Version=2014-06-15'\r\n2015-01-22 00:53:38,965 DEBUG   QuerySigV2Auth b64-encoded signature: I7Zpi4g0EO0vA1ejO5NpyAC9hbz44zp7j4yWQgzpUps=\r\n2015-01-22 00:53:38,965 DEBUG   QuerySigV2Auth converting params to POST data\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request method: POST\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request url:    http://10.111.5.12:8773/services/compute\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request header: Content-Length: 244\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request header: Host: 10.111.5.12:8773\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request header: User-Agent: euca2ools/3.2.0-pre1-65-gb4d4d07 (CPython 2.6.6; Linux 2.6.32-504.3.3.el6.x86_64; x86_64) requestbuilder/0.2.3 requests/1.1.0\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request data:   AWSAccessKeyId: AKIFM6MUXGXOG6UXNZOE\r\n2015-01-22 00:53:38,973 DEBUG   EC2 request data:   Action: DescribeSecurityGroups\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   GroupId.1: sg-77f4e961\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   Signature: I7Zpi4g0EO0vA1ejO5NpyAC9hbz44zp7j4yWQgzpUps=\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   SignatureMethod: HmacSHA256\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   SignatureVersion: 2\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   Timestamp: 2015-01-22T08:53:38Z\r\n2015-01-22 00:53:38,974 DEBUG   EC2 request data:   Version: 2014-06-15\r\n2015-01-22 00:53:39,049 DEBUG   EC2 response time: 0.074 seconds\r\n2015-01-22 00:53:39,049 INFO    EC2 response status: 200\r\n2015-01-22 00:53:39,049 DEBUG   EC2 response header: content-length: 711\r\n2015-01-22 00:53:39,049 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2015-01-22 00:53:39,049 DEBUG   DescribeSecurityGroups -- response content --\r\n<DescribeSecurityGroupsResponse xmlns=\"http://ec2.amazonaws.com/doc/2014-06-15/\"><requestId>7b583b1a-d204-4f80-b492-001455803359</requestId><securityGroupInfo><item><ownerId>453485424274</ownerId><groupId>sg-77f4e961</groupId><groupName>euca-internal-453485424274-MyLoadBalancer</groupName><groupDescription>group for loadbalancer MyLoadBalancer</groupDescription><ipPermissions><item><ipProtocol>tcp</ipProtocol><fromPort>80</fromPort><toPort>80</toPort><groups/><ipRanges><item><cidrIp>0.0.0.0/0</cidrIp></item></ipRanges></item></ipPermissions><ipPermissionsEgress/><tagSet><item><key>Name</key><value>loadbalancer-resources</value></item></tagSet></item></securityGroupInfo></DescribeSecurityGroupsResponse>\r\n2015-01-22 00:53:39,050 DEBUG   DescribeSecurityGroups -- end of response content --\r\nGROUP\tsg-77f4e961\t453485424274\teuca-internal-453485424274-MyLoadBalancer\tgroup for loadbalancer MyLoadBalancer\t\r\nPERMISSION\t453485424274\teuca-internal-453485424274-MyLoadBalancer\tALLOWS\ttcp\t80\t80\tFROM\tCIDR\t0.0.0.0/0\tingress\r\nTAG\tsecurity-group\tsg-77f4e961\tName\tloadbalancer-resources\r\n{code}\r\n\r\nPackages used to verify the fix for this issue:\r\n\r\n{code}\r\n# rpm -qa | grep euca\r\neuca2ools-3.2.0-0.0.1648.15.20150115gitb4d4d07.el6.noarch\r\neucalyptus-admin-tools-4.1.0-0.0.23039.364.20150120gitc561880.el6.noarch\r\neucalyptus-cloud-4.1.0-0.0.23039.364.20150120gitc561880.el6.x86_64\r\neucalyptus-4.1.0-0.0.23039.364.20150120gitc561880.el6.x86_64\r\neucalyptus-common-java-libs-4.1.0-0.0.23039.364.20150120gitc561880.el6.x86_64\r\neucanetd-4.1.0-0.0.23039.364.20150120gitc561880.el6.x86_64\r\neucalyptus-enterprise-storage-san-netapp-libs-4.1.0-0.0.4920.370.20150120gitc768a20.el6.x86_64\r\neucalyptus-service-image-0.1-0.14.6.150106git0e74004.el6.x86_64\r\neucalyptus-common-java-4.1.0-0.0.23039.364.20150120gitc561880.el6.x86_64\r\neucaconsole-4.1.0-0.0.5159.317.20150121git1c11b06.el6.noarch\r\n{code}\r\n\r\nPlease let me know if there are any questions.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2015-01-22T02:57:08.776-0600","updated":"2015-01-22T02:57:08.776-0600"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10077/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}