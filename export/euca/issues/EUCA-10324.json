{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"34145","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34145","key":"EUCA-10324","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11500","value":"Edge","id":"11500"}],"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@59e214ce[id=92,rapidViewId=92,state=CLOSED,name=4.1.0 Sprint 9,goal=<null>,startDate=2014-12-19T17:39:04.067Z,endDate=2015-01-23T17:39:00.000Z,completeDate=2015-02-02T18:43:16.138Z,sequence=92]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2015-01-16T16:38:44.295-0600","customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10324/watchers","watchCount":3,"isWatching":false},"created":"2015-01-13T01:37:19.551-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2015-01-15T19:33:34.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2015-05-08T17:03:46.574-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"}],"timeoriginalestimate":null,"description":"I believe there is an exception being gobbled up by the CLC and not propagated to the UFS when describeKeypairs with a non existent keypair name. Internal server error is returned.\r\n\r\nIn the tracking log i see:\r\n\r\n{noformat}\r\nMon Jan 12 23:15:51 2015 9f658ed5-4c3e-ark>43ec->8d94-aa039f2a72f2::c7c09432-4c40-4d62-8522-8ba61490d80b arn:aws:euare::316373828528:user/admin /10.112.10.3:38635 /10.112.10.1:8773 compute ErrorResponse [400 InvalidKeyPair.NotFound]\r\n{noformat}\r\n\r\nBut the user sees:\r\n{noformat}\r\n[2015-01-12 22:16:15,994] [EUCAOPS] [DEBUG]: Looking up keypair tester\r\n2015-01-12 22:16:15,994 foo [DEBUG]:Method: POST\r\n2015-01-12 22:16:15,994 foo [DEBUG]:Path: /services/compute/\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Data:\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Headers: {}\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Host: 10.112.10.3\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Port: 8773\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Params: {'Action': 'DescribeKeyPairs', 'Version': '2013-10-15', 'Ke\r\nyName.1': 'tester'}\r\n2015-01-12 22:16:15,995 foo [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2015-01-12 22:16:15,995 foo [DEBUG]:Token: None\r\n2015-01-12 22:16:15,995 foo [DEBUG]:using _calc_signature_2\r\n2015-01-12 22:16:15,995 foo [DEBUG]:query string: AWSAccessKeyId=AKIAINFFMPEJV8FNNY6E&Action=DescribeKe\r\nyPairs&KeyName.1=tester&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2015-01-13T06%3A16%3A15\r\nZ&Version=2013-10-15\r\n2015-01-12 22:16:15,995 foo [DEBUG]:string_to_sign: POST\r\n10.112.10.3\r\n/services/compute/\r\nAWSAccessKeyId=AKIAINFFMPEJV8FNNY6E&Action=DescribeKeyPairs&KeyName.1=tester&SignatureMethod=HmacSHA256\r\n&SignatureVersion=2&Timestamp=2015-01-13T06%3A16%3A15Z&Version=2013-10-15\r\n2015-01-12 22:16:15,995 foo [DEBUG]:len(b64)=44\r\n{noformat}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"With UFS and CLC separate, describeKeypair returns 500 for unknown keypair","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_23118384_*|*_10000_*:*_1_*:*_37667841_*|*_10001_*:*_1_*:*_195715487_*|*_10003_*:*_1_*:*_56783049_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i031iv:","customfield_10001":"2015-01-16T00:52:21.258-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["sjones(sjones)","tony(tony)","viglesias(viglesias)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34145/comment/81997","id":"81997","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue was occurring when the compute service appeared before the eucalyptus service in the CLC cloud-error log:\r\n\r\n{code}\r\nRestarting service context with these enabled services: [arn:euca:eucalyptus::autoscalingbackend:10.111.1.57/eucalyptus/autoscalingbackend autoscalingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::storage:10.111.1.57/eucalyptus/storage storage:partitioned:cloudLocal:, arn:euca:eucalyptus::vmwarebroker:10.111.1.57/eucalyptus/vmwarebroker vmwarebroker:partitioned:cloudLocal:, arn:euca:eucalyptus::cloudwatchbackend:10.111.1.57/eucalyptus/cloudwatchbackend cloudwatchbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::cluster:10.111.1.57/eucalyptus/cluster cluster:partitioned:cloudLocal:, arn:euca:bootstrap:cluster:gatherlog:10.111.1.57/cluster/gatherlog gatherlog:unpartitioned:, arn:euca:bootstrap::component:10.111.1.57/bootstrap/component component:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::db:10.111.1.57/eucalyptus/db db:unpartitioned:cloudLocal:, arn:euca:eucalyptus::dns:10.111.1.57/eucalyptus/dns dns:unpartitioned:cloudLocal:, arn:euca:eucalyptus:::10.111.1.57/eucalyptus/eucalyptus eucalyptus:unpartitioned:cloudLocal:, arn:euca:eucalyptus::jetty:10.111.1.57/eucalyptus/jetty jetty:unpartitioned:cloudLocal:, arn:euca:eucalyptus::ldap:10.111.1.57/eucalyptus/ldap ldap:unpartitioned:cloudLocal:, arn:euca:eucalyptus::notifications:10.111.1.57/eucalyptus/notifications notifications:unpartitioned:cloudLocal:, arn:euca:bootstrap::reporting:10.111.1.57/bootstrap/reporting reporting:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::configuration:10.111.1.57/eucalyptus/configuration configuration:unpartitioned:cloudLocal:, arn:euca:bootstrap:::10.111.1.57/bootstrap/bootstrap bootstrap:unpartitioned:alwaysLocal:, arn:euca:bootstrap::properties:10.111.1.57/bootstrap/properties properties:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::imagingbackend:10.111.1.57/eucalyptus/imagingbackend imagingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::loadbalancingbackend:10.111.1.57/eucalyptus/loadbalancingbackend loadbalancingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::pollednotifications:10.111.1.57/eucalyptus/pollednotifications pollednotifications:unpartitioned:cloudLocal:, arn:euca:bootstrap:walrusbackend:walrusbackend:10.111.1.57/walrusbackend/walrusbackend walrusbackend:unpartitioned:, arn:euca:bootstrap:autoscaling:autoscaling:10.111.1.57/autoscaling/autoscaling autoscaling:unpartitioned:, arn:euca:bootstrap:cloudformation:cloudformation:10.111.1.57/cloudformation/cloudformation cloudformation:unpartitioned:, arn:euca:bootstrap:cloudwatch:cloudwatch:10.111.1.57/cloudwatch/cloudwatch cloudwatch:unpartitioned:, arn:euca:bootstrap:user-api:user-api:10.111.1.57/user-api/user-api user-api:unpartitioned:, arn:euca:bootstrap:euare:euare:10.111.1.57/euare/euare euare:unpartitioned:, arn:euca:bootstrap:tokens:tokens:10.111.1.57/tokens/tokens tokens:unpartitioned:, arn:euca:bootstrap:compute:compute:10.111.1.57/compute/compute compute:unpartitioned:, arn:euca:bootstrap::arbitrator:10.111.1.57/bootstrap/arbitrator arbitrator:partitioned:alwaysLocal:, arn:euca:bootstrap:imaging:imaging:10.111.1.57/imaging/imaging imaging:unpartitioned:, arn:euca:bootstrap:loadbalancing:loadbalancing:10.111.1.57/loadbalancing/loadbalancing loadbalancing:unpartitioned:, arn:euca:bootstrap:cluster:node:10.111.1.57/cluster/node node:partitioned:, arn:euca:bootstrap:objectstorage:objectstorage:10.111.1.57/objectstorage/objectstorage objectstorage:unpartitioned:, arn:euca:bootstrap:simpleworkflow:simpleworkflow:10.111.1.57/simpleworkflow/simpleworkflow simpleworkflow:unpartitioned:]\r\n{code}\r\n\r\nThe component ordering is now deterministic with many to one services placed at the end of the list.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-16T00:52:21.258-0600","updated":"2015-01-16T00:52:21.258-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34145/comment/82066","id":"82066","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.1.0\r\nRelease     : 0.0.23017.349.20150115gitfaefc6b.el6\r\n\r\nTopology:\r\n\\[CLC\\]\r\n\\[WS UFS CC SC\\]\r\n\\[NC\\]\r\n\r\nWhen CLC and UFS are not co-located describe keypairs for unknown keypair returns appropriate response.\r\n{code}\r\n[root@g-05-06 ~]# euca-describe-keypairs dork --debug\r\n2015-01-16 14:35:18,024 DEBUG   DescribeKeyPairs parsed arguments: {'filters': None, 'security_token': None, 'url': None, 'region': None, 'KeyName': ['dork'], 'show_empty_fields': False, 'key_id': None, 'secret_key': None}\r\n2015-01-16 14:35:18,024 INFO    Config finding global option default-region\r\n2015-01-16 14:35:18,024 INFO    Config   novalue for default-region\r\n2015-01-16 14:35:18,024 INFO    Config finding global option max-retries\r\n2015-01-16 14:35:18,024 INFO    Config   novalue for max-retries\r\n2015-01-16 14:35:18,024 INFO    Config finding global option timeout\r\n2015-01-16 14:35:18,024 INFO    Config   novalue for timeout\r\n2015-01-16 14:35:18,028 INFO    DescribeKeyPairs parameters: {'Action': 'DescribeKeyPairs', 'Version': '2014-06-15', 'KeyName.1': 'dork'}\r\n2015-01-16 14:35:18,028 INFO    EC2 sending request (attempt 1 of 3)\r\n2015-01-16 14:35:18,029 DEBUG   QuerySigV2Auth string to sign: 'POST\\n10.111.1.99:8773\\n/services/compute\\nAWSAccessKeyId=AKI7GEGSFBDMVIYG9FS7&Action=DescribeKeyPairs&KeyName.1=dork&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2015-01-16T22%3A35%3A18Z&Version=2014-06-15'\r\n2015-01-16 14:35:18,030 DEBUG   QuerySigV2Auth b64-encoded signature: fjpwhfLxlVhepKt9S1tVi5sa1oUeJSQDpWqlWdGlIyg=\r\n2015-01-16 14:35:18,030 DEBUG   QuerySigV2Auth converting params to POST data\r\n2015-01-16 14:35:18,035 DEBUG   EC2 request method: POST\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request url:    http://10.111.1.99:8773/services/compute\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request header: Content-Length: 231\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request header: Host: 10.111.1.99:8773\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request header: User-Agent: euca2ools/3.2.0-pre1-65-gb4d4d07 (CPython 2.6.6; Linux 2.6.32-504.3.3.el6.x86_64; x86_64) requestbuilder/0.2.3 requests/1.1.0\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   AWSAccessKeyId: AKI7GEGSFBDMVIYG9FS7\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   Action: DescribeKeyPairs\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   KeyName.1: dork\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   Signature: fjpwhfLxlVhepKt9S1tVi5sa1oUeJSQDpWqlWdGlIyg=\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   SignatureMethod: HmacSHA256\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   SignatureVersion: 2\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   Timestamp: 2015-01-16T22:35:18Z\r\n2015-01-16 14:35:18,036 DEBUG   EC2 request data:   Version: 2014-06-15\r\n2015-01-16 14:35:18,138 DEBUG   EC2 response time: 0.101 seconds\r\n2015-01-16 14:35:18,138 ERROR   EC2 response status: 400\r\n2015-01-16 14:35:18,138 DEBUG   EC2 response header: content-length: 210\r\n2015-01-16 14:35:18,138 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2015-01-16 14:35:18,139 DEBUG   DescribeKeyPairs -- response content --\r\n<Response xmlns=\"\"><Errors><Error><Code>InvalidKeyPair.NotFound</Code><Message>The key pair 'dork' does not exist</Message></Error></Errors><RequestID>0f86d8a2-7638-48d2-b704-ddac61d9a940</RequestID></Response>\r\n2015-01-16 14:35:18,139 DEBUG   DescribeKeyPairs -- end of response content --\r\n2015-01-16 14:35:18,139 INFO    DescribeKeyPairs result: failure\r\neuca-describe-keypairs: error (InvalidKeyPair.NotFound): The key pair 'dork' does not exist\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-describe-keypairs\", line 6, in <module>\r\n    euca2ools.commands.ec2.describekeypairs.DescribeKeyPairs.run()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 298, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 295, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 218, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 180, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 167, in send\r\n    auth=self.auth)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/service.py\", line 198, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/ec2/__init__.py\", line 64, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (400, 'InvalidKeyPair.NotFound', 'InvalidKeyPair.NotFound', \"The key pair 'dork' does not exist\")\r\n[code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2015-01-16T16:38:44.309-0600","updated":"2015-01-16T16:38:44.309-0600"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10324/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}