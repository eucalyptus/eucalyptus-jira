{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"14343","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14343","key":"EUCA-2766","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10901","value":"Access Control: Users","id":"10901"}],"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2015-05-21T11:43:28.192-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2766/watchers","watchCount":3,"isWatching":false},"created":"2012-07-11T08:33:14.965-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":["LP"],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[],"assignee":null,"updated":"2016-06-06T16:33:12.749-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"}],"timeoriginalestimate":null,"description":"Originally posted by wat on 2011-04-22 06:45:31.602133+00:00\n\nFollowing operations make a 'dead' ElasticIP which anyone cannot use there after.\n\nIn the condition that all the public addresses allocated or associated,\ndisassociating and releasing an address change its state 'nobody'.\nHowever it seems to be still associated with the instance by euca-describe-instances.\nIn this state I cannot connect to the instance by the address.\n\nNext, I allocate the address, which I released in the above again, and associate it to another instance.\nI cannot connect to another too.\nAfter these operations, there's an error message, \"Found 2 vms with the same address\", in cloud-debug.log.\n\nIn euca-disassociate-address, the user ,'eucalyptus', cannot associate substitute one due to\nlack of free addresses and create a dead ElasticIP as a result.\nI think euca-disassociate-address should not do anything but returning an error when there's no free address.\n\nThanks.\n\nsystem:\nEucalyptus : 2.0.2\nHost : CentOS5.5\nInstalled : binary(eucalyptus-2.0.2-centos-x86_64.tar.gz)\nHypervisor : kvm\nVNET_MODE : MANAGED\nVNET_PUBLICIPS=\"10.21.67.159 10.21.67.160 10.21.67.161\"\n\n1)\n# euca-describe-addresses\nADDRESS 10.21.67.159    i-45EC08B4 (eucalyptus)\nADDRESS 10.21.67.161    available (admin)\nADDRESS 10.21.67.160    i-3AAD079D (admin)\n# euca-describe-instances\nRESERVATION     r-437F07DA      admin     default\nINSTANCE        i-3AAD079D      emi-280B11DF    10.21.67.160    192.168.50.179  running         privatekey      0       c1.medium       2010-11-04T02:06:32.126Z        cluster1   eki-6F3112C8    eri-A31E13A1\n\n-----------\n2)\n# euca-disassociate-address 10.21.67.160\n# euca-release-address 10.21.67.160\n# euca-describe-addresses\nADDRESS 10.21.67.159    i-45EC08B4 (eucalyptus)\nADDRESS 10.21.67.161    available (admin)\nADDRESS 10.21.67.160    nobody\n# euca-describe-instances\nRESERVATION     r-437F07DA      admin     default\nINSTANCE        i-3AAD079D      emi-280B11DF    10.21.67.160    192.168.50.179  running         privatekey      0       c1.medium       2010-11-04T02:06:32.126Z        cluster1   eki-6F3112C8    eri-A31E13A1\n\n[--> cannot connect i-3AAD079D by 10.21.67.160]\n[cloud-debug.log]\n10:51:24  WARN [Addresses:New I/O client worker #2-14] No addresses are available to provide a system address for: [VmInstance...\n\n-----------\n3) change to 'sample_user'\n# euca-allocate-address\nADDRESS 10.21.67.160\n# euca-associate-address -i i-4CDC0954 10.21.67.160\n# euca-describe-addresses\nADDRESS 10.21.67.159    i-45EC08B4 (eucalyptus)\nADDRESS 10.21.67.161    available (admin)\nADDRESS 10.21.67.160    i-4CDC0954 (sample_user)\n# euca-describe-instances\nRESERVATION     r-437F07DA      admin     default\nINSTANCE        i-3AAD079D      emi-280B11DF    10.21.67.160    192.168.50.179  running         privatekey      0       c1.medium       2010-11-04T02:06:32.126Z        cluster1   eki-6F3112C8    eri-A31E13A1\nRESERVATION     r-532A08FD      sample_user     default\nINSTANCE        i-4CDC0954      emi-280B11DF    10.21.67.160    192.168.50.180  running         mykey      0       c1.medium       2010-11-04T02:16:07.874Z        cluster1   eki-6F3112C8    eri-A31E13A1\n\n[--> cannot connect i-4CDC0954 by 10.21.67.160]\n[cloud-debug.log]\n11:08:00 ERROR [AbstractSystemAddressManager:New I/O client worker #2-1] Found 2 vms with the same address: ClusterAddressInfo 10.21.67.160 192.168.50.179 orphanCount=0 ->  i-3AAD079D(RUNNING) i-4CDC0954(RUNNING)\n\n-----------","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"ElasticIP operation is harmful when there's no free public ip","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wat","name":"wat","key":"wat","accountId":"557058:f1f24e3a-1fd8-477e-98c8-76ee2d8ccf29","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10105%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10105%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10105%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10105%26noRedirect%3Dtrue"},"displayName":"Ryo Watanabe","active":false,"timeZone":"US/Central"},"customfield_12100":"0|i01fo7:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10007_*:*_1_*:*_20856478903_*|*_5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_433977572_*|*_10001_*:*_1_*:*_68922556769","customfield_10001":"2012-07-16T09:06:12.530-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["agrimm(agrimm)","wat(wat)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2766/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14343/comment/29905","id":"29905","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"I will try to reproduce this against 3.1","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-07-16T09:06:12.530-0500","updated":"2012-07-16T09:06:12.530-0500"}],"maxResults":1,"total":1,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}