{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"58702","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58702","key":"EUCA-13408","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10104":[],"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13408/watchers","watchCount":2,"isWatching":false},"created":"2017-05-17T16:45:28.393-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-06-26T12:33:49.898-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"}],"timeoriginalestimate":null,"description":"When I attempt to run an instance of a type whose name we haven't added to our code I get an 500 error instead of a 400 error, resulting in client-side retries:\r\n\r\n{code}\r\n% euca-run-instances -k gholms-us-west-2-02 -t m3.medium -g ssh-only ami-b23d5bd2\r\n2017-05-17 14:39:50,577 DEBUG   RunInstances parsed arguments from CLI: {'secondary_count': None, 'user_data': None, 'iam_profile': None, 'Placement.GroupName': None, 'EbsOptimized': None, 'RamdiskId': None, 'subnet': None, 'group': ['ssh-only'], 'Monitoring.Enabled': None, 'ImageId': 'ami-b23d5bd2', 'KeyName': 'gholms-us-west-2-02', 'ClientToken': None, 'user_data_file': None, 'InstanceType': 'm3.medium', 'AddressingType': None, 'BlockDeviceMapping': [], 'secondary_address': None, 'user_data_force': None, 'InstanceInitiatedShutdownBehavior': None, 'NetworkInterface': None, 'associate_public_ip_address': None, 'show_empty_fields': False, 'KernelId': None, 'count': '1', 'security_token': None, 'url': None, 'Placement.Tenancy': None, 'Placement.AvailabilityZone': None, 'private_ip_address': None, 'key_id': None, 'secret_key': None, 'DisableApiTermination': None, 'region': None}\r\n2017-05-17 14:39:50,578 INFO    EC2 selected region \"qa-cloud-2\" from environment variable \"AWS_DEFAULT_REGION\"\r\n2017-05-17 14:39:50,578 INFO    Config set region to qa-cloud-2\r\n2017-05-17 14:39:50,578 INFO    Config finding global option default-region\r\n2017-05-17 14:39:50,578 INFO    Config   novalue for default-region\r\n2017-05-17 14:39:50,578 INFO    Config finding region option user\r\n2017-05-17 14:39:50,578 DEBUG   Config   section qa-cloud-2\r\n2017-05-17 14:39:50,578 INFO    Config   found   qa-cloud-2::user = '000452159239:gholms'\r\n2017-05-17 14:39:50,578 INFO    EC2 selected user \"000452159239:gholms\" from \"user\" config option for region \"qa-cloud-2\"\r\n2017-05-17 14:39:50,578 INFO    Config set user to 000452159239:gholms\r\n2017-05-17 14:39:50,579 INFO    Config finding region option ec2-url\r\n2017-05-17 14:39:50,579 DEBUG   Config   section qa-cloud-2\r\n2017-05-17 14:39:50,579 INFO    Config   found   qa-cloud-2::ec2-url = 'http://ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773/'\r\n2017-05-17 14:39:50,579 INFO    Config finding region option name\r\n2017-05-17 14:39:50,579 DEBUG   Config   section qa-cloud-2\r\n2017-05-17 14:39:50,579 INFO    Config   found   qa-cloud-2::name = 'qa-cloud-2'\r\n2017-05-17 14:39:50,579 INFO    Config finding global option max-retries\r\n2017-05-17 14:39:50,579 INFO    Config   novalue for max-retries\r\n2017-05-17 14:39:50,579 INFO    Config finding global option timeout\r\n2017-05-17 14:39:50,579 INFO    Config   novalue for timeout\r\n2017-05-17 14:39:50,579 INFO    Config finding region option verify-tls\r\n2017-05-17 14:39:50,580 DEBUG   Config   section qa-cloud-2\r\n2017-05-17 14:39:50,580 DEBUG   Config   section *\r\n2017-05-17 14:39:50,580 INFO    Config   novalue for verify-tls\r\n2017-05-17 14:39:50,580 INFO    Config finding region option verify-ssl\r\n2017-05-17 14:39:50,580 DEBUG   Config   section qa-cloud-2\r\n2017-05-17 14:39:50,580 DEBUG   Config   section *\r\n2017-05-17 14:39:50,580 INFO    Config   novalue for verify-ssl\r\n2017-05-17 14:39:50,580 INFO    Config finding user option key-id\r\n2017-05-17 14:39:50,580 DEBUG   Config   section 000452159239:gholms\r\n2017-05-17 14:39:50,581 INFO    Config   found   000452159239:gholms::key-id = 'AKIAA57BJKFBTYPTDOEV'\r\n2017-05-17 14:39:50,581 INFO    Config finding user option secret-key\r\n2017-05-17 14:39:50,581 DEBUG   Config   section 000452159239:gholms\r\n2017-05-17 14:39:50,581 INFO    Config   found   000452159239:gholms::secret-key = <redacted>\r\n2017-05-17 14:39:50,581 DEBUG   HmacV4Auth using auth info from configuration\r\n2017-05-17 14:39:50,581 INFO    RunInstances parameters: {'SecurityGroup.1': 'ssh-only', 'ImageId': 'ami-b23d5bd2', 'KeyName': 'gholms-us-west-2-02', 'Version': '2015-10-01', 'MaxCount': '1', 'Action': 'RunInstances', 'MinCount': '1', 'InstanceType': 'm3.medium'}\r\n2017-05-17 14:39:50,581 DEBUG   RunInstances sending flattened parameters as form data\r\n2017-05-17 14:39:50,585 INFO    EC2 sending request (attempt 1 of 3)\r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth payload hash: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth scope: 20170517/qa-cloud-2/ec2/aws4_request\r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth canonical URI: /\r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth canonical query: \r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:157', 'content-type:application/x-www-form-urlencoded', 'host:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987', 'x-amz-date:20170517T213950Z']\r\n2017-05-17 14:39:50,594 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:50,595 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:157\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\\nx-amz-date:20170517T213950Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\nb7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987'\r\n2017-05-17 14:39:50,595 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20170517T213950Z\\n20170517/qa-cloud-2/ec2/aws4_request\\nb5bb901367c5c84be8a565d1ed12b2a0a47336854a3d21c2c99bfeb0dec4474a'\r\n2017-05-17 14:39:50,595 DEBUG   HmacV4Auth signature: 62a4158d739bcc9ee592283504efde2cbd26549aa886d0ddb99ac0f66545ed29\r\n2017-05-17 14:39:50,595 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:50,595 DEBUG   EC2 request  method: POST\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  url:    http://ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Accept: */*\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Accept-Encoding: gzip, deflate\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAA57BJKFBTYPTDOEV/20170517/qa-cloud-2/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=62a4158d739bcc9ee592283504efde2cbd26549aa886d0ddb99ac0f66545ed29\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Connection: keep-alive\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Content-Length: 157\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Content-Type: application/x-www-form-urlencoded\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: Host: ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: User-Agent: euca2ools/3.4.1-4-gd8842db (CPython 2.7.5; Linux 3.10.0-514.16.1.el7.x86_64; x86_64) requestbuilder/0.7.1 requests/2.6.0\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: X-Amz-Content-SHA256: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:50,596 DEBUG   EC2 request  header: X-Amz-Date: 20170517T213950Z\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   Action: RunInstances\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   ImageId: ami-b23d5bd2\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   InstanceType: m3.medium\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   KeyName: gholms-us-west-2-02\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   MaxCount: 1\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   MinCount: 1\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   SecurityGroup.1: ssh-only\r\n2017-05-17 14:39:50,597 DEBUG   EC2 request  data:   Version: 2015-10-01\r\n2017-05-17 14:39:50,777 DEBUG   EC2 response time:   0.178 seconds\r\n2017-05-17 14:39:50,777 ERROR   EC2 response status: 500\r\n2017-05-17 14:39:50,777 DEBUG   EC2 response header: content-length: 334\r\n2017-05-17 14:39:50,777 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2017-05-17 14:39:50,777 DEBUG   EC2 response header: date: Wed, 17 May 2017 21:39:50 GMT\r\n2017-05-17 14:39:50,777 DEBUG   EC2 response header: server: Eucalyptus/4.4.0\r\n2017-05-17 14:39:50,777 DEBUG   EC2 will retry after 1.414 seconds\r\n2017-05-17 14:39:52,193 INFO    EC2 sending request (attempt 2 of 3)\r\n2017-05-17 14:39:52,194 DEBUG   HmacV4Auth payload hash: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:52,194 DEBUG   HmacV4Auth scope: 20170517/qa-cloud-2/ec2/aws4_request\r\n2017-05-17 14:39:52,194 DEBUG   HmacV4Auth canonical URI: /\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth canonical query: \r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:157', 'content-type:application/x-www-form-urlencoded', 'host:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987', 'x-amz-date:20170517T213952Z']\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:157\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\\nx-amz-date:20170517T213952Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\nb7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987'\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20170517T213952Z\\n20170517/qa-cloud-2/ec2/aws4_request\\nc6ee2aa4b46b3dbd3c196acdc4f2b35f55d7bf5118cd1d15f7cb24940ec4af1c'\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth signature: 4493ea8c45487933e77e8f6fe233aabd43b64d43e6cbcb1fab27222bc00eb73a\r\n2017-05-17 14:39:52,195 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:52,195 DEBUG   EC2 request  method: POST\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  url:    http://ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Accept: */*\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Accept-Encoding: gzip, deflate\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAA57BJKFBTYPTDOEV/20170517/qa-cloud-2/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=4493ea8c45487933e77e8f6fe233aabd43b64d43e6cbcb1fab27222bc00eb73a\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Connection: keep-alive\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Content-Length: 157\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Content-Type: application/x-www-form-urlencoded\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: Host: ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: User-Agent: euca2ools/3.4.1-4-gd8842db (CPython 2.7.5; Linux 3.10.0-514.16.1.el7.x86_64; x86_64) requestbuilder/0.7.1 requests/2.6.0\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: X-Amz-Content-SHA256: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:52,196 DEBUG   EC2 request  header: X-Amz-Date: 20170517T213952Z\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   Action: RunInstances\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   ImageId: ami-b23d5bd2\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   InstanceType: m3.medium\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   KeyName: gholms-us-west-2-02\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   MaxCount: 1\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   MinCount: 1\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   SecurityGroup.1: ssh-only\r\n2017-05-17 14:39:52,197 DEBUG   EC2 request  data:   Version: 2015-10-01\r\n2017-05-17 14:39:52,308 DEBUG   EC2 response time:   0.110 seconds\r\n2017-05-17 14:39:52,308 ERROR   EC2 response status: 500\r\n2017-05-17 14:39:52,308 DEBUG   EC2 response header: content-length: 334\r\n2017-05-17 14:39:52,309 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2017-05-17 14:39:52,309 DEBUG   EC2 response header: date: Wed, 17 May 2017 21:39:52 GMT\r\n2017-05-17 14:39:52,309 DEBUG   EC2 response header: server: Eucalyptus/4.4.0\r\n2017-05-17 14:39:52,309 DEBUG   EC2 will retry after 2.977 seconds\r\n2017-05-17 14:39:55,289 INFO    EC2 sending request (attempt 3 of 3)\r\n2017-05-17 14:39:55,289 DEBUG   HmacV4Auth payload hash: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth scope: 20170517/qa-cloud-2/ec2/aws4_request\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth canonical URI: /\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth canonical query: \r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:157', 'content-type:application/x-www-form-urlencoded', 'host:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987', 'x-amz-date:20170517T213955Z']\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:157\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\\nx-amz-date:20170517T213955Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\nb7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987'\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20170517T213955Z\\n20170517/qa-cloud-2/ec2/aws4_request\\n7337a519dcebed075a678cfef7da50b979c986147e098ab63aeecfd3238982a3'\r\n2017-05-17 14:39:55,290 DEBUG   HmacV4Auth signature: 4a7af5c4b8edcf80e0d16caebf145a416cdd606ea849b3bd40d634404201b622\r\n2017-05-17 14:39:55,291 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  method: POST\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  url:    http://ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Accept: */*\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Accept-Encoding: gzip, deflate\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAA57BJKFBTYPTDOEV/20170517/qa-cloud-2/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=4a7af5c4b8edcf80e0d16caebf145a416cdd606ea849b3bd40d634404201b622\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Connection: keep-alive\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Content-Length: 157\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Content-Type: application/x-www-form-urlencoded\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: Host: ec2.a-33-l.autoqa.qa1.eucalyptus-systems.com:8773\r\n2017-05-17 14:39:55,291 DEBUG   EC2 request  header: User-Agent: euca2ools/3.4.1-4-gd8842db (CPython 2.7.5; Linux 3.10.0-514.16.1.el7.x86_64; x86_64) requestbuilder/0.7.1 requests/2.6.0\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  header: X-Amz-Content-SHA256: b7798acb0ec504075b6723f494c3f9713bd7c8fb3f8cdf1cc2ecf12d8b5bb987\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  header: X-Amz-Date: 20170517T213955Z\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   Action: RunInstances\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   ImageId: ami-b23d5bd2\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   InstanceType: m3.medium\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   KeyName: gholms-us-west-2-02\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   MaxCount: 1\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   MinCount: 1\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   SecurityGroup.1: ssh-only\r\n2017-05-17 14:39:55,292 DEBUG   EC2 request  data:   Version: 2015-10-01\r\n2017-05-17 14:39:55,395 DEBUG   EC2 response time:   0.102 seconds\r\n2017-05-17 14:39:55,395 ERROR   EC2 response status: 500\r\n2017-05-17 14:39:55,395 DEBUG   EC2 response header: content-length: 334\r\n2017-05-17 14:39:55,395 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2017-05-17 14:39:55,395 DEBUG   EC2 response header: date: Wed, 17 May 2017 21:39:55 GMT\r\n2017-05-17 14:39:55,395 DEBUG   EC2 response header: server: Eucalyptus/4.4.0\r\n2017-05-17 14:39:55,396 DEBUG   RunInstances -- response content --\r\n<Response xmlns=\"\"><Errors><Error><Code>InternalFailure</Code><Message>Failed to send message RunInstancesType to service eucalyptus-request because: nested exception is java.lang.RuntimeException: Instance type does not exist: m3.medium</Message></Error></Errors><RequestID>86395c9a-caaf-4288-9001-2b0013f000d2</RequestID></Response>\r\n2017-05-17 14:39:55,396 DEBUG   RunInstances -- end of response content --\r\n2017-05-17 14:39:55,396 INFO    RunInstances result: failure\r\neuca-run-instances: error (InternalFailure): Failed to send message RunInstancesType to service eucalyptus-request because: nested exception is java.lang.RuntimeException: Instance type does not exist: m3.medium\r\nTraceback (most recent call last):\r\n  File \"/home/gholms/src/euca2ools/bin/euca-run-instances\", line 6, in <module>\r\n    euca2ools.commands.ec2.runinstances.RunInstances.run()\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/command.py\", line 297, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/command.py\", line 294, in run\r\n    result = cmd.main()\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/request.py\", line 211, in main\r\n    response = self.send()\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/request.py\", line 282, in send\r\n    return BaseRequest.send(self)\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/request.py\", line 177, in send\r\n    return self.handle_server_error(err)\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/request.py\", line 164, in send\r\n    auth=self.auth)\r\n  File \"/home/gholms/src/requestbuilder/requestbuilder/service.py\", line 230, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/home/gholms/src/euca2ools/euca2ools/commands/ec2/__init__.py\", line 65, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (500, 'Internal Server Error', 'InternalFailure', 'Failed to send message RunInstancesType to service eucalyptus-request because: nested exception is java.lang.RuntimeException: Instance type does not exist: m3.medium')\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Running an instance of a nonexistent type causes 500 errors","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i044l3:","customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["gholms(gholms)","sjones(sjones)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13408/votes","votes":0,"hasVoted":false},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}