{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"16703","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703","key":"EUCA-3936","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10112","id":"10112","description":"Eucalyptus 3.2.0","name":"3.2.0","archived":false,"released":true,"releaseDate":"2012-12-19"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@3fd628f[id=9,rapidViewId=<null>,state=CLOSED,name=3.2 Sprint 6,goal=<null>,startDate=2012-10-23T16:29:16.193Z,endDate=2012-11-08T17:29:16.193Z,completeDate=2012-11-10T22:13:51.878Z,sequence=9]","com.atlassian.greenhopper.service.sprint.Sprint@5b09a25c[id=10,rapidViewId=<null>,state=CLOSED,name=3.2 Sprint 7,goal=<null>,startDate=2012-11-10T22:18:20.990Z,endDate=2012-12-04T19:02:20.990Z,completeDate=2012-12-26T19:14:23.804Z,sequence=10]"],"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10112","id":"10112","description":"Eucalyptus 3.2.0","name":"3.2.0","archived":false,"released":true,"releaseDate":"2012-12-19"}],"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2012-11-12T19:32:14.930-0600","customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3936/watchers","watchCount":10,"isWatching":false},"lastViewed":null,"created":"2012-10-24T11:49:40.581-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2012-11-09T13:52:21.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"labels":["QA-assigned","Support"],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10005","id":"10005","description":"Eucalyptus 3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"issuelinks":[{"id":"13615","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/13615","type":{"id":"10100","name":"Blocks","inward":"is blocked by","outward":"blocks","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10100"},"outwardIssue":{"id":"16706","key":"EUCA-3939","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16706","fields":{"summary":"CLC not choosing AZ with capacity when zone not specified","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"13721","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/13721","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"16933","key":"EUCA-4089","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16933","fields":{"summary":"Recent change in euare policy causing failures when users try to launch instances","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=bthomason","name":"bthomason","key":"bthomason","accountId":"557058:0703053c-4ac6-4382-8ea0-013a1e007064","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Brian Thomason","active":true,"timeZone":"America/New_York"},"updated":"2013-01-09T19:57:29.809-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"expectation is that, in multi-cluster, on a run that doesn't specify an AZ, the CLC will choose\r\n\r\n\"the AZ that has the most free resources and can satisfy the run request\"\r\n\r\nwhat i'm observing is that the above is happening on the first run of instances for some specified group, but subsequent runs it is not happening\r\n\r\norder of ops to reproduce follows:\r\n\r\ntwo clusters (one has 8 free, one has 4 free)\r\nrun 5 instances (instances run in zone with 8 free)\r\nrun 4 instances (get error about not enough resources)\r\n\r\nexact commands follow:\r\n\r\n[root@a-24 ~]# euca-describe-availability-zones verbose\r\nAVAILABILITYZONE\tcluster2\t10.102.1.24 arn:euca:eucalyptus:cluster2:cluster:cluster-10.102.1.24/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0008 / 0008   1    128     2\r\nAVAILABILITYZONE\t|- c1.medium\t0004 / 0004   2    128     5\r\nAVAILABILITYZONE\t|- m1.large\t0004 / 0004   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0002 / 0002   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0001 / 0001   4   2048    10\r\nAVAILABILITYZONE\tcluster1\t10.102.1.25 arn:euca:eucalyptus:cluster1:cluster:cluster-10.102.1.25/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0004 / 0004   1    128     2\r\nAVAILABILITYZONE\t|- c1.medium\t0002 / 0002   2    128     5\r\nAVAILABILITYZONE\t|- m1.large\t0002 / 0002   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0002 / 0002   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0001 / 0001   4   2048    10\r\n[root@a-24 ~]# euca-run-instances emi-5C973DF8 -n 5\r\nRESERVATION\tr-EEEC4626\t356758574678\tdefault\r\nINSTANCE\ti-CCC042E4\temi-5C973DF8\t0.0.0.0\t0.0.0.0\tpending\t\t0m1.small\t2012-10-24T16:25:25.552Z\tcluster2\teki-DD453D5B\teri-DAD53D2C\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\r\nINSTANCE\ti-3A8843F5\temi-5C973DF8\t0.0.0.0\t0.0.0.0\tpending\t\t1m1.small\t2012-10-24T16:25:25.565Z\tcluster2\teki-DD453D5B\teri-DAD53D2C\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\r\nINSTANCE\ti-1C05439C\temi-5C973DF8\t0.0.0.0\t0.0.0.0\tpending\t\t2m1.small\t2012-10-24T16:25:25.574Z\tcluster2\teki-DD453D5B\teri-DAD53D2C\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\r\nINSTANCE\ti-ABD9442B\temi-5C973DF8\t0.0.0.0\t0.0.0.0\tpending\t\t3m1.small\t2012-10-24T16:25:25.582Z\tcluster2\teki-DD453D5B\teri-DAD53D2C\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\r\nINSTANCE\ti-F64140F2\temi-5C973DF8\t0.0.0.0\t0.0.0.0\tpending\t\t4m1.small\t2012-10-24T16:25:25.590Z\tcluster2\teki-DD453D5B\teri-DAD53D2C\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\t\t\r\n[root@a-24 ~]# euca-describe-availability-zones verbose\r\nAVAILABILITYZONE\tcluster2\t10.102.1.24 arn:euca:eucalyptus:cluster2:cluster:cluster-10.102.1.24/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0003 / 0008   1    128     2\r\nAVAILABILITYZONE\t|- c1.medium\t0001 / 0004   2    128     5\r\nAVAILABILITYZONE\t|- m1.large\t0001 / 0004   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0001 / 0002   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   2048    10\r\nAVAILABILITYZONE\tcluster1\t10.102.1.25 arn:euca:eucalyptus:cluster1:cluster:cluster-10.102.1.25/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0004 / 0004   1    128     2\r\nAVAILABILITYZONE\t|- c1.medium\t0002 / 0002   2    128     5\r\nAVAILABILITYZONE\t|- m1.large\t0002 / 0002   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0002 / 0002   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0001 / 0001   4   2048    10\r\n[root@a-24 ~]# euca-run-instances emi-5C973DF8 -n 4\r\nRunInstancesType: Not enough resources (3 in cluster2 < 4): vm instances.\r\n[root@a-24 ~]# \r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/13208","id":"13208","filename":"com.tgz","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-07T12:56:08.782-0600","size":23270,"mimeType":"application/x-gzip","content":"https://eucalyptus.atlassian.net/secure/attachment/13208/com.tgz"}],"aggregatetimeestimate":null,"summary":"when AZ is not specified on run, but existing instances within group are running, clc does not choose AZ with free resources","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"customfield_12100":"0|i00t0v:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_173893518_*|*_10001_*:*_1_*:*_519011484_*|*_10002_*:*_1_*:*_97142458_*|*_10000_*:*_1_*:*_1654029_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_881252879","customfield_10001":"2012-10-29T09:28:37.841-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["bthomason(bthomason)","chuck(chuck)","nurmi(nurmi)","dstagnaro(dstagnaro)","lwade(lwade)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34059","id":"34059","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"body":"more info:\n\nif run is executed with a different group, see the same behavior\n\n#euca-run-instances emi-5C973DF8 -n 4 -g foobar\nRunInstancesType: Not enough resources (3 in cluster2 < 4): vm instances.\n\nif run is executed as a different account, see the same behavior\n\n(source account 'foobar' credentials)\n# euca-run-instances emi-5C973DF8 -n 4 \nRunInstancesType: Not enough resources (3 in cluster2 < 4): vm instances.\n\nfinally, even when no instances are running, but the availbility has been adjusted as follows:\n\n# euca-describe-availability-zones verbose\nAVAILABILITYZONE\tcluster2\t10.102.1.24 arn:euca:eucalyptus:cluster2:cluster:cluster-10.102.1.24/\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\nAVAILABILITYZONE\t|- m1.small\t0003 / 0003   1    128     2\nAVAILABILITYZONE\t|- c1.medium\t0001 / 0001   2    128     5\nAVAILABILITYZONE\t|- m1.large\t0001 / 0001   2    512    10\nAVAILABILITYZONE\t|- m1.xlarge\t0001 / 0001   2   1024    10\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0000   4   2048    10\nAVAILABILITYZONE\tcluster1\t10.102.1.25 arn:euca:eucalyptus:cluster1:cluster:cluster-10.102.1.25/\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\nAVAILABILITYZONE\t|- m1.small\t0004 / 0004   1    128     2\nAVAILABILITYZONE\t|- c1.medium\t0002 / 0002   2    128     5\nAVAILABILITYZONE\t|- m1.large\t0002 / 0002   2    512    10\nAVAILABILITYZONE\t|- m1.xlarge\t0002 / 0002   2   1024    10\nAVAILABILITYZONE\t|- c1.xlarge\t0001 / 0001   4   2048    10\n\na run with '-n4' still fails:\n\n# euca-run-instances emi-5C973DF8 -n 4\nRunInstancesType: Not enough resources (3 in cluster2 < 4): vm instances.\n\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=nurmi","name":"nurmi","key":"nurmi","accountId":"557058:68718820-f5e0-4305-a46c-f867a6bc9565","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7ac3bd8409137b5a6a6f8fc7d6e5f94b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dnurmi%26avatarId%3D10601%26noRedirect%3Dtrue"},"displayName":"Daniel Nurmi","active":true,"timeZone":"US/Central"},"created":"2012-10-24T15:02:37.969-0500","updated":"2012-10-24T15:02:37.969-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34648","id":"34648","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"There are a few issues here that needed to be resolved. First, the problem with not selecting another partition that has enough available vm resources is due to the fact that when no AZ are specified, the system automatically hard set the allocation partition to the first one assigned in the partition list. The solution to this problem is to create an actual \"default\" partition that isn't in the list and detect this bogus partition when actually going through the allocation algorithm. When allocating the resources, if the default partition is detected, we'll allocate resources from any cluster assigned to a single partition that meet the request.\r\n\r\nThe second issue is that the allocation algorithm currently written was allocating resources from any clusters across partition which isn't correct. Every resources reservation must be taken under a single partition.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-02T15:44:42.053-0500","updated":"2012-11-02T15:44:42.053-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34649","id":"34649","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"Testing Consideration:\r\n----------------------\r\nThe following items must be tested in single and multi cluster environment. The 2 statements to test are:\r\n\r\n1) When multi partition exists, we should be able to allocate resources from the partition with the most available vm resources first.\r\n2) We can still force a reservation against a specific AZ and if not enough resources is available for that AZ, the command should fail.\r\n3) Every instances for a given reservation could be spread across multiple cluster under the same partition.\r\n4) If a minimum-maximum argument is provided, the request should try to allocate the maximum amount of instances as possible. If max resources cannot be allocated in any partition there should be an attempt to reserve from minimum up to maximum instances. The request should only fail if minimum resources isn't available.\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-02T15:51:27.575-0500","updated":"2012-11-02T15:51:47.087-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34714","id":"34714","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lwade","name":"lwade","key":"lwade","accountId":"557058:2fc477e4-c115-44ac-a23b-69acd1771151","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue"},"displayName":"Lester Wade","active":true,"timeZone":"Europe/London"},"body":"Hey Charles,\n\nThanks for the info here.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lwade","name":"lwade","key":"lwade","accountId":"557058:2fc477e4-c115-44ac-a23b-69acd1771151","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue"},"displayName":"Lester Wade","active":true,"timeZone":"Europe/London"},"created":"2012-11-05T15:14:07.951-0600","updated":"2012-11-05T15:14:07.951-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34771","id":"34771","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lwade","name":"lwade","key":"lwade","accountId":"557058:2fc477e4-c115-44ac-a23b-69acd1771151","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue"},"displayName":"Lester Wade","active":true,"timeZone":"Europe/London"},"body":"Patched classes here can be dropped in cloud.d and picked up at restart. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lwade","name":"lwade","key":"lwade","accountId":"557058:2fc477e4-c115-44ac-a23b-69acd1771151","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/beca0913accb99cac83a11f82082ef21?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlwade%26avatarId%3D11103%26noRedirect%3Dtrue"},"displayName":"Lester Wade","active":true,"timeZone":"Europe/London"},"created":"2012-11-06T17:30:12.455-0600","updated":"2012-11-06T17:30:12.455-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34954","id":"34954","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"body":"Hello Engineering.  How are we tracking with this request?  Please let us know when you are confident that the correction has been confirmed.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T13:02:26.807-0600","updated":"2012-11-09T13:02:26.807-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/34956","id":"34956","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"Darren,\n\nThis latest issue has to do with added policies on an account preventing instance to be launched when no AZ is specified. This is currently being tracked in EUCA-4089. we're able to reproduce this no problem and I'm having Ye looking at it this morning.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-09T13:09:40.280-0600","updated":"2012-11-09T13:09:40.280-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16703/comment/35115","id":"35115","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=bthomason","name":"bthomason","key":"bthomason","accountId":"557058:0703053c-4ac6-4382-8ea0-013a1e007064","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Brian Thomason","active":true,"timeZone":"America/New_York"},"body":"Output before running 11 instances\r\n\r\n[root@eucahost-51-133 ~]# euca-describe-availability-zones verbose\r\nAVAILABILITYZONE\tPARTI00\t192.168.51.137 arn:euca:eucalyptus:PARTI00:cluster:CC_137/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0014 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0007 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0007 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0003 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0001 / 0001   4   4096    20\r\nAVAILABILITYZONE\tPARTI01\t192.168.51.143 arn:euca:eucalyptus:PARTI01:cluster:CC_143/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0005 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0003 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0002 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0001 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   4096    20\r\n\r\nOutput after running 11 instances\r\n\r\n[root@eucahost-51-133 ~]# euca-describe-availability-zones verbose\r\nAVAILABILITYZONE\tPARTI00\t192.168.51.137 arn:euca:eucalyptus:PARTI00:cluster:CC_137/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0003 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0001 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0001 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0000 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   4096    20\r\nAVAILABILITYZONE\tPARTI01\t192.168.51.143 arn:euca:eucalyptus:PARTI01:cluster:CC_143/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0005 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0003 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0002 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0001 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   4096    20\r\n\r\nOutput after running additional 4 instances\r\n\r\n[root@eucahost-51-133 ~]# euca-describe-availability-zones verbose\r\nAVAILABILITYZONE\tPARTI00\t192.168.51.137 arn:euca:eucalyptus:PARTI00:cluster:CC_137/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0003 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0001 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0001 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0000 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   4096    20\r\nAVAILABILITYZONE\tPARTI01\t192.168.51.143 arn:euca:eucalyptus:PARTI01:cluster:CC_143/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0002 / 0015   1    512     5\r\nAVAILABILITYZONE\t|- c1.medium\t0001 / 0008   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0001 / 0007   2   1024    15\r\nAVAILABILITYZONE\t|- m1.xlarge\t0000 / 0003   2   2048    20\r\nAVAILABILITYZONE\t|- c1.xlarge\t0000 / 0001   4   4096    20\r\n[root@eucahost-51-133 ~]#\r\n\r\nAdditional 4 instances are properly launched in other AZ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=bthomason","name":"bthomason","key":"bthomason","accountId":"557058:0703053c-4ac6-4382-8ea0-013a1e007064","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/981a2c8bab2351ba0f63a5df9232ce22?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Brian Thomason","active":true,"timeZone":"America/New_York"},"created":"2012-11-12T19:32:14.942-0600","updated":"2012-11-12T19:32:14.942-0600"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3936/votes","votes":1,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}