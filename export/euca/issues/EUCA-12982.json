{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"51300","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/51300","key":"EUCA-12982","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":null,"customfield_10704":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12982/watchers","watchCount":3,"isWatching":false},"created":"2016-11-30T09:42:40.157-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18200","id":"18200","description":"Eucalyptus 4.3.0.1","name":"4.3.0.1","archived":false,"released":true,"releaseDate":"2016-09-21"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"updated":"2016-12-01T16:11:28.398-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10000","description":"This issue has not yet been validated, and is not currently being investigated.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Unconfirmed","id":"10000","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"While testing faststart, I could not get objectstorage status from the euserv-describe-services command, and eventually faststart timed out:\r\n\r\n\r\n{code:java}\r\n[2016-11-30T07:24:17-08:00] INFO: `export AWS_DEFAULT_REGION=localhost; eval `clcadmin-assume-system-credentials` &&  euserv-describe-services --expert --filter service-type=objectstorage` returned:\r\n \"\"\r\n[2016-11-30T07:24:17-08:00] INFO: Checking for state:enabled in line:\r\n\"\r\n\"\r\n[2016-11-30T07:24:17-08:00] INFO: Checking for state:broken in line:\r\n\"\r\n\"\r\n[2016-11-30T07:24:17-08:00] INFO: objectstorage service state not ready, sleeping 5 seconds.\r\n^[[0m\r\n================================================================================^[[0m\r\n^[[31mError executing action `run` on resource 'ruby_block[Block until objectstorage.providerclient ready]'^[[0m\r\n================================================================================^[[0m\r\n\r\n^[[0mRuntimeError^[[0m\r\n------------^[[0m\r\nTimed out waiting for objectstorage.providerclient to be ready after 180 seconds^[[0m\r\n{code}\r\n\r\nThe cloud-exhaust.log had many errors of this sort:\r\n\r\n\r\n{code:java}\r\nWed Nov 30 07:23:38 2016 ERROR [org.jgroups.protocols.UDP:Timer-3,shared=Eucalyptus.4.3.0.membership-udp-mcast-transport.f980a487d5ecd248670e43a3fca0b3c244297ab59166d70662d1a4a4ad17d109] failed sending message to cluster (149 bytes): java.lang.Exception: dest=/239.193.7.3:8773 (152 bytes), cause: java.io.IOException: No such device (sendto failed)\r\nWed Nov 30 07:23:53 2016 ERROR [org.jgroups.protocols.UDP:Timer-4,shared=Eucalyptus.4.3.0.membership-udp-mcast-transport.f980a487d5ecd248670e43a3fca0b3c244297ab59166d70662d1a4a4ad17d109] failed sending message to cluster (240 bytes): java.lang.Exception: dest=/239.193.7.3:8773 (243 bytes), cause: java.io.IOException: No such device (sendto failed)\r\nWed Nov 30 07:23:57 2016 ERROR [org.jgroups.protocols.UDP:Timer-1,shared=Eucalyptus.4.3.0.membership-udp-mcast-transport.f980a487d5ecd248670e43a3fca0b3c244297ab59166d70662d1a4a4ad17d109] failed sending message to cluster (149 bytes): java.lang.Exception: dest=/239.193.7.3:8773 (152 bytes), cause: java.io.IOException: No such device (sendto failed)\r\n{code}\r\n\r\nI tried doing some basic troubleshooting as per testing in EUCA-8371:\r\n\r\n\r\n{code:java}\r\n[root@e-05 ~]# netstat -lpn | grep 239.193.7.3\r\nudp        0      0 239.193.7.3:8773        0.0.0.0:*                           15982/eucalyptus-cl \r\n[root@e-05 ~]# ps -ef | grep 15982\r\neucalyp+ 15982 15979 21 07:19 ?        00:02:39 eucalyptus-cloud --bind-addr=10.111.1.110 --bind-addr=10.111.1.110\r\nroot     26452 16557  0 07:32 pts/1    00:00:00 grep --color=auto 15982\r\n{code}\r\n\r\nAnd some additional output from cloud-error.log from around the time the objectstorage provider was being checked via euserv-describe-services:\r\n\r\n{code:java}\r\nWed Nov 30 07:21:00 2016 ERROR [WebServices:main] [com.eucalyptus.ws.WebServices.restart(WebServices.java):379] Unable to bind web services listener /10.111.1.110:8773, port may be already in use.\r\nWed Nov 30 07:21:00 2016 ERROR [ServiceContextManager:Thread-21] [com.eucalyptus.context.ServiceContextManager.createContext(ServiceContextManager.java):261] Restarting service context with these enabled services: [arn:euca:eucalyptus::autoscalingbackend:10.111.1.110/eucalyptus/autoscalingbackend autoscalingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::storage:10.111.1.110/eucalyptus/storage storage:partitioned:cloudLocal:, arn:euca:eucalyptus::cloudwatchbackend:10.111.1.110/eucalyptus/cloudwatchbackend cloudwatchbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::cluster:10.111.1.110/eucalyptus/cluster cluster:partitioned:cloudLocal:, arn:euca:bootstrap:cluster:gatherlog:10.111.1.110/cluster/gatherlog gatherlog:unpartitioned:, arn:euca:bootstrap::component:10.111.1.110/bootstrap/component component:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::db:10.111.1.110/eucalyptus/db db:unpartitioned:cloudLocal:, arn:euca:eucalyptus:::10.111.1.110/eucalyptus/eucalyptus eucalyptus:unpartitioned:cloudLocal:, arn:euca:eucalyptus::ldap:10.111.1.110/eucalyptus/ldap ldap:unpartitioned:cloudLocal:, arn:euca:eucalyptus::notifications:10.111.1.110/eucalyptus/notifications notifications:unpartitioned:cloudLocal:, arn:euca:bootstrap::reporting:10.111.1.110/bootstrap/reporting reporting:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::configuration:10.111.1.110/eucalyptus/configuration configuration:unpartitioned:cloudLocal:, arn:euca:bootstrap:::10.111.1.110/bootstrap/bootstrap bootstrap:unpartitioned:alwaysLocal:, arn:euca:bootstrap::properties:10.111.1.110/bootstrap/properties properties:unpartitioned:alwaysLocal:, arn:euca:eucalyptus::imagingbackend:10.111.1.110/eucalyptus/imagingbackend imagingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::loadbalancingbackend:10.111.1.110/eucalyptus/loadbalancingbackend loadbalancingbackend:unpartitioned:cloudLocal:, arn:euca:eucalyptus::pollednotifications:10.111.1.110/eucalyptus/pollednotifications pollednotifications:unpartitioned:cloudLocal:, arn:euca:bootstrap:walrusbackend:walrusbackend:10.111.1.110/walrusbackend/walrusbackend walrusbackend:unpartitioned:, arn:euca:bootstrap:identity:identity:10.111.1.110/identity/identity identity:unpartitioned:, arn:euca:bootstrap:autoscaling:autoscaling:10.111.1.110/autoscaling/autoscaling autoscaling:unpartitioned:, arn:euca:bootstrap:cloudformation:cloudformation:10.111.1.110/cloudformation/cloudformation cloudformation:unpartitioned:, arn:euca:bootstrap:cloudwatch:cloudwatch:10.111.1.110/cloudwatch/cloudwatch cloudwatch:unpartitioned:, arn:euca:bootstrap:user-api:user-api:10.111.1.110/user-api/user-api user-api:unpartitioned:, arn:euca:bootstrap:dns:dns:10.111.1.110/dns/dns dns:unpartitioned:, arn:euca:bootstrap:euare:euare:10.111.1.110/euare/euare euare:unpartitioned:, arn:euca:bootstrap:tokens:tokens:10.111.1.110/tokens/tokens tokens:unpartitioned:, arn:euca:bootstrap:compute:compute:10.111.1.110/compute/compute compute:unpartitioned:, arn:euca:bootstrap::arbitrator:10.111.1.110/bootstrap/arbitrator arbitrator:partitioned:alwaysLocal:, arn:euca:bootstrap:imaging:imaging:10.111.1.110/imaging/imaging imaging:unpartitioned:, arn:euca:bootstrap:loadbalancing:loadbalancing:10.111.1.110/loadbalancing/loadbalancing loadbalancing:unpartitioned:, arn:euca:bootstrap:cluster:node:10.111.1.110/cluster/node node:partitioned:, arn:euca:bootstrap:objectstorage:objectstorage:10.111.1.110/objectstorage/objectstorage objectstorage:unpartitioned:, arn:euca:bootstrap:simpleworkflow:simpleworkflow:10.111.1.110/simpleworkflow/simpleworkflow simpleworkflow:unpartitioned:]\r\nWed Nov 30 07:21:01 2016 ERROR [SystemBootstrapper:Thread-21] [com.eucalyptus.bootstrap.SystemBootstrapper$1.uncaughtException(SystemBootstrapper.java):166] java.lang.Thread.getStackTrace(Thread.java:1556)\r\ncom.eucalyptus.bootstrap.SystemBootstrapper$1.uncaughtException(SystemBootstrapper.java:165)\r\njava.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1057)\r\njava.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1052)\r\njava.lang.Thread.dispatchUncaughtException(Thread.java:1956)\r\nWed Nov 30 07:21:01 2016 ERROR [SystemBootstrapper:Thread-21] [com.eucalyptus.bootstrap.SystemBootstrapper$1.uncaughtException(SystemBootstrapper.java):167] java.lang.NoClassDefFoundError: com/eaio/util/Resource\r\njava.lang.NoClassDefFoundError: com/eaio/util/Resource\r\n        at com.eaio.uuid.UUIDGen.<clinit>(UUIDGen.java:169)\r\n        at com.eaio.uuid.UUID.<init>(UUID.java:83)\r\n        at org.mule.util.UUID.getUUID(UUID.java:24)\r\n        at org.mule.config.DefaultMuleConfiguration.<init>(DefaultMuleConfiguration.java:213)\r\n        at org.mule.config.DefaultMuleConfiguration.<init>(DefaultMuleConfiguration.java:201)\r\n        at com.eucalyptus.context.ServiceContextManager.createContext(ServiceContextManager.java:285)\r\n        at com.eucalyptus.context.ServiceContextManager.update(ServiceContextManager.java:182)\r\n        at com.eucalyptus.context.ServiceContextManager.access$100(ServiceContextManager.java:121)\r\n        at com.eucalyptus.context.ServiceContextManager$ServiceContextBootstrapper.lambda$start$0(ServiceContextManager.java:132)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: com.eaio.util.Resource\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 10 more\r\nWed Nov 30 07:21:31 2016 ERROR [Component:Eucalyptus.bootstrap:EphemeralConfiguration:arn:euca:bootstrap:Topology::external/.class java.util.concurrent.ThreadPoolExecutor$Worker#42] [com.eucalyptus.component.Component$ComponentBootstrapper.doTransition(Component.java):650] java.lang.NullPointerException\r\n\r\n{code}\r\n\r\n\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"\"java.io.IOException: No such device\" sending to multicast address 239.193.7.3:8773","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"customfield_10000":null,"customfield_12100":"0|i040c7:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2016-12-01T16:11:28.398-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["mbacchi(mbacchi)","tony(tony)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12982/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/51300/comment/113712","id":"113712","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"[~mbacchi], please see if this can be reproduced in a non-faststart deployment.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-12-01T16:11:28.398-0600","updated":"2016-12-01T16:11:28.398-0600"}],"maxResults":1,"total":1,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}