{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38632","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632","key":"EUCA-11470","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10310":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@29bd9115[id=145,rapidViewId=118,state=CLOSED,name=4.4.0 Sprint 6,goal=,startDate=2017-01-05T17:34:38.147Z,endDate=2017-01-26T23:34:00.000Z,completeDate=2017-01-27T16:34:36.413Z,sequence=145]"],"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"resolutiondate":"2017-03-15T23:15:05.967-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11470/watchers","watchCount":7,"isWatching":false},"lastViewed":null,"created":"2015-10-07T21:18:59.078-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{pullrequest={dataType=pullrequest, state=MERGED, stateCount=1}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2017-01-18T12:58:45.000-0600\",\"stateCount\":1,\"state\":\"MERGED\",\"dataType\":\"pullrequest\",\"open\":false},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[{"id":"47403","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/47403","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"51915","key":"EUCA-13029","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/51915","fields":{"summary":"Attaching EBS volume in DAS or Overlay mode sometimes fails, works on retry","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2017-03-15T23:15:05.979-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"When using a cloudformation stack with several volumes I was seeing errors such as:\r\n\r\n{code}\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java):1142] Failed to attach volume vol-6c94fe0f\r\ncom.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\n        at com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:148)\r\n        at com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java:929)\r\n        at com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java:1136)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:538)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:499)\r\n        at com.eucalyptus.entities.Entities$TransactionalFunction.apply(Entities.java:1354)\r\n        at com.eucalyptus.blockstorage.BlockStorageController.ExportVolume(BlockStorageController.java:581)\r\n        at sun.reflect.GeneratedMethodAccessor594.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:606)\r\n        at org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:151)\r\n        at org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:121)\r\n        at org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:39)\r\n        at org.mule.component.DefaultComponentLifecycleAdapter.invoke(DefaultComponentLifecycleAdapter.java:343)\r\n        at org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:86)\r\n        at org.mule.component.AbstractJavaComponent.doInvoke(AbstractJavaComponent.java:77)\r\n        at org.mule.component.AbstractComponent.invokeInternal(AbstractComponent.java:126)\r\n        at org.mule.component.AbstractComponent.access$000(AbstractComponent.java:61)\r\n        at org.mule.component.AbstractComponent$1$1.process(AbstractComponent.java:242)\r\n        at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)\r\n        at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:61)\r\n        at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:47)\r\n        at org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:95)\r\n        at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:70)\r\n        at org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:54)\r\n        at org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:70)\r\n        at org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:26)\r\n        at org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:70)\r\n        at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)\r\n        at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:61)\r\n        at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:47)\r\n        at org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:65)\r\n        at org.mule.component.AbstractComponent.process(AbstractComponent.java:160)\r\n        at org.mule.service.processor.ServiceInternalMessageProcessor.process(ServiceInternalMessageProcessor.java:44)\r\n        at org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:27)\r\n        at org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:61)\r\n        at org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:47)\r\n        at org.mule.processor.AbstractInterceptingMessageProcessorBase.processNext(AbstractInterceptingMessageProcessorBase.java:106)\r\n        at org.mule.interceptor.AbstractEnvelopeInterceptor.process(AbstractEnvelopeInterceptor.java:55)\r\n        at org.mule.processor.AsyncInterceptingMessageProcessor.processNextTimed(AsyncInterceptingMessageProcessor.java:122)\r\n        at org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:192)\r\n        at org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:185)\r\n        at org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:20)\r\n        at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:34)\r\n        at org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:18)\r\n        at org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:58)\r\n        at org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:48)\r\n        at org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:54)\r\n        at org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:44)\r\n        at org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:44)\r\n        at org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:52)\r\n        at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:32)\r\n        at org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:17)\r\n        at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:113)\r\n        at org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:34)\r\n        at org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker.doRun(AsyncInterceptingMessageProcessor.java:184)\r\n        at org.mule.work.AbstractMuleEventWork.run(AbstractMuleEventWork.java:43)\r\n        at org.mule.work.WorkerContext.run(WorkerContext.java:311)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.eucalyptus.blockstorage.TGTWrapper$ResourceNotFoundException: Resource target not found\r\n        at com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java:333)\r\n        at com.eucalyptus.blockstorage.TGTWrapper.createTarget(TGTWrapper.java:425)\r\n        at com.eucalyptus.blockstorage.TGTServiceUsingTGTWrapper.createTarget(TGTServiceUsingTGTWrapper.java:53)\r\n        at com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:136)\r\n        ... 60 more\r\n{code}\r\n\r\nfor about 1 in 4 stacks. Adding some debug out for failures the cause is:\r\n\r\n{code}\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: can't find the target] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, show, --mode, target, --tid, 108]\r\nWed Oct 7 17:47:33 2015 ERROR [TGTWrapper:Storage.06] [com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java):331] TGT error [tgtadm: this target already exists] for command [//usr/lib/eucalyptus/euca_rootwrap, tgtadm, --lld, iscsi, --op, new, --mode, target, --tid, 108, -T, iqn.2009-06.com.eucalyptus.one:store107]\r\nWed Oct 7 17:47:33 2015 ERROR [ISCSIManager:Storage.06] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 108 for vol-6c94fe0f\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):937] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nWed Oct 7 17:47:33 2015 ERROR [DASManager:Storage.06] [com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java):1138] Unable to export volume vol-6c94fe0f\r\n{code}\r\n\r\nNote that the tid is 108, but the target is iqn.2009-06.com.eucalyptus.one:store107. Later on the database has:\r\n\r\n{code}\r\neucalyptus_shared=# select id,creation_timestamp,last_update_timestamp, version, status, volume_name, tid, storename from eucalyptus_storage.iscsivolumeinfo where tid=107 or tid=108;\r\n                id                |   creation_timestamp    |  last_update_timestamp  | version |  status   | volume_name  | tid |                storename                \r\n----------------------------------+-------------------------+-------------------------+---------+-----------+--------------+-----+-----------------------------------------\r\n 8aef85475044c157015044e434e60986 | 2015-10-07 17:40:17.894 | 2015-10-07 17:47:33.807 |       1 | available | vol-a2a5df7b | 107 | iqn.2009-06.com.eucalyptus.one:store107\r\n 8aef85475044c157015044e4382c0991 | 2015-10-07 17:40:18.732 | 2015-10-07 17:47:34.054 |       1 | available | vol-6c94fe0f | 108 | iqn.2009-06.com.eucalyptus.one:store108\r\n(2 rows)\r\n{code}\r\n\r\nThe nesting of transactions for BlockStorageController#exportVolume and ISCSIManager#allocateTarget looks incorrect, I assume the intention was to use a separate transaction for allocations within ISCSIManager.\r\n\r\nWhen the outer transaction commit fails due to a stale update of ISCSIMetaInfo we retry the export function and the associated target allocation successfully.","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/30702","id":"30702","filename":"instance-volumes-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-03T00:34:44.766-0500","size":8472,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/30702/instance-volumes-template.json"}],"aggregatetimeestimate":null,"summary":"Error logged on concurrent volume export","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10007_*:*_1_*:*_185562_*|*_3_*:*_2_*:*_18941644828_*|*_10000_*:*_2_*:*_72857718_*|*_10001_*:*_3_*:*_21490676341_*|*_10003_*:*_1_*:*_1113658804_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03fm7:","customfield_10001":"2016-05-24T12:31:01.882-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["dmitrii(dmitrii)","lbiasi(lbiasi)","lincoln.thomas(lincoln.thomas)","sjones(sjones)","sgraham(sgraham)","tony(tony)","vasya(vasya)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/103562","id":"103562","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Will you get to this, [~swathi]?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-05-24T12:31:01.882-0500","updated":"2016-05-24T12:31:01.882-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/103587","id":"103587","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~sgraham], could you have a look into this issue?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-05-24T17:28:49.935-0500","updated":"2016-05-24T17:28:49.935-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/104112","id":"104112","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"body":"Hi [~sjones],\r\n\r\nDo you by chance recall what the CF template looked like to reproduce this issue? Was it just the creation of 3-4 volumes at once that helped see this?\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"created":"2016-06-02T15:08:03.399-0500","updated":"2016-06-02T15:08:03.399-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/104144","id":"104144","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"I can reproduce this issue on an EDGE mode cloud with regular topology except for 4 nodes rather than one, and using the template attached to this issue specifying an image and key for the cloud being tested:\r\n\r\n{code}\r\n#\r\n# euform-create-stack --template-file instance-volumes-template.json -p ImageId=emi-ccbd924d -p KeyName=root instance-volume-stack-1\r\narn:aws:cloudformation::000762235650:stack/instance-volume-stack-1/12dc0e14-387f-4eea-b3b1-6d71d28b21dd\r\n#\r\n# euform-create-stack --template-file instance-volumes-template.json -p ImageId=emi-ccbd924d -p KeyName=root instance-volume-stack-2\r\narn:aws:cloudformation::000762235650:stack/instance-volume-stack-2/a14a4bba-e52b-4d0d-8646-a8630e618c73\r\n#\r\n# euform-create-stack --template-file instance-volumes-template.json -p ImageId=emi-ccbd924d -p KeyName=root instance-volume-stack-3\r\narn:aws:cloudformation::000762235650:stack/instance-volume-stack-3/dea6905b-4334-446b-b28e-588ecdf4e82f\r\n#\r\n# euform-create-stack --template-file instance-volumes-template.json -p ImageId=emi-ccbd924d -p KeyName=root instance-volume-stack-4\r\narn:aws:cloudformation::000762235650:stack/instance-volume-stack-4/9b65ef5b-6a07-435c-a445-58f2068beb69\r\n#\r\n{code}\r\n\r\nall four stacks were created successfully (cloudformation retries any failed volume attach) but the following was seen in the cloud-error.log:\r\n\r\n{code}\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [ISCSIManager:Storage.04] [com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java):147] Failed creating target 76 for vol-b7599f99\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java):935] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java):1144] Unable to export volume vol-b7599f99\r\ncom.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\n\tat com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:148)\r\n\tat com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java:927)\r\n\tat com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java:1142)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:543)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:504)\r\n\tat com.eucalyptus.entities.Entities$TransactionalFunction.apply(Entities.java:1550)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController.ExportVolume(BlockStorageController.java:586)\r\n\tat sun.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:148)\r\n\tat org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:118)\r\n\tat org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:36)\r\n\tat org.mule.component.DefaultComponentLifecycleAdapter.invoke(DefaultComponentLifecycleAdapter.java:339)\r\n\tat org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:82)\r\n\tat org.mule.component.AbstractJavaComponent.doInvoke(AbstractJavaComponent.java:73)\r\n\tat org.mule.component.AbstractComponent.invokeInternal(AbstractComponent.java:120)\r\n\tat org.mule.component.AbstractComponent.access$000(AbstractComponent.java:55)\r\n\tat org.mule.component.AbstractComponent$1$1.process(AbstractComponent.java:236)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.service.processor.ServiceProcessorExecutor.executeNext(ServiceProcessorExecutor.java:34)\r\n\tat org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:56)\r\n\tat org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:80)\r\n\tat org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:76)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)\r\n\tat org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:76)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)\r\n\tat org.mule.component.AbstractComponent.process(AbstractComponent.java:154)\r\n\tat org.mule.service.processor.ServiceInternalMessageProcessor.process(ServiceInternalMessageProcessor.java:40)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.service.processor.ServiceProcessorExecutor.executeNext(ServiceProcessorExecutor.java:34)\r\n\tat org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:56)\r\n\tat org.mule.processor.AbstractInterceptingMessageProcessorBase.processNext(AbstractInterceptingMessageProcessorBase.java:98)\r\n\tat org.mule.interceptor.AbstractEnvelopeInterceptor.processBlocking(AbstractEnvelopeInterceptor.java:58)\r\n\tat org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:47)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor.processNextTimed(AsyncInterceptingMessageProcessor.java:123)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:208)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:201)\r\n\tat org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:16)\r\n\tat org.mule.execution.CommitTransactionInterceptor.execute(CommitTransactionInterceptor.java:35)\r\n\tat org.mule.execution.CommitTransactionInterceptor.execute(CommitTransactionInterceptor.java:22)\r\n\tat org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:30)\r\n\tat org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)\r\n\tat org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)\r\n\tat org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)\r\n\tat org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)\r\n\tat org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)\r\n\tat org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)\r\n\tat org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)\r\n\tat org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)\r\n\tat org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)\r\n\tat org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)\r\n\tat org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:30)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker.doRun(AsyncInterceptingMessageProcessor.java:200)\r\n\tat org.mule.work.AbstractMuleEventWork.run(AbstractMuleEventWork.java:49)\r\n\tat org.mule.work.WorkerContext.run(WorkerContext.java:286)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.eucalyptus.blockstorage.TGTWrapper$ResourceNotFoundException: Resource target not found\r\n\tat com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java:331)\r\n\tat com.eucalyptus.blockstorage.TGTWrapper.createTarget(TGTWrapper.java:418)\r\n\tat com.eucalyptus.blockstorage.TGTServiceUsingTGTWrapper.createTarget(TGTServiceUsingTGTWrapper.java:53)\r\n\tat com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:136)\r\n\t... 67 more\r\nThu Jun 2 22:34:04 2016 ERROR [DASManager:Storage.04] [com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java):1148] Failed to attach volume vol-b7599f99\r\ncom.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\n\tat com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:148)\r\n\tat com.eucalyptus.blockstorage.DASManager$VolumeMetadataManager.exportVolume(DASManager.java:927)\r\n\tat com.eucalyptus.blockstorage.DASManager.exportVolume(DASManager.java:1142)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:543)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:504)\r\n\tat com.eucalyptus.entities.Entities$TransactionalFunction.apply(Entities.java:1550)\r\n\tat com.eucalyptus.blockstorage.BlockStorageController.ExportVolume(BlockStorageController.java:586)\r\n\tat sun.reflect.GeneratedMethodAccessor406.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:148)\r\n\tat org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:118)\r\n\tat org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:36)\r\n\tat org.mule.component.DefaultComponentLifecycleAdapter.invoke(DefaultComponentLifecycleAdapter.java:339)\r\n\tat org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:82)\r\n\tat org.mule.component.AbstractJavaComponent.doInvoke(AbstractJavaComponent.java:73)\r\n\tat org.mule.component.AbstractComponent.invokeInternal(AbstractComponent.java:120)\r\n\tat org.mule.component.AbstractComponent.access$000(AbstractComponent.java:55)\r\n\tat org.mule.component.AbstractComponent$1$1.process(AbstractComponent.java:236)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.service.processor.ServiceProcessorExecutor.executeNext(ServiceProcessorExecutor.java:34)\r\n\tat org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:56)\r\n\tat org.mule.processor.chain.DefaultMessageProcessorChain.doProcess(DefaultMessageProcessorChain.java:80)\r\n\tat org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:76)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.doProcess(InterceptingChainLifecycleWrapper.java:50)\r\n\tat org.mule.processor.chain.AbstractMessageProcessorChain.process(AbstractMessageProcessorChain.java:76)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.access$001(InterceptingChainLifecycleWrapper.java:22)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper$1.process(InterceptingChainLifecycleWrapper.java:66)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.processor.chain.InterceptingChainLifecycleWrapper.process(InterceptingChainLifecycleWrapper.java:61)\r\n\tat org.mule.component.AbstractComponent.process(AbstractComponent.java:154)\r\n\tat org.mule.service.processor.ServiceInternalMessageProcessor.process(ServiceInternalMessageProcessor.java:40)\r\n\tat org.mule.execution.ExceptionToMessagingExceptionExecutionInterceptor.execute(ExceptionToMessagingExceptionExecutionInterceptor.java:24)\r\n\tat org.mule.execution.MessageProcessorNotificationExecutionInterceptor.execute(MessageProcessorNotificationExecutionInterceptor.java:107)\r\n\tat org.mule.execution.MessageProcessorExecutionTemplate.execute(MessageProcessorExecutionTemplate.java:44)\r\n\tat org.mule.service.processor.ServiceProcessorExecutor.executeNext(ServiceProcessorExecutor.java:34)\r\n\tat org.mule.processor.BlockingProcessorExecutor.execute(BlockingProcessorExecutor.java:56)\r\n\tat org.mule.processor.AbstractInterceptingMessageProcessorBase.processNext(AbstractInterceptingMessageProcessorBase.java:98)\r\n\tat org.mule.interceptor.AbstractEnvelopeInterceptor.processBlocking(AbstractEnvelopeInterceptor.java:58)\r\n\tat org.mule.processor.AbstractRequestResponseMessageProcessor.process(AbstractRequestResponseMessageProcessor.java:47)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor.processNextTimed(AsyncInterceptingMessageProcessor.java:123)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:208)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker$1.process(AsyncInterceptingMessageProcessor.java:201)\r\n\tat org.mule.execution.ExecuteCallbackInterceptor.execute(ExecuteCallbackInterceptor.java:16)\r\n\tat org.mule.execution.CommitTransactionInterceptor.execute(CommitTransactionInterceptor.java:35)\r\n\tat org.mule.execution.CommitTransactionInterceptor.execute(CommitTransactionInterceptor.java:22)\r\n\tat org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:30)\r\n\tat org.mule.execution.HandleExceptionInterceptor.execute(HandleExceptionInterceptor.java:14)\r\n\tat org.mule.execution.BeginAndResolveTransactionInterceptor.execute(BeginAndResolveTransactionInterceptor.java:67)\r\n\tat org.mule.execution.ResolvePreviousTransactionInterceptor.execute(ResolvePreviousTransactionInterceptor.java:44)\r\n\tat org.mule.execution.SuspendXaTransactionInterceptor.execute(SuspendXaTransactionInterceptor.java:50)\r\n\tat org.mule.execution.ValidateTransactionalStateInterceptor.execute(ValidateTransactionalStateInterceptor.java:40)\r\n\tat org.mule.execution.IsolateCurrentTransactionInterceptor.execute(IsolateCurrentTransactionInterceptor.java:41)\r\n\tat org.mule.execution.ExternalTransactionInterceptor.execute(ExternalTransactionInterceptor.java:48)\r\n\tat org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:28)\r\n\tat org.mule.execution.RethrowExceptionInterceptor.execute(RethrowExceptionInterceptor.java:13)\r\n\tat org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:110)\r\n\tat org.mule.execution.TransactionalErrorHandlingExecutionTemplate.execute(TransactionalErrorHandlingExecutionTemplate.java:30)\r\n\tat org.mule.processor.AsyncInterceptingMessageProcessor$AsyncMessageProcessorWorker.doRun(AsyncInterceptingMessageProcessor.java:200)\r\n\tat org.mule.work.AbstractMuleEventWork.run(AbstractMuleEventWork.java:49)\r\n\tat org.mule.work.WorkerContext.run(WorkerContext.java:286)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: com.eucalyptus.blockstorage.TGTWrapper$ResourceNotFoundException: Resource target not found\r\n\tat com.eucalyptus.blockstorage.TGTWrapper.executeTGT(TGTWrapper.java:331)\r\n\tat com.eucalyptus.blockstorage.TGTWrapper.createTarget(TGTWrapper.java:418)\r\n\tat com.eucalyptus.blockstorage.TGTServiceUsingTGTWrapper.createTarget(TGTServiceUsingTGTWrapper.java:53)\r\n\tat com.eucalyptus.blockstorage.ISCSIManager.exportTarget(ISCSIManager.java:136)\r\n\t... 67 more\r\nThu Jun 2 22:34:04 2016 ERROR [BlockStorageController:Storage.04] [com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java):545] Could not attach volume: Failed to attach volume vol-b7599f99\r\n{code}\r\n\r\nI ran creation of 4 stacks a couple of times and the error occurred once on each run.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-03T00:59:04.112-0500","updated":"2016-06-03T00:59:04.112-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/104504","id":"104504","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sgraham] / [~sjones], did you only see this in 4.3, not earlier releases? CentOS 7, not 6?\r\nDoes my fix to EUCA-12279 fix this too?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-09T09:46:57.361-0500","updated":"2016-06-09T09:46:57.361-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/104506","id":"104506","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas], this issue occurs in earlier releases and I do not think it is related to EUCA-12279","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-09T10:48:13.266-0500","updated":"2016-06-09T10:48:13.266-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/104522","id":"104522","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"body":"\r\nSome more data\r\nRef: cloud-tracking.log\r\n\r\nStart of the fun\r\n{code}\r\n2016-06-08 11:12:22  INFO BlockStorageController   | [78ec6ea6-c4e8] Processing ExportVolume request for volume vol-708dbea4\r\n2016-06-08 11:12:22  INFO BlockStorageController   | [7e5bd7df-cba6] Processing ExportVolume request for volume vol-a22a60c1\r\n{code}\r\n\r\nvol-708dbea4 gets tid 81\r\n{code}\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [78ec6ea6-c4e8] Allocate target: null,null,null,null,vol-708dbea4,one,null,null,null,vg01,euca-vol-708dbea4,1,available,null,null\r\n2016-06-08 11:12:22 DEBUG TGTWrapper               | [78ec6ea6-c4e8] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 81\r\n                          | [78ec6ea6-c4e8]  return=22\r\n                          | [78ec6ea6-c4e8]  stdout=\r\n                          | [78ec6ea6-c4e8]  stderr=tgtadm: can't find the target\r\n\r\n// Volume 708dbea4\r\n// tid 81 doesn't exist on disk, so grab it, tid is set to 81, storname is iqn.2009-06.com.eucalyptus.one:store81\r\n\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [78ec6ea6-c4e8] Volume vol-708dbea4 Target allocation found tid: 81\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [78ec6ea6-c4e8] Exporting vol-708dbea4 as target: 81,iqn.2009-06.com.eucalyptus.one:store81,1,/dev/vg01/euca-vol-708dbea4,eucalyptus\r\n\r\n// allocateTarget of vol-a22a60c1\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Allocate target: null,null,null,null,vol-a22a60c1,one,null,null,null,vg01,euca-vol-a22a60c1,1,available,null,null\r\n2016-06-08 11:12:22 DEBUG TGTWrapper               | [78ec6ea6-c4e8] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --op show --mode account\r\n                          | [78ec6ea6-c4e8]  return=0\r\n                          | [78ec6ea6-c4e8]  stdout=Account list:\r\n                          | [78ec6ea6-c4e8]     eucalyptus\r\n                          | [78ec6ea6-c4e8]\r\n                          | [78ec6ea6-c4e8]  stderr=\r\n2016-06-08 11:12:22 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 81\r\n                          | [7e5bd7df-cba6]  return=22\r\n                          | [7e5bd7df-cba6]  stdout=\r\n                          | [7e5bd7df-cba6]  stderr=tgtadm: can't find the target\r\n\r\n// Tid 81 doesn't exist yet...so it is grabbed again vol-a22a60c1 now thinks it should use tid 81.\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Volume vol-a22a60c1 Target allocation found tid: 81\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Exporting vol-a22a60c1 as target: 81,iqn.2009-06.com.eucalyptus.one:store81,1,/dev/vg01/euca-vol-a22a60c1,eucalyptus\r\n2016-06-08 11:12:22 DEBUG TGTWrapper               | [78ec6ea6-c4e8] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 81\r\n                          | [78ec6ea6-c4e8]  return=22\r\n                          | [78ec6ea6-c4e8]  stdout=\r\n                          | [78ec6ea6-c4e8]  stderr=tgtadm: can't find the target\r\n\r\n// Onto creation of the volume\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [78ec6ea6-c4e8] Creating target 81 for vol-708dbea4\r\n{code}\r\n\r\nVol-708dbea4 is created first:\r\n{code}\r\n                          | [7e5bd7df-cba6] Target 81: iqn.2009-06.com.eucalyptus.one:store81\r\n                          | [7e5bd7df-cba6]     System information:\r\n                          | [7e5bd7df-cba6]         Driver: iscsi\r\n                          | [7e5bd7df-cba6]         State: ready\r\n                          | [7e5bd7df-cba6]     I_T nexus information:\r\n                          | [7e5bd7df-cba6]     LUN information:\r\n                          | [7e5bd7df-cba6]         LUN: 0\r\n                          | [7e5bd7df-cba6]             Type: controller\r\n                          | [7e5bd7df-cba6]             SCSI ID: IET     00510000\r\n                          | [7e5bd7df-cba6]             SCSI SN: beaf810\r\n                          | [7e5bd7df-cba6]             Size: 0 MB, Block size: 1\r\n                          | [7e5bd7df-cba6]             Online: Yes\r\n                          | [7e5bd7df-cba6]             Removable media: No\r\n                          | [7e5bd7df-cba6]             Prevent removal: No\r\n                          | [7e5bd7df-cba6]             Readonly: No\r\n                          | [7e5bd7df-cba6]             Backing store type: null\r\n                          | [7e5bd7df-cba6]             Backing store path: None\r\n                          | [7e5bd7df-cba6]             Backing store flags:\r\n                          | [7e5bd7df-cba6]         LUN: 1\r\n                          | [7e5bd7df-cba6]             Type: disk\r\n                          | [7e5bd7df-cba6]             SCSI ID: IET     00510001\r\n                          | [7e5bd7df-cba6]             SCSI SN: beaf811\r\n                          | [7e5bd7df-cba6]             Size: 1074 MB, Block size: 512\r\n                          | [7e5bd7df-cba6]             Online: Yes\r\n                          | [7e5bd7df-cba6]             Removable media: No\r\n                          | [7e5bd7df-cba6]             Prevent removal: No\r\n                          | [7e5bd7df-cba6]             Readonly: No\r\n                          | [7e5bd7df-cba6]             Backing store type: rdwr\r\n                          | [7e5bd7df-cba6]             Backing store path: /dev/vg01/euca-vol-708dbea4\r\n                          | [7e5bd7df-cba6]             Backing store flags:\r\n                          | [7e5bd7df-cba6]     Account information:\r\n                          | [7e5bd7df-cba6]     ACL information:\r\n{code}\r\n\r\nThen we try to create vol-a22a60c1 with tid 81, which fails (as expected)\r\n{code}\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Creating target 81 for vol-a22a60c1\r\n2016-06-08 11:12:22 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode target --tid 81 -T iqn.2009-06.com.eucalyptus.one:store81\r\n                          | [7e5bd7df-cba6]  return=22\r\n                          | [7e5bd7df-cba6]  stdout=\r\n                          | [7e5bd7df-cba6]  stderr=tgtadm: this target already exists\r\n2016-06-08 11:12:22 ERROR ISCSIManager             | [7e5bd7df-cba6] Failed creating target 81 for vol-a22a60c1\r\n2016-06-08 11:12:22 ERROR DASManager               | [7e5bd7df-cba6] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Allocate target: iqn.2009-06.com.eucalyptus.one:store81,81,1,eucalyptus,vol-a22a60c1,one,null,null,null,vg01,euca-vol-a22a60c1,1,available,null,null\r\n2016-06-08 11:12:22  INFO ISCSIManager             | [7e5bd7df-cba6] Volume already associated with a tid: 81\r\n2016-06-08 11:12:22 DEBUG ISCSIManager             | [7e5bd7df-cba6] Exporting vol-a22a60c1 as target: 81,iqn.2009-06.com.eucalyptus.one:store81,1,/dev/vg01/euca-vol-a22a60c1,eucalyptus\r\n{code}\r\n\r\nThat gets retried several times before failing with the stack trace, then as expected the retry happens and vol-a22a60c1 becomes associated with tid 82:\r\n{code}\r\n2016-06-08 11:12:22 ERROR BlockStorageController   | [7e5bd7df-cba6] Could not attach volume: Failed to attach volume vol-a22a60c1\r\n2016-06-08 11:12:22 DEBUG Entities                 | [7e5bd7df-cba6] Evicted cache for class com.eucalyptus.blockstorage.entities.ISCSIMetaInfo\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Allocate target: null,null,null,null,vol-a22a60c1,one,null,null,null,vg01,euca-vol-a22a60c1,1,available,null,null\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 82\r\n                          | [7e5bd7df-cba6]  stderr=tgtadm: can't find the target\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Volume vol-a22a60c1 Target allocation found tid: 82\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Exporting vol-a22a60c1 as target: 82,iqn.2009-06.com.eucalyptus.one:store82,1,/dev/vg01/euca-vol-a22a60c1,eucalyptus\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --op show --mode account\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 82\r\n                          | [7e5bd7df-cba6]  stderr=tgtadm: can't find the target\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Creating target 82 for vol-a22a60c1\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode target --tid 82 -T iqn.2009-06.com.eucalyptus.one:store82\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Creating lun 1 for vol-a22a60c1\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode logicalunit --tid 82 --lun 1 -b /dev/vg01/euca-vol-a22a60c1\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Binding user eucalyptus for vol-a22a60c1\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op bind --mode account --tid 82 --user eucalyptus\r\n2016-06-08 11:12:23 DEBUG ISCSIManager             | [7e5bd7df-cba6] Binding target 82 for vol-a22a60c1\r\n2016-06-08 11:12:23 DEBUG TGTWrapper               | [7e5bd7df-cba6] TGTWrapper executed: //usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op bind --mode target --tid 82 -I ALL\r\n\r\n{code}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"created":"2016-06-09T12:53:52.095-0500","updated":"2016-06-09T12:53:52.095-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/115619","id":"115619","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"I see the problem and I'm working on a fix. [~sjones] you're right there's entity transaction nesting problems, in addition to the issues in EUCA-13029 getting in the mix here. Thanks [~sgraham] for your investigation too. The outputs do indeed show 2 different attempts to use the same tid to create multiple targets, 2nd one fails. I see the same behavior in my concurrent scripts in EUCA-13029 that attach volumes to instances quickly. \r\n\r\nThat implies the update to the ISCSIMetaInfo table in ISCSIManager.allocateTarget() are not persisting. It's a synchronized method, so 2 threads shouldn't be able to read-update that table concurrently by calling that method. \r\n\r\nUsing Entities.distinctTransactionFor() instead of Entities.transactionFor() in BlockStorageController.ExportVolume() would seem to allow the nesting to work.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-12T15:54:37.114-0600","updated":"2017-01-12T17:11:58.764-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/115902","id":"115902","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas], are you still working in this bug?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-01-18T11:25:13.498-0600","updated":"2017-01-18T11:25:13.498-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/115922","id":"115922","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Committed a set of fixes that fix this issue and EUCA-13029. There were several issues:\r\n\r\n# The transactions on the ISCSIMetaInfo class, when allocating a target ID for a volume to be exported, were not committed until the outer transaction on the VolumeInfo class was completed in BlockStorageController#exportVolume. Thus, another thread could see the stale value of the next target ID to use, in the ISCSIMetaInfo table. [~sjones]'s ThreadPoolDispatchingStorageExportManager class resolved this (added with these commits).\r\n# Sometimes a target was created successfully but then the LUN creation failed. Perhaps there's a race condition in LVM. In that case, it would retry creating the target (which already exists) and fail each time, thus failing the export. Now, if the target exists but without a LUN, it will retry the LUN creation, which always works. Same for retrying the other operations after that (binding the target to the eucalyptus user and to all initiators): their results were never checked before, and thus were never retried.\r\n# The return code and outputs from LVM of enabling the logical volume were not being checked correctly, resulting in incorrect retry behavior.\r\n# When enabling the LV failed, issuing the pvscan had incorrect arguments.\r\n# Un-exporting a target did not null out all of the volume info fields, only some. Fixed.\r\n# Made the timeouts configurable by using the existing [ZONE].storage.timeoutinmillis euctl property. Replaced the hardcoded 10 retries in exporting.\r\n# More DEBUG logging for future problem analysis.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-18T15:48:02.114-0600","updated":"2017-01-18T15:48:02.114-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/115925","id":"115925","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"See pull request https://github.com/eucalyptus/eucalyptus/pull/90 which contains all the fixes.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-01-18T15:50:55.042-0600","updated":"2017-01-18T15:50:55.042-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/116714","id":"116714","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.4.0\r\nRelease     : 0.25777.142.20170130git8ef69c1.el7\r\n\r\nUnable to reproduce the same issue using the supplied template ran many times. No regressions detected in testing. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2017-01-31T13:09:22.328-0600","updated":"2017-01-31T13:09:22.328-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38632/comment/119297","id":"119297","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"Moving 4.4.0 Issues from Release Pending to Resolved","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2017-03-15T23:15:05.975-0500","updated":"2017-03-15T23:15:05.975-0500"}],"maxResults":13,"total":13,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11470/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}