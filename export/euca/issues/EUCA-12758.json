{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"48608","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608","key":"EUCA-12758","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@490080ba[id=140,rapidViewId=118,state=CLOSED,name=4.4.0 Sprint 1,goal=,startDate=2016-09-06T16:08:39.183Z,endDate=2016-09-26T22:08:00.000Z,completeDate=2016-09-27T14:08:28.095Z,sequence=140]"],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2017-03-15T23:14:15.696-0500","customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12758/watchers","watchCount":3,"isWatching":false},"created":"2016-09-21T18:43:32.070-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2016-09-21T15:16:18.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[{"id":"43305","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/43305","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"outwardIssue":{"id":"48710","key":"EUCA-12765","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48710","fields":{"summary":"IAM upload of policy with single statement fails","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"43304","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/43304","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"48709","key":"DOC-1972","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48709","fields":{"summary":"Document IAM condition keys aws:TokenIssueTime and aws:SecureTransport","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"43307","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/43307","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"14949","key":"EUCA-3111","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14949","fields":{"summary":"Support additional AWS-Wide Policy Keys (EpochTime, UserAgent)","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-03-15T23:14:15.704-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11503","id":"11503","name":"IAM"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"We should support the following condition keys / policy variables:\r\n\r\n* aws:TokenIssueTime\r\n* aws:SecureTransport\r\n\r\nwhich can be used to better secure a cloud for third-party access.\r\n\r\nhttp://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html#AvailableKeys\r\nhttp://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_variables.html#policy-vars-infotouse","customfield_13200":null,"customfield_11300":"EUCA-12825","customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"IAM support for aws:TokenIssueTime and aws:SecureTransport","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03xcn:","customfield_10000":"3_*:*_1_*:*_88570384_*|*_10000_*:*_1_*:*_56530_*|*_10003_*:*_1_*:*_14335901401_*|*_10006_*:*_1_*:*_0","customfield_10001":"2017-03-07T00:35:01.567-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["shaon(shaon)","lbiasi(lbiasi)","sjones(sjones)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/110515","id":"110515","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"You can now require a secure transport (https) is used for requests by using policy statements such as:\r\n\r\n{code}\r\n       {\r\n      \"Effect\": \"Deny\",\r\n      \"Action\": \"*\",\r\n      \"Resource\": \"*\",\r\n      \"Condition\": {\r\n        \"Bool\": {\r\n          \"aws:SecureTransport\": \"false\"\r\n        }\r\n      }\r\n    }\r\n{code}\r\n\r\nyou can prevent use of security tokens issued before a certain time by adding a policy statement such as:\r\n\r\n{code}\r\n    {\r\n    \"Effect\": \"Deny\",\r\n    \"Action\": \"*\",\r\n    \"Resource\": \"*\",\r\n    \"Condition\": {\"DateLessThan\": {\"aws:TokenIssueTime\": \"2016-09-22T23:47:00Z\"}}\r\n    }\r\n{code}\r\n\r\nA test related to this feature is here:\r\n\r\nhttps://github.com/eucalyptus/n4j/pull/16","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-22T19:20:38.978-0500","updated":"2016-09-22T19:20:38.978-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/118661","id":"118661","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones],\r\n\r\nLooks like the {{aws:SecureTransport}} isn't being honored with the following policy,\r\n\r\n{code}\r\n[root@a-02-l ~]# euare-usergetpolicy shaon-user -p userpol --region shaon@\r\n{\r\n  \"Version\": \"2012-10-17\",\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1488866935124\",\r\n      \"Action\": [\r\n        \"ec2:DescribeKeyPairs\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\",\r\n      \"Condition\": {\r\n        \"Bool\": {\r\n          \"aws:SecureTransport\": \"true\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n{code}\r\n\r\n{code}\r\n[root@a-02-l ~]# euca-describe-keypairs --region shaon-user@ --debug\r\n2017-03-06 22:26:21,414 DEBUG   DescribeKeyPairs parsed arguments from CLI: {'filters': None, 'security_token': None, 'url': None, 'region': 'shaon-user@', 'KeyName': [], 'show_empty_fields': False, 'key_id': None, 'secret_key': None}\r\n2017-03-06 22:26:21,414 INFO    EC2 selected user \"shaon-user\" from --region CLI option \"shaon-user@\"\r\n2017-03-06 22:26:21,414 INFO    Config set user to shaon-user\r\n2017-03-06 22:26:21,414 INFO    Config finding global option default-region\r\n2017-03-06 22:26:21,414 INFO    Config   found   default-region = scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,414 INFO    EC2 selected region \"scale-01-01-01.scale1.qa2.eucalyptus-systems.com\" from \"default-region\" global config option\r\n2017-03-06 22:26:21,414 INFO    Config set region to scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,414 INFO    Config finding region option user\r\n2017-03-06 22:26:21,415 DEBUG   Config   section scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,415 INFO    Config   found   scale-01-01-01.scale1.qa2.eucalyptus-systems.com::user = '000477894356:admin'\r\n2017-03-06 22:26:21,415 INFO    Config finding region option ec2-url\r\n2017-03-06 22:26:21,415 DEBUG   Config   section scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,415 INFO    Config   found   scale-01-01-01.scale1.qa2.eucalyptus-systems.com::ec2-url = 'http://ec2.scale-01-01-01.scale1.qa2.eucalyptus-systems.com:8773/'\r\n2017-03-06 22:26:21,415 INFO    Config finding region option name\r\n2017-03-06 22:26:21,415 DEBUG   Config   section scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,415 INFO    Config   found   scale-01-01-01.scale1.qa2.eucalyptus-systems.com::name = 'scale-01-01-01.scale1.qa2.eucalyptus-systems.com'\r\n2017-03-06 22:26:21,415 INFO    Config finding global option max-retries\r\n2017-03-06 22:26:21,415 INFO    Config   novalue for max-retries\r\n2017-03-06 22:26:21,415 INFO    Config finding global option timeout\r\n2017-03-06 22:26:21,416 INFO    Config   found   timeout = 100\r\n2017-03-06 22:26:21,416 INFO    Config finding region option verify-tls\r\n2017-03-06 22:26:21,416 DEBUG   Config   section scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,416 DEBUG   Config   section *\r\n2017-03-06 22:26:21,416 INFO    Config   novalue for verify-tls\r\n2017-03-06 22:26:21,416 INFO    Config finding region option verify-ssl\r\n2017-03-06 22:26:21,416 DEBUG   Config   section scale-01-01-01.scale1.qa2.eucalyptus-systems.com\r\n2017-03-06 22:26:21,416 DEBUG   Config   section *\r\n2017-03-06 22:26:21,416 INFO    Config   novalue for verify-ssl\r\n2017-03-06 22:26:21,416 INFO    Config finding user option key-id\r\n2017-03-06 22:26:21,417 DEBUG   Config   section shaon-user\r\n2017-03-06 22:26:21,417 DEBUG   Config   jump-to 000760656082:shaon-user::key-id (from shaon-user)\r\n2017-03-06 22:26:21,417 DEBUG   Config   section 000760656082:shaon-user\r\n2017-03-06 22:26:21,417 INFO    Config   found   000760656082:shaon-user::key-id = 'AKIAAGZAMC4ZQCZCUIBR'\r\n2017-03-06 22:26:21,417 INFO    Config finding user option secret-key\r\n2017-03-06 22:26:21,417 DEBUG   Config   section shaon-user\r\n2017-03-06 22:26:21,417 DEBUG   Config   jump-to 000760656082:shaon-user::secret-key (from shaon-user)\r\n2017-03-06 22:26:21,417 DEBUG   Config   section 000760656082:shaon-user\r\n2017-03-06 22:26:21,417 INFO    Config   found   000760656082:shaon-user::secret-key = <redacted>\r\n2017-03-06 22:26:21,417 DEBUG   HmacV4Auth using auth info from configuration\r\n2017-03-06 22:26:21,418 INFO    DescribeKeyPairs parameters: {'Action': 'DescribeKeyPairs', 'Version': '2015-10-01'}\r\n2017-03-06 22:26:21,418 DEBUG   DescribeKeyPairs sending flattened parameters as form data\r\n2017-03-06 22:26:21,425 INFO    EC2 sending request (attempt 1 of 3)\r\n2017-03-06 22:26:21,432 DEBUG   HmacV4Auth payload hash: 66676a7bdb3a8a280e5eed4b7ed4e94012acf2afdb1d9c984590b64fca8c7e08\r\n2017-03-06 22:26:21,432 DEBUG   HmacV4Auth scope: 20170307/scale-01-01-01.scale1.qa2.eucalyptus-systems.com/ec2/aws4_request\r\n2017-03-06 22:26:21,432 DEBUG   HmacV4Auth canonical URI: /\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth canonical query:\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'content-length:42', 'content-type:application/x-www-form-urlencoded', 'host:ec2.scale-01-01-01.scale1.qa2.eucalyptus-systems.com:8773', 'x-amz-content-sha256:66676a7bdb3a8a280e5eed4b7ed4e94012acf2afdb1d9c984590b64fca8c7e08', 'x-amz-date:20170307T062621Z']\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\ncontent-length:42\\ncontent-type:application/x-www-form-urlencoded\\nhost:ec2.scale-01-01-01.scale1.qa2.eucalyptus-systems.com:8773\\nx-amz-content-sha256:66676a7bdb3a8a280e5eed4b7ed4e94012acf2afdb1d9c984590b64fca8c7e08\\nx-amz-date:20170307T062621Z\\n\\naccept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\n66676a7bdb3a8a280e5eed4b7ed4e94012acf2afdb1d9c984590b64fca8c7e08'\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20170307T062621Z\\n20170307/scale-01-01-01.scale1.qa2.eucalyptus-systems.com/ec2/aws4_request\\n064f77eec9b4622547950ea4cd4d75379e01e96881c10523769b4bdc21ee6c49'\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth signature: e8ae976104f9d16c3cfcb1a02a58449c9c103f641407381169c0c26920eb6b0a\r\n2017-03-06 22:26:21,433 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  method: POST\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  url:    http://ec2.scale-01-01-01.scale1.qa2.eucalyptus-systems.com:8773/\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Accept: */*\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Accept-Encoding: gzip, deflate\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAAGZAMC4ZQCZCUIBR/20170307/scale-01-01-01.scale1.qa2.eucalyptus-systems.com/ec2/aws4_request, SignedHeaders=accept;accept-encoding;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=e8ae976104f9d16c3cfcb1a02a58449c9c103f641407381169c0c26920eb6b0a\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Connection: keep-alive\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Content-Length: 42\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Content-Type: application/x-www-form-urlencoded\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: Host: ec2.scale-01-01-01.scale1.qa2.eucalyptus-systems.com:8773\r\n2017-03-06 22:26:21,434 DEBUG   EC2 request  header: User-Agent: euca2ools/3.4.1 (CPython 2.7.5; Linux 3.10.0-514.6.1.el7.x86_64; x86_64) requestbuilder/0.7.1 requests/2.6.0\r\n2017-03-06 22:26:21,435 DEBUG   EC2 request  header: X-Amz-Content-SHA256: 66676a7bdb3a8a280e5eed4b7ed4e94012acf2afdb1d9c984590b64fca8c7e08\r\n2017-03-06 22:26:21,435 DEBUG   EC2 request  header: X-Amz-Date: 20170307T062621Z\r\n2017-03-06 22:26:21,435 DEBUG   EC2 request  data:   Action: DescribeKeyPairs\r\n2017-03-06 22:26:21,435 DEBUG   EC2 request  data:   Version: 2015-10-01\r\n2017-03-06 22:26:21,489 DEBUG   EC2 response time:   0.054 seconds\r\n2017-03-06 22:26:21,489 INFO    EC2 response status: 200\r\n2017-03-06 22:26:21,490 DEBUG   EC2 response header: content-length: 170\r\n2017-03-06 22:26:21,490 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2017-03-06 22:26:21,490 DEBUG   EC2 response header: date: Tue, 07 Mar 2017 06:26:21 GMT\r\n2017-03-06 22:26:21,490 DEBUG   EC2 response header: server: Eucalyptus/4.4.0\r\n2017-03-06 22:26:21,490 DEBUG   DescribeKeyPairs -- response content --\r\n<DescribeKeyPairsResponse xmlns=\"http://ec2.amazonaws.com/doc/2015-10-01/\"><requestId>93d86e53-0995-4ae9-97b5-a97a122df26d</requestId><keySet/></DescribeKeyPairsResponse>\r\n2017-03-06 22:26:21,491 DEBUG   DescribeKeyPairs -- end of response content --\r\n{code}\r\n\r\nThe attached test {{TestSTSConditionKeys}} fails as well for {{iam:GetUserPolicy}} action,\r\n{code}\r\njava.lang.AssertionError: Expected one action to fail, but was: false/false\r\n\tat com.eucalyptus.tests.awssdk.N4j.assertThat(N4j.java:458)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:148)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.call(StaticMetaMethodSite.java:88)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys.assertThat(TestSTSConditionKeys.groovy:77)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys.this$2$assertThat(TestSTSConditionKeys.groovy)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\r\n\tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:361)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:903)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:66)\r\n{code}\r\n\r\nSame for {{aws:TokenIssueTime}} [as well|https://github.com/eucalyptus/n4j/blob/master/src/main/java/com/eucalyptus/tests/awssdk/TestSTSConditionKeys.groovy#L261-L268],\r\n\r\n{code}\r\njava.lang.AssertionError: Expected request failure due to token issue time condition\r\n\tat com.eucalyptus.tests.awssdk.N4j.assertThat(N4j.java:458)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:148)\r\n\tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.call(StaticMetaMethodSite.java:88)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys.assertThat(TestSTSConditionKeys.groovy:77)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys.this$2$assertThat(TestSTSConditionKeys.groovy)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\r\n\tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:361)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:903)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:66)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:46)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:145)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys$_test_closure3.doCall(TestSTSConditionKeys.groovy:264)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:233)\r\n\tat org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:272)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:903)\r\n\tat groovy.lang.Closure.call(Closure.java:415)\r\n\tat groovy.lang.Closure.call(Closure.java:428)\r\n\tat org.codehaus.groovy.runtime.DefaultGroovyMethods.with(DefaultGroovyMethods.java:196)\r\n\tat org.codehaus.groovy.runtime.dgm$926.invoke(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:271)\r\n\tat org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:53)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:42)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat com.eucalyptus.tests.awssdk.TestSTSConditionKeys.test(TestSTSConditionKeys.groovy:220)\r\n{code}\r\n\r\n*Installed Packages*\r\n{code}\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.4.0\r\nRelease     : 0.25808.161.20170217git82fb574.el7\r\nSize        : 242 k\r\nRepo        : installed\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-07T00:35:01.567-0600","updated":"2017-03-07T00:42:36.586-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/118662","id":"118662","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shaon], there is an error in the TestSTSConditionKeys test, addressed in the pending pull request:\r\n\r\nhttps://github.com/eucalyptus/n4j/pull/50\r\n\r\nI don't see any keys in the response?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-07T00:52:54.659-0600","updated":"2017-03-07T00:52:54.659-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/118719","id":"118719","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones], in this case, eucalyptus returns an empty keyset when condition doesn't fulfill. But in AWS, it throws an {{UnauthorizedOperation}} client exception.\r\n\r\n{code}\r\n# aws iam get-user-policy --user-name test-shaon --policy-name userpol\r\n{\r\n    \"UserName\": \"test-shaon\",\r\n    \"PolicyName\": \"userpol\",\r\n    \"PolicyDocument\": {\r\n        \"Version\": \"2012-10-17\",\r\n        \"Statement\": [\r\n            {\r\n                \"Action\": [\r\n                    \"ec2:DescribeKeyPairs\"\r\n                ],\r\n                \"Resource\": \"*\",\r\n                \"Effect\": \"Allow\",\r\n                \"Condition\": {\r\n                    \"Bool\": {\r\n                        \"aws:SecureTransport\": \"false\"\r\n                    }\r\n                },\r\n                \"Sid\": \"Stmt1488866935124\"\r\n            }\r\n        ]\r\n    }\r\n}\r\n\r\n[root@a-02-l ~]# aws ec2 describe-key-pairs --profile test-shaon\r\n\r\nAn error occurred (UnauthorizedOperation) when calling the DescribeKeyPairs operation: You are not authorized to perform this operation.\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-07T14:05:24.014-0600","updated":"2017-03-07T14:05:40.709-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/118725","id":"118725","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~shaon], the current eucalyptus behaviour when the policy resource or condition does not match is not aws compatible, but that issue is not new and does not relate to the addition of these new policy condition keys.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-07T15:19:35.251-0600","updated":"2017-03-07T15:19:35.251-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/118731","id":"118731","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified.\r\n\r\n*Installed Packages*\r\n{code}\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.4.0\r\nRelease     : 0.25808.161.20170217git82fb574.el7\r\nSize        : 242 k\r\nRepo        : installed\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-07T16:32:20.369-0600","updated":"2017-03-07T16:32:20.369-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48608/comment/119166","id":"119166","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"Moving 4.4.0 Issues from Release Pending to Resolved","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2017-03-15T23:14:15.703-0500","updated":"2017-03-15T23:14:15.703-0500"}],"maxResults":7,"total":7,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12758/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}