{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"58600","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600","key":"EUCA-13401","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/19100","id":"19100","description":"Eucalyptus 4.4.2","name":"4.4.2","archived":false,"released":true,"releaseDate":"2017-08-30"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@2264cc15[id=151,rapidViewId=118,state=CLOSED,name=5.0 Sprint 4,goal=,startDate=2017-05-19T17:08:06.223Z,endDate=2017-06-09T17:08:00.000Z,completeDate=2017-06-13T20:28:29.061Z,sequence=151]"],"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"resolutiondate":"2017-08-08T02:44:17.963-0500","customfield_10704":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13401/watchers","watchCount":4,"isWatching":false},"created":"2017-05-16T18:34:03.436-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"customfield_11901":null,"issuelinks":[{"id":"52401","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/52401","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"54818","key":"EUCA-13243","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/54818","fields":{"summary":"Getting list of images from Ceph occasionally fails","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-08-08T02:44:18.079-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10006","description":"A fix has been committed, and will be part of the next release","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Release Pending","id":"10006","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"(Originally discovered as SUP-706)\r\n\r\nEvery 60 seconds, a Ceph cleanup task on the SC looks for images that correspond to Eucalyptus volumes or snapshots that have been deleted. For each such image, it checks its list of Ceph snapshots to see if any active (non-deleted) Eucalyptus volumes have been cloned from any of those snapshots. (If so, then it can't delete the Ceph image yet.)\r\n\r\nIf the list of cloned (a.k.a. child) images is \"large\" (60-200), then the call to the Ceph RBD library to get the list of children fails. The failure manifests as either the thread exiting, or the entire eucalyptus-cloud process crashing.\r\n\r\nIn SUP-706, the customer saw this with a snapshot image that has 60 active child volumes. In my testing in the EQS lab, I could only cause this reliably with 200 volumes, but I could cause it on multiple cloud installations, using stock 4.4.0 and with latest maint-4.4 (4.4.1-ish).\r\n\r\nDoing the same operations with manually entered \"rbd\" CLI commands on the same SC work fine, including listing 200 children of a snapshot. So it's a problem specifically with the Java Ceph RBD library, which calls underlying Ceph RBD C++ code.\r\n\r\n*+Reproducer:+*\r\n# Create a volume (euca-create-volume)\r\n# Create a snapshot from it (euca-create-snapshot)\r\n# Create 200 volumes from that snapshot ({{euca-create-volume --snapshot <snapid>}})\r\n# Delete the snapshot (no need to delete the original volume that was snapshotted)\r\n...then the next time the Ceph image cleaner runs, either that thread will die, or the entire eucalyptus-cloud process will die.\r\n\r\nCustomer crash info shown in hs_err_pid9826.log below. The offending call is the Ceph Java method {{RbdImage.listChildren}} which calls the C++ function {{rbd_list_children}}.\r\n\r\nIn my testing, we get no such hs_... log, or the log contains less helpful information. \r\n\r\n{code}\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nJ 22817  com.sun.jna.Native.invokeInt(JI[Ljava/lang/Object;)I (0 bytes) @ 0x00007f48aec55b58 [0x00007f48aec55b00+0x58]\r\nJ 22860 C1 com.sun.jna.Function.invoke([Ljava/lang/Object;Ljava/lang/Class;Z)Ljava/lang/Object; (1149 bytes) @ 0x00007f48aedf07e4 [0x00007f48aede9620+0x71c4]\r\nJ 24781 C2 com.sun.jna.Function.invoke(Ljava/lang/Class;[Ljava/lang/Object;Ljava/util/Map;)Ljava/lang/Object; (526 bytes) @ 0x00007f48af440d6c [0x00007f48af43ffe0+0xd8c]\r\nJ 22748 C1 com.sun.jna.Library$Handler.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object; (345 bytes) @ 0x00007f48aed9b1b4 [0x00007f48aed98fa0+0x2214]\r\nJ 24414 C1 com.sun.proxy.$Proxy134.rbd_list_children(Lcom/sun/jna/Pointer;[BLcom/sun/jna/ptr/IntByReference;[BLcom/sun/jna/ptr/IntByReference;)I (59 bytes) @ 0x00007f48af2d6c3c [0x00007f48af2d64c0+0x77c]\r\nJ 24413 C1 com.ceph.rbd.RbdImage.listChildren(Ljava/lang/String;)Ljava/util/List; (336 bytes) @ 0x00007f48af2dbfc4 [0x00007f48af2dace0+0x12e4]\r\nj  com.eucalyptus.blockstorage.ceph.CephRbdFormatTwoAdapter$3.apply(Lcom/eucalyptus/blockstorage/ceph/CephRbdConnectionManager;)Ljava/lang/String;+396\r\nj  com.eucalyptus.blockstorage.ceph.CephRbdFormatTwoAdapter$3.apply(Ljava/lang/Object;)Ljava/lang/Object;+5\r\nj  com.eucalyptus.blockstorage.ceph.CephRbdFormatTwoAdapter.executeRbdOpInPool(Lcom/google/common/base/Function;Ljava/lang/String;)Ljava/lang/Object;+14\r\nj  com.eucalyptus.blockstorage.ceph.CephRbdFormatTwoAdapter.cleanUpImages(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;)V+47\r\nj  com.eucalyptus.blockstorage.ceph.CephRbdProvider$CephRbdImageDeleter.run()V+69\r\nJ 15353 C1 java.util.concurrent.Executors$RunnableAdapter.call()Ljava/lang/Object; (14 bytes) @ 0x00007f48aae0d38c [0x00007f48aae0d280+0x10c]\r\nj  java.util.concurrent.FutureTask.runAndReset()Z+47\r\nj  java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Ljava/util/concurrent/ScheduledThreadPoolExecutor$ScheduledFutureTask;)Z+1\r\nj  java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run()V+37\r\nJ 12782 C1 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00007f48ac2af1c4 [0x00007f48ac2ae1c0+0x1004]\r\nJ 12781 C1 java.util.concurrent.ThreadPoolExecutor$Worker.run()V (9 bytes) @ 0x00007f48ac65bac4 [0x00007f48ac65b9c0+0x104]\r\nJ 12739 C1 java.lang.Thread.run()V (17 bytes) @ 0x00007f48aa7478bc [0x00007f48aa747780+0x13c]\r\nv  ~StubRoutines::call_stub\r\n{code}\r\n\r\nIn such cases, the last output at TRACE logging level in cloud-debug.log looks like:\r\n{noformat}\r\nTue May 16 16:11:34 2017 TRACE [CephRbdConnectionManager:eucalyptus-storage-checkerthreadpool-worker-322] Opening a new connection to Ceph cluster pool=eucaqa_snap\r\nTue May 16 16:11:34 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Listing images in pool=eucaqa_snap\r\nTue May 16 16:11:34 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Found 240 image(s) in pool=eucaqa_snap\r\nTue May 16 16:11:34 2017 DEBUG [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Image=del9SR0XKJX-snap-260a9b33, pool=eucaqa_snap marked for deletion, trying to clean it up\r\nTue May 16 16:11:34 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Opening image=del9SR0XKJX-snap-260a9b33, pool=eucaqa_snap, mode=read-write\r\nTue May 16 16:11:34 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Listing snapshots of image=del9SR0XKJX-snap-260a9b33, pool=eucaqa_snap\r\nTue May 16 16:11:34 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-322] Listing clones of snapshot=sp-on-snap-260a9b33, image=del9SR0XKJX-snap-260a9b33, pool=eucaqa_snap\r\n{noformat}\r\n\r\nThe output should continue:\r\n\r\n{noformat}\r\nTue May 16 16:20:57 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-513] Found clones of snapshot=sp-on-snap-260a9b33: [eucaqa_vol/vol-0126a18a, eucaqa_vol/vol-012dc4b7, eucaqa_vol/vol-013c86f9, eucaqa_vo\\\r\nl/vol-0170ceab, eucaqa_vol/vol-01774667, eucaqa_vol/vol-02770624, eucaqa_vol/vol-03dc8955, eucaqa_vol/vol-0575009f, eucaqa_vol/vol-059e47c6, eucaqa_vol/vol-06319118, eucaqa_vol/vol-06d048aa, eucaqa_vol/vol-07526710, eucaqa_vol/vol-08749\\\r\nc1e, eucaqa_vol/vol-0922c56a, eucaqa_vol/vol-09aa6df7, eucaqa_vol/vol-0a4041d2, eucaqa_vol/vol-0ae20472, eucaqa_vol/vol-0beb4d60, eucaqa_vol/vol-0dd62098, eucaqa_vol/vol-0fb346f6, eucaqa_vol/vol-106aaf60, eucaqa_vol/vol-10732018, eucaqa\\\r\n_vol/vol-1259681d, eucaqa_vol/vol-162527a0, eucaqa_vol/vol-19718784, eucaqa_vol/vol-1a763063, eucaqa_vol/vol-1a9e14e2, eucaqa_vol/vol-1c39af5b, eucaqa_vol/vol-1d2bdffa, eucaqa_vol/vol-1d874179, eucaqa_vol/vol-1deb0250, eucaqa_vol/vol-1e\\\r\nd8b83b, eucaqa_vol/vol-20c960aa, eucaqa_vol/vol-21039503, eucaqa_vol/vol-210b03cd, eucaqa_vol/vol-21cb55c6, eucaqa_vol/vol-221a4f2a, eucaqa_vol/vol-234afbd4, eucaqa_vol/vol-243a1f1c, eucaqa_vol/vol-24406ff1, eucaqa_vol/vol-244eba00, euc\\\r\naqa_vol/vol-25144c97, eucaqa_vol/vol-2576e3f6, eucaqa_vol/vol-274a7975, eucaqa_vol/vol-2845d084, eucaqa_vol/vol-285232c1, eucaqa_vol/vol-29582464, eucaqa_vol/vol-29d6b23c, eucaqa_vol/vol-2aa7c4d0, eucaqa_vol/vol-2ed0dab2, eucaqa_vol/vol\\\r\n-2fb51411, eucaqa_vol/vol-2ffd368d, eucaqa_vol/vol-30044436, eucaqa_vol/vol-30f431f1, eucaqa_vol/vol-34cb7c27, eucaqa_vol/vol-35330710, eucaqa_vol/vol-353427db, eucaqa_vol/vol-37982ec2, eucaqa_vol/vol-381014dc, eucaqa_vol/vol-38113a09, \\\r\neucaqa_vol/vol-39bb4f7e, eucaqa_vol/vol-3bf8a3c8, eucaqa_vol/vol-3c781722, eucaqa_vol/vol-40142f73, eucaqa_vol/vol-41152d28, eucaqa_vol/vol-41b38afb, eucaqa_vol/vol-43a7704b, eucaqa_vol/vol-45fdf96c, eucaqa_vol/vol-47598459, eucaqa_vol/\\\r\nvol-4b687399, eucaqa_vol/vol-4b8e19fc, eucaqa_vol/vol-4e3b3865, eucaqa_vol/vol-520e9265, eucaqa_vol/vol-57628894, eucaqa_vol/vol-591b626f, eucaqa_vol/vol-5cb685a8, eucaqa_vol/vol-60d4a5dd, eucaqa_vol/vol-6390e982, eucaqa_vol/vol-6514a5e\\\r\nd, eucaqa_vol/vol-661d1605, eucaqa_vol/vol-67799358, eucaqa_vol/vol-677e2d48, eucaqa_vol/vol-67af02af, eucaqa_vol/vol-67d03793, eucaqa_vol/vol-689a3741, eucaqa_vol/vol-6994aba7, eucaqa_vol/vol-6ce3db94, eucaqa_vol/vol-6dc555ae, eucaqa_v\\\r\nol/vol-6e056dd4, eucaqa_vol/vol-6ec5bdb1, eucaqa_vol/vol-6f5b5892, eucaqa_vol/vol-6f832fb1, eucaqa_vol/vol-70bd15fc, eucaqa_vol/vol-712ad454, eucaqa_vol/vol-7151a103, eucaqa_vol/vol-7250447e, eucaqa_vol/vol-73faa547, eucaqa_vol/vol-7629\\\r\n847f, eucaqa_vol/vol-76f2e2bc, eucaqa_vol/vol-77e221e8, eucaqa_vol/vol-7843419d, eucaqa_vol/vol-7cd6597d, eucaqa_vol/vol-7d052977, eucaqa_vol/vol-7db08f24, eucaqa_vol/vol-7ee8a973, eucaqa_vol/vol-7f7c9649, eucaqa_vol/vol-835f9bf8, eucaq\\\r\na_vol/vol-84917767, eucaqa_vol/vol-861aabf1, eucaqa_vol/vol-86da8c58, eucaqa_vol/vol-89e7d907, eucaqa_vol/vol-8acb246c, eucaqa_vol/vol-8ccea765, eucaqa_vol/vol-8d00ea21, eucaqa_vol/vol-8fb7ff7a, eucaqa_vol/vol-8ff5d245, eucaqa_vol/vol-9\\\r\n0670883, eucaqa_vol/vol-90b04b0f, eucaqa_vol/vol-9127a94b, eucaqa_vol/vol-92f54615, eucaqa_vol/vol-936cc06c, eucaqa_vol/vol-9426933d, eucaqa_vol/vol-95ea94d6, eucaqa_vol/vol-99e9e33e, eucaqa_vol/vol-99f90667, eucaqa_vol/vol-9b29d125, eu\\\r\ncaqa_vol/vol-9ecf0353, eucaqa_vol/vol-9f2f2e15, eucaqa_vol/vol-a04ea318, eucaqa_vol/vol-a16615e7, eucaqa_vol/vol-a23e5adc, eucaqa_vol/vol-a26d25ee, eucaqa_vol/vol-a5c923d2, eucaqa_vol/vol-a61f2d79, eucaqa_vol/vol-a62e1535, eucaqa_vol/vo\\\r\nl-a833f54c, eucaqa_vol/vol-abd4d2b7, eucaqa_vol/vol-ad23e2dd, eucaqa_vol/vol-adade5d5, eucaqa_vol/vol-adb754f8, eucaqa_vol/vol-afb21a52, eucaqa_vol/vol-afb459b6, eucaqa_vol/vol-b183b6bb, eucaqa_vol/vol-b4f11d9e, eucaqa_vol/vol-b58ff20b,\\\r\n eucaqa_vol/vol-b742a058, eucaqa_vol/vol-b7a7c07f, eucaqa_vol/vol-b84d9cbb, eucaqa_vol/vol-ba1e72ca, eucaqa_vol/vol-bcf434c0, eucaqa_vol/vol-bde7819c, eucaqa_vol/vol-c0590c21, eucaqa_vol/vol-c2d6f0af, eucaqa_vol/vol-c2f955ea, eucaqa_vol\\\r\n/vol-c36dc6c9, eucaqa_vol/vol-c4eabc63, eucaqa_vol/vol-c525fd6d, eucaqa_vol/vol-c64b44ed, eucaqa_vol/vol-c8ec06a6, eucaqa_vol/vol-cb2fe0c8, eucaqa_vol/vol-ccfd9a4a, eucaqa_vol/vol-cd112102, eucaqa_vol/vol-ce28b798, eucaqa_vol/vol-ce52c7\\\r\n83, eucaqa_vol/vol-ce9a4318, eucaqa_vol/vol-ceba3660, eucaqa_vol/vol-cef420e0, eucaqa_vol/vol-d14daa35, eucaqa_vol/vol-d2ef9a3b, eucaqa_vol/vol-d3767424, eucaqa_vol/vol-d47f4767, eucaqa_vol/vol-d4d04c6c, eucaqa_vol/vol-d54dae43, eucaqa_\\\r\nvol/vol-d86960f6, eucaqa_vol/vol-d9b0d5af, eucaqa_vol/vol-dd57683d, eucaqa_vol/vol-de50ab5c, eucaqa_vol/vol-dee0c65b, eucaqa_vol/vol-e09c0d1f, eucaqa_vol/vol-e0ed85ab, eucaqa_vol/vol-e134a843, eucaqa_vol/vol-e25eed7a, eucaqa_vol/vol-e27\\\r\nb2f7c, eucaqa_vol/vol-e2d4cd5a, eucaqa_vol/vol-e66c2deb, eucaqa_vol/vol-e7029a5b, eucaqa_vol/vol-e921da72, eucaqa_vol/vol-eea4b6e3, eucaqa_vol/vol-ef7af8b7, eucaqa_vol/vol-eff08dae, eucaqa_vol/vol-f04671cd, eucaqa_vol/vol-f104b026, euca\\\r\nqa_vol/vol-f44659c3, eucaqa_vol/vol-f8e7c1c1, eucaqa_vol/vol-fa120a25, eucaqa_vol/vol-fa878cb9, eucaqa_vol/vol-fb32aec8, eucaqa_vol/vol-fbed6648, eucaqa_vol/vol-fc7de38b, eucaqa_vol/vol-fdb1f317]\r\nTue May 16 16:20:57 2017 DEBUG [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-513] Cannot delete image del9SR0XKJX-snap-260a9b33 in pool eucaqa_snap as it may be associated with other images by a parent-child relat\\\r\nionship. Will retry later\r\nTue May 16 16:20:57 2017 TRACE [CephRbdFormatTwoAdapter:eucalyptus-storage-checkerthreadpool-worker-513] Closing image=del9SR0XKJX-snap-260a9b33, pool=eucaqa_snap\r\n{noformat}\r\n\r\nTypical output from {{systemctl status eucalyptus-cloud -l -n 30}} on the cloud where only that thread died:\r\n\r\n{noformat}\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: #\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # A fatal error has been detected by the Java Runtime Environment:\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: #\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: #  SIGSEGV (0xb) at pc=0x00007f0eadd72727, pid=51435, tid=0x00007f0a23045700\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: #\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # JRE version: OpenJDK Runtime Environment (8.0_131-b11) (build 1.8.0_131-b11)\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # Java VM: OpenJDK 64-Bit Server VM (25.131-b11 mixed mode linux-amd64 compressed oops)\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # Problematic frame:\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # C  [libc.so.6+0x94727]\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: [error occurred during error reporting (printing problematic frame), id 0xb]\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # Core dump written. Default location: //core or core.51435\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: #\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # An error report file with more information is saved as:\r\nMay 15 15:29:52 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: # /tmp/hs_err_pid51435.log\r\nMay 15 15:29:55 a-35-r.qa1.eucalyptus-systems.com eucalyptus-cloud[51110]: [thread 139681510729472 also had an error]\r\n{noformat}\r\n\r\nNo core is ever produced.\r\n\r\nPartial output from {{journalctl $(which eucalyptus-cloud) --since=15:00}} where the entire process died: (no core dump was created)\r\n\r\n{noformat}\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: *** Error in `eucalyptus-cloud': double free or corruption (!prev): 0x00007f3fb834f750 ***\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: ======= Backtrace: =========\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: /lib64/libc.so.6(+0x7c503)[0x7f3fe49c3503]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.121-0.b13.el7_3.x86_64//jre/lib/amd64/server/libjvm.so(+0x64e645)[0x7f3fe3e78645]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: /tmp/jna-root/jna7871103910375855654.tmp(+0x5e0e)[0x7f3f1c3aee0e]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: /tmp/jna-root/jna7871103910375855654.tmp(Java_com_sun_jna_Native_invokeInt+0x22)[0x7f3f1c3b1432]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: [0x7f3fd5457f56]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: ======= Memory map: ========\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 00400000-00411000 r-xp 00000000 fd:00 436439139                          /usr/sbin/eucalyptus-cloud\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 00610000-00611000 r--p 00010000 fd:00 436439139                          /usr/sbin/eucalyptus-cloud\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 00611000-00612000 rw-p 00011000 fd:00 436439139                          /usr/sbin/eucalyptus-cloud\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 01f2f000-01f50000 rw-p 00000000 00:00 0                                  [heap]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 01f50000-05960000 rw-p 00000000 00:00 0                                  [heap]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 5c0000000-7c1339000 rw-p 00000000 00:00 0\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7c1339000-800000000 ---p 00000000 00:00 0\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7f397cc48000-7f397cc4b000 ---p 00000000 00:00 0\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7f397cc4b000-7f397cd49000 rw-p 00000000 00:00 0                          [stack:10124]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7f3984c5f000-7f3984c62000 ---p 00000000 00:00 0\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7f3984c62000-7f3984d60000 rw-p 00000000 00:00 0                          [stack:17776]\r\nMay 15 15:43:20 c-19.qa1.eucalyptus-systems.com eucalyptus-cloud[16373]: 7f3984d60000-7f3984d63000 ---p 00000000 00:00 0\r\n{noformat}\r\n(Lots more stack output but not helpful)\r\n\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Listing child volumes of snapshots during Ceph cleanup kills SC thread or eucalyptus-cloud process","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"5_*:*_1_*:*_22729_*|*_10000_*:*_1_*:*_164085585_*|*_10001_*:*_1_*:*_446048335_*|*_10003_*:*_1_*:*_6590452492_*|*_10006_*:*_2_*:*_5509","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i044jj:","customfield_10001":"2017-08-08T02:44:18.007-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["shaon(shaon)","lincoln.thomas(lincoln.thomas)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13401/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600/comment/122004","id":"122004","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"This is probably the same issue as EUCA-13243. But in that case, instead of crashing a thread or process, it just returns an error. \r\n\r\n(EUCA-13254 became just the change to error handling.)\r\n\r\nIt doesn't seem to be the same thing as EUCA-13199 because that one crashes trying to connect to the Ceph cluster, whereas this case connects OK but crashes when trying to list images.\r\n\r\nI found some suspect changes made in the Ceph RBD Java library code which we shipped starting with Eucalyptus v4.4.0 (see EUCA-13024). Euca earlier than v4.4.0 since Dec 2014 had fixes Swathi made to fix EUCA-10232. That fix stemmed from the misuse of \"int\" vs \"long\" between the Ceph Java code and the underlying Ceph C++ code it calls. In Sep 2015 a non-Eucalyptus Ceph developer partially reverted those changes, and those reverts were included in the new Ceph Java jar we shipped with v4.4.0. Because of other changes in Ceph code since Swathi's fix, the original problem Swathi had is no longer reproducible, but I believe similar problems now pop up in certain other ways that are not as easily seen, such as this one. We need the new jar to support 4.4.0 features, so we can't go back to the old jar. I am now forking and changing that Ceph code to re-commit Swathi's changes to see if it fixes this.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-16T18:40:30.307-0500","updated":"2017-05-16T18:40:30.307-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600/comment/122101","id":"122101","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"I have a fix, tested OK so far on one EQS cloud with released version 4.4.0 code (because that's where SUP-706 is running). Continuing testing the fix on other topologies and versions including maint-4.4, and regression testing.\r\n\r\nChanges can be found here:\r\n{{https://github.com/lincolnthomas/rados-java/commit/3a547445d15cc88e4d9ebab75ef4d6eb5a675937}}\r\n\r\nPull request will follow when testing has completed, but we don't have to wait to update our {{rados-0.4.0-SNAPSHOT.jar}} in {{eucalyptus-cloud-libs}} to a new jar, e.g. {{rados-0.4.0-SNAPSHOT-euca-01-3a54744.jar}} (sequential build number \"01\" beyond Ceph's 0.4 snapshot and the commit number \"3a54744\" in my fork with the fix).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-17T14:44:06.457-0500","updated":"2017-05-17T16:06:38.322-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600/comment/122307","id":"122307","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Code changes tested on various 4.4.0, 44maint, and 5.0 (master) clusters, all passed.\r\nCommitted to {{eucalyptus-cloud-libs}} and renamed from {{rados-0.4.0-SNAPSHOT.jar}} to {{rados-0.4.0-SNAPSHOT-euca-01.jar}} ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-05-23T20:02:57.345-0500","updated":"2017-05-23T20:02:57.345-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600/comment/124900","id":"124900","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Pull request with these code changes has been posted upstream to Ceph:\r\nhttps://github.com/ceph/rados-java/pull/31","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-07-11T12:07:34.733-0500","updated":"2017-07-11T12:07:34.733-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/58600/comment/126201","id":"126201","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified.\r\n\r\nTested by creating 200 volumes from a snapshot and then deleting then snapshot.\r\n\r\n{code}\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.4.2\r\nRelease     : 0.25939.65.20170804git4e99b23.el7\r\nSize        : 243 k\r\nRepo        : installed\r\n\r\n# ls /usr/share/eucalyptus/rados-0.4.0-SNAPSHOT-euca-01.jar\r\n/usr/share/eucalyptus/rados-0.4.0-SNAPSHOT-euca-01.jar\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-08T02:44:18.007-0500","updated":"2017-08-08T02:44:18.007-0500"}],"maxResults":5,"total":5,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}