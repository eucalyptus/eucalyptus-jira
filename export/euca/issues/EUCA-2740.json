{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"14317","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14317","key":"EUCA-2740","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10005","id":"10005","description":"Eucalyptus 3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2012-07-16T08:08:58.988-0500","customfield_10704":null,"customfield_10308":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2740/watchers","watchCount":2,"isWatching":false},"created":"2012-07-11T08:27:35.261-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"labels":["LP"],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"updated":"2013-01-09T20:04:48.484-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_13000":null,"description":"Originally posted by Scott Moser on 2010-11-16 16:41:48.525650+00:00\n\nBinary package hint: cloud-utils\n\n\n$ ec2metadata --local-ipv4\nFailure: 500 Internal Server Error\n\nThat is verified on 10.04 and 10.10 guests.\n\nThe issue is that ec2metadata requests a url like:\nhttp://169.254.169.254/2008-02-01/meta-data/local-ipv4/\n\neucalyptus does not handle the trailing / as EC2 does.\n\nProblemType: Bug\nDistroRelease: Ubuntu 11.04\nPackage: cloud-utils 0.16ubuntu1\nProcVersionSignature: Ubuntu 2.6.35-22.35-generic 2.6.35.4\nUname: Linux 2.6.35-22-generic x86_64\nArchitecture: amd64\nDate: Tue Nov 16 11:24:15 2010\nEcryptfsInUse: Yes\nInstallationMedia: Ubuntu 10.04 \"Lucid Lynx\" - Beta amd64 (20100318)\nPackageArchitecture: all\nProcEnviron:\n PATH=(custom, user)\n LANG=en_US.utf8\n SHELL=/bin/bash\nSourcePackage: cloud-utils","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/11691","id":"11691","filename":"Dependencies.txt","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"created":"2012-07-11T08:27:44.159-0500","size":1618,"mimeType":"text/plain","content":"https://eucalyptus.atlassian.net/secure/attachment/11691/Dependencies.txt"}],"summary":"ec2metadata should not add trailing / to requests","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=smoser","name":"smoser","key":"smoser","accountId":"557058:acd66b8e-daca-47e2-9bd0-1c949e4c708e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/48a4835ba201cfaea27c73e0d9018f6b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/48a4835ba201cfaea27c73e0d9018f6b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/48a4835ba201cfaea27c73e0d9018f6b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/48a4835ba201cfaea27c73e0d9018f6b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Scott Moser","active":true,"timeZone":"America/New_York"},"customfield_12100":"0|i01fif:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10000_*:*_1_*:*_430883754_*|*_5_*:*_1_*:*_0","customfield_10001":"2012-07-11T08:27:40.667-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["agrimm(agrimm)","decker(decker)","eucabot(eucabot)","smoser(smoser)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14317/comment/29469","id":"29469","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"body":"Originally posted by Launchpad Janitor on 2011-01-11T14:45:12.496424+00:00\n\nThis bug was fixed in the package cloud-utils - 0.17ubuntu1\n\n---------------\ncloud-utils (0.17ubuntu1) natty; urgency=low\n\n  * uec-publish-tarball: add --rename-[kernel,ramdisk,image] flags\n  * add support for shorter syntax in uec-query-builds\n  * fix ec2metadata under Eucalyptus (LP: #676144)\n  * move write-mime-multipart from cloud-init to cloud-init-multipart\n    in cloud-utils\n -- Scott Moser <smoser@ubuntu.com>   Tue, 11 Jan 2011 09:40:28 -0500","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"created":"2012-07-11T08:27:40.667-0500","updated":"2012-07-11T08:27:40.667-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14317/comment/29903","id":"29903","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"I'm not sure exactly when this was fixed, but tests against 3.1 show that this behaves correctly.  In fact, adding a trailing slash where there should not be one gives a 404 now.  For examples:\r\n\r\n$ curl http://169.254.169.254/2008-02-01/meta-data/hostname\r\n173.205.188.87\r\n$ curl http://169.254.169.254/2008-02-01/meta-data/hostname/\r\n(404 - Not Found html page)\r\n$ curl http://169.254.169.254/2008-02-01/meta-data/local-ipv4\r\n10.9.200.50\r\n$ curl http://169.254.169.254/2008-02-01/meta-data/local-ipv4/\r\n(404 - Not Found html page)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-07-16T08:08:59.002-0500","updated":"2012-07-16T08:08:59.002-0500"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2740/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}