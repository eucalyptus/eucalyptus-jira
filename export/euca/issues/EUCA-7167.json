{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"23005","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005","key":"EUCA-7167","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@797dad4d[id=27,rapidViewId=34,state=CLOSED,name=3.4 Sprint 5,goal=<null>,startDate=2013-09-17T19:21:02.124Z,endDate=2013-10-04T22:21:00.000Z,completeDate=2013-10-09T15:31:36.581Z,sequence=27]","com.atlassian.greenhopper.service.sprint.Sprint@bc587a6[id=29,rapidViewId=64,state=CLOSED,name=3.4 Sprint 6,goal=<null>,startDate=2013-10-09T15:36:36.638Z,endDate=2013-10-21T15:36:00.000Z,completeDate=2013-10-24T18:46:44.066Z,sequence=29]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2013-10-11T17:20:26.996-0500","customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7167/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2013-08-05T05:38:28.393-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{repository={count=3, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":3,\"lastUpdated\":\"2013-09-24T15:51:42.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":3,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":["regression"],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"issuelinks":[{"id":"26124","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/26124","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"27058","key":"EUCA-8654","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27058","fields":{"summary":"Inconsistent Block Device Mapping Behavior For Root Device Metadata","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"20213","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20213","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"21182","key":"TOOLS-330","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21182","fields":{"summary":"euca-register-snapshot now requires --root-device-name.  Did not used to.","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2014-07-29T15:06:14.227-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"--root-device-name should have /dev/sda as default, not /dev/sda1 (and don't forget update manpage too)\r\nSince using /dev/sda1 will end up in an error anyway.\r\n\r\nThis call should work (/dev/sda is used as default):\r\neuca-register --name \"foo\" -s snap-foobar\r\n\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"EBS volumes can't be mapped to partitions","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tfromm","name":"tfromm","key":"tfromm","accountId":"557058:1fb1b16e-ebe1-4ad4-ae2e-f0568727c072","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Thomas Fromm","active":false,"timeZone":"Europe/Berlin"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tfromm","name":"tfromm","key":"tfromm","accountId":"557058:1fb1b16e-ebe1-4ad4-ae2e-f0568727c072","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/738cb74ebc77537f5ce3a7795212a1dc?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Thomas Fromm","active":false,"timeZone":"Europe/Berlin"},"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i00j87:","customfield_10000":"3_*:*_1_*:*_90521483_*|*_10001_*:*_1_*:*_3524879675_*|*_10002_*:*_1_*:*_443307931_*|*_10000_*:*_1_*:*_298237494_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1473972101","customfield_10001":"2013-08-06T15:59:08.238-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["gholms(gholms)","sjones(sjones)","tfromm(tfromm)","tony(tony)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7167/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/50994","id":"50994","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"{{/dev/sda1}} is ec2-register's default as well -- the problem here is that the service stopped ignoring block device mappings and instead started throwing errors when given block device mappings for partitions.  Something tells me that was never implemented.\n\nMoving to the EC2 component...","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-06T15:59:08.238-0500","updated":"2013-08-06T15:59:08.238-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/53489","id":"53489","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"The proposed solution is to map /dev/sda1 to /dev/sda in the service implementation so we are compatible with EC2 tools / libraries. This mapping would only be performed for the RegisterImage action and only for the specific device names above.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-18T11:40:49.647-0500","updated":"2013-09-18T11:40:49.647-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/53496","id":"53496","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"So with a preliminary fix in place I see the following with EC2 tools:\r\n\r\n{code}\r\n# ec2-register -n MyEBS -s snap-AB93410E \r\nIMAGE\temi-00603FBD\r\n{code}\r\n\r\nWire trace:\r\n\r\n{code}\r\nPOST /services/Eucalyptus/ HTTP/1.1\r\nHost: 10.111.1.69:8773\r\nUser-Agent: ec2-api-tools 1.6.8.0\r\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\r\nContent-Length: 355\r\nConnection: Keep-Alive\r\n\r\nName=MyEBS&RootDeviceName=%2Fdev%2Fsda1&Action=RegisterImage&BlockDeviceMapping.1.Ebs.SnapshotId=snap-AB93410E&SignatureMethod=HmacSHA256&BlockDeviceMapping.1.DeviceName=%2Fdev%2Fsda1&AWSAccessKeyId=AKIDKCIN91L8FRD8PFN0&SignatureVersion=2&Version=2013-06-15&Signature=1N088IWSwAwpD0loT%2FS0KwPLaDwzvQdqruZMCvbPvL8%3D&Timestamp=2013-09-18T17%3A14%3A02.928ZHTTP/1.1 200 OK\r\nContent-Length: 127\r\nContent-Type: application/xml; charset=UTF-8\r\n\r\n<RegisterImageResponse xmlns=\"http://ec2.amazonaws.com/doc/2013-06-15/\"><imageId>emi-00603FBD</imageId></RegisterImageResponse>\r\n{code}\r\n\r\nbut with euca2ools 3.0.0-rc1 (Sparta):\r\n\r\n{code}# euca-register --name MyEBS -s snap-AB93410E\r\neuca-register: error (RegisterImageType): Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]\r\n[root@c-34 ~]# euca-register --name MyEBS -s snap-AB93410E --debug\r\n2013-09-18 10:17:04,347 DEBUG   RegisterImage parsed arguments: {'BlockDeviceMapping': [], 'Description': None, 'url': None, 'key_id': None, 'shell_configfile': '', 'userregion': None, 'snapshot': 'snap-AB93410E', 'Architecture': None, 'show_empty_fields': False, 'ImageLocation': None, 'KernelId': None, 'RamdiskId': None, 'secret_key': None, 'deprecated_key_id': None, 'RootDeviceName': None, 'Name': 'MyEBS'}\r\n2013-09-18 10:17:04,348 DEBUG   Config searching regions for option 'ec2-url'\r\n2013-09-18 10:17:04,348 DEBUG   Config   section 'aws:us-east-1'\r\n2013-09-18 10:17:04,348 INFO    Config option 'ec2-url' = 'https://ec2.us-east-1.amazonaws.com/'\r\n2013-09-18 10:17:04,348 DEBUG   Config searching regions for option 'verify-ssl'\r\n2013-09-18 10:17:04,348 DEBUG   Config   section 'aws:us-east-1'\r\n2013-09-18 10:17:04,348 DEBUG   Config   section 'aws:*'\r\n2013-09-18 10:17:04,348 INFO    Config option 'verify-ssl' = 'true'\r\n2013-09-18 10:17:04,351 INFO    RegisterImage parameters: {'BlockDeviceMapping.1.DeviceName': '/dev/sda1', 'Action': 'RegisterImage', 'BlockDeviceMapping.1.Ebs.SnapshotId': 'snap-AB93410E', 'Version': '2013-02-01', 'Name': 'MyEBS'}\r\n2013-09-18 10:17:04,351 INFO    Eucalyptus sending request (attempt 1 of 3)\r\n2013-09-18 10:17:04,352 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.111.1.69:8773\\n/services/Eucalyptus\\nAWSAccessKeyId=AKIDKCIN91L8FRD8PFN0&Action=RegisterImage&BlockDeviceMapping.1.DeviceName=%2Fdev%2Fsda1&BlockDeviceMapping.1.Ebs.SnapshotId=snap-AB93410E&Name=MyEBS&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2013-09-18T17%3A17%3A04Z&Version=2013-02-01'\r\n2013-09-18 10:17:04,352 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: h+dqHuOtynpXIUEGfgkBkh+GUPlNOdgTrwrEAtKp5Go=\r\n2013-09-18 10:17:04,352 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request method: POST\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request url:    http://10.111.1.69:8773/services/Eucalyptus\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request header: Content-Length: 324\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request header: Host: 10.111.1.69:8773\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.0-rc1 (CPython 2.6.6; Linux 2.6.32-358.14.1.el6.x86_64; x86_64) requestbuilder/0.1.0-beta2 requests/1.1.0\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIDKCIN91L8FRD8PFN0\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   Action: RegisterImage\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.DeviceName: /dev/sda1\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.Ebs.SnapshotId: snap-AB93410E\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   Name: MyEBS\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   Signature: h+dqHuOtynpXIUEGfgkBkh+GUPlNOdgTrwrEAtKp5Go=\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2013-09-18 10:17:04,358 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2013-09-18 10:17:04,359 DEBUG   Eucalyptus request data:   Timestamp: 2013-09-18T17:17:04Z\r\n2013-09-18 10:17:04,359 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2013-09-18 10:17:04,405 DEBUG   Eucalyptus response time: 0.046 seconds\r\n2013-09-18 10:17:04,405 ERROR   Eucalyptus response status: 406\r\n2013-09-18 10:17:04,406 DEBUG   Eucalyptus response header: content-length: 2053\r\n2013-09-18 10:17:04,406 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2013-09-18 10:17:04,406 DEBUG   RegisterImage -- response content --\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>RegisterImageType</Code><Message>Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]</Message></Error></Errors><RequestID>com.eucalyptus.util.EucalyptusCloudException: Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]\r\ncom.eucalyptus.util.EucalyptusCloudException: Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]\r\n\tat com.eucalyptus.images.ImageManager.register(ImageManager.java:316)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n</RequestID></Response>\r\n2013-09-18 10:17:04,406 DEBUG   RegisterImage -- end of response content --\r\n2013-09-18 10:17:04,406 INFO    RegisterImage result: failure\r\neuca-register: error (RegisterImageType): Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-register\", line 6, in <module>\r\n    euca2ools.commands.euca.registerimage.RegisterImage.run()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 288, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 285, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 182, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 134, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 130, in send\r\n    data=self.body)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/service.py\", line 234, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/euca/__init__.py\", line 199, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (406, 'Not Acceptable', 'RegisterImageType', 'Invalid request:  the request must specify either ImageLocation for an instance-store image or a snapshot for the root device for an EBS image.  Provided values were: ImageLocation=null BlockDeviceMappings=[[noDevice:null, class:class edu.ucsb.eucalyptus.msgs.BlockDeviceMappingItemType, virtualName:null, ebs:[volumeSize:null, snapshotId:snap-AB93410E, class:class edu.ucsb.eucalyptus.msgs.EbsDeviceMapping, deleteOnTermination:true, virtualName:null, iops:null, volumeType:standard], size:null, format:null, deviceName:/dev/sda1]]')\r\n{code} \r\n\r\nthough it works when the root device name is passed explicitly (with the preliminary service fix in place):\r\n\r\n{code}\r\n# euca-register --name MyEBS -s snap-AB93410E --root-device-name /dev/sda1\r\nIMAGE\temi-995841F2\r\n{code}\r\n\r\n[~gholms], do we need a tools bug for the root device default? (so default to /dev/sda1 in the tool)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-18T12:21:39.089-0500","updated":"2013-09-18T12:21:39.089-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/53646","id":"53646","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like TOOLS-330 exists for the missing default root device name. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-19T16:37:17.225-0500","updated":"2013-09-19T16:37:17.225-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/54010","id":"54010","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Until TOOLS-330 is fixed to test this issue with euca2ools you will have to pass the device name:\r\n\r\n{code}\r\n# euca-register --name MyEBS -s snap-AB93410E --root-device-name /dev/sda1\r\n{code}\r\n\r\nonce TOOLS-330 is addressed, this will work as per the issue description:\r\n\r\n{code}\r\n# euca-register --name MyEBS -s snap-AB93410E\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-24T16:02:15.218-0500","updated":"2013-09-24T16:02:15.218-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23005/comment/55691","id":"55691","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified.\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 3.4.0\r\nRelease     : 0.0.1604.20131009git6bfe2475.el6\r\n\r\nspecifying /dev/sda1\r\n{code}\r\n[root@a-19 ~]# euca-register -n MYEBS6 -s snap-AF2B465C  --root-device-name /dev/sda1 --debug\r\n2013-10-11 15:20:04,830 DEBUG   RegisterImage parsed arguments: {'VirtualizationType': None, 'BlockDeviceMapping': [], 'Description': None, 'url': None, 'key_id': None, 'shell_configfile': '', 'userregion': None, 'snapshot': 'snap-AF2B465C', 'Architecture': None, 'show_empty_fields': False, 'ImageLocation': None, 'KernelId': None, 'RamdiskId': None, 'secret_key': None, 'deprecated_key_id': None, 'RootDeviceName': '/dev/sda1', 'Name': 'MYEBS6'}\r\n2013-10-11 15:20:04,830 DEBUG   Config searching regions for option 'ec2-url'\r\n2013-10-11 15:20:04,831 DEBUG   Config   section 'aws:us-east-1'\r\n2013-10-11 15:20:04,831 INFO    Config option 'ec2-url' = 'https://ec2.us-east-1.amazonaws.com/'\r\n2013-10-11 15:20:04,831 DEBUG   Config searching regions for option 'verify-ssl'\r\n2013-10-11 15:20:04,831 DEBUG   Config   section 'aws:us-east-1'\r\n2013-10-11 15:20:04,831 DEBUG   Config   section 'aws:*'\r\n2013-10-11 15:20:04,832 INFO    Config option 'verify-ssl' = 'true'\r\n2013-10-11 15:20:04,837 INFO    RegisterImage parameters: {'BlockDeviceMapping.1.DeviceName': '/dev/sda1', 'Version': '2013-02-01', 'Name': 'MYEBS6', 'Action': 'RegisterImage', 'BlockDeviceMapping.1.Ebs.SnapshotId': 'snap-AF2B465C', 'RootDeviceName': '/dev/sda1'}\r\n2013-10-11 15:20:04,838 INFO    Eucalyptus sending request (attempt 1 of 3)\r\n2013-10-11 15:20:04,840 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.111.5.61:8773\\n/services/Eucalyptus\\nAWSAccessKeyId=AKIIC16O6NVLME2ZRPRQ&Action=RegisterImage&BlockDeviceMapping.1.DeviceName=%2Fdev%2Fsda1&BlockDeviceMapping.1.Ebs.SnapshotId=snap-AF2B465C&Name=MYEBS6&RootDeviceName=%2Fdev%2Fsda1&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2013-10-11T22%3A20%3A04Z&Version=2013-02-01'\r\n2013-10-11 15:20:04,840 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: MDTcICp42ZMS0cKxLa46+w/yooFWAkB2vqJq4gO9dmQ=\r\n2013-10-11 15:20:04,841 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2013-10-11 15:20:04,855 DEBUG   Eucalyptus request method: POST\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request url:    http://10.111.5.61:8773/services/Eucalyptus\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request header: Content-Length: 354\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request header: Host: 10.111.5.61:8773\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.2 (CPython 2.6.6; Linux 2.6.32-358.18.1.el6.x86_64; x86_64) requestbuilder/0.1.0 requests/1.1.0\r\n2013-10-11 15:20:04,856 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIIC16O6NVLME2ZRPRQ\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   Action: RegisterImage\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.DeviceName: /dev/sda1\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.Ebs.SnapshotId: snap-AF2B465C\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   Name: MYEBS6\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   RootDeviceName: /dev/sda1\r\n2013-10-11 15:20:04,857 DEBUG   Eucalyptus request data:   Signature: MDTcICp42ZMS0cKxLa46+w/yooFWAkB2vqJq4gO9dmQ=\r\n2013-10-11 15:20:04,858 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2013-10-11 15:20:04,858 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2013-10-11 15:20:04,858 DEBUG   Eucalyptus request data:   Timestamp: 2013-10-11T22:20:04Z\r\n2013-10-11 15:20:04,858 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2013-10-11 15:20:05,618 DEBUG   Eucalyptus response time: 0.759 seconds\r\n2013-10-11 15:20:05,618 INFO    Eucalyptus response status: 200\r\n2013-10-11 15:20:05,618 DEBUG   Eucalyptus response header: content-length: 127\r\n2013-10-11 15:20:05,618 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2013-10-11 15:20:05,618 DEBUG   RegisterImage -- response content --\r\n<RegisterImageResponse xmlns=\"http://ec2.amazonaws.com/doc/2013-02-01/\"><imageId>emi-D1953EAB</imageId></RegisterImageResponse>\r\n2013-10-11 15:20:05,619 DEBUG   RegisterImage -- end of response content --\r\nIMAGE\temi-D1953EAB\r\n{code}\r\n\r\nspecifying /dev/sda\r\n{code}\r\n[root@a-19 ~]# euca-register -n MYEBS3 -s snap-AF2B465C  --root-device-name /dev/sda --debug\r\n2013-10-11 15:13:14,217 DEBUG   RegisterImage parsed arguments: {'VirtualizationType': None, 'BlockDeviceMapping': [], 'Description': None, 'url': None, 'key_id': None, 'shell_configfile': '', 'userregion': None, 'snapshot': 'snap-AF2B465C', 'Architecture': None, 'show_empty_fields': False, 'ImageLocation': None, 'KernelId': None, 'RamdiskId': None, 'secret_key': None, 'deprecated_key_id': None, 'RootDeviceName': '/dev/sda', 'Name': 'MYEBS3'}\r\n2013-10-11 15:13:14,218 DEBUG   Config searching regions for option 'ec2-url'\r\n2013-10-11 15:13:14,218 DEBUG   Config   section 'aws:us-east-1'\r\n2013-10-11 15:13:14,218 INFO    Config option 'ec2-url' = 'https://ec2.us-east-1.amazonaws.com/'\r\n2013-10-11 15:13:14,218 DEBUG   Config searching regions for option 'verify-ssl'\r\n2013-10-11 15:13:14,219 DEBUG   Config   section 'aws:us-east-1'\r\n2013-10-11 15:13:14,219 DEBUG   Config   section 'aws:*'\r\n2013-10-11 15:13:14,219 INFO    Config option 'verify-ssl' = 'true'\r\n2013-10-11 15:13:14,225 INFO    RegisterImage parameters: {'BlockDeviceMapping.1.DeviceName': '/dev/sda', 'Version': '2013-02-01', 'Name': 'MYEBS3', 'Action': 'RegisterImage', 'BlockDeviceMapping.1.Ebs.SnapshotId': 'snap-AF2B465C', 'RootDeviceName': '/dev/sda'}\r\n2013-10-11 15:13:14,225 INFO    Eucalyptus sending request (attempt 1 of 3)\r\n2013-10-11 15:13:14,228 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.111.5.61:8773\\n/services/Eucalyptus\\nAWSAccessKeyId=AKIIC16O6NVLME2ZRPRQ&Action=RegisterImage&BlockDeviceMapping.1.DeviceName=%2Fdev%2Fsda&BlockDeviceMapping.1.Ebs.SnapshotId=snap-AF2B465C&Name=MYEBS3&RootDeviceName=%2Fdev%2Fsda&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2013-10-11T22%3A13%3A14Z&Version=2013-02-01'\r\n2013-10-11 15:13:14,228 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: mLcXoTkvwU/NhP5QMndLYvwzU+96wSYR0C1gKPTQ0oU=\r\n2013-10-11 15:13:14,228 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2013-10-11 15:13:14,242 DEBUG   Eucalyptus request method: POST\r\n2013-10-11 15:13:14,242 DEBUG   Eucalyptus request url:    http://10.111.5.61:8773/services/Eucalyptus\r\n2013-10-11 15:13:14,243 DEBUG   Eucalyptus request header: Content-Length: 352\r\n2013-10-11 15:13:14,243 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2013-10-11 15:13:14,243 DEBUG   Eucalyptus request header: Host: 10.111.5.61:8773\r\n2013-10-11 15:13:14,243 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.2 (CPython 2.6.6; Linux 2.6.32-358.18.1.el6.x86_64; x86_64) requestbuilder/0.1.0 requests/1.1.0\r\n2013-10-11 15:13:14,243 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIIC16O6NVLME2ZRPRQ\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   Action: RegisterImage\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.DeviceName: /dev/sda\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   BlockDeviceMapping.1.Ebs.SnapshotId: snap-AF2B465C\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   Name: MYEBS3\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   RootDeviceName: /dev/sda\r\n2013-10-11 15:13:14,244 DEBUG   Eucalyptus request data:   Signature: mLcXoTkvwU/NhP5QMndLYvwzU+96wSYR0C1gKPTQ0oU=\r\n2013-10-11 15:13:14,245 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2013-10-11 15:13:14,245 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2013-10-11 15:13:14,245 DEBUG   Eucalyptus request data:   Timestamp: 2013-10-11T22:13:14Z\r\n2013-10-11 15:13:14,245 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2013-10-11 15:13:15,057 DEBUG   Eucalyptus response time: 0.811 seconds\r\n2013-10-11 15:13:15,057 INFO    Eucalyptus response status: 200\r\n2013-10-11 15:13:15,057 DEBUG   Eucalyptus response header: content-length: 127\r\n2013-10-11 15:13:15,058 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2013-10-11 15:13:15,058 DEBUG   RegisterImage -- response content --\r\n<RegisterImageResponse xmlns=\"http://ec2.amazonaws.com/doc/2013-02-01/\"><imageId>emi-06344187</imageId></RegisterImageResponse>\r\n2013-10-11 15:13:15,059 DEBUG   RegisterImage -- end of response content --\r\nIMAGE\temi-06344187\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2013-10-11T17:20:27.039-0500","updated":"2013-10-11T17:20:27.039-0500"}],"maxResults":6,"total":6,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}