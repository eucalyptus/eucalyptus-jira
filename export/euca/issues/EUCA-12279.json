{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"42702","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702","key":"EUCA-12279","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10310":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11500","value":"Edge","id":"11500"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@2e3b0db[id=138,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 9,goal=,startDate=2016-06-02T00:33:27.822Z,endDate=2016-08-13T00:33:00.000Z,completeDate=2016-08-13T02:22:49.091Z,sequence=138]"],"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2016-08-12T20:05:18.934-0500","customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12279/watchers","watchCount":9,"isWatching":false},"lastViewed":null,"created":"2016-05-03T12:45:40.413-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2016-06-09T05:39:27.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2016-10-28T00:21:54.353-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I have seen this few times in 4.3 CentOS 7, but not exactly sure what triggers this.\r\n \r\nSo far noticed this in DAS mode only, when a volume would go into 'creating' state and stuck there forever. At this time, lvm commands like lvdisplay/vgdisplay doesn't work and throws the following error,\r\n \r\n{noformat}\r\n# lvdisplay\r\n^C  Interrupted...\r\n  Giving up waiting for lock.\r\n  /run/lock/lvm/V_vg01:aux: flock failed: Interrupted system call\r\n  Can't get lock for vg01\r\n  Cannot process volume group vg01\r\n{noformat}\r\n\r\nI deleted the following lock files and everything started to work including volume creation,\r\n{noformat}\r\nll /var/lock/lvm/V_vg01*\r\n-rwx------. 1 root root 0 Apr 29 15:47 /var/lock/lvm/V_vg01\r\n-rwx------. 1 root root 0 Apr 29 16:10 /var/lock/lvm/V_vg01:aux\r\n {noformat}\r\n\r\nSelinux is set to {{permissive}} mode on this systems.\r\n \r\nNo specific errors have been found in the logs.\r\n\r\nIn this cloud, I have two volumes stuck in this state,\r\n\r\n{noformat}\r\n# euca-describe-volumes verbose\r\nVOLUME              vol-7e4192be     1                            one        creating               2016-04-29T22:47:36.787Z            standard\r\nVOLUME              vol-19236cef      1                            one        creating               2016-04-29T23:10:11.456Z            standard\r\nVOLUME              vol-4850ff59       1                            one        available              2016-04-29T23:17:22.504Z            standard\r\n{noformat}\r\n\r\nA logical volume was created for one of them too,\r\n \r\n{noformat}\r\n  --- Logical volume ---\r\n  LV Path                /dev/vg01/euca-vol-7e4192be\r\n  LV Name                euca-vol-7e4192be\r\n  VG Name                vg01\r\n  LV UUID                MKqlk8-QI8R-FQCF-S2vZ-1AMy-KClW-Dgzv9x\r\n  LV Write Access        read/write\r\n  LV Creation host, time c-36.qa1.eucalyptus-systems.com, 2016-04-29 15:47:36 -0700\r\n  LV Status              available\r\n  # open                 2\r\n  LV Size                1.00 GiB\r\n  Current LE             256\r\n  Segments               1\r\n  Allocation             inherit\r\n  Read ahead sectors     auto\r\n  - currently set to     4096\r\n  Block device           253:2\r\n \r\n  --- Logical volume ---\r\n  LV Path                /dev/vg01/euca-vol-4850ff59\r\n  LV Name                euca-vol-4850ff59\r\n  VG Name                vg01\r\n  LV UUID                A74WOV-z5Ke-7vbJ-Gc9a-7rZg-qaUV-gsKOWL\r\n  LV Write Access        read/write\r\n  LV Creation host, time c-36.qa1.eucalyptus-systems.com, 2016-04-29 16:17:22 -0700\r\n  LV Status              available\r\n  # open                 0\r\n  LV Size                1.00 GiB\r\n  Current LE             256\r\n  Segments               1\r\n  Allocation             inherit\r\n  Read ahead sectors     auto\r\n  - currently set to     4096\r\n  Block device           253:3\r\n{noformat}\r\n\r\nNo specific errors have been found in the logs.","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"LVM commands freeze, volumes goes into 'creating' state for good","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_1091218286_*|*_10000_*:*_1_*:*_185845740_*|*_10001_*:*_1_*:*_1908903960_*|*_10003_*:*_1_*:*_524546197_*|*_10006_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03qgf:","customfield_10001":"2016-05-05T16:23:06.149-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["alice(alice)","dmitrii(dmitrii)","shaon(shaon)","jhalterman(jhalterman)","lbiasi(lbiasi)","lincoln.thomas(lincoln.thomas)","sgraham(sgraham)","swathi(swathi)","tony(tony)","vasya(vasya)"],"customfield_10116":null,"environment":"CentOS 7.2\r\nBlock storage manager: das","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/102437","id":"102437","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Seen a few times. Always on Centos 7. Not clear how to reproduce yet.\r\n\r\n[~swathi], please, keep an eye on it. Others: do add detail as you run into this.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-05-05T16:23:06.149-0500","updated":"2016-05-05T16:23:06.149-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103010","id":"103010","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"body":"[~swathi] I just hit the same bug on a 4.3 setup I built on Centos7. Here is the environment.yml http://hastebin.com/lisojohuzo.sm \r\n\r\nIn zone two volumes were stuck in creating. Deleting /var/lock/lvm/V_vg01* files fixed the issue","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T13:04:47.859-0500","updated":"2016-05-16T13:04:47.859-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103019","id":"103019","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"I had a test failure today due to this too. \r\n\r\nCentos7 with DAS\r\n\\[CLC CC SC WS\\]\r\n\\[UFS\\]\r\n\\[NC\\]\r\n\r\n{code}\r\n2016-05-16 12:07:10 DEBUG 000001951 olumeUpdateEventListener | VolumeStateUpdate: Current Volume Info: [Partition: one Name: vol-cedaf076 CurrentState: GENERATING Created: 2016-05-16 11:36:49.172 ] Incoming state update: [State: creating=>Optional.of(GENERATING) Size: 1GB SourceSnapshotId: null CreationTime: 2016-05-16T18:36:49.000Z DeviceName: invalid ]  unchanged\r\n\r\n[root@b-39 ~]# euca-describe-volumes verbose\r\nVOLUME\tvol-cedaf076\t1\t\tone\tcreating\t2016-05-16T18:36:49.172Z\tstandard\r\nVOLUME\tvol-fc00ecd5\t1\t\tone\tcreating\t2016-05-16T18:55:17.710Z\tstandard\r\n\r\n[root@b-39 ~]# ll /var/lock/lvm/V_vg01*\r\n-rwx------. 1 root root 0 May 16 11:36 /var/lock/lvm/V_vg01\r\n-rwx------. 1 root root 0 May 16 11:55 /var/lock/lvm/V_vg01:aux\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-05-16T14:09:36.092-0500","updated":"2016-05-16T14:09:36.092-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103020","id":"103020","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"[~tony], any change you have the machines around in this state? That might be helpful too.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-16T14:15:16.781-0500","updated":"2016-05-16T14:15:16.781-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103021","id":"103021","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"[~shaon], sadly no, I saw that a reliable test began failing the past couple runs for the same reason and took a look while the test was still running. The failures from this test are all due to the same issue, the volume does not become available, http://jenkins.qa1.eucalyptus-systems.com/job/n4j-iam-tests/28/testngreports/com.eucalyptus.tests.awssdk/TestAdminRoles/test/ Since seeing it so many times I bet a default QLM build will always have this issue now. It may be worth kicking off a setup but keep the machines.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-05-16T14:45:15.323-0500","updated":"2016-05-16T14:45:15.323-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103152","id":"103152","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Marking this as a blocker because it is causing failures to CI runs.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-05-17T20:00:46.591-0500","updated":"2016-05-17T20:00:46.591-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103542","id":"103542","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"body":"It seems like a multi-cluster topology might be a way to reproduce.  Each time I built a 2 cluster cloud, I saw this bug in zone two. \r\n\r\n{code}\r\nmachine-topology:\r\n  - cloud-components:\r\n    - clc\r\n    - walrus\r\n    - cc\r\n    - sc\r\n    cluster-name: one\r\n  - cloud-components:\r\n    - ufs\r\n    - cc\r\n    - sc\r\n    cluster-name: two\r\n  - cloud-components:\r\n    - nc\r\n    cluster-name: one\r\n  - cloud-components:\r\n    - nc\r\n    cluster-name: two\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-23T20:44:23.308-0500","updated":"2016-05-23T20:44:23.308-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103589","id":"103589","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas], could you have a look into this issue?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-05-24T17:31:06.363-0500","updated":"2016-05-24T17:31:06.363-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103822","id":"103822","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"body":"Another possible victim to check out: http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/4061/\r\n\r\nThe associated environment is still reserved and can be examined as needed.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=jhalterman","name":"jhalterman","key":"jhalterman","accountId":"557058:4cd5b16c-c831-4dae-acbc-1e26350c87f3","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4b515b5c070734d54b5c1839c9e01910?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Djhalterman%26avatarId%3D17200%26noRedirect%3Dtrue"},"displayName":"Jonathan Halterman","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-27T16:07:33.038-0500","updated":"2016-05-27T21:46:27.199-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/103827","id":"103827","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Looking into it...","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-05-27T18:38:10.110-0500","updated":"2016-05-27T18:38:10.110-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104030","id":"104030","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Using Jonathan's cluster above...\r\n\r\nCommands like vgdisplay hung. I removed the lock files that were there:\r\n\r\n{noformat}\r\n# ll /run/lock/lvm/\r\ntotal 0\r\ndrwx------. 2 root root  80 May 27 18:04 .\r\ndrwxr-xr-x. 7 root root 160 Jun  1 03:19 ..\r\n-rwx------. 1 root root   0 May 27 17:48 V_vg01\r\n-rwx------. 1 root root   0 May 27 18:04 V_vg01:aux\r\n{noformat}\r\n\r\nThen, lvm commands worked again, as seen above. Also, one of the 2 volumes that was in the \"creating\" state had an LV created, and the other didn't, same as seen above.\r\n\r\nCreating a single volume via Euca worked fine:\r\n{noformat}\r\n# euca-create-volume -z one --size 1\r\n{noformat}\r\n... and it became available right away.\r\n\r\nBut I can make the hang happen easily with the command:\r\n{noformat}\r\n# for x in $(seq 1 1 100); do echo $x; euca-create-volume -z one --size 1; done\r\n{noformat}\r\nAlthough each euca-create-volume command completes (almost immediately), LVM hangs on about the 9th volume creation attempt, with lock files such as:\r\n\r\n{noformat}\r\n-rwx------. 1 root root   0 Jun  1 16:01 V_vg01\r\n-rwx------. 1 root root   0 Jun  1 16:01 V_vg01:aux\r\n{noformat}\r\n\r\nAll 100 volumes show up as \"creating\" in the output of \"euca-describe-volumes verbose\".\r\n\r\nEnabling logging in /etc/lvm/lvm.conf, the last volume creation attempt ends in this output in /var/log/messages:\r\n\r\n{noformat}\r\nJun  1 16:01:21 h-05 lvm[25661]: Getting target version for linear\r\nJun  1 16:01:21 h-05 lvm[25661]: Found linear target v1.2.1.\r\nJun  1 16:01:21 h-05 lvm[25661]: Getting target version for striped\r\nJun  1 16:01:21 h-05 lvm[25661]: Found striped target v1.5.1.\r\nJun  1 16:01:21 h-05 lvm[25661]: Setting allocation/wipe_signatures_when_zeroing_new_lvs to 1\r\nJun  1 16:01:21 h-05 lvm[25661]: activation/mirror_region_size not found in config: defaulting to 512\r\nJun  1 16:01:21 h-05 lvm[25661]: Setting activation/raid_region_size to 512\r\nJun  1 16:01:21 h-05 lvm[25661]: Finding volume group \"vg01\"\r\nJun  1 16:01:21 h-05 lvm[25661]: Locking /run/lock/lvm/V_vg01 WB\r\n{noformat}\r\n\r\nIf I do the same sequential creation of 100 logical volumes with lvm, it works:\r\n\r\n{noformat}\r\n# for x in $(seq 1 1 100); do echo $x; lvcreate -L 1G vg01; done\r\n{noformat}\r\n\r\n…and they are all displayed by lvdisplay. There's one oddity in /var/log/messages. Starting with the 20th logical volume creation, logging seems to turn itself off, showing only: (for each volume)\r\n\r\n{noformat}\r\nJun  1 16:15:47 h-05 lvm[28692]: Logical volume \"lvol25\" created.\r\nJun  1 16:15:47 h-05 kernel: md1: unknown partition table\r\n{noformat}\r\n...instead of the 147 lines of logging shown for the first 20 each.\r\n\r\nPerhaps there's some log throttling going on, as designed. If I then create one more volume, logging is shown again.\r\n\r\nThat kernel message occurs after every volume creation of the 100. Not sure if it's a problem.\r\n\r\nAnyway, it looks like a Euca problem, not an lvm problem, unless the Euca volume creation is exposing an lvm problem that lvcreate doesn't show.\r\n\r\nInvestigation continues.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-01T18:32:38.906-0500","updated":"2016-06-01T18:32:38.906-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104143","id":"104143","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"So that reproducer only works on a Quick Launch Master where regression tests are run as part of the job. I provisioned a Quick Launch Master and didn't run any tests. I ran the command above to do 100 euca-create-volume commands, which worked, as does this command to do 10 at once for 100:\r\n\r\n{noformat}\r\n# for x in $(seq 1 1 20); do echo $x; pdsh -w localhost,localhost,localhost,localhost,localhost,localhost,localhost,localhost,localhost,localhost 'euca-create-volume -z one --size 1'; done\r\n{noformat}\r\n\r\nI then ran the new nephoria test suite legacy_ebs_test_suite.py manually from another EQS system connecting to its CLC. It passed, except for tests that depended on earlier tests in the concise regression set. I ran the first 4 test suites (ending with the ebs suite) individually, and the ebs tests passed. I then ran them sequentially in a bash script, as the concise-regression set would, and the ebs tests failed the same was as Jonathan's cluster did above.\r\n\r\nI removed the lock file, and then I was able to do the euca-create-volume commands above just fine, unlike Jonathan's cluster where such commands failed after creating a few volumes.\r\n\r\nI then did all of the above on a 1-node cloud provisioned by EQS (but changing the topology so all services ran on the same node). Same results: euca-create-volume commands worked just fine, then running the concise regression suites (first 4 parts ending with ebs) failed. After that, a euca-create-volume command left the volume in the creating state forever, but it had worked before the regression suite. Restarting the eucalyptus-cloud service allowed euca-create-volume commands to work again.\r\n\r\nIn conclusion:\r\n# It doesn't matter whether you run concise regression tests from within the Quick Launch Master job, or afterwards.\r\n# It doesn't matter if you have a 3-node a 1-node EQS cloud.\r\n# euca-create-volume commands work fine before running the regression tests.\r\n# Running the regression tests by individual suite, one per command, the ebs suite works fine.\r\n# Running those same tests sequentially with a bash script (or by running the concise regression set from Jenkins) causes the hang in the ebs suite.\r\n# After that, creating volumes with euca-create-volume sometimes fails, varies by machine, not sure what determines that.\r\n# Restarting the eucalyptus-cloud service allows subsequent euca-create-volume commands and the ebs regression suite (run by itself) to succeed.\r\n\r\nInvestigation continues.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-03T00:59:03.869-0500","updated":"2016-06-03T01:07:42.324-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104368","id":"104368","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"body":"Hi [~lincoln.thomas]\r\n\r\nAnother data point: I'm trying to repro EUCA-11470 and I'm pretty sure I've ran across this error. \r\nI've got a typical QA setup, except 4 Node Controllers. I ran the CF template attached to EUCA-11470 4 times and all of the volumes are in 'creating' and lvdisplay hangs like the original description above. The template creates and attaches 16 volumes to an instance.\r\n\r\nAlso the concise regression test was *not* run on this setup.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"created":"2016-06-07T21:21:03.019-0500","updated":"2016-06-07T23:29:12.747-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104502","id":"104502","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed!\r\n\r\nThe answer is to add the \"{{--wipesignatures n}}\" flag to the lvcreate command, in {{clc/modules/block-storage/src/main/java/com/eucalyptus/blockstorage/LVMWrapper.java}}.\r\n\r\nOn this cloud, default 3-node Quick Launch Master, after having run concise regression 2:\r\nhttp://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/4194/\r\nI saw two \"lvcreate\" processes, hung, as child processes (shelled out) from eucalyptus-cloud. \r\n\r\nI did a \"kill -9\" of those two \"lvcreate\" processes, and then saw this in cloud-debug.log:\r\n\r\n{noformat}\r\nWed Jun 8 13:23:52 2016 DEBUG [VolumeUpdateEventListener:Eucalyptus.storage:EphemeralConfiguration:arn:euca:eucalyptus::storage:com\\\r\n.eucalyptus.blockstorage.VolumeUpdateEventListener/.class java.util.concurrent.ThreadPoolExecutor$Worker#736] VolumeStateUpdate: Cu\\\r\nrrent Volume Info: [Partition: one Name: vol-2390ee22 CurrentState: GENERATING Created: 2016-06-08 10:58:21.23 ] Incoming state upd\\\r\nate: [State: creating=>Optional.of(GENERATING) Size: 1GB SourceSnapshotId: null CreationTime: 2016-06-08T17:58:21.000Z DeviceName: \\\r\ninvalid ]  unchanged\r\nWed Jun 8 13:23:52 2016 DEBUG [VolumeUpdateEventListener:Eucalyptus.storage:EphemeralConfiguration:arn:euca:eucalyptus::storage:com\\\r\n.eucalyptus.blockstorage.VolumeUpdateEventListener/.class java.util.concurrent.ThreadPoolExecutor$Worker#731] VolumeStateUpdate: Cu\\\r\nrrent Volume Info: [Partition: one Name: vol-2fd24e17 CurrentState: GENERATING Created: 2016-06-08 11:15:58.342 ] Incoming state up\\\r\ndate: [State: creating=>Optional.of(GENERATING) Size: 1GB SourceSnapshotId: null CreationTime: 2016-06-08T18:15:58.000Z DeviceName:\\\r\n invalid ]  unchanged\r\nWed Jun 8 13:23:54 2016 ERROR [SystemUtil:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#779\\\r\n] com.eucalyptus.util.EucalyptusCloudException: WARNING: dos signature detected on /dev/vg01/euca-vol-2390ee22 at offset 510. Wipe \\\r\nit? [y/n]:\r\ncom.eucalyptus.util.EucalyptusCloudException: WARNING: dos signature detected on /dev/vg01/euca-vol-2390ee22 at offset 510. Wipe it\\\r\n? [y/n]:\r\n        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:223)\r\n        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:193)\r\n        at com.eucalyptus.blockstorage.LVMWrapper.createLogicalVolume(LVMWrapper.java:116)\r\n        at com.eucalyptus.blockstorage.DASManager.createLogicalVolume(DASManager.java:355)\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:378)\r\n        at com.eucalyptus.blockstorage.async.VolumeCreator.run(VolumeCreator.java:328)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nWed Jun 8 13:23:54 2016 ERROR [DASManager:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#779\\\r\n] Unable to run command: Unable to create logical volume euca-vol-2390ee22 in volume group vg01\r\nWed Jun 8 13:23:54 2016 ERROR [VolumeCreator:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#\\\r\n779] Failed to create volume vol-2390ee22\r\ncom.eucalyptus.util.EucalyptusCloudException: Unable to run command: Unable to create logical volume euca-vol-2390ee22 in volume gr\\\r\noup vg01\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:391)\r\n        at com.eucalyptus.blockstorage.async.VolumeCreator.run(VolumeCreator.java:328)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nWed Jun 8 13:23:54 2016 ERROR [SystemUtil:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#837\\\r\n] com.eucalyptus.util.EucalyptusCloudException:\r\ncom.eucalyptus.util.EucalyptusCloudException:\r\n        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:223)\r\n        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:193)\r\n        at com.eucalyptus.blockstorage.LVMWrapper.createLogicalVolume(LVMWrapper.java:116)\r\n        at com.eucalyptus.blockstorage.DASManager.createLogicalVolume(DASManager.java:355)\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:378)\r\n        at com.eucalyptus.blockstorage.async.VolumeCreator.run(VolumeCreator.java:328)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nWed Jun 8 13:23:54 2016 ERROR [DASManager:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#837\\\r\n] Unable to run command: Unable to create logical volume euca-vol-2fd24e17 in volume group vg01\r\nWed Jun 8 13:23:54 2016 ERROR [VolumeCreator:Eucalyptus.storage:VolumeCreator.class java.util.concurrent.ThreadPoolExecutor$Worker#\\\r\n837] Failed to create volume vol-2fd24e17\r\ncom.eucalyptus.util.EucalyptusCloudException: Unable to run command: Unable to create logical volume euca-vol-2fd24e17 in volume gr\\\r\noup vg01\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:391)\r\n        at com.eucalyptus.blockstorage.async.VolumeCreator.run(VolumeCreator.java:328)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n{noformat}\r\n\r\nThe processes were hung waiting for a response to a user prompt, which no human could ever see or respond to:\r\n{noformat}\r\nWARNING: dos signature detected on /dev/vg01/euca-vol-2390ee22 at offset 510. Wipe it? [y/n]:\r\n{noformat}\r\n\r\nSo, every so often, lvcreate would find a dos signature somewhere on a volume it's creating.\r\n\r\nThe \"{{--wipesignatures n}}\" flag tells lvcreate not to look for existing signatures.\r\n\r\nSince we only ever saw this problem in 4.3+RHEL/CentOS7, not in earlier Euca releases nor 4.3+RHEL/CentOS6, I committed it only to master, not maint-4.2 / security-4.2. The --wipesignatures flag exists in RHEL6 (CentOS6) too, so it could happen there too. I can't explain why it never has, unless it went unreported by customers and our test suite doesn't trigger it for some reason. Let me know if I should commit it to those other branches too.\r\n\r\n[~sgraham], let us know if this fixes EUCA-11470 too.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-09T09:43:27.801-0500","updated":"2016-06-09T09:43:27.801-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104505","id":"104505","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas] \\0/","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-06-09T10:41:57.703-0500","updated":"2016-06-09T10:41:57.703-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104508","id":"104508","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"body":"Nice work [~lincoln.thomas]. I agree with [~sjones]'s comment in 11470, I don't believe they are related. I had posted the repro instructions here in case it was relevant/useful as I hit the same issue. When I switched to CentOS 6, the issue did not occur. \r\n\r\n-Steve","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sgraham","name":"sgraham","key":"sgraham","accountId":"557058:dab30ab9-44e7-4b70-a841-8b188c40edfc","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a40e2a7b21096d27f2427d53d5f45fbf?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsgraham%26avatarId%3D18000%26noRedirect%3Dtrue"},"displayName":"Steven Graham","active":true,"timeZone":"US/Central"},"created":"2016-06-09T11:31:16.107-0500","updated":"2016-06-09T11:31:16.107-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/104787","id":"104787","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified.\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.3.0\r\nRelease     : 0.24985.321.20160614git42985d3.el7\r\n\r\nCI runs using DAS are again passing.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-06-15T11:27:34.594-0500","updated":"2016-06-15T11:27:34.594-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/105566","id":"105566","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"For the record... \r\n\r\nThe option is confusing: “--wipesignatures y” means “look for existing signatures and ask the user if lvm should wipe them”. The “n” means “don’t look for existing signatures”.\r\n\r\nThere's something relevant in Red Hat’s LVM doc (https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html-single/Logical_Volume_Manager_Administration/index.html ), and same thing in the comments of /etc/lvm/lvm.conf:\r\n\r\n{noformat}\r\n\t# Configuration option allocation/wipe_signatures_when_zeroing_new_lvs.\r\n\t# Look for and erase any signatures while zeroing a new LV.\r\n\t# The --wipesignatures option overrides this setting.\r\n\t# Zeroing is controlled by the -Z/--zero option, and if not specified,\r\n\t# zeroing is used by default if possible. Zeroing simply overwrites the\r\n\t# first 4KiB of a new LV with zeroes and does no signature detection or\r\n\t# wiping. Signature wiping goes beyond zeroing and detects exact types\r\n\t# and positions of signatures within the whole LV. It provides a\r\n\t# cleaner LV after creation as all known signatures are wiped. The LV\r\n\t# is not claimed incorrectly by other tools because of old signatures\r\n\t# from previous use. The number of signatures that LVM can detect\r\n\t# depends on the detection code that is selected (see\r\n\t# use_blkid_wiping.) Wiping each detected signature must be confirmed.\r\n\t# When this setting is disabled, signatures on new LVs are not detected\r\n\t# or erased unless the --wipesignatures option is used directly.\r\n\twipe_signatures_when_zeroing_new_lvs = 1\r\n{noformat}\r\n\r\nThat bit about “must be confirmed” is the new prompt that caused the bug here. It was added in the bug Swathi found, https://bugzilla.redhat.com/show_bug.cgi?id=997223 , which is where they added this conf param.\r\n\r\nI think (haven't tested) we could change this to 0 and it would work the same as “--wipesignatures n”, so we could remove it from our code, but I don’t think we should. If someone changes the conf file for any reason, then we have this bug again. Keeping the code as is, prevents this.\r\n\r\nThe reason (I think) we didn’t see it in RHEL6 is because of the other bug Swathi found, https://bugzilla.redhat.com/show_bug.cgi?id=1056452 . In that one, they added a better form of signature detection (blkid) in RHEL7. So, there were probably the same occasional signatures somewhere in the volumes we created in 4.2.2, but RHEL6’s lvcreate didn’t detect them.\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-24T18:19:01.481-0500","updated":"2016-06-24T18:19:51.040-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/105575","id":"105575","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"With [~gholms] doing most of the grunt work and my hunch about other configurable parameters related to the signature detection and wiping, we may have a smoking gun as to why this issue is observed only on CentOS/RHEL 7 and not on CentOS/RHEL 6. Signature detection during lv creation is enabled by default for both RHEL 6 and 7, and thats because of {{wipe_signatures_when_zeroing_new_lvs = 1}} in lvm.conf. Its the tool used for signature detection that makes all the difference.\r\n\r\nOn CentOS 7 lvm2 uses blkid for signature detection and wiping. And its configured using {{use_blkid_wiping = 1}} in lvm.conf. It is important to note that LVM needs to be compiled with blkid wiping support for this setting to apply. Note the presence of libblkid in the linked library list of lvcreate on CentOS 7 (QA quick launch machine)\r\n{noformat}\r\n[root@e-03 ~]# ldd /sbin/lvcreate \r\n        linux-vdso.so.1 =>  (0x00007fff71eb8000)\r\n        libudev.so.1 => /lib64/libudev.so.1 (0x00007fce2d829000)\r\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007fce2d625000)\r\n        libblkid.so.1 => /lib64/libblkid.so.1 (0x00007fce2d3e7000)\r\n        libdevmapper-event.so.1.02 => /lib64/libdevmapper-event.so.1.02 (0x00007fce2d1e0000)\r\n        libdevmapper.so.1.02 => /lib64/libdevmapper.so.1.02 (0x00007fce2cf86000)\r\n        libreadline.so.6 => /lib64/libreadline.so.6 (0x00007fce2cd3f000)\r\n        librt.so.1 => /lib64/librt.so.1 (0x00007fce2cb37000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x00007fce2c775000)\r\n        libcap.so.2 => /lib64/libcap.so.2 (0x00007fce2c56f000)\r\n        libm.so.6 => /lib64/libm.so.6 (0x00007fce2c26d000)\r\n        libdw.so.1 => /lib64/libdw.so.1 (0x00007fce2c026000)\r\n        libgcc_s.so.1 => /lib64/libgcc_s.so.1 (0x00007fce2be0f000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007fce2bbf3000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x00007fce2dbdf000)\r\n        libuuid.so.1 => /lib64/libuuid.so.1 (0x00007fce2b9ee000)\r\n        libselinux.so.1 => /lib64/libselinux.so.1 (0x00007fce2b7c8000)\r\n        libsepol.so.1 => /lib64/libsepol.so.1 (0x00007fce2b583000)\r\n        libtinfo.so.5 => /lib64/libtinfo.so.5 (0x00007fce2b359000)\r\n        libattr.so.1 => /lib64/libattr.so.1 (0x00007fce2b153000)\r\n        libelf.so.1 => /lib64/libelf.so.1 (0x00007fce2af3d000)\r\n        liblzma.so.5 => /lib64/liblzma.so.5 (0x00007fce2ad18000)\r\n        libbz2.so.1 => /lib64/libbz2.so.1 (0x00007fce2ab07000)\r\n        libz.so.1 => /lib64/libz.so.1 (0x00007fce2a8f1000)\r\n        libpcre.so.1 => /lib64/libpcre.so.1 (0x00007fce2a690000)\r\n{noformat}\r\n\r\nOn CentOS 6 although {{use_blkid_wiping = 1}} may be configured in lvm.conf, LVM may not compiled with blkid support. Notice the missing libblkid library in the linked library list on CentOS 6 (QA quick launch machine). This causes lvm to fallback to native lvm support for signature detection\r\n{noformat}\r\n[root@b-39 ~]# ldd /sbin/lvcreate \r\n        linux-vdso.so.1 =>  (0x00007ffcd7551000)\r\n        libudev.so.0 => /lib64/libudev.so.0 (0x00007f4747521000)\r\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007f474731d000)\r\n        libdevmapper-event.so.1.02 => /lib64/libdevmapper-event.so.1.02 (0x00007f4747116000)\r\n        libdevmapper.so.1.02 => /lib64/libdevmapper.so.1.02 (0x00007f4746ecd000)\r\n        libreadline.so.6 => /lib64/libreadline.so.6 (0x00007f4746c8a000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x00007f47468f5000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x0000003fa9000000)\r\n        libselinux.so.1 => /lib64/libselinux.so.1 (0x00007f47466d6000)\r\n        libsepol.so.1 => /lib64/libsepol.so.1 (0x00007f4746499000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f474627b000)\r\n        libtinfo.so.5 => /lib64/libtinfo.so.5 (0x00007f474605a000)\r\n{noformat}\r\n\r\nAs per lvm2 documentation native lvm detects MD RAID, swap and LUKS signatures only. blkid can recognize more signatures as displayed by the output of {{blkid -k}}\r\n{noformat}\r\n[root@e-03 ~]# blkid -k\r\nlinux_raid_member\r\nddf_raid_member\r\nisw_raid_member\r\nlsi_mega_raid_member\r\nvia_raid_member\r\nsilicon_medley_raid_member\r\nnvidia_raid_member\r\npromise_fasttrack_raid_member\r\nhpt45x_raid_member\r\nhpt37x_raid_member\r\nadaptec_raid_member\r\njmicron_raid_member\r\ndrbd\r\ndrbdproxy_datalog\r\nLVM2_member\r\nLVM1_member\r\nDM_snapshot_cow\r\nDM_verity_hash\r\ncrypto_LUKS\r\nVMFS_volume_member\r\nvfat\r\nswsuspend\r\nswap\r\nxfs\r\nxfs_external_log\r\next4dev\r\next4\r\next3\r\next2\r\njbd\r\nreiserfs\r\nreiser4\r\njfs\r\nudf\r\niso9660\r\nzfs_member\r\nhfsplus\r\nhfs\r\nufs\r\nhpfs\r\nsysv\r\nxenix\r\nntfs\r\nReFS\r\ncramfs\r\nromfs\r\nminix\r\ngfs\r\ngfs2\r\nocfs\r\nocfs2\r\noracleasm\r\nvxfs\r\nsquashfs\r\nnss\r\nbtrfs\r\nubifs\r\nbfs\r\nVMFS\r\nbefs\r\nnilfs2\r\nexfat\r\nf2fs\r\n{noformat}\r\n\r\nIn this case a dos signature is detected by blkid on CentOS 7 that would have gone unnoticed by native lvm on CentOS 6. From the [source|https://git.fedorahosted.org/cgit/lvm2.git/tree/lib/device/dev-type.c], signature wiping requests confirmation via an interactive prompt. This might explain the reason behind the indefinite hang observed only on CentOS 7.\r\n\r\n[~lincoln.thomas]'s change skips the signature detection process and hence the wiping. Although this avoids hang caused by the interactive prompt, it leaves the signature of a previous lv behind. Some of the lvm documentation recommends wiping the signature on newly created lvs. I think there might be some value in investigating a forceful signature wipe option.\r\n{noformat}\r\n                Signature wiping goes beyond zeroing and detects exact types\r\n        # and positions of signatures within the whole LV. It provides a\r\n        # cleaner LV after creation as all known signatures are wiped. The LV\r\n        # is not claimed incorrectly by other tools because of old signatures\r\n        # from previous use.\r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-06-24T21:07:57.759-0500","updated":"2016-06-27T15:49:05.336-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/42702/comment/108537","id":"108537","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"4.3.0 Released 8/9/2016","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2016-08-12T20:05:18.939-0500","updated":"2016-08-12T20:05:18.939-0500"}],"maxResults":20,"total":20,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12279/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}