{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"60902","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902","key":"EUCA-13440","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/19100","id":"19100","description":"Eucalyptus 4.4.2","name":"4.4.2","archived":false,"released":true,"releaseDate":"2017-08-30"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"resolutiondate":"2017-08-09T17:34:33.155-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13440/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2017-07-31T15:19:43.537-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2017-08-01T18:49:24.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[{"id":"53400","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/53400","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"15555","key":"EUCA-3420","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/15555","fields":{"summary":"NC: under high IO load, several dependencies during instance creation can timeout resulting in failure to run instance","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-08-09T17:34:33.176-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10006","description":"A fix has been committed, and will be part of the next release","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Release Pending","id":"10006","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"The following node controller crash occurs when churning (run/terminate) instances on 50 threads using a single node controller:\r\n\r\n{code}\r\n*** Error in `/usr/sbin/httpd': double free or corruption (!prev): 0x00007fc3e9521f20 ***\r\n======= Backtrace: =========\r\n/usr/lib64/axis2c/lib/libc.so.6(+0x7c503)[0x7fc474c8d503]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(blobstore_delete_regex+0xdf)[0x7fc46df40b6f]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(destroy_instance_backing+0x24d)[0x7fc46df3615d]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(monitoring_thread+0x6f0)[0x7fc46df1d460]\r\n/usr/lib64/axis2c/lib/libpthread.so.0(+0x7dc5)[0x7fc4751dddc5]\r\n/usr/lib64/axis2c/lib/libc.so.6(clone+0x6d)[0x7fc474d0876d]\r\n======= Memory map: ========\r\n7fc374000000-7fc374021000 rw-p 00000000 00:00 0\r\n7fc374021000-7fc378000000 ---p 00000000 00:00 0\r\n7fc37c000000-7fc37ffe1000 rw-p 00000000 00:00 0\r\n7fc37ffe1000-7fc380000000 ---p 00000000 00:00 0\r\n7fc380000000-7fc383fe1000 rw-p 00000000 00:00 0\r\n.....\r\n7fc4773df000-7fc482dc4000 rw-p 00000000 00:00 0                          [heap]\r\n7ffd20ac2000-7ffd20be2000 rw-p 00000000 00:00 0                          [stack]\r\n7ffd20bfb000-7ffd20bfd000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\n[Mon Jul 31 10:24:14.836516 2017] [core:notice] [pid 19831] AH00052: child pid 19838 exit signal Aborted (6)\r\n{code}\r\n\r\nAnother example:\r\n\r\n{code}\r\n*** Error in `/usr/sbin/httpd': double free or corruption (!prev): 0x00007fe0974c9830 ***\r\n======= Backtrace: =========\r\n/usr/lib64/axis2c/lib/libc.so.6(+0x7c503)[0x7fe0a698f503]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(blobstore_delete_regex+0xdf)[0x7fe09fc42b6f]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(destroy_instance_backing+0x24d)[0x7fe09fc3815d]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(monitoring_thread+0x6f0)[0x7fe09fc1f460]\r\n/usr/lib64/axis2c/lib/libpthread.so.0(+0x7dc5)[0x7fe0a6edfdc5]\r\n/usr/lib64/axis2c/lib/libc.so.6(clone+0x6d)[0x7fe0a6a0a76d]\r\n======= Memory map: ========\r\n7fdf88000000-7fdf8942e000 rw-p 00000000 00:00 0\r\n7fdf8942e000-7fdf8c000000 ---p 00000000 00:00 0\r\n7fdf98000000-7fdf99513000 rw-p 00000000 00:00 0\r\n........\r\n7fe0a8691000-7fe0a8693000 rw-p 0007b000 fd:00 436286557                  /usr/sbin/httpd\r\n7fe0a8693000-7fe0a8696000 rw-p 00000000 00:00 0\r\n7fe0a8eee000-7fe0a8f52000 rw-p 00000000 00:00 0                          [heap]\r\n7fe0a8f52000-7fe0b4727000 rw-p 00000000 00:00 0                          [heap]\r\n7ffd1fb53000-7ffd1fc72000 rw-p 00000000 00:00 0                          [stack]\r\n7ffd1fda2000-7ffd1fda4000 r-xp 00000000 00:00 0                          [vdso]\r\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\r\n[Mon Jul 31 11:50:51.061539 2017] [core:notice] [pid 65456] AH00052: child pid 65463 exit signal Aborted (6)\r\n{code}\r\n\r\nLogs from when the crash occurs:\r\n\r\n{code}\r\n2017-07-31 11:50:40  INFO | [i-63e43e3c] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:63:e4:3e:3c privIp=10.111.31.74 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:40  INFO | [i-3e5bd2e7] assigning address: [10.111.30.117]\r\n2017-07-31 11:50:40  INFO | [i-5fad2b5b] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:5f:ad:2b:5b privIp=10.111.31.70 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:40  INFO | [i-ac226bbd] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:ac:22:6b:bd privIp=10.111.31.80 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:40  INFO | [i-95a6ec41] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:95:a6:ec:41 privIp=10.111.31.51 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:40  INFO | [i-89839735] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-89839735/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:40  INFO | [i-eb0625fb] instance terminated\r\n2017-07-31 11:50:40  INFO | [i-d0943605] termination requested\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  WARN | failed to find space in sensor cache for resource i-d0943605\r\n2017-07-31 11:50:41  INFO | [i-d0943605] assigning address: [0.0.0.0]\r\n2017-07-31 11:50:41  INFO | [i-7d4d975b] termination requested\r\n2017-07-31 11:50:41  INFO | [i-ac226bbd] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-ac226bbd/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:41  INFO | [i-89839735] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  WARN | failed to find space in sensor cache for resource i-7d4d975b\r\n2017-07-31 11:50:42  INFO | [i-7d4d975b] assigning address: [0.0.0.0]\r\n2017-07-31 11:50:42  INFO | [i-5d892626] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:5d:89:26:26 privIp=10.111.31.56 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:42  INFO | [i-6827d2ba] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:68:27:d2:ba privIp=10.111.31.134 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:42  INFO | [i-3eade40a] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:3e:ad:e4:0a privIp=10.111.30.223 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:42  INFO | [i-0abbcb0f] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:0a:bb:cb:0f privIp=10.111.30.222 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:42  INFO | [i-11bdfec4] assigning address: [10.111.30.101]\r\n2017-07-31 11:50:42  INFO | [i-26dfde6e] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:26:df:de:6e privIp=10.111.30.217 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:42  INFO | [i-5fad2b5b] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-5fad2b5b/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:42  INFO | [i-ac226bbd] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:43  INFO | [i-4bede5fa] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:4b:ed:e5:fa privIp=10.111.31.83 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:43  INFO | [i-d1689ad0] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:d1:68:9a:d0 privIp=10.111.30.218 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:43  INFO | [i-94a476e7] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:94:a4:76:e7 privIp=10.111.31.73 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:43  INFO | [i-cb5a4ef7] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:cb:5a:4e:f7 privIp=10.111.31.78 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:43  INFO | [i-2dc99f0a] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:2d:c9:9f:0a privIp=10.111.31.37 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:43  INFO | [i-f101be81] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:f1:01:be:81 privIp=10.111.31.41 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-17c9792d] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:17:c9:79:2d privIp=10.111.31.75 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-5fad2b5b] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:44  INFO | [i-5f30009d] assigning address: [10.111.30.232]\r\n2017-07-31 11:50:44  INFO | [i-95a6ec41] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-95a6ec41/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:44  INFO | [i-f50c296d] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:f5:0c:29:6d privIp=10.111.31.149 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-7d4d975b] instance terminated\r\n2017-07-31 11:50:44  INFO | [i-d814d18f] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:d8:14:d1:8f privIp=10.111.31.137 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-d8aec4b2] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:d8:ae:c4:b2 privIp=10.111.31.57 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-37419f1b] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:37:41:9f:1b privIp=10.111.30.219 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:44  INFO | [i-5ff0c6aa] forgetting about instance\r\n2017-07-31 11:50:45  INFO | [i-72157cc9] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:72:15:7c:c9 privIp=10.111.31.131 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:45  INFO | [i-7a23c78d] cleaning up state for instance\r\n2017-07-31 11:50:45  INFO | [i-95a6ec41] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:46  INFO | [i-eb0625fb] cleaning up state for instance\r\n2017-07-31 11:50:46  INFO | [i-63e43e3c] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-63e43e3c/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:47  INFO | [i-1a3aa398] cleaning up state for instance\r\n2017-07-31 11:50:47  INFO | [i-3eade40a] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-3eade40a/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:48 ERROR | [i-1a3aa398] failed to remove some artifacts in /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-1a3aa398\r\n2017-07-31 11:50:48 ERROR | [i-1a3aa398] failed to remove backing directory /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-1a3aa398\r\n2017-07-31 11:50:48  INFO | [i-7d4d975b] cleaning up state for instance\r\n2017-07-31 11:50:49  INFO | [i-63e43e3c] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:49  INFO | [i-6827d2ba] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-6827d2ba/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:49  INFO | [i-3eade40a] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:52  INFO | spawning Eucalyptus node controller v4.4.1 [built 2017-07-28 09:56:23-07:00]\r\n2017-07-31 11:50:52  INFO | NC is looking for configuration in //etc/eucalyptus/eucalyptus.conf,//etc/eucalyptus/eucalyptus.local.conf\r\n2017-07-31 11:50:52  INFO | read (ENABLE_WS_SECURITY=UNSET, default=Y)\r\n2017-07-31 11:50:52  INFO | read (EUCALYPTUS=/, default=/)\r\n2017-07-31 11:50:52  INFO | read (LOGLEVEL=INFO, default=INFO)\r\n2017-07-31 11:50:52  INFO | read (LOGROLLNUMBER=UNSET, default=10)\r\n2017-07-31 11:50:52  INFO | read (LOGMAXSIZE=UNSET, default=104857600)\r\n2017-07-31 11:50:52  INFO | read (LOGPREFIX=UNSET, default=)\r\n2017-07-31 11:50:52  INFO | read (LOGFACILITY=UNSET, default=)\r\n2017-07-31 11:50:52  INFO | read (CEPH_USER_NAME=UNSET, default=eucalyptus)\r\n2017-07-31 11:50:52  INFO | read (CEPH_KEYRING_PATH=UNSET, default=/etc/ceph/ceph.client.eucalyptus.keyring)\r\n2017-07-31 11:50:52  INFO | read (CEPH_CONFIG_PATH=UNSET, default=/etc/ceph/ceph.conf)\r\n2017-07-31 11:50:52  INFO | read (ENABLED_SENSORS=UNSET, default=)\r\n2017-07-31 11:50:52  INFO | running as user 'eucalyptus'\r\n2017-07-31 11:50:52  INFO | CPU passthrough to instance: disabled\r\n2017-07-31 11:50:52  INFO | loaded NC state from previous invocation\r\n2017-07-31 11:50:52  INFO | using hooks directory //etc/eucalyptus/nc-hooks\r\n2017-07-31 11:50:52  INFO | using file //var/lib/eucalyptus/keys/node-cert.pem\r\n2017-07-31 11:50:52  INFO | using file //var/lib/eucalyptus/keys/node-pk.pem\r\n2017-07-31 11:50:52  INFO | using file //var/lib/eucalyptus/keys/cloud-cert.pem\r\n2017-07-31 11:50:52  INFO | hypervisor capable of live migration\r\n2017-07-31 11:50:52  INFO | MAX_CORES value is set to 64 that is greater than the amount of physical cores: 32\r\n2017-07-31 11:50:52  INFO | physical memory available for instances: 131823MB\r\n2017-07-31 11:50:52  INFO | virtual cpu cores available for instances: 64\r\n2017-07-31 11:50:52  INFO | initialized sensor shared memory\r\n2017-07-31 11:50:52  WARN | using deprecated setting MAX_DISK for the new setting NC_WORK_SIZE\r\n2017-07-31 11:50:52  INFO | initializing backing store...\r\n2017-07-31 11:50:52  INFO | disk space for instances: /var/lib/eucalyptus/instances/work\r\n2017-07-31 11:50:52  INFO |                           262144MB limit (128.1% of the file system) - 5120MB overhead = 257024MB = 251GB\r\n2017-07-31 11:50:52  INFO |                           150732MB reserved for use (57.5% of limit)\r\n2017-07-31 11:50:52  INFO |                           004403MB allocated for use (1.7% of limit, 2.2% of the file system)\r\n2017-07-31 11:50:52  INFO |     disk space for cache: /var/lib/eucalyptus/instances/cache\r\n2017-07-31 11:50:52  INFO |                           131861MB limit (64.4% of the file system)\r\n2017-07-31 11:50:52  INFO |                           004300MB reserved for use (3.3% of limit)\r\n2017-07-31 11:50:52  INFO |                           004300MB allocated for use (3.3% of limit, 2.1% of the file system)\r\n2017-07-31 11:50:52  INFO | looking for existing domains\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-e24ad7cf UUID: b554d43a-c7e8-4464-8740-518018d3c959\r\n2017-07-31 11:50:52  INFO | [i-e24ad7cf] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-716b61df UUID: 18153497-91c3-4805-9f54-80458b8ccb1c\r\n2017-07-31 11:50:52  INFO | [i-716b61df] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-d75d939c UUID: 63c43e34-c08f-40b6-b88c-80288cebe34b\r\n2017-07-31 11:50:52  INFO | [i-d75d939c] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-bf6831ad UUID: 6459c605-349c-4bc0-b7d4-93f5debfda8e\r\n2017-07-31 11:50:52  INFO | [i-bf6831ad] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-5183bdac UUID: b1d614fb-8691-4f03-8e78-444e19c5b946\r\n2017-07-31 11:50:52  INFO | [i-5183bdac] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-d49e852a UUID: 191ace5b-4a40-4233-a0d2-3e2d4e86f85f\r\n2017-07-31 11:50:52  INFO | [i-d49e852a] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-36f52895 UUID: 23351faa-ad55-463d-9428-40603f0c4233\r\n2017-07-31 11:50:52  INFO | [i-36f52895] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-cdd67c94 UUID: cc298dd8-44d9-4e2c-b3b5-98587f4b14aa\r\n2017-07-31 11:50:52  INFO | [i-cdd67c94] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-78261591 UUID: e71e42ac-12a7-435e-adb3-2406fbeaf11e\r\n2017-07-31 11:50:52  INFO | [i-78261591] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-3260a2bb UUID: e05cd452-c132-4129-a8c6-47dbd7ab7602\r\n2017-07-31 11:50:52  INFO | [i-3260a2bb] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-5f30009d UUID: 290fedfc-c38e-4f61-9a82-14b853aee7e9\r\n2017-07-31 11:50:52  INFO | [i-5f30009d] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-b02ef98f UUID: 9f9d250c-64ec-419b-b60d-d6910094e692\r\n2017-07-31 11:50:52  INFO | [i-b02ef98f] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:52  INFO | allocated new sensor resource i-b89a0187 UUID: 439dceac-bab0-421e-9b67-f40785531616\r\n2017-07-31 11:50:52  INFO | [i-b89a0187] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:53  INFO | allocated new sensor resource i-3e5bd2e7 UUID: 471b82d9-6b47-4b83-85ae-3ad70402abc6\r\n2017-07-31 11:50:53  INFO | [i-3e5bd2e7] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:53  INFO | allocated new sensor resource i-af5759bb UUID: d9407117-4955-4e89-9fbf-e871188ba790\r\n2017-07-31 11:50:53  INFO | [i-af5759bb] - adopted running domain from user AIDAAPFB53TZAHCNMVQMU\r\n2017-07-31 11:50:53 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-7d069c1b/instance.xml\r\n2017-07-31 11:50:53 ERROR | failed to read instance XML\r\n2017-07-31 11:50:53 ERROR | child return non-zero status (1)\r\n2017-07-31 11:50:53  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-7d069c1b/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:53 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-7d069c1b/instance.xml\r\n2017-07-31 11:50:53 ERROR | failed to read instance XML\r\n2017-07-31 11:50:53  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-7d069c1b/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:53 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-8dae5035/instance.xml\r\n2017-07-31 11:50:53 ERROR | failed to read instance XML\r\n2017-07-31 11:50:53  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-8dae5035/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:53 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-8dae5035/instance.xml\r\n2017-07-31 11:50:53 ERROR | failed to read instance XML\r\n2017-07-31 11:50:53  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-8dae5035/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:53  INFO | marking non-running instance i-89839735 as terminated\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-89839735/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-89839735/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:54  INFO | marking non-running instance i-5fad2b5b as terminated\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-5fad2b5b/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-5fad2b5b/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:54  INFO | marking non-running instance i-95a6ec41 as terminated\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-95a6ec41/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-95a6ec41/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:54 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-3eade40a/instance.xml\r\n2017-07-31 11:50:54 ERROR | failed to read instance XML\r\n2017-07-31 11:50:54  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-3eade40a/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:54 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-3eade40a/instance.xml\r\n2017-07-31 11:50:54 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-3eade40a/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-6d6cd57a/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-6d6cd57a/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-6d6cd57a/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-6d6cd57a/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-6b473e6e/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-6b473e6e/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-6b473e6e/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-6b473e6e/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-345233e5/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-345233e5/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-345233e5/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-345233e5/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-d19f673a/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-d19f673a/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:55 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-d19f673a/instance.xml\r\n2017-07-31 11:50:55 ERROR | failed to read instance XML\r\n2017-07-31 11:50:55  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-d19f673a/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:56 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-63e43e3c/instance.xml\r\n2017-07-31 11:50:56 ERROR | failed to read instance XML\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-63e43e3c/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:56  INFO | marking non-running instance i-ac226bbd as terminated\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-ac226bbd/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-ac226bbd/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:56 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-6827d2ba/instance.xml\r\n2017-07-31 11:50:56 ERROR | failed to read instance XML\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-6827d2ba/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:56 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-1a3aa398/instance.xml\r\n2017-07-31 11:50:56 ERROR | failed to read instance XML\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-1a3aa398/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:56 ERROR | failed to read /instance/hypervisor/@type from /var/lib/eucalyptus/instances/work/AIDAAPFB53TZAHCNMVQMU/i-1a3aa398/instance.xml\r\n2017-07-31 11:50:56 ERROR | failed to read instance XML\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-1a3aa398/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:56  INFO | marking non-running instance i-d0943605 as terminated\r\n2017-07-31 11:50:56  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-d0943605/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:57  INFO | deleted stale/corrupted blob AIDAAPFB53TZAHCNMVQMU/i-d0943605/prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:57  INFO | /var/lib/eucalyptus/instances/work: examined 59 blob(s) in 1 iteration(s): deleted 29, failed on 0 + 0, failed to open 0\r\n2017-07-31 11:50:57  INFO | /var/lib/eucalyptus/instances/cache: examined 2 blob(s) in 1 iteration(s): deleted 0, failed on 0 + 0, failed to open 0\r\n2017-07-31 11:50:57  INFO | using IP 10.111.5.65\r\n2017-07-31 11:50:57  INFO | Initializing localhost info for vbr processing\r\n2017-07-31 11:50:57  INFO | Initializing service state and epoch\r\n2017-07-31 11:50:57  INFO | Done initializing services state\r\n2017-07-31 11:50:57  INFO | Initializing internal message sensor for component nc\r\n2017-07-31 11:50:57  INFO | spawning monitoring thread\r\n2017-07-31 11:50:57  INFO | Initialized internal message stats: { \"enabled\": true }\r\n2017-07-31 11:50:57  INFO | Initializing service state sensor for component nc\r\n2017-07-31 11:50:57  INFO | Initializing internal stats subsystem for component nc with euca home /\r\n2017-07-31 11:50:57  INFO | Verifying eucalyptus-status group is present\r\n2017-07-31 11:50:57  INFO | Verified fs emitter stats directory: /var/run/eucalyptus/status\r\n2017-07-31 11:50:57  INFO | FS emitter initialization complete\r\n2017-07-31 11:50:57  INFO | Internal stats initialization complete\r\n2017-07-31 11:50:57  INFO | Stats subsystem initialized\r\n2017-07-31 11:50:57  INFO | component started\r\n2017-07-31 11:50:57  INFO | [i-72157cc9] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:72:15:7c:c9 privIp=10.111.31.131 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:58  INFO | [i-e3d78c51] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:e3:d7:8c:51 privIp=10.111.31.52 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:58  INFO | [i-6c7fe20b] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:6c:7f:e2:0b privIp=10.111.31.36 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:58  INFO | [i-d9ef2f56] running instance groupId=sg-c5c29eb5 cores=1 disk=5 memory=256 vlan=-1 net=-1 priMAC=d0:0d:d9:ef:2f:56 privIp=10.111.31.152 plat=linux kernel=(null) ramdisk=(null)\r\n2017-07-31 11:50:58  INFO | [i-cdd67c94] termination requested\r\n2017-07-31 11:50:58  INFO | [i-72157cc9] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-72157cc9/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:58  INFO | [i-72157cc9] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:59  INFO | [i-cdd67c94] assigning address: [0.0.0.0]\r\n2017-07-31 11:50:59  INFO | [i-e3d78c51] copying/cloning blob emi-3f8c5798-29607e33 to blob AIDAAPFB53TZAHCNMVQMU/i-e3d78c51/emi-3f8c5798-29607e33\r\n2017-07-31 11:50:59  INFO | [i-b02ef98f] assigning address: [0.0.0.0]\r\n2017-07-31 11:50:59  INFO | [i-78261591] termination requested\r\n2017-07-31 11:50:59  INFO | [i-e3d78c51] creating partition of size 3007315968 bytes and type ext3 in prt-02868ext3-abe6af7a\r\n2017-07-31 11:50:59  INFO | [i-b02ef98f] termination requested\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Node controller crash on instance churn with high load","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_22249084_*|*_10000_*:*_1_*:*_242971847_*|*_10001_*:*_1_*:*_811796_*|*_10003_*:*_1_*:*_519656918_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i044zz:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2017-08-08T17:00:11.663-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["mmunn1(mmunn1)","sjones(sjones)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13440/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/125900","id":"125900","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This free issue looks easy enough to fix in blobstore_search (blobstore.c:3014) by only setting *results when it is not freed (ret >= 0). Still investigating the underlying issue.\r\n\r\nSome other errors that can occur for this:\r\n\r\n{code}\r\n*** Error in `/usr/sbin/httpd': free(): invalid pointer: 0x00007fd4080069e0 ***\r\n======= Backtrace: =========\r\n/usr/lib64/axis2c/lib/libc.so.6(+0x7c503)[0x7fd419e69503]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(blobstore_delete_regex+0xdf)[0x7fd41311cb6f]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(destroy_instance_backing+0x24d)[0x7fd41311215d]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(monitoring_thread+0x6f0)[0x7fd4130f9460]\r\n/usr/lib64/axis2c/lib/libpthread.so.0(+0x7dc5)[0x7fd41a3b9dc5]\r\n/usr/lib64/axis2c/lib/libc.so.6(clone+0x6d)[0x7fd419ee476d]\r\n======= Memory map: ========\r\n7fd314000000-7fd314021000 rw-p 00000000 00:00 0\r\n7fd314021000-7fd318000000 ---p 00000000 00:00 0\r\n7fd31c000000-7fd31fb17000 rw-p 00000000 00:00 0\r\n{code}\r\n\r\n{code}\r\n*** Error in `/usr/sbin/httpd': corrupted double-linked list: 0x00007fd40800fe70 ***\r\n======= Backtrace: =========\r\n/usr/lib64/axis2c/lib/libc.so.6(+0x7ada4)[0x7fd419e67da4]\r\n/usr/lib64/axis2c/lib/libc.so.6(+0x7c595)[0x7fd419e69595]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(blobstore_delete_regex+0xdf)[0x7fd41311cb6f]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(destroy_instance_backing+0x24d)[0x7fd41311215d]\r\n/usr/lib64/axis2c/services/EucalyptusNC/libEucalyptusNC.so(monitoring_thread+0x6f0)[0x7fd4130f9460]\r\n/usr/lib64/axis2c/lib/libpthread.so.0(+0x7dc5)[0x7fd41a3b9dc5]\r\n/usr/lib64/axis2c/lib/libc.so.6(clone+0x6d)[0x7fd419ee476d]\r\n======= Memory map: ========\r\n7fd34c000000-7fd34d41e000 rw-p 00000000 00:00 0\r\n7fd34d41e000-7fd350000000 ---p 00000000 00:00 0\r\n7fd354000000-7fd357fe1000 rw-p 00000000 00:00 0\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-01T11:42:32.085-0500","updated":"2017-08-01T11:42:32.085-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/125901","id":"125901","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"With added logging for blobstore lock/unlock and blobstore_search blobstore locking failures we get:\r\n\r\n{code}\r\n2017-08-01 14:42:59 ERROR | {2818569984} blobstore_lock: called for /var/lib/eucalyptus/instances/work 39\r\n2017-08-01 14:42:59 ERROR | {2810177280} blobstore_lock: called for /var/lib/eucalyptus/instances/work -1\r\n2017-08-01 14:42:59 ERROR | {3209230080} blobstore_lock: called for /var/lib/eucalyptus/instances/work -1\r\n2017-08-01 14:42:59 ERROR | {3209230080} error: blobstore_search: failed to lock the blobstore\r\n2017-08-01 14:42:59 ERROR | {3209230080} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 39\r\n2017-08-01 14:43:00 ERROR | {2776606464} blobstore_lock: called for /var/lib/eucalyptus/instances/work 21\r\n2017-08-01 14:43:00 ERROR | {2776606464} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 21\r\n2017-08-01 14:43:00 ERROR | {2810177280} blobstore_lock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {2810177280} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 18\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:00 ERROR | {2818569984} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:00 ERROR | {2776606464} blobstore_lock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:00 ERROR | {2776606464} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_unlock: called for /var/lib/eucalyptus/instances/work -1\r\n2017-08-01 14:43:01 ERROR | {2818569984} blobstore_lock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:01 ERROR | {2818569984} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 20\r\n2017-08-01 14:43:01 ERROR | {2818569984} blobstore_lock: called for /var/lib/eucalyptus/instances/work 19\r\n2017-08-01 14:43:01 ERROR | {2818569984} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 19\r\n2017-08-01 14:43:01 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 19\r\n2017-08-01 14:43:01 ERROR | {3190073088} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 19\r\n{code}\r\n\r\nThis log shows the thread id in the curly braces, the path for the blobstore being locked and the file descriptor associated with the lock (when successful)\r\n\r\nWhen blobstore_search fails to lock the blobstore it then incorrectly releases the lock that is owned by another thread, leading to incorrect locking of the blobstore for a short period:\r\n\r\n{code}\r\n2017-08-01 14:42:59 ERROR | {2818569984} blobstore_lock: called for /var/lib/eucalyptus/instances/work 39\r\n...\r\n2017-08-01 14:42:59 ERROR | {3209230080} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 39\r\n...\r\n2017-08-01 14:43:00 ERROR | {3190073088} blobstore_lock: called for /var/lib/eucalyptus/instances/work 20\r\n...\r\n2017-08-01 14:43:00 ERROR | {2818569984} blobstore_unlock: called for /var/lib/eucalyptus/instances/work 20\r\n{code}\r\n\r\nSo 2818569984 locks the blobstore and then it is incorrectly unlocked by 3209230080. Later on 3190073088 has the lock and 2818569984 completes its use of the blobstore and unlocks it (etc)\r\n\r\nThe wait to acquire the lock on a busy blobstore is 0.5 seconds (as per EUCA-3420)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-01T17:40:58.774-0500","updated":"2017-08-01T17:47:38.111-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126000","id":"126000","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Candidate fix for the double free crash:\r\n\r\nhttps://github.com/sjones4/eucalyptus/commit/7293b9c1c8464f50bba967d46c6973602a27c2eb\r\n\r\nCandidate fix for the blobstore locking issue:\r\n\r\nhttps://github.com/sjones4/eucalyptus/commit/78c9c0f62faedd24eb0adb1dccfcff687afd23f8\r\n\r\nThe above fixes allow the churn test to complete but do not address the cause, which is that the blobstore lock acquisition fails due to timeout when there is high load. When the timeout occurs you can still see errors such as:\r\n\r\n{code}\r\n2017-08-01 22:15:36  INFO | [i-080cde1a] cleaning up state for instance\r\n2017-08-01 22:15:36 ERROR | [i-080cde1a] failed to remove some artifacts in /var/lib/eucalyptus/instances/work/AIDAANVOU6GS6SFPFKX5Z/i-080cde1a\r\n2017-08-01 22:15:36 ERROR | [i-080cde1a] failed to remove backing directory /var/lib/eucalyptus/instances/work/AIDAANVOU6GS6SFPFKX5Z/i-080cde1a\r\n{code}\r\n\r\nthis type of error is not expected to (immediately) impact the node controller but rather specific instances.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-02T11:38:50.823-0500","updated":"2017-08-02T11:38:50.823-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126208","id":"126208","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones] Is the best way to test this issue and EUCA-13441 with instance churning?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-08T17:00:11.663-0500","updated":"2017-08-08T17:00:11.663-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126209","id":"126209","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mmunn1], I saw this issue running the following test on the cloud controller:\r\n\r\n{code}\r\n# git clone https://github.com/sjones4/you-scale.git; cd you-scale\r\n# eval $(euca-generate-environment-config)\r\n# ./gradlew -Dtest.single=ScaleEC2InstancesChurn test\r\n{code}\r\n\r\nthis was in EDGE mode using SL230s and a single node configured to allow 30 instances (e.g. set MAX_DISK=\"100\" in eucalyptus.conf and modify instance type to use 3g disk, create cloud with sufficient public ips)\r\n\r\nThis issue was showing up within a few minutes of churn testing (< 10 minutes)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-08T17:34:03.957-0500","updated":"2017-08-08T17:34:03.957-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126301","id":"126301","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones] I am getting the following error when I try and run the Churn test:\r\n{code}\r\n/root/you-scale/src/test/java/com/github/sjones4/scale/ScaleIAMSigningCertificatesTest.groovy: 37: unable to resolve class sun.security.x509.CertAndKeyGen\r\n @ line 37, column 1.\r\n   import sun.security.x509.CertAndKeyGen\r\n   ^\r\n{code}\r\n\r\nWhat am I missing?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-09T12:02:52.582-0500","updated":"2017-08-09T12:02:52.582-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126302","id":"126302","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~mmunn1], you can delete that test (which requires on Java 7), you only need the churn test.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-09T12:10:44.097-0500","updated":"2017-08-09T12:10:44.097-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/60902/comment/126307","id":"126307","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"body":"Ran the churn test successfully:\r\n{code}\r\nUsing instance type m1.small and availability zone one with availability 30\r\n...\r\n...\r\n[3] Running instance 1\r\n[30] Waiting for instance 20 i-013c694f to be terminated (40s)\r\n[22] Waiting for instance 20 i-2903a45d to be terminated (40s)\r\n[25] Waiting for instance 20 i-d4c2ca32 to be terminated (20s)\r\nTest complete in 2347921ms\r\nRunning cleanup tasks\r\nCompleted cleanup tasks in 1285ms\r\n\r\nBUILD SUCCESSFUL\r\n\r\nTotal time: 39 mins 19.482 secs\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-08-09T17:34:33.166-0500","updated":"2017-08-09T17:34:33.166-0500"}],"maxResults":8,"total":8,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}