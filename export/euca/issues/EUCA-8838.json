{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"27852","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27852","key":"EUCA-8838","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"customfield_10311":null,"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2014-05-30T13:48:30.586-0500","customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8838/watchers","watchCount":3,"isWatching":false},"created":"2014-03-05T01:19:13.295-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2014-03-04T20:20:02.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"updated":"2014-07-03T09:09:16.934-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*node/xml.c*\r\n{code}\r\n 897    {                                  // pull out volumes\r\n 898        char **res_array = NULL;\r\n 899\r\n    \t280. alloc_fn: Storage is returned from allocation function get_xpath_content. [show details]\r\n    \t281. var_assign: Assigning: res_array = storage returned from get_xpath_content(xml_path, \"/instance/volumes/volume\").\r\n    \t282. Condition (res_array = get_xpath_content(xml_path, \"/instance/volumes/volume\")) != NULL, taking true branch\r\n 900        if ((res_array = get_xpath_content(xml_path, \"/instance/volumes/volume\")) != NULL) {\r\n    \t283. Condition res_array[i] != NULL, taking true branch\r\n    \t284. Condition i < 27, taking true branch\r\n    \t298. Condition res_array[i] != NULL, taking true branch\r\n    \t299. Condition i < 27, taking true branch\r\n    \t313. Condition res_array[i] != NULL, taking true branch\r\n    \t314. Condition i < 27, taking false branch\r\n 901            for (int i = 0; (res_array[i] != NULL) && (i < EUCA_MAX_VOLUMES); i++) {\r\n 902                ncVolume *v = instance->volumes + i;\r\n 903                char volxpath[128];\r\n 904#define MKVOLPATH(SUFFIX) snprintf(volxpath, sizeof(volxpath), \"/instance/volumes/volume[%d]/%s\\n\", (i + 1), SUFFIX);\r\n 905                MKVOLPATH(\"id\");\r\n    \tCID 10302 (#37 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t285. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t286. Condition get_xpath_content_at(xml_path, volxpath, 0, v->volumeId, 512 /* sizeof (v->volumeId) */) == NULL, taking false branch\r\n    \t300. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t301. Condition get_xpath_content_at(xml_path, volxpath, 0, v->volumeId, 512 /* sizeof (v->volumeId) */) == NULL, taking false branch\r\n 906                XGET_STR(volxpath, v->volumeId);\r\n 907                MKVOLPATH(\"attachmentToken\");\r\n    \tCID 10302 (#39 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t287. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t288. Condition get_xpath_content_at(xml_path, volxpath, 0, v->attachmentToken, 512 /* sizeof (v->attachmentToken) */) == NULL, taking false branch\r\n    \t302. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t303. Condition get_xpath_content_at(xml_path, volxpath, 0, v->attachmentToken, 512 /* sizeof (v->attachmentToken) */) == NULL, taking false branch\r\n 908                XGET_STR(volxpath, v->attachmentToken);\r\n 909                MKVOLPATH(\"localDev\");\r\n    \tCID 10302 (#41 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t289. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t290. Condition get_xpath_content_at(xml_path, volxpath, 0, v->localDev, 512 /* sizeof (v->localDev) */) == NULL, taking false branch\r\n    \t304. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t305. Condition get_xpath_content_at(xml_path, volxpath, 0, v->localDev, 512 /* sizeof (v->localDev) */) == NULL, taking false branch\r\n 910                XGET_STR(volxpath, v->localDev);\r\n 911                MKVOLPATH(\"localDevReal\");\r\n    \tCID 10302 (#43 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t291. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t292. Condition get_xpath_content_at(xml_path, volxpath, 0, v->localDevReal, 512 /* sizeof (v->localDevReal) */) == NULL, taking false branch\r\n    \t306. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t307. Condition get_xpath_content_at(xml_path, volxpath, 0, v->localDevReal, 512 /* sizeof (v->localDevReal) */) == NULL, taking false branch\r\n 912                XGET_STR(volxpath, v->localDevReal);\r\n 913                MKVOLPATH(\"stateName\");\r\n    \tCID 10302 (#45 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t293. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t294. Condition get_xpath_content_at(xml_path, volxpath, 0, v->stateName, 512 /* sizeof (v->stateName) */) == NULL, taking false branch\r\n    \t308. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t309. Condition get_xpath_content_at(xml_path, volxpath, 0, v->stateName, 512 /* sizeof (v->stateName) */) == NULL, taking false branch\r\n 914                XGET_STR(volxpath, v->stateName);\r\n 915                MKVOLPATH(\"connectionString\");\r\n    \tCID 10302 (#47 of 48): Resource leak (RESOURCE_LEAK) [select issue]\r\n    \t295. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t296. Condition get_xpath_content_at(xml_path, volxpath, 0, v->connectionString, 4096 /* sizeof (v->connectionString) */) == NULL, taking false branch\r\n    \t310. Condition EUCA_LOG_TRACE >= log_level_get(), taking true branch\r\n    \t311. Condition get_xpath_content_at(xml_path, volxpath, 0, v->connectionString, 4096 /* sizeof (v->connectionString) */) == NULL, taking false branch\r\n 916                XGET_STR(volxpath, v->connectionString);\r\n    \t297. Jumping back to the beginning of the loop\r\n    \t312. Jumping back to the beginning of the loop\r\n 917            }\r\n 918        }\r\n    \t\r\nCID 10302 (#35 of 48): Resource leak (RESOURCE_LEAK)\r\n315. leaked_storage: Variable res_array going out of scope leaks the storage it points to.\r\n 919    }\r\n 920\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"CID-10302 Resource Leak: The system resource will not be reclaimed and reused, reducing the future availability of the resource","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"customfield_10000":"10001_*:*_1_*:*_49221491_*|*_3_*:*_1_*:*_104842_*|*_10002_*:*_1_*:*_74933656_*|*_10000_*:*_1_*:*_11266_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_7347486048","customfield_12100":"0|i02kiv:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2014-03-06T01:34:00.634-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["chuck(chuck)","dmitrii(dmitrii)","tjcramer(tjcramer)","viglesias(viglesias)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8838/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27852/comment/63791","id":"63791","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"{code}\r\ncommit a8c04ec28cd85f06a1ae3febcc4244d082e96b99\r\nAuthor: chuck <chuck@eucalyptus.com> 2014-03-04 23:20:02\r\nCommitter: chuck <chuck@eucalyptus.com> 2014-03-04 23:20:02\r\nParent: 71ae015e2dfba3f492827073454be08832c119e4 (Fix compilation warnings throughout the C code base EUCA-8675)\r\nBranches: dev/chuck/COVERITY\r\n\r\nCID-10302: Fix resource leak\r\nEUCA-8838\r\n---------------------------------- node/xml.c ---------------------------------\r\ndiff --git a/node/xml.c b/node/xml.c\r\nindex 3300811..3da4ea9 100644\r\n--- a/node/xml.c\r\n+++ b/node/xml.c\r\n@@ -212,7 +212,7 @@\r\n     LOGTRACE(\"reading up to %lu of \" #_dest \" from %s\\n\", sizeof(_dest), xml_path);  \\\r\n     if (get_xpath_content_at(xml_path, (_XPATH), 0, _dest, sizeof(_dest)) == NULL) { \\\r\n         LOGERROR(\"failed to read %s from %s\\n\", (_XPATH), xml_path);                 \\\r\n-        return EUCA_ERROR;                                                           \\\r\n+        return (EUCA_ERROR);                                                         \\\r\n     }                                                                                \\\r\n }\r\n \r\n@@ -221,7 +221,7 @@\r\n \tchar __sBuf[32];                                                                   \\\r\n \tif (get_xpath_content_at(xml_path, (_XPATH), 0, __sBuf, sizeof(__sBuf)) == NULL) { \\\r\n \t\tLOGERROR(\"failed to read %s from %s\\n\", (_XPATH), xml_path);                   \\\r\n-\t\treturn EUCA_ERROR;                                                             \\\r\n+\t\treturn (EUCA_ERROR);                                                           \\\r\n \t}                                                                                  \\\r\n \t(_dest) = _converter(__sBuf);                                                      \\\r\n }\r\n@@ -231,7 +231,7 @@\r\n \tchar __sBuf[32];                                                                   \\\r\n \tif (get_xpath_content_at(xml_path, (_XPATH), 0, __sBuf, sizeof(__sBuf)) == NULL) { \\\r\n \t\tLOGERROR(\"failed to read %s from %s\\n\", (_XPATH), xml_path);                   \\\r\n-\t\treturn EUCA_ERROR;                                                             \\\r\n+\t\treturn (EUCA_ERROR);                                                           \\\r\n \t}                                                                                  \\\r\n \tif (strcmp(__sBuf, \"true\") == 0) {                                                 \\\r\n \t\t(_dest) = 1;                                                                   \\\r\n@@ -239,7 +239,7 @@\r\n \t\t(_dest) = 0;                                                                   \\\r\n \t} else {                                                                           \\\r\n \t\tLOGDEBUG(\"failed to parse %s as {true|false} in %s\\n\", (_XPATH), xml_path);    \\\r\n-\t\treturn EUCA_ERROR;                                                             \\\r\n+\t\treturn (EUCA_ERROR);                                                           \\\r\n \t}                                                                                  \\\r\n }\r\n \r\n@@ -248,7 +248,7 @@\r\n \tchar __sBuf[32];                                                                   \\\r\n \tif (get_xpath_content_at(xml_path, (_XPATH), 0, __sBuf, sizeof(__sBuf)) == NULL) { \\\r\n \t\tLOGERROR(\"failed to read %s from %s\\n\", (_XPATH), xml_path);                   \\\r\n-\t\treturn EUCA_ERROR;                                                             \\\r\n+\t\treturn (EUCA_ERROR);                                                           \\\r\n \t}                                                                                  \\\r\n \terrno = 0;                                                                         \\\r\n \tchar *__psEnd = NULL;                                                              \\\r\n@@ -257,7 +257,7 @@\r\n \t\t(_dest) = __v;                                                                 \\\r\n \t} else {                                                                           \\\r\n \t\tLOGDEBUG(\"failed to parse %s as an integer in %s\\n\", (_XPATH), xml_path);      \\\r\n-\t\treturn EUCA_ERROR;                                                             \\\r\n+\t\treturn (EUCA_ERROR);                                                           \\\r\n \t}                                                                                  \\\r\n }\r\n \r\n@@ -914,7 +914,9 @@\r\n                 XGET_STR(volxpath, v->stateName);\r\n                 MKVOLPATH(\"connectionString\");\r\n                 XGET_STR(volxpath, v->connectionString);\r\n+                EUCA_FREE(res_array[i]);\r\n             }\r\n+            EUCA_FREE(res_array);\r\n         }\r\n     }\r\n \r\n@@ -933,7 +935,7 @@\r\n \r\n     if (instance->params.root == NULL) {\r\n         LOGERROR(\"did not find 'root' among disks in %s\\n\", xml_path);\r\n-        return EUCA_ERROR;\r\n+        return (EUCA_ERROR);\r\n     }\r\n \r\n     /* note that the following XML may not always be present:\r\n@@ -947,7 +949,7 @@\r\n      * /instance/disks - we get same info from volumes[] and vbrs[]\r\n      */\r\n \r\n-    return ret;\r\n+    return (ret);\r\n }\r\n \r\n //!\r\n@@ -1305,7 +1307,7 @@\r\n         EUCA_FREE(res_array);\r\n     }\r\n \r\n-    return res;\r\n+    return (res);\r\n }\r\n \r\n #ifdef __STANDALONE\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-03-05T01:20:33.567-0600","updated":"2014-03-05T01:20:33.567-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27852/comment/63792","id":"63792","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"QA should cover testing of instance recovery once NC is being restarted.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-03-05T01:21:06.990-0600","updated":"2014-03-05T01:21:06.990-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27852/comment/63973","id":"63973","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Looks good, thanks!","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-03-06T01:34:00.634-0600","updated":"2014-03-06T01:34:00.634-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27852/comment/71711","id":"71711","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"No longer seen in coverity runs after resolution.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-30T13:48:30.595-0500","updated":"2014-05-30T13:48:30.595-0500"}],"maxResults":4,"total":4,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}