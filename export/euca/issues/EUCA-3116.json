{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"14955","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955","key":"EUCA-3116","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10104":[],"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"resolutiondate":"2013-05-22T02:06:29.281-0500","customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3116/watchers","watchCount":11,"isWatching":false},"lastViewed":null,"created":"2012-07-31T22:31:46.234-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2013-04-26T05:35:21.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":["3.4-PM","top200"],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10004","id":"10004","description":"Eucalyptus 3.0.2","name":"3.0.2","archived":false,"released":true,"releaseDate":"2012-04-25"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10005","id":"10005","description":"Eucalyptus 3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"issuelinks":[{"id":"18322","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/18322","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"21745","key":"DOC-872","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21745","fields":{"summary":"DNS, what's in 3.3.0 ?","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"17201","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/17201","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"20304","key":"EUCA-5599","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20304","fields":{"summary":"UDP DNS queries do not work when CLC and CC are colocated","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"17199","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/17199","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"20305","key":"EUCA-5600","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20305","fields":{"summary":"CLC DNS server should precede VNET_DNS server in resolv.conf","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"17200","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/17200","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"20308","key":"EUCA-5603","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20308","fields":{"summary":"CLC and CC default DNS domains are incompatible","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"17875","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/17875","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"21152","key":"EUCA-6079","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21152","fields":{"summary":"DNS related enhancements","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811}}}},{"id":"17203","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/17203","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"11814","key":"EUCA-1433","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/11814","fields":{"summary":"DNS Queries Not Working Correctly in Dynamic DNS enabled Eucalyptus Cloud","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"updated":"2014-06-16T16:51:48.882-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10005","id":"10005","name":"DNS"}],"timeoriginalestimate":null,"description":"AWS supports the ability to resolve both private and public DNS from within the VM.  A number of applications that operate within a cloud environment rely upon this functionality.","customfield_13000":null,"customfield_13200":null,"customfield_11300":"PRD-1","customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Eucalyptus does not support hostname resolution via private DNS","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10001_*:*_1_*:*_1001646_*|*_10002_*:*_1_*:*_4083584833_*|*_10000_*:*_1_*:*_21329851378_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_45212","customfield_12100":"0|i01hn3:","customfield_10001":"2012-08-06T23:07:56.191-0500","customfield_10002":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10000","value":"Customer Affecting","id":"10000"}],"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["agrimm(agrimm)","dstagnaro(dstagnaro)","dshekhawat(dshekhawat)","hspencer(hspencer)","tjcramer(tjcramer)","viglesias(viglesias)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/36115","id":"36115","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Hi,\n\nThis is a critical feature request, can we get some help prioritising it please?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2012-11-26T04:33:10.212-0600","updated":"2012-11-26T04:33:10.212-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/42754","id":"42754","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Linking related issues I've been working through.\r\n\r\nThe DNS server within Eucalyptus needs a couple of minor changes ( EUCA-5600 and EUCA-5603 are just a couple of lines each ), but it also needs a more fundamental change.  Requests must be serviced in a manner similar to metadata requests, where the source IP address is used to determine the correct response.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-02T20:42:49.995-0500","updated":"2013-04-02T20:42:49.995-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/42818","id":"42818","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"body":"Thanks Andy for engaging on this.  Let us know if there is anything from a field perspective that can help add more clarity around this feature request.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dstagnaro","name":"dstagnaro","key":"dstagnaro","accountId":"557058:ab9ac2db-0ce9-444b-b209-d57d16ac0e46","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/47244def11603caaf3cf61fc30c36997?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddstagnaro%26avatarId%3D11000%26noRedirect%3Dtrue"},"displayName":"Darren Stagnaro","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-04-03T16:34:53.773-0500","updated":"2013-04-03T16:34:53.773-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/42907","id":"42907","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"There is a patchset in my personal github repo for this at the moment.  [~neil] is going to look over it, and I'll work with [~viglesias] to make sure we've got a good set of tests.\r\n\r\nThe patches are in this branch of 3.3:\r\nhttps://github.com/a13m/eucalyptus/commits/dns\r\n\r\nI've done most of the testing on 3.2, though; there's a subtle difference in the patch for that branch, but it's just because of lines of contexts in Zone.java.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-04T19:45:59.256-0500","updated":"2013-04-04T19:45:59.256-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/42909","id":"42909","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Test plan must include:\n\nTop-level Use Cases:\n\n1) default config (eucalyptus / eucalyptus.internal)\n2) altered dnsdomain (system.dns.dnsdomain property)\n3) altered vm subdomain (cloud.vmstate.instance_subdomain property)\n\nFor each case, lookup valid hosts:\n\n1) internal client / private hostname lookup (should succeed)\n2) internal client / public hostname lookup (should translate)\n3) external client / private hostname lookup (should fail)\n4) external client / public lookup (should succeed, not translate)\n5) walrus bucket lookups (should be unchanged from earlier versions)\n6) component lookups (should be unchanged from earlier versions)\n7) other domain lookups (TODO: should forward to another DNS server, so that VNET_DNS is not required on CC anymore)\n\nAlso negative tests for each of those.\n\nIt's also necessary to do all of the internal tests when the CLC and CC are colocated, as well as when they are separate, due to the patch for EUCA-5599 .  For external tests, this matters less.\n\nAlso note that in all cases, system.dns.nameserveraddress must be set to the CLC's IP address.  This is problematic for HA, though.  Unless we either present a floating IP or provide the IP address of each CLC as a separate nameserver, the HA setup won't really work.  You cannot provide hostnames as nameservers for obvious reasons.\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-04T20:48:27.114-0500","updated":"2013-04-04T20:48:27.114-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/43933","id":"43933","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Hi [~agrimm],\n\nI took the DNS patches from your branch and put them on my local copy of source code (sync'ed as of today):\n\n{code}\n$ git rev-parse HEAD\n\nf829df30d84920c9f295bdc7026776ee1dabfbd9\n{code}\n\nNext, I set the following (10.104.1.150 is the IP of my CLC), I was running all on 1 machine (cloud-in-a-box):\n\n{code}\n$ euca-modify-property -p system.dns.nameserveraddress=10.104.1.150\n\n$ euca-modify-property -p system.dns.dnsdomain=jeevanullas.org\n\n$ euca-modify-property -p bootstrap.webservices.use_instance_dns=true\n\n$ euca-modify-property -p cloud.vmstate.instance_subdomain=.mycloud\n\n$ euca-modify-property -p bootstrap.webservices.use_dns_delegation=true\n{code}\n\nNext I modified the /etc/eucalyptus/eucalyptus.conf with following on the CC:\n\n{code}\nVNET_DNS=\"8.8.4.4\"\nVNET_DOMAINNAME=\"mycloud.internal\"\n{code}\n\nThen I started an instance from one of the Ubuntu EMIs (Ubuntu 12.04 Precise), available here, http://cloud-images.ubuntu.com/precise/current/\n\nAfter the instance has run, please see the euca-describe-instances output below.\n\n{code}\nRESERVATION\tr-A1164066\t037261160869\tdefault\nINSTANCE\ti-BADE4547\temi-E2E53BC8\teuca-10-104-3-40.mycloud.jeevanullas.org\teuca-192-168-10-123.mycloud.internal\trunning\tsshlogin-new\t0\t\tm1.large\t2013-04-24T06:47:32.300Z\tcloud33\teki-2456378A\teri-79423885\t\tmonitoring-disabled\t10.104.3.40\t192.168.10.123\t\t\tinstance-store\t\t\t\t\t\t\t\t\t\nTAG\tinstance\ti-BADE4547\teuca:node\t172.16.0.1\n{code}\n\nRelevant details\n\n{code}\nPublic DNS name: euca-10-104-3-40.mycloud.jeevanullas.org\nPrivate DNS name: euca-192-168-10-123.mycloud.internal\nPublic IPv4 IP: 10.104.3.40\nPrivate IPv4 IP: 192.168.10.123\n{code}\n\nI logged into the instance and tried to resolve the things.\n\nFirst of all I verified my /etc/resolv.conf inside the instance has following information\n\n{code}\n# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)\n#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN\nnameserver 192.168.10.65\nnameserver 8.8.4.4\nsearch mycloud.internal\n{code}\n\nHere mycloud.internal is set via VNET_DOMAINNAME, VNET_DNS comes 2nd and the private IP address of the CC comes first.\n\nNext,I noticed that all my tests with nslookup failed with the following error\n\n{code}\n;; Got recursion not available from 192.168.10.65, trying next server\n{code}\n\nSo I had to rely on -norecurse option with nslookup. This also breaks the eutester testcase we have for testing this functionality \n\nhttps://github.com/eucalyptus/eutester/blob/testing/testcases/cloud_user/instances/instancetest.py#L188-L233\n\nWith -norecurse , I got the following output\n\na) Internal client / private hostname lookup\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup -norecurse euca-192-168-10-123.mycloud.internal\nServer:\t\t192.168.10.65\nAddress:\t192.168.10.65#53\n\nName:\teuca-192-168-10-123.mycloud.internal\nAddress: 192.168.10.123\n{code}\n\nb) internal client / public hostname lookup\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup -norecurse euca-10-104-3-40.mycloud.jeevanullas.org\nServer:\t\t192.168.10.65\nAddress:\t192.168.10.65#53\n\nName:\teuca-10-104-3-40.mycloud.jeevanullas.org\nAddress: 192.168.10.123\n{code}\n\nc) Internal client / private IP lookup\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup -norecurse 192.168.10.123\nServer:\t\t192.168.10.65\nAddress:\t192.168.10.65#53\n\n123.10.168.192.in-addr.arpa\tname = euca-192-168-10-123.mycloud.internal.\n{code}\n\nd) Internal client / public IP lookup\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup -norecurse 10.104.3.40\nServer:\t\t192.168.10.65\nAddress:\t192.168.10.65#53\n\n40.3.104.10.in-addr.arpa\tname = euca-10-104-3-40.mycloud.jeevanullas.org.\n{code}\n\ne) Internal client / external internet DNS name\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup  google.com\n;; Got recursion not available from 192.168.10.65, trying next server\nServer:\t\t8.8.4.4\nAddress:\t8.8.4.4#53\n\nNon-authoritative answer:\nName:\tgoogle.com\nAddress: 74.125.224.201\nName:\tgoogle.com\nAddress: 74.125.224.200\nName:\tgoogle.com\nAddress: 74.125.224.195\nName:\tgoogle.com\nAddress: 74.125.224.194\nName:\tgoogle.com\nAddress: 74.125.224.193\nName:\tgoogle.com\nAddress: 74.125.224.192\nName:\tgoogle.com\nAddress: 74.125.224.197\nName:\tgoogle.com\nAddress: 74.125.224.196\nName:\tgoogle.com\nAddress: 74.125.224.198\nName:\tgoogle.com\nAddress: 74.125.224.199\nName:\tgoogle.com\nAddress: 74.125.224.206\n{code}\n\nf) Internal client / external IPv4 IP\n\n{code}\nubuntu@euca-192-168-10-123:~$ nslookup 74.125.224.198\n;; Got recursion not available from 192.168.10.65, trying next server\nServer:\t\t8.8.4.4\nAddress:\t8.8.4.4#53\n\nNon-authoritative answer:\n198.224.125.74.in-addr.arpa\tname = lax02s02-in-f6.1e100.net.\n\nAuthoritative answers can be found from:\n{code}\n\nI confirmed all the internal resolutions against AWS EC2 as well and found the same result, except that, it worked there without -norecurse.\n\nAlso note that the testcase for this in Eutester currently uses nslookup (commonly available on an instance, otherwise dig should be recommended) , but the check seems to be for a string 'answer:' in the output, which IMHO is not so solid, and we need to devise a new way to confirm the command passed.\n\nI will post a separate comment after verifying all from the external client.\n\nPlease let me know if you have any questions\n\nPS: IMHO, the dependency on having a VIP for a HA setup , could be a show stopper as VIP would lie outside the Product (Euca).\n\nCheers!\nDeependra\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-04-24T06:01:01.745-0500","updated":"2013-04-24T06:01:01.745-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/43937","id":"43937","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Regarding the nslookup tests, I was using \"getent\" for my command line testing, and then just testing that name resolution work in python and other languages using their built-in libraries, and I didn't have to do anything special.  \n\nYour testing made me realize something important, though:  since the CLC's DNS server is only authoritative for the subdomain, this could cause problems for lookups in the parent domain (jeevanullas.org in your case).  Really, adding recursive request support to the CLC's DNS server is probably vital to considering this feature complete.  And it's the possible complexity of this that has people reconsidering whether this should be implemented in the CLC.\n\nAs for my floating IP suggestion, I was implying that this IP would need to be managed by eucalyptus, not that it would be outside of the system.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-24T08:37:02.658-0500","updated":"2013-04-24T08:37:02.658-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46250","id":"46250","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"As of:\nhttps://github.com/eucalyptus/eucalyptus/commit/3485d8ce48e63e9818d20c0d92abc4e344dbda70\n\nthe behavior is now working almost perfectly except for requests for internal domains from external host which are being returned but shouldn't be. I suggest that we close this issue out and open a specific bug for that.\n\nI would not mind having [~dshekhawat] take a look at this one as well given his expertise in DNS.\n\nFrom inside instance:\n{code}\nPrivate Name: PASS\nroot@euca-192-168-116-49:~# nslookup `hostname`\nServer:         10.0.1.91\nAddress:        10.0.1.91#53\n\nName:   euca-192-168-116-49.vic-cloud.internal\nAddress: 192.168.116.49\n\nPublic Name: PASSES\nroot@euca-192-168-116-49:~# nslookup euca-10-0-1-55.vic-cloud.euca-qa.com\nServer:         10.0.1.91\nAddress:        10.0.1.91#53\n\nNon-authoritative answer:\nName:   euca-10-0-1-55.vic-cloud.euca-qa.com\nAddress: 192.168.116.49\n\nNormal Domain Lookup: PASS\nroot@euca-192-168-116-49:~# nslookup yahoo.com\nServer:         10.0.1.91\nAddress:        10.0.1.91#53\n\nNon-authoritative answer:\nName:   yahoo.com\nAddress: 206.190.36.45\nName:   yahoo.com\nAddress: 98.138.253.109\nName:   yahoo.com\nAddress: 98.139.183.24\n\nroot@euca-192-168-116-49:~#\n{code}\n\nFrom external host:\n\n{code}\nPrivate Name: SHOULD FAIL\n ~ ⮀ $ ⮀nslookup euca-192-168-116-49.vic-cloud.internal 10.0.1.91\nServer:          10.0.1.91\nAddress:     10.0.1.91#53\n\nName:     euca-192-168-116-49.vic-cloud.internal\nAddress: 192.168.116.49\n\nPublic Name: PASS\n ~ ⮀ $ ⮀nslookup euca-10-0-1-55.vic-cloud.euca-qa.com 10.0.1.91\nServer:          10.0.1.91\nAddress:     10.0.1.91#53\n\nName:     euca-10-0-1-55.vic-cloud.euca-qa.com\nAddress: 10.0.1.55\n\nWalrus Bucket: PASS\n ~ ⮀ $ ⮀nslookup junk.walrus.vic-cloud.euca-qa.com 10.0.1.91\nServer:          10.0.1.91\nAddress:     10.0.1.91#53\n\nName:     junk.walrus.vic-cloud.euca-qa.com\nAddress: 10.0.1.91\n\n ~ ⮀ $\n\nComponent Lookup: PASS\n ~ ⮀ $ ⮀nslookup eucalyptus.vic-cloud.euca-qa.com 10.0.1.91\nServer:          10.0.1.91\nAddress:     10.0.1.91#53\n\nName:     eucalyptus.vic-cloud.euca-qa.com\nAddress: 10.0.1.91\n\n ~ ⮀ $ ⮀\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-21T22:13:54.970-0500","updated":"2013-05-21T22:13:54.970-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46262","id":"46262","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Thanks [~viglesias] , I did the manual tests and results are the same as your's. From my previous configuration the only change I did was the following\n\na) VNET_DNS was pointing to my CLC. Earlier I had it set to 8.8.4.4 or 10.1.1.254 but looks like in order to test this functionality with these patches we need to have VNET_DNS set to the CLC IP address. Not sure how this would work in case of HA setup. So we will have to see what we can do with EUCA-5600\n\nb) system.dns.nameserveraddress was pointing to internal DNS server i.e. 10.1.1.254 \n\nI was not able to do reverse lookups on external IP addresses (from internet) from inside the instance.\n\nI was also able to resolve the private DNS name from outside the instance, as you mentioned.\n\nHope this is useful information please let me know if you have any questions.\n\nPS: I will try to do an automated test using eutester once the instance test code is all ready and post the results here.\n\n ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-05-22T01:37:20.086-0500","updated":"2013-05-22T01:37:20.086-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46263","id":"46263","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Test can be found here:\nhttps://github.com/eucalyptus/eutester/blob/testing/testcases/cloud_user/instances/instancetest.py\n\nRun:\n{code}\ntestcases/cloud_user/instances/instancetest.py --tests DNSResolveCheck --credpath blah\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-22T01:40:50.874-0500","updated":"2013-05-22T01:40:50.874-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46264","id":"46264","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Thanks! It is PASSED\n\n{code}\n./instancetest.py --emi emi-01DA3BD0 --credpath /root/.euca --password password --tests DNSResolveCheck --zone cloud33 --vmtype m1.large --instance-user ubuntu --config /root/eutester/testcases/cloud_user/instances/config \nsetuptestname:None\nsetup_debugmethod: \ntestcasename:None\nlog_level:None\nlogfile:None\nlogfile_level:debug\nStarting setup_debugmethod, name:instancetest\nAfter populating... setup_debugmethod: testcasename:Nonelog_level:debuglogfile:Nonelogfile_level:debug\n[2013-05-21 23:51:09,533] [instancetest] [DEBUG]: instancetest: Eulogger init test message. Init complete\n[2013-05-21 23:51:09,535] [instancetest] [DEBUG]: (setuptestcase:330): <pre>\n[2013-05-21 23:51:09,538] [instancetest] [DEBUG]: (show_self:1278): \n-------------------------------------------------------------------------\nTESTCASE INFO:           \n----------              \nNAME:                     --->:  instancetest\nTEST LIST:                --->:  []\nCONFIG FILES:             --->:  []\n-------------------------------------------------------------------------\n[2013-05-21 23:51:09,541] [instancetest] [DEBUG]: (show_args:1299): \n-------------------------------------------------------------------------\nTEST ARGS:                       VALUE:\n----------                      ------\ndebug_method              --->:  <bound method InstanceBasics.debug of <__main__.InstanceBasics testMethod=instancetest>>\nlogger                    --->:  <eutester.eulogger.Eulogger object at 0x20b7f50>\n-------------------------------------------------------------------------\nCreating/updating section: DEFAULTS\nAdding section:DEFAULTS\nsetup_debugmethod: \ntestcasename:None\nlog_level:None\nlogfile:None\nlogfile_level:None\nStarting setup_debugmethod, name:instancetest\nAfter populating... setup_debugmethod: testcasename:Nonelog_level:debuglogfile:Nonelogfile_level:debug\n[2013-05-21 23:51:09,544] [instancetest] [DEBUG]: instancetest: Eulogger init test message. Init complete\n[2013-05-21 23:51:09,546] [instancetest] [DEBUG]: (show_self:1278): \n-------------------------------------------------------------------------\nTESTCASE INFO:           \n----------              \nNAME:                     --->:  instancetest\nTEST LIST:                --->:  []\nCONFIG FILES:             --->:  ['/root/eutester/testcases/cloud_user/instances/config']\n-------------------------------------------------------------------------\n[2013-05-21 23:51:09,549] [instancetest] [DEBUG]: (show_args:1299): \n-------------------------------------------------------------------------\nTEST ARGS:                       VALUE:\n----------                      ------\nargs                      --->:  Namespace(config='/root/eutester/testcases/cloud_user/instances/config', config_file='/root/eutester/testcases/cloud_user/instances/config', configblocks=[], configfile='/root/eutester/testcases/cloud_user/instances/config', configsections=['MEMO', 'globals', 'instancetest'], cred_path='/root/.euca', credpath='/root/.euca', emi='emi-01DA3BD0', html_anchors=False, ignoreblocks=[], instance_passsword=None, instance_user='ubuntu', keypair=None, log_level='debug', logfile=None, logfile_level='debug', password='password', region=None, tests=['DNSResolveCheck'], use_color=False, user_data=None, vmtype='m1.large', zone='cloud33')\nconfig                    --->:  /root/eutester/testcases/cloud_user/instances/config\nconfig_file               --->:  /root/eutester/testcases/cloud_user/instances/config\nconfigblocks              --->:  []\nconfigfile                --->:  /root/eutester/testcases/cloud_user/instances/config\nconfigsections            --->:  ['MEMO', 'globals', 'instancetest']\ncred_path                 --->:  /root/.euca\ncredpath                  --->:  /root/.euca\ndebug_method              --->:  <bound method InstanceBasics.debug of <__main__.InstanceBasics testMethod=instancetest>>\nemi                       --->:  emi-01DA3BD0\nhtml_anchors              --->:  False\nignoreblocks              --->:  []\ninstance_passsword        --->:  None\ninstance_user             --->:  ubuntu\nkeypair                   --->:  None\nlog_level                 --->:  debug\nlogfile                   --->:  None\nlogfile_level             --->:  debug\nlogger                    --->:  <eutester.eulogger.Eulogger object at 0x20fc750>\npassword                  --->:  password\nregion                    --->:  None\ntests                     --->:  ['DNSResolveCheck']\nuse_color                 --->:  False\nuser_data                 --->:  None\nvmtype                    --->:  m1.large\nzone                      --->:  cloud33\n-------------------------------------------------------------------------\n[2013-05-21 23:51:09,549] [EUCAOPS] [DEBUG]: EUCAOPS: Eulogger init test message. Init complete\n[2013-05-21 23:51:09,549] [EUCAOPS] [DEBUG]: Reading config file: /root/eutester/testcases/cloud_user/instances/config\nNo config sections for:/root/eutester/testcases/cloud_user/instances/config\n[2013-05-21 23:51:09,550] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: 10.104.1.150:['cc00', 'clc', 'sc00', 'ws']: Eulogger init test message. Init complete\n[2013-05-21 23:51:09,550] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: SSH connection has hostname:10.104.1.150 user:root password:p******d\n[2013-05-21 23:51:09,622] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: SSH connection attempt(1 of 3), host:'root@10.104.1.150', using ipv4:10.104.1.150, thru proxy:'None'\n[2013-05-21 23:51:09,654] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: SSH - Connected to 10.104.1.150\nCreating/updating section: eucalyptus_conf\nAdding section:eucalyptus_conf\n[2013-05-21 23:51:09,927] [172.16.0.1:['nc00']] [DEBUG]: 172.16.0.1:['nc00']: Eulogger init test message. Init complete\n[2013-05-21 23:51:09,927] [172.16.0.1:['nc00']] [DEBUG]: SSH connection has hostname:172.16.0.1 user:root password:p******d\n[2013-05-21 23:51:09,996] [172.16.0.1:['nc00']] [DEBUG]: SSH connection attempt(1 of 3), host:'root@172.16.0.1', using ipv4:172.16.0.1, thru proxy:'None'\n[2013-05-21 23:51:10,060] [172.16.0.1:['nc00']] [DEBUG]: SSH - Connected to 172.16.0.1\nCreating/updating section: eucalyptus_conf\nAdding section:eucalyptus_conf\n[2013-05-21 23:51:10,335] [EUCAOPS] [DEBUG]: \n--->(euservice.py:361)Starting method: get(self, type=None, partition=None, attempt_both=True, poll_interval=15, allow_clc_start_time=300)\n[2013-05-21 23:51:10,335] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# service eucalyptus-cloud status\n[2013-05-21 23:51:10,527] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \nEucalyptus services are running\n\n[2013-05-21 23:51:10,528] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:10,528] [EUCAOPS] [DEBUG]: Checking the following CLCs for services/status: 10.104.1.150, ...\n[2013-05-21 23:51:10,528] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# cat /var/run/eucalyptus/eucalyptus-cloud.pid\n[2013-05-21 23:51:10,594] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \n25102\n\n[2013-05-21 23:51:10,594] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:10,594] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: starting get pid uptime\"ps -eo pid,etime | grep 25102 | awk '{print $2}'\"...\n[2013-05-21 23:51:10,594] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# ps -eo pid,etime | grep 25102 | awk '{print $2}'\n[2013-05-21 23:51:10,675] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \n01:34:18\n\n[2013-05-21 23:51:10,675] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:10,676] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# . /root/.euca/eucarc && //usr/sbin/euca-describe-services \n[2013-05-21 23:51:10,744] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \nWARN: Load Balancing service URL is not configured.\n\n[2013-05-21 23:51:10,854] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: SERVICE\twalrus         \twalrus         \twalrus         \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Walrus\tarn:euca:bootstrap:walrus:walrus:walrus/\nSERVICE\treporting      \tbootstrap      \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Reporting\tarn:euca:bootstrap::reporting:10.104.1.150/\nSERVICE\teucalyptus     \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Eucalyptus\tarn:euca:eucalyptus:::10.104.1.150/\nSERVICE\tstorage        \tcloud33        \tsc-01          \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Storage\tarn:euca:eucalyptus:cloud33:storage:sc-01/\nSERVICE\tcluster        \tcloud33        \tcc-01          \tENABLED   \t27  \thttp://10.104.1.150:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:cloud33:cluster:cc-01/\nSERVICE\tbootstrap      \tbootstrap      \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Empyrean\tarn:euca:bootstrap:::10.104.1.150/\nSERVICE\tdns            \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Dns   \tarn:euca:eucalyptus::dns:10.104.1.150/\nSERVICE\tcloudwatch     \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/CloudWatch\tarn:euca:eucalyptus::cloudwatch:10.104.1.150/\nSERVICE\tloadbalancing  \teucalyptus     \t10.104.1.150   \tNOTREADY  \t27  \thttp://10.104.1.150:8773/services/LoadBalancing\tarn:euca:eucalyptus::loadbalancing:10.104.1.150/\nSERVICE\tnotifications  \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Notifications\tarn:euca:eucalyptus::notifications:10.104.1.150/\nSERVICE\tjetty          \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Jetty \tarn:euca:eucalyptus::jetty:10.104.1.150/\nSERVICE\ttokens         \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Tokens\tarn:euca:eucalyptus::tokens:10.104.1.150/\nSERVICE\tautoscaling    \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/AutoScaling\tarn:euca:eucalyptus::autoscaling:10.104.1.150/\nSERVICE\teuare          \teucalyptus     \t10.104.1.150   \tENABLED   \t27  \thttp://10.104.1.150:8773/services/Euare \tarn:euca:eucalyptus::euare:10.104.1.150/\n\n[2013-05-21 23:51:10,854] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:10,856] [EUCAOPS] [DEBUG]: \n--->(euservice.py:664)Starting method: get_all_services_by_filter(self, type=eucalyptus, partition=None, state=ENABLED, name=None, hostname=None, running=None, use_cached_list=True)\n[2013-05-21 23:51:10,857] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# cat /etc/eucalyptus/eucalyptus-version\n[2013-05-21 23:51:10,923] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \n3.3.0\n\n[2013-05-21 23:51:10,923] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:10,923] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: [root@10.104.1.150]# . /root/.euca/eucarc && //usr/sbin/euca_conf --list-nodes 2>1 | grep 'NODE\\|INSTANCE'\n[2013-05-21 23:51:10,991] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: \nWARN: Load Balancing service URL is not configured.\n\n[2013-05-21 23:51:11,241] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: NODE\tcloud33\t\t172.16.0.1\tENABLED\t\nINSTANCE\ti-E3C14206\n\n[2013-05-21 23:51:11,241] [10.104.1.150:['cc00', 'clc', 'sc00', 'ws']] [DEBUG]: done with exec\n[2013-05-21 23:51:11,242] [172.16.0.1:['nc00']] [DEBUG]: [root@172.16.0.1]# service eucalyptus-nc status\n[2013-05-21 23:51:11,359] [172.16.0.1:['nc00']] [DEBUG]: \nNC is running\n\n[2013-05-21 23:51:11,359] [172.16.0.1:['nc00']] [DEBUG]: done with exec\n[2013-05-21 23:51:11,360] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:124)Starting method: setup_ec2_connection(self, endpoint=10.104.1.150, aws_access_key_id=L13NBTS8XHTUN3T8IZ8AB, aws_secret_access_key=ChU9iVjifEAjfYTc1zpw1K2Mb4RW6prUpNkLBSrH, is_secure=False, host=None, region=None, path=/services/Eucalyptus, port=8773, APIVersion=2011-01-01, boto_debug=0)\n[2013-05-21 23:51:11,360] [EUCAOPS] [DEBUG]: Attempting to create ec2 connection to 10.104.1.1508773/services/Eucalyptus\n[2013-05-21 23:51:11,361] [EUCAOPS] [DEBUG]: Attempting to create IAM connection to 10.104.1.150:8773/services/Euare\n[2013-05-21 23:51:11,369] [EUCAOPS] [DEBUG]: Attempting to create STS connection to 10.104.1.1508773/services/Eucalyptus\n[2013-05-21 23:51:11,370] [EUCAOPS] [DEBUG]: \n--->(cwops.py:122)Starting method: setup_cw_connection(self, endpoint=10.104.1.150, aws_access_key_id=L13NBTS8XHTUN3T8IZ8AB, aws_secret_access_key=ChU9iVjifEAjfYTc1zpw1K2Mb4RW6prUpNkLBSrH, is_secure=False, host=None, region=None, path=/services/CloudWatch, port=8773, boto_debug=0)\n[2013-05-21 23:51:11,370] [EUCAOPS] [DEBUG]: Attempting to create cloud watch connection to 10.104.1.1508773/services/CloudWatch\n[2013-05-21 23:51:11,370] [EUCAOPS] [DEBUG]: Attempting to create S3 connection to 10.104.1.150:8773/services/Walrus\n[2013-05-21 23:51:11,371] [EUCAOPS] [DEBUG]: \n--->(asops.py:94)Starting method: setup_as_connection(self, endpoint=10.104.1.150, aws_access_key_id=L13NBTS8XHTUN3T8IZ8AB, aws_secret_access_key=ChU9iVjifEAjfYTc1zpw1K2Mb4RW6prUpNkLBSrH, is_secure=False, host=None, region=None, path=/services/AutoScaling, port=8773, boto_debug=0)\n[2013-05-21 23:51:11,371] [EUCAOPS] [DEBUG]: Attempting to create auto scale connection to 10.104.1.150:8773/services/AutoScaling\n[2013-05-21 23:51:11,371] [EUCAOPS] [DEBUG]: Unable to create ELB connection because of: Unable to find AWS_ELB_URL id in eucarc\n[2013-05-21 23:51:11,371] [EUCAOPS] [DEBUG]: updating property list...\n[2013-05-21 23:51:12,290] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:358)Starting method: add_group(self, group_name=group-1369205472.29, description=None, fail_if_exists=False)\n[2013-05-21 23:51:12,291] [EUCAOPS] [DEBUG]: Looking up group group-1369205472.29\n[2013-05-21 23:51:12,362] [EUCAOPS] [DEBUG]: Creating Security Group: group-1369205472.29\n[2013-05-21 23:51:12,524] [EUCAOPS] [DEBUG]: Found matching security group for name:group-1369205472.29 and id:None\n[2013-05-21 23:51:12,525] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:418)Starting method: authorize_group_by_name(self, group_name=group-1369205472.29, port=22, protocol=tcp, cidr_ip=0.0.0.0/0)\n[2013-05-21 23:51:12,525] [EUCAOPS] [DEBUG]: Attempting authorization of group-1369205472.29 on port 22 tcp\n[2013-05-21 23:51:12,609] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:418)Starting method: authorize_group_by_name(self, group_name=group-1369205472.29, port=-1, protocol=icmp, cidr_ip=0.0.0.0/0)\n[2013-05-21 23:51:12,609] [EUCAOPS] [DEBUG]: Attempting authorization of group-1369205472.29 on port -1 icmp\n[2013-05-21 23:51:12,675] [EUCAOPS] [DEBUG]: Looking up keypair keypair-1369205472.68\n[2013-05-21 23:51:12,719] [EUCAOPS] [DEBUG]: Creating keypair: keypair-1369205472.68\nCreating testunit:DNSResolveCheck, args:\n[2013-05-21 23:51:13,208] [instancetest] [DEBUG]: (populate_testunit_with_args:1317): Attempting to populate testunit:DNSResolveCheck, with testcase.args...\n[2013-05-21 23:51:13,210] [instancetest] [DEBUG]: (populate_testunit_with_args:1325): Testunit keyword args:{}\n[2013-05-21 23:51:13,213] [instancetest] [DEBUG]: (populate_testunit_with_args:1330): Got method args:('self', 'zone')\n[2013-05-21 23:51:13,216] [instancetest] [DEBUG]: (populate_testunit_with_args:1338): test unit total args:{}\n[2013-05-21 23:51:13,219] [instancetest] [DEBUG]: (populate_testunit_with_args:1344): Found matching arg for:zone\n[2013-05-21 23:51:13,222] [instancetest] [DEBUG]: (print_test_unit_startmsg:851): \n-------------------------------------------------------------------------\nSTARTING TESTUNIT: DNSResolveCheck\nMETHOD:DNSResolveCheck, TEST DESCRIPTION:\n\n        This Case Was Developed To Test Dns Resolution Information For Public/Private Dns\n        Names And Ip Addresses.  The Tested Dns Resolution Behavior Is Expected To Follow\n        Aws Ec2.  The Following Tests Are Ran Using The Associated Meta-Data Attributes:\n           - Check To See If Eucalyptus Dynamic Dns Is Configured\n           - Nslookup On Hostname; Checks To See If It Matches Local-Ipv4\n           - Nslookup On Local-Hostname; Check To See If It Matches Local-Ipv4\n           - Nslookup On Local-Ipv4; Check To See If It Matches Local-Hostname\n           - Nslookup On Public-Hostname; Check To See If It Matches Local-Ipv4\n           - Nslookup On Public-Ipv4; Check To See If It Matches Public-Host\n        If Any Of These Tests Fail, The Test Case Will Error Out; Logging The Results.\n        \nEnd on Failure:False\nPassing ARGS:\n---------------------\nzone : cloud33\n---------------------\nRunning list method: \"DNSResolveCheck(zone:cloud33)\"\n-------------------------------------------------------------------------\nKWARG:zone = cloud33\n[2013-05-21 23:51:13,222] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:2186)Starting method: run_instance(self, image=emi-01DA3BD0, keypair=keypair-1369205472.68, group=group-1369205472.29, type=None, zone=cloud33, min=1, max=1, user_data=None, private_addressing=False, username=ubuntu, password=None, is_reachable=True, monitoring_enabled=False, timeout=240)\n[2013-05-21 23:51:13,222] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:1828)Starting method: get_images(self, emi=emi-01DA3BD0, root_device_type=None, root_device_name=None, location=None, state=available, arch=None, owner_id=None, filters=None, not_location=None, max_count=1)\n[2013-05-21 23:51:13,306] [EUCAOPS] [DEBUG]: Got 3 images matching prefix: emi-01DA3BD0, now filtering...\n[2013-05-21 23:51:13,306] [EUCAOPS] [DEBUG]: Returning image:emi-01DA3BD0\n[2013-05-21 23:51:13,306] [EUCAOPS] [DEBUG]: Attempting to run instance-store image Image:emi-01DA3BD0 in group group-1369205472.29\n[2013-05-21 23:51:13,671] [EUCAOPS] [DEBUG]: Beginning poll loop for the 1 instance found in [Instance:i-06C13B21]\n[2013-05-21 23:51:13,672] [EUCAOPS] [DEBUG]: Beginning poll loop for instance Instance:i-06C13B21 to go to running\n[2013-05-21 23:51:13,789] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(pending), elapsed:0/240\n[2013-05-21 23:51:23,934] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(pending), elapsed:10/240\n[2013-05-21 23:51:34,146] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(running) time elapsed (20)\n[2013-05-21 23:51:34,146] [EUCAOPS] [DEBUG]: Instance:i-06C13B21 is now in running\n[2013-05-21 23:51:34,146] [EUCAOPS] [DEBUG]: Instance i-06C13B21 now in running state  in zone: cloud33\n[2013-05-21 23:51:34,146] [EUCAOPS] [DEBUG]: Instance:i-06C13B21 got Public IP: 10.104.3.41 Private IP: 192.168.201.220 Public DNS Name: euca-10-104-3-41.mycloud.jeevanullas.org Private DNS Name: euca-192-168-201-220.mycloud.internal\n[2013-05-21 23:51:34,147] [EUCAOPS] [DEBUG]: \n--->(ec2ops.py:2809)Starting method: wait_for_valid_ip(self, instances=Instance:i-06C13B21, private_addressing=False, poll_interval=10, timeout=60)\n[2013-05-21 23:51:34,212] [EUCAOPS] [DEBUG]: i-06C13B21: FOUND public ip. Current:euca-10-104-3-41.mycloud.jeevanullas.org, elapsed:0/60\n[2013-05-21 23:51:34,212] [EUCAOPS] [DEBUG]: Check_system_for_dup_ip starting...\n[2013-05-21 23:51:34,373] [EUCAOPS] [DEBUG]: Checking reservation: r-098545D4\n[2013-05-21 23:51:34,373] [EUCAOPS] [DEBUG]: Checking instance i-06C13B21          , state:running              pubip:euca-10-104-3-41.mycloud.jeevanullas.org privip:euca-192-168-201-220.mycloud.internal\n[2013-05-21 23:51:34,373] [EUCAOPS] [DEBUG]: Checking reservation: r-A3613E4F\n[2013-05-21 23:51:34,373] [EUCAOPS] [DEBUG]: Checking instance i-E3C14206          , state:running              pubip:euca-10-104-3-40.mycloud.jeevanullas.org privip:euca-192-168-34-140.mycloud.internal\n[2013-05-21 23:51:34,374] [EUCAOPS] [DEBUG]: Done with check_system_for_dup_ip\n[2013-05-21 23:51:34,374] [EUCAOPS] [DEBUG]: Wait_for_valid_ip done\n[2013-05-21 23:51:34,374] [EUCAOPS] [DEBUG]: Attempting to ping 10.104.3.41\n[2013-05-21 23:51:37,466] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 19 more times\n[2013-05-21 23:51:37,466] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:51:42,473] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 18 more times\n[2013-05-21 23:51:42,473] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:51:47,494] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 17 more times\n[2013-05-21 23:51:47,494] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:51:52,500] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 16 more times\n[2013-05-21 23:51:52,500] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:51:57,505] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 15 more times\n[2013-05-21 23:51:57,505] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:52:02,513] [EUCAOPS] [DEBUG]: Ping unsuccessful retrying in 2 seconds 14 more times\n[2013-05-21 23:52:02,513] [EUCAOPS] [DEBUG]: Sleeping for 2 seconds\n[2013-05-21 23:52:05,751] [EUCAOPS] [DEBUG]: Was able to ping address\n[2013-05-21 23:52:05,751] [EUCAOPS] [DEBUG]: Converting Reservation:r-098545D4 into euinstances\n[2013-05-21 23:52:06,018] [i-06C13B21] [DEBUG]: i-06C13B21: Eulogger init test message. Init complete\n[2013-05-21 23:52:06,367] [EUCAOPS] [DEBUG]: \n--->(euzone.py:70)Starting method: get_all_vm_type_info(self)\n[2013-05-21 23:52:06,398] [i-06C13B21] [DEBUG]: Attempting to reconnect_to_instance:i-06C13B21\n[2013-05-21 23:52:06,398] [i-06C13B21] [DEBUG]: reset_ssh_connection for:i-06C13B21\n[2013-05-21 23:52:06,398] [i-06C13B21] [DEBUG]: Connecting ssh i-06C13B21\n[2013-05-21 23:52:06,399] [i-06C13B21] [DEBUG]: SSH connection has hostname:10.104.3.41 user:ubuntu and keypath: /root/eutester/testcases/cloud_user/instances/keypair-1369205472.68.pem\n[2013-05-21 23:52:06,399] [i-06C13B21] [DEBUG]: Caught exception attempting to reconnect ssh:Unable to connect to 10.104.3.41: [Errno 111] Connection refused\n[2013-05-21 23:52:06,399] [i-06C13B21] [DEBUG]: connect_to_instance: Attempts:1, elapsed:0/188\n[2013-05-21 23:52:11,404] [i-06C13B21] [DEBUG]: reset_ssh_connection for:i-06C13B21\n[2013-05-21 23:52:11,404] [i-06C13B21] [DEBUG]: Connecting ssh i-06C13B21\n[2013-05-21 23:52:11,404] [i-06C13B21] [DEBUG]: SSH connection has hostname:10.104.3.41 user:ubuntu and keypath: /root/eutester/testcases/cloud_user/instances/keypair-1369205472.68.pem\n[2013-05-21 23:52:11,534] [i-06C13B21] [DEBUG]: SSH connection attempt(1 of 3), host:'ubuntu@10.104.3.41', using ipv4:10.104.3.41, thru proxy:'None'\n[2013-05-21 23:52:13,360] [i-06C13B21] [DEBUG]: SSH - Connected to 10.104.3.41\n[2013-05-21 23:52:13,360] [i-06C13B21] [DEBUG]: Try some sys...\n[2013-05-21 23:52:13,360] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# \n[2013-05-21 23:52:18,932] [i-06C13B21] [DEBUG]: \n\n[2013-05-21 23:52:18,932] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:18,932] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# dmesg | grep vda\n[2013-05-21 23:52:18,997] [i-06C13B21] [DEBUG]: \n[    0.000000] Command line: root=/dev/vda1 console=ttyS0\n[    0.000000] Kernel command line: root=/dev/vda1 console=ttyS0\n[    0.284797]  vda: vda1 vda2 vda3\n[    0.744225] EXT4-fs (vda1): mounted filesystem with ordered data mode. Opts: (null)\n[    1.135418] EXT4-fs (vda1): re-mounted. Opts: (null)\n[   42.618669] Adding 524284k swap on /dev/vda3.  Priority:-1 extents:1 across:524284k \n[   42.652380] EXT3-fs (vda2): using internal journal\n[   42.652385] EXT3-fs (vda2): mounted filesystem with ordered data mode\n\n[2013-05-21 23:52:18,997] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:18,997] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-10-104-3-41.mycloud.jeevanullas.org\n[2013-05-21 23:52:19,172] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nNon-authoritative answer:\nName:\teuca-10-104-3-41.mycloud.jeevanullas.org\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,172] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,173] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-10-104-3-41.mycloud.jeevanullas.org\n[2013-05-21 23:52:19,243] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nNon-authoritative answer:\nName:\teuca-10-104-3-41.mycloud.jeevanullas.org\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,243] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,243] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-192-168-201-220.mycloud.internal\n[2013-05-21 23:52:19,351] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nName:\teuca-192-168-201-220.mycloud.internal\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,351] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,351] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-192-168-201-220.mycloud.internal\n[2013-05-21 23:52:19,473] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nName:\teuca-192-168-201-220.mycloud.internal\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,473] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,473] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup 192.168.201.220\n[2013-05-21 23:52:19,688] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\n220.201.168.192.in-addr.arpa\tname = euca-192-168-201-220.mycloud.internal.\n\n\n[2013-05-21 23:52:19,688] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,688] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup 192.168.201.220\n[2013-05-21 23:52:19,794] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\n220.201.168.192.in-addr.arpa\tname = euca-192-168-201-220.mycloud.internal.\n\n\n[2013-05-21 23:52:19,795] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,795] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-10-104-3-41.mycloud.jeevanullas.org\n[2013-05-21 23:52:19,872] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nNon-authoritative answer:\nName:\teuca-10-104-3-41.mycloud.jeevanullas.org\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,873] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,873] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-10-104-3-41.mycloud.jeevanullas.org\n[2013-05-21 23:52:19,952] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nNon-authoritative answer:\nName:\teuca-10-104-3-41.mycloud.jeevanullas.org\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:19,952] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:19,952] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup euca-10-104-3-41.mycloud.jeevanullas.org\n[2013-05-21 23:52:20,027] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\nNon-authoritative answer:\nName:\teuca-10-104-3-41.mycloud.jeevanullas.org\nAddress: 192.168.201.220\n\n\n[2013-05-21 23:52:20,028] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:20,028] [i-06C13B21] [DEBUG]: [ubuntu@10.104.3.41]# nslookup 10.104.3.41\n[2013-05-21 23:52:20,141] [i-06C13B21] [DEBUG]: \nServer:\t\t10.104.1.150\nAddress:\t10.104.1.150#53\n\n41.3.104.10.in-addr.arpa\tname = euca-10-104-3-41.mycloud.jeevanullas.org.\n\n\n[2013-05-21 23:52:20,142] [i-06C13B21] [DEBUG]: done with exec\n[2013-05-21 23:52:20,147] [instancetest] [DEBUG]: (endsuccess:691): \n-------------------------------------------------------------------------\n- UNIT ENDED - DNSResolveCheck\n-------------------------------------------------------------------------\n\n[2013-05-21 23:52:20,151] [instancetest] [DEBUG]: (run_test_case_list:795): RESULTS SUMMARY FOR 'instancetest':\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): \n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): ------------------------------------------------------\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): | TOTAL   | FAILED  | PASSED  | NOT_RUN | TIME_ELAPSED\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): ------------------------------------------------------\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): | 1       | 0       | 1       | 0       | 66\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): ------------------------------------------------------\n[2013-05-21 23:52:20,152] [instancetest] [DEBUG]: (run_test_case_list:795): \n[2013-05-21 23:52:20,155] [instancetest] [DEBUG]: (run_test_case_list:804): Printing pre-cleanup results:\n[2013-05-21 23:52:20,158] [instancetest] [DEBUG]: (<lambda>:947): Test list results for testcase:instancetest\n[2013-05-21 23:52:20,161] [instancetest] [DEBUG]: (run_test_case_list:806): \n-------------------------------------------------------------------------\nRUN TEST CASE LIST DONE:\nRan 1/1 tests in 66 seconds\n\nTESTUNIT LIST SUMMARY FOR instancetest\n\n--------------------------------------------------------------------------------\n                    | RESULT: passed    \n                    | TEST NAME: DNSResolveCheck\n                    | TIME : 66\n                    | ARGS: DNSResolveCheck(zone:cloud33)\n--------------------------------------------------------------------------------\nRESULTS SUMMARY FOR 'instancetest':\n\n------------------------------------------------------\n| TOTAL   | FAILED  | PASSED  | NOT_RUN | TIME_ELAPSED\n------------------------------------------------------\n| 1       | 0       | 1       | 0       | 66      \n------------------------------------------------------\n\n\n-------------------------------------------------------------------------\nCreating testunit:clean_method, args:\n[2013-05-21 23:52:20,164] [instancetest] [DEBUG]: (populate_testunit_with_args:1317): Attempting to populate testunit:clean_method, with testcase.args...\n[2013-05-21 23:52:20,167] [instancetest] [DEBUG]: (populate_testunit_with_args:1325): Testunit keyword args:{}\n[2013-05-21 23:52:20,170] [instancetest] [DEBUG]: (populate_testunit_with_args:1330): Got method args:('self',)\n[2013-05-21 23:52:20,173] [instancetest] [DEBUG]: (populate_testunit_with_args:1338): test unit total args:{}\n[2013-05-21 23:52:20,176] [instancetest] [DEBUG]: (print_test_unit_startmsg:851): \n-------------------------------------------------------------------------\nSTARTING TESTUNIT: clean_method\nMETHOD:clean_method, TEST DESCRIPTION:\n\nEnd on Failure:False\nPassing ARGS:\"\"\nRunning list method: \"clean_method()\"\n-------------------------------------------------------------------------\n[2013-05-21 23:52:20,176] [EUCAOPS] [DEBUG]: Starting cleanup of artifacts\n[2013-05-21 23:52:20,176] [EUCAOPS] [DEBUG]: Sending terminate for Instance:i-06C13B21\n[2013-05-21 23:52:20,354] [EUCAOPS] [DEBUG]: Beginning poll loop for the 1 instance found in [Instance:i-06C13B21]\n[2013-05-21 23:52:20,355] [EUCAOPS] [DEBUG]: Beginning poll loop for instance Instance:i-06C13B21 to go to terminated\n[2013-05-21 23:52:20,517] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(shutting-down), elapsed:0/480\n[2013-05-21 23:52:30,651] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(shutting-down), elapsed:10/480\n[2013-05-21 23:52:40,722] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(terminated) time elapsed (20)\n[2013-05-21 23:52:40,722] [EUCAOPS] [DEBUG]: Instance:i-06C13B21 is now in terminated\n[2013-05-21 23:52:40,722] [EUCAOPS] [DEBUG]: clean_up_test_volumes starting, volumes:test_resources['volumes']\n[2013-05-21 23:52:40,722] [EUCAOPS] [DEBUG]: Deleting SecurityGroup:group-1369205472.29\n[2013-05-21 23:52:40,810] [EUCAOPS] [DEBUG]: Deleting Reservation:r-098545D4\n[2013-05-21 23:52:40,810] [EUCAOPS] [DEBUG]: Sending terminate for Instance:i-06C13B21\n[2013-05-21 23:52:40,847] [EUCAOPS] [DEBUG]: Beginning poll loop for the 1 instance found in [Instance:i-06C13B21]\n[2013-05-21 23:52:40,848] [EUCAOPS] [DEBUG]: Beginning poll loop for instance Instance:i-06C13B21 to go to terminated\n[2013-05-21 23:52:40,937] [EUCAOPS] [DEBUG]: Instance(i-06C13B21) State(terminated) time elapsed (0)\n[2013-05-21 23:52:40,937] [EUCAOPS] [DEBUG]: Instance:i-06C13B21 is now in terminated\n[2013-05-21 23:52:40,937] [EUCAOPS] [DEBUG]: Deleting KeyPair:keypair-1369205472.68\n[2013-05-21 23:52:41,005] [instancetest] [DEBUG]: (<lambda>:947): Test list results for testcase:instancetest\n[2013-05-21 23:52:41,010] [instancetest] [DEBUG]: (run_test_case_list:822): \n-------------------------------------------------------------------------\n\nTESTUNIT LIST SUMMARY FOR instancetest\n\n--------------------------------------------------------------------------------\n                    | RESULT: passed    \n                    | TEST NAME: DNSResolveCheck\n                    | TIME : 66\n                    | ARGS: DNSResolveCheck(zone:cloud33)\n--------------------------------------------------------------------------------\n                    | RESULT: passed    \n                    | TEST NAME: clean_method\n                    | TIME : 20\n                    | ARGS: clean_method()\n--------------------------------------------------------------------------------\nRESULTS SUMMARY FOR 'instancetest':\n\n------------------------------------------------------\n| TOTAL   | FAILED  | PASSED  | NOT_RUN | TIME_ELAPSED\n------------------------------------------------------\n| 2       | 0       | 2       | 0       | 86      \n------------------------------------------------------\n\n\n-------------------------------------------------------------------------\npassed:2 out of total:2\n[2013-05-21 23:52:41,013] [instancetest] [DEBUG]: (run_test_case_list:833): </pre>\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-05-22T01:53:37.855-0500","updated":"2013-05-22T01:53:37.855-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46265","id":"46265","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified by [~dshekhawat] and myself. Opening new bugs for issues noted here.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-22T02:06:29.299-0500","updated":"2013-05-22T02:06:29.299-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46949","id":"46949","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey [~viglesias],\n\nI changed my configuration to match what you guys mentioned above, but what is the configuration when you are running an HA setup?   My configuration is below:\n\n{code}\n# euca-describe-properties | grep dns\nPROPERTY\tbootstrap.webservices.use_dns_delegation\ttrue\nPROPERTY\tbootstrap.webservices.use_instance_dns\ttrue\nPROPERTY\texperimental.dns.enabled\ttrue\nPROPERTY\texperimental.dns.recursive.enabled\ttrue\nPROPERTY\texperimental.dns.services.enabled\tfalse\nPROPERTY\texperimental.dns.split_horizon.enabled\ttrue\nPROPERTY\tloadbalancing.loadbalancer_dns_subdomain\tlb\nPROPERTY\tsystem.dns.dnsdomain\teuca-hasp.eucalyptus-systems.com\nPROPERTY\tsystem.dns.nameserver\t192.168.39.102\nPROPERTY\tsystem.dns.nameserveraddress\t10.1.1.254\nPROPERTY\tsystem.dns.registrationid\td7c48962-4904-43ec-b4b7-3e2bcc75d0e6\n\n### on my CLCs ###\n# grep DNS /etc/eucalyptus/eucalyptus.conf\n# The address of the DNS server to supply to instances in DHCP responses.\nVNET_DNS=\"192.168.7.1\"\n\n### on my CCs ###\n# ssh root@192.168.39.103 \"grep DNS /etc/eucalyptus/eucalyptus.conf\"\n# The address of the DNS server to supply to instances in DHCP responses.\nVNET_DNS=\"192.168.39.101\"\n{code}\n\nThis is what I see from within the instance:\n\n{code}\n[root@euca-10-106-9-42 ~]# cat /etc/resolv.conf\n; generated by /sbin/dhclient-script\nsearch eucalyptus.internal\nnameserver 10.1.1.254\nnameserver 192.168.39.101\n{code}\n\nThe above /etc/resolv.conf generated in the instance will break the AWS behavior for instance.  I understand that I needed to change system.dns.nameserveraddress to the IP address of my CLC (192.168.39.102).  My question here - is the the proper way to configure Eucalyptus DNS in HA the following:\n\n* euca-modify-property -p system.dns.nameserveraddress=192.168.39.102\n\n* euca-modify-property -p system.dns.nameserver=192.168.39.102 (?)\n\n* euca-modify-property -p system.dns.dnsdomain=euca-hasp.eucalyptus-systems.com\n\n* euca-modify-property -p bootstrap.webservices.use_instance_dns=true\n\n* euca-modify-property -p cloud.vmstate.instance_subdomain=.wu-tang\n\n* euca-modify-property -p bootstrap.webservices.use_dns_delegation=true\n\n* on my CCs, make sure VNET_DNS is set to the other CLC (i.e. 192.168.39.101)\n\nI just want to confirm so we can make sure and put in a DOC ticket to update accordingly.  Thanks.\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-30T09:24:30.910-0500","updated":"2013-05-30T09:24:30.910-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46952","id":"46952","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hspencer], glad to see we're on the same page.  After all the DNS changes I filed this doc ticket yesterday to capture what we actually did and now to enable some of the more experimental DNS services.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-30T10:59:42.177-0500","updated":"2013-05-30T10:59:42.177-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/46953","id":"46953","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~tjcramer].  Yea, this is important.  Thanks for creating the ticket.  I did some further testing in my HA setup, and its working how its suppose to.  The behavior is exactly like you see in AWS regarding private/public DNS resolution.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-30T11:30:32.981-0500","updated":"2013-05-30T11:30:32.981-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14955/comment/48318","id":"48318","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved in the 3.3.0 release","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-26T21:43:50.063-0500","updated":"2013-06-26T21:43:50.063-0500"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-3116/votes","votes":3,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}