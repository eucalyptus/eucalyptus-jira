{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"37800","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800","key":"EUCA-11275","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":600,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11001":null,"aggregatetimespent":600,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@4e3f82cd[id=127,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 9,goal=<null>,startDate=2015-08-18T21:33:50.479Z,endDate=2015-09-08T21:33:00.000Z,completeDate=2015-09-11T20:28:07.867Z,sequence=127]"],"customfield_10302":null,"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2015-10-26T16:00:50.806-0500","customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11275/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2015-08-17T12:51:41.601-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12201":null,"customfield_12600":"{repository={count=4, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":4,\"lastUpdated\":\"2015-09-03T00:16:17.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":4,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":0,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"issuelinks":[{"id":"32028","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32028","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"37133","key":"EUCA-11087","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37133","fields":{"summary":"ILL: Evaluate IAM limits on Users","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}},{"id":"32222","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32222","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"37136","key":"EUCA-11090","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37136","fields":{"summary":"ILL: Evaluate IAM limits on Groups/User","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"updated":"2016-06-06T16:25:44.603-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11503","id":"11503","name":"IAM"}],"timeoriginalestimate":null,"description":"When there are many users authorization is slower than expected.\r\n\r\nWe should ensure that appropriate indexes are in place so that postgres does not have to perform too much work.\r\n\r\nThe following indexes are examples of what would be necessary:\r\n\r\n{code}\r\ncreate index auth_owning_account_fkey on auth_group ( auth_group_owning_account );\r\ncreate index auth_group_users_uidfk on auth_group_has_users ( auth_user_id );\r\ncreate index auth_group_users_gidfk on auth_group_has_users ( auth_group_id );\r\ncreate index auth_user_name_idx on auth_user ( auth_user_name );\r\n{code}\r\n\r\nPostgres does not automatically create indexes on foreign keys and we should also check which resources need indexes on the name (example for auth_user above)\r\n\r\nInitial investigation suggests Hibernate does not support creation of foreign key indexes on join tables (i.e. auth_group_has_users) in 4.2. Though this appears to be supported as part of JPA 2.1 in Hibernate 4.3 (indexes):\r\n\r\nhttp://docs.oracle.com/javaee/7/api/javax/persistence/JoinTable.html\r\n\r\nSome development would be required if we were to move to Hibernate 4.3 as deprecated Hibernate functionality that we use has been removed. If not moving to Hibernate 4.3 we would need to add some mechanism for schema creation beyond that supported by Hibernate.","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{"remainingEstimate":"0m","timeSpent":"10m","remainingEstimateSeconds":0,"timeSpentSeconds":600},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":0,"attachment":[],"summary":"Authorization slow with many users","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":600,"total":600,"percent":100},"customfield_10000":"3_*:*_2_*:*_70806035_*|*_10000_*:*_1_*:*_272712011_*|*_10002_*:*_1_*:*_11352166_*|*_10001_*:*_2_*:*_33563031_*|*_10003_*:*_2_*:*_4115387906_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03cnj:","customfield_10001":"2015-10-08T15:55:22.298-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["mbacchi(mbacchi)","sjones(sjones)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":600,"total":600,"percent":100},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11275/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800/comment/90729","id":"90729","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed by adding indexes.\r\n\r\nWe should verify that upgraded systems have the expected indexes on user to group mappings:\r\n\r\n{code}\r\neucalyptus_shared=# \\d auth_group_has_users\r\n    Table \"eucalyptus_auth.auth_group_has_users\"\r\n    Column     |          Type          | Modifiers \r\n---------------+------------------------+-----------\r\n auth_group_id | character varying(255) | not null\r\n auth_user_id  | character varying(255) | not null\r\nIndexes:\r\n    \"auth_group_users_group_idx\" btree (auth_group_id)\r\n    \"auth_group_users_user_idx\" btree (auth_user_id)\r\nForeign-key constraints:\r\n    \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES auth_user(id)\r\n    \"fk_53rud24mohg77cxs8isnb34pm\" FOREIGN KEY (auth_group_id) REFERENCES auth_group(id)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-21T02:14:55.259-0500","updated":"2015-08-21T02:14:55.259-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800/comment/90894","id":"90894","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Reopening to add indexes on external identifiers, e.g.:\r\n\r\n{code}\r\ncreate index auth_user_id_external_idx on auth_user ( auth_user_id_external );\r\n{code}\r\n\r\nthis is important for at least users and roles.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-26T20:25:10.525-0500","updated":"2015-08-26T20:25:10.525-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800/comment/90905","id":"90905","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"We should verify that upgrade also have the expected new index on auth_access_key.auth_access_key_query_id:\r\n\r\n{code}\r\neucalyptus_shared=# \\d auth_access_key\r\n                Table \"eucalyptus_auth.auth_access_key\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_access_key_query_id    | character varying(255)      | \r\n auth_access_key_active      | boolean                     | \r\n auth_access_key_create_date | timestamp without time zone | \r\n auth_access_key_key         | character varying(255)      | \r\n auth_access_key_owning_user | character varying(255)      | \r\nIndexes:\r\n    \"auth_access_key_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_60kp5wg22lokv6qs5uylr3nnk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_84ik29xpcfcchoixdlu54wobk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_8n6ryppss5fpcb09w867acb1w\" UNIQUE CONSTRAINT, btree (auth_access_key_query_id)\r\n    \"auth_access_key_owning_user_idx\" btree (auth_access_key_owning_user)\r\nForeign-key constraints:\r\n    \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES auth_user(id)\r\n{code}\r\n\r\non auth_role.auth_role_id_external:\r\n\r\n{code}\r\neucalyptus_shared=# \\d auth_role\r\n                     Table \"eucalyptus_auth.auth_role\"\r\n             Column              |            Type             | Modifiers \r\n---------------------------------+-----------------------------+-----------\r\n id                              | character varying(255)      | not null\r\n creation_timestamp              | timestamp without time zone | \r\n last_update_timestamp           | timestamp without time zone | \r\n metadata_perm_uuid              | character varying(255)      | not null\r\n version                         | integer                     | \r\n auth_role_name                  | character varying(255)      | not null\r\n auth_role_path                  | character varying(255)      | not null\r\n auth_role_id_external           | character varying(255)      | not null\r\n auth_role_secret                | character varying(255)      | not null\r\n auth_role_unique_name           | character varying(255)      | not null\r\n auth_role_owning_account        | character varying(255)      | not null\r\n auth_role_assume_role_policy_id | character varying(255)      | not null\r\nIndexes:\r\n    \"auth_role_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2mie214mc5n32svyy9due8sp5\" UNIQUE CONSTRAINT, btree (auth_role_assume_role_policy_id)\r\n    \"uk_66s6p906swdv060uigu8pubhq\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_dlware76c4mfi85h2kygug9mu\" UNIQUE CONSTRAINT, btree (auth_role_unique_name)\r\n    \"uk_en00jos6jjrjjxooo3mlhg3sn\" UNIQUE CONSTRAINT, btree (auth_role_id_external)\r\n    \"uk_p4i4obcahxysexu2l9iqyn9yw\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"auth_role_name_idx\" btree (auth_role_name)\r\n    \"auth_role_owning_account_idx\" btree (auth_role_owning_account)\r\nForeign-key constraints:\r\n    \"fk_2mie214mc5n32svyy9due8sp5\" FOREIGN KEY (auth_role_assume_role_policy_id) REFERENCES auth_policy(id)\r\n    \"fk_f9e0hwsr1orywcjrjaj3scwx\" FOREIGN KEY (auth_role_owning_account) REFERENCES auth_account(id)\r\nReferenced by:\r\n    TABLE \"auth_instance_profile\" CONSTRAINT \"fk_8qeylwuseogt4mfvlq721naii\" FOREIGN KEY (auth_instance_profile_role) REFERENCES auth_role(id)\r\n    TABLE \"auth_policy\" CONSTRAINT \"fk_e5lld6o0uv580tui9239yjq0a\" FOREIGN KEY (auth_policy_owning_role) REFERENCES auth_role(id)\r\n{code}\r\n\r\nand on auth_user.auth_user_id_external:\r\n\r\n{code}\r\neucalyptus_shared=# \\d auth_user\r\n                   Table \"eucalyptus_auth.auth_user\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_user_confirmation_code | character varying(255)      | \r\n auth_user_is_enabled        | boolean                     | \r\n auth_user_name              | character varying(255)      | \r\n auth_user_password          | character varying(255)      | \r\n auth_user_password_expires  | bigint                      | \r\n auth_user_path              | character varying(255)      | \r\n auth_user_token             | character varying(255)      | \r\n auth_user_unique_name       | character varying(255)      | \r\n auth_user_id_external       | character varying(255)      | \r\nIndexes:\r\n    \"auth_user_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2jsbtbj4y9jjyxsu9jydijltg\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_k6jdkfa3tbxbv73bbjjf2g843\" UNIQUE CONSTRAINT, btree (auth_user_id_external)\r\n    \"uk_lc5utp7csmguom9frpmfvog68\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_t94tv7xf6hp9u4rhaoajabgms\" UNIQUE CONSTRAINT, btree (auth_user_unique_name)\r\n    \"auth_user_name_idx\" btree (auth_user_name)\r\nReferenced by:\r\n    TABLE \"auth_group_has_users\" CONSTRAINT \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES auth_user(id)\r\n    TABLE \"auth_cert\" CONSTRAINT \"fk_dmdepvo6xc7liv70vbjnxxyr1\" FOREIGN KEY (auth_certificate_owning_user) REFERENCES auth_user(id)\r\n    TABLE \"auth_user_info_map\" CONSTRAINT \"fk_f6gysevj4ayiph1fpukq9hbqv\" FOREIGN KEY (userentity_id) REFERENCES auth_user(id)\r\n    TABLE \"auth_access_key\" CONSTRAINT \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES auth_user(id)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-08-27T15:49:36.083-0500","updated":"2015-08-27T15:49:36.083-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800/comment/93245","id":"93245","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"body":"Fix verified.\r\n\r\nNote: I did not query this prior to upgrade but this is the information after upgrade to 4.2.0\r\n\r\n{code:java}\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_group_has_users\r\n    Table \"eucalyptus_auth.auth_group_has_users\"\r\n    Column     |          Type          | Modifiers \r\n---------------+------------------------+-----------\r\n auth_group_id | character varying(255) | not null\r\n auth_user_id  | character varying(255) | not null\r\nIndexes:\r\n    \"auth_group_users_group_idx\" btree (auth_group_id)\r\n    \"auth_group_users_user_idx\" btree (auth_user_id)\r\nForeign-key constraints:\r\n    \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    \"fk_53rud24mohg77cxs8isnb34pm\" FOREIGN KEY (auth_group_id) REFERENCES eucalyptus_auth.auth_group(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_access_key\r\n                Table \"eucalyptus_auth.auth_access_key\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_access_key_query_id    | character varying(255)      | \r\n auth_access_key_active      | boolean                     | \r\n auth_access_key_create_date | timestamp without time zone | \r\n auth_access_key_key         | character varying(255)      | \r\n auth_access_key_owning_user | character varying(255)      | \r\nIndexes:\r\n    \"auth_access_key_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_60kp5wg22lokv6qs5uylr3nnk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_84ik29xpcfcchoixdlu54wobk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_8n6ryppss5fpcb09w867acb1w\" UNIQUE CONSTRAINT, btree (auth_access_key_query_id)\r\n    \"auth_access_key_owning_user_idx\" btree (auth_access_key_owning_user)\r\nForeign-key constraints:\r\n    \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_role\r\n                     Table \"eucalyptus_auth.auth_role\"\r\n             Column              |            Type             | Modifiers \r\n---------------------------------+-----------------------------+-----------\r\n id                              | character varying(255)      | not null\r\n creation_timestamp              | timestamp without time zone | \r\n last_update_timestamp           | timestamp without time zone | \r\n metadata_perm_uuid              | character varying(255)      | not null\r\n version                         | integer                     | \r\n auth_role_name                  | character varying(255)      | not null\r\n auth_role_path                  | character varying(255)      | not null\r\n auth_role_id_external           | character varying(255)      | not null\r\n auth_role_secret                | character varying(255)      | not null\r\n auth_role_unique_name           | character varying(255)      | not null\r\n auth_role_owning_account        | character varying(255)      | not null\r\n auth_role_assume_role_policy_id | character varying(255)      | not null\r\nIndexes:\r\n    \"auth_role_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2mie214mc5n32svyy9due8sp5\" UNIQUE CONSTRAINT, btree (auth_role_assume_role_policy_id)\r\n    \"uk_66s6p906swdv060uigu8pubhq\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_dlware76c4mfi85h2kygug9mu\" UNIQUE CONSTRAINT, btree (auth_role_unique_name)\r\n    \"uk_en00jos6jjrjjxooo3mlhg3sn\" UNIQUE CONSTRAINT, btree (auth_role_id_external)\r\n    \"uk_p4i4obcahxysexu2l9iqyn9yw\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"auth_role_name_idx\" btree (auth_role_name)\r\n    \"auth_role_owning_account_idx\" btree (auth_role_owning_account)\r\nForeign-key constraints:\r\n    \"fk_2mie214mc5n32svyy9due8sp5\" FOREIGN KEY (auth_role_assume_role_policy_id) REFERENCES eucalyptus_auth.auth_policy(id)\r\n    \"fk_f9e0hwsr1orywcjrjaj3scwx\" FOREIGN KEY (auth_role_owning_account) REFERENCES eucalyptus_auth.auth_account(id)\r\nReferenced by:\r\n    TABLE \"eucalyptus_auth.auth_instance_profile\" CONSTRAINT \"fk_8qeylwuseogt4mfvlq721naii\" FOREIGN KEY (auth_instance_profile_role) REFERENCES eucalyptus_auth.auth_role(id)\r\n    TABLE \"eucalyptus_auth.auth_policy\" CONSTRAINT \"fk_e5lld6o0uv580tui9239yjq0a\" FOREIGN KEY (auth_policy_owning_role) REFERENCES eucalyptus_auth.auth_role(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_user\r\n                   Table \"eucalyptus_auth.auth_user\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_user_confirmation_code | character varying(255)      | \r\n auth_user_is_enabled        | boolean                     | \r\n auth_user_name              | character varying(255)      | \r\n auth_user_password          | character varying(255)      | \r\n auth_user_password_expires  | bigint                      | \r\n auth_user_path              | character varying(255)      | \r\n auth_user_token             | character varying(255)      | \r\n auth_user_id_external       | character varying(255)      | \r\n auth_user_unique_name       | character varying(255)      | \r\nIndexes:\r\n    \"auth_user_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2jsbtbj4y9jjyxsu9jydijltg\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_k6jdkfa3tbxbv73bbjjf2g843\" UNIQUE CONSTRAINT, btree (auth_user_id_external)\r\n    \"uk_lc5utp7csmguom9frpmfvog68\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_t94tv7xf6hp9u4rhaoajabgms\" UNIQUE CONSTRAINT, btree (auth_user_unique_name)\r\n    \"auth_user_name_idx\" btree (auth_user_name)\r\nReferenced by:\r\n    TABLE \"eucalyptus_auth.auth_group_has_users\" CONSTRAINT \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_cert\" CONSTRAINT \"fk_dmdepvo6xc7liv70vbjnxxyr1\" FOREIGN KEY (auth_certificate_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_user_info_map\" CONSTRAINT \"fk_f6gysevj4ayiph1fpukq9hbqv\" FOREIGN KEY (userentity_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_access_key\" CONSTRAINT \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n{code}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"created":"2015-10-08T15:55:22.298-0500","updated":"2015-10-08T15:55:22.298-0500"}],"maxResults":4,"total":4,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":1,"worklogs":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37800/worklog/15313","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"comment":"Fix verified.\r\n\r\nNote: I did not query this prior to upgrade but this is the information after upgrade to 4.2.0\r\n\r\n{code:java}\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_group_has_users\r\n    Table \"eucalyptus_auth.auth_group_has_users\"\r\n    Column     |          Type          | Modifiers \r\n---------------+------------------------+-----------\r\n auth_group_id | character varying(255) | not null\r\n auth_user_id  | character varying(255) | not null\r\nIndexes:\r\n    \"auth_group_users_group_idx\" btree (auth_group_id)\r\n    \"auth_group_users_user_idx\" btree (auth_user_id)\r\nForeign-key constraints:\r\n    \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    \"fk_53rud24mohg77cxs8isnb34pm\" FOREIGN KEY (auth_group_id) REFERENCES eucalyptus_auth.auth_group(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_access_key\r\n                Table \"eucalyptus_auth.auth_access_key\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_access_key_query_id    | character varying(255)      | \r\n auth_access_key_active      | boolean                     | \r\n auth_access_key_create_date | timestamp without time zone | \r\n auth_access_key_key         | character varying(255)      | \r\n auth_access_key_owning_user | character varying(255)      | \r\nIndexes:\r\n    \"auth_access_key_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_60kp5wg22lokv6qs5uylr3nnk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_84ik29xpcfcchoixdlu54wobk\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_8n6ryppss5fpcb09w867acb1w\" UNIQUE CONSTRAINT, btree (auth_access_key_query_id)\r\n    \"auth_access_key_owning_user_idx\" btree (auth_access_key_owning_user)\r\nForeign-key constraints:\r\n    \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_role\r\n                     Table \"eucalyptus_auth.auth_role\"\r\n             Column              |            Type             | Modifiers \r\n---------------------------------+-----------------------------+-----------\r\n id                              | character varying(255)      | not null\r\n creation_timestamp              | timestamp without time zone | \r\n last_update_timestamp           | timestamp without time zone | \r\n metadata_perm_uuid              | character varying(255)      | not null\r\n version                         | integer                     | \r\n auth_role_name                  | character varying(255)      | not null\r\n auth_role_path                  | character varying(255)      | not null\r\n auth_role_id_external           | character varying(255)      | not null\r\n auth_role_secret                | character varying(255)      | not null\r\n auth_role_unique_name           | character varying(255)      | not null\r\n auth_role_owning_account        | character varying(255)      | not null\r\n auth_role_assume_role_policy_id | character varying(255)      | not null\r\nIndexes:\r\n    \"auth_role_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2mie214mc5n32svyy9due8sp5\" UNIQUE CONSTRAINT, btree (auth_role_assume_role_policy_id)\r\n    \"uk_66s6p906swdv060uigu8pubhq\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_dlware76c4mfi85h2kygug9mu\" UNIQUE CONSTRAINT, btree (auth_role_unique_name)\r\n    \"uk_en00jos6jjrjjxooo3mlhg3sn\" UNIQUE CONSTRAINT, btree (auth_role_id_external)\r\n    \"uk_p4i4obcahxysexu2l9iqyn9yw\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"auth_role_name_idx\" btree (auth_role_name)\r\n    \"auth_role_owning_account_idx\" btree (auth_role_owning_account)\r\nForeign-key constraints:\r\n    \"fk_2mie214mc5n32svyy9due8sp5\" FOREIGN KEY (auth_role_assume_role_policy_id) REFERENCES eucalyptus_auth.auth_policy(id)\r\n    \"fk_f9e0hwsr1orywcjrjaj3scwx\" FOREIGN KEY (auth_role_owning_account) REFERENCES eucalyptus_auth.auth_account(id)\r\nReferenced by:\r\n    TABLE \"eucalyptus_auth.auth_instance_profile\" CONSTRAINT \"fk_8qeylwuseogt4mfvlq721naii\" FOREIGN KEY (auth_instance_profile_role) REFERENCES eucalyptus_auth.auth_role(id)\r\n    TABLE \"eucalyptus_auth.auth_policy\" CONSTRAINT \"fk_e5lld6o0uv580tui9239yjq0a\" FOREIGN KEY (auth_policy_owning_role) REFERENCES eucalyptus_auth.auth_role(id)\r\n\r\neucalyptus_shared=# \\d eucalyptus_auth.auth_user\r\n                   Table \"eucalyptus_auth.auth_user\"\r\n           Column            |            Type             | Modifiers \r\n-----------------------------+-----------------------------+-----------\r\n id                          | character varying(255)      | not null\r\n creation_timestamp          | timestamp without time zone | \r\n last_update_timestamp       | timestamp without time zone | \r\n metadata_perm_uuid          | character varying(255)      | not null\r\n version                     | integer                     | \r\n auth_user_confirmation_code | character varying(255)      | \r\n auth_user_is_enabled        | boolean                     | \r\n auth_user_name              | character varying(255)      | \r\n auth_user_password          | character varying(255)      | \r\n auth_user_password_expires  | bigint                      | \r\n auth_user_path              | character varying(255)      | \r\n auth_user_token             | character varying(255)      | \r\n auth_user_id_external       | character varying(255)      | \r\n auth_user_unique_name       | character varying(255)      | \r\nIndexes:\r\n    \"auth_user_pkey\" PRIMARY KEY, btree (id)\r\n    \"uk_2jsbtbj4y9jjyxsu9jydijltg\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_k6jdkfa3tbxbv73bbjjf2g843\" UNIQUE CONSTRAINT, btree (auth_user_id_external)\r\n    \"uk_lc5utp7csmguom9frpmfvog68\" UNIQUE CONSTRAINT, btree (metadata_perm_uuid)\r\n    \"uk_t94tv7xf6hp9u4rhaoajabgms\" UNIQUE CONSTRAINT, btree (auth_user_unique_name)\r\n    \"auth_user_name_idx\" btree (auth_user_name)\r\nReferenced by:\r\n    TABLE \"eucalyptus_auth.auth_group_has_users\" CONSTRAINT \"fk_3o6o4j3qdwajckjvac62hc263\" FOREIGN KEY (auth_user_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_cert\" CONSTRAINT \"fk_dmdepvo6xc7liv70vbjnxxyr1\" FOREIGN KEY (auth_certificate_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_user_info_map\" CONSTRAINT \"fk_f6gysevj4ayiph1fpukq9hbqv\" FOREIGN KEY (userentity_id) REFERENCES eucalyptus_auth.auth_user(id)\r\n    TABLE \"eucalyptus_auth.auth_access_key\" CONSTRAINT \"fk_kxpbos7qj3j6dwbmo77a6phit\" FOREIGN KEY (auth_access_key_owning_user) REFERENCES eucalyptus_auth.auth_user(id)\r\n{code}\r\n","created":"2015-10-08T15:55:22.286-0500","updated":"2015-10-08T15:55:22.286-0500","started":"2015-10-08T15:54:00.000-0500","timeSpent":"10m","timeSpentSeconds":600,"id":"15313","issueId":"37800"}]}}}