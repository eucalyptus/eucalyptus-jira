{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"28525","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28525","key":"EUCA-9007","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@758878f6[id=54,rapidViewId=75,state=CLOSED,name=4.0 Sprint 7,goal=<null>,startDate=2014-04-05T00:26:27.500Z,endDate=2014-04-26T00:26:00.000Z,completeDate=2014-04-29T13:33:10.513Z,sequence=54]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10402","value":"Internal","id":"10402"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10703":null,"resolutiondate":"2014-04-07T15:49:10.412-0500","customfield_10704":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9007/watchers","watchCount":3,"isWatching":false},"lastViewed":null,"created":"2014-03-29T17:09:02.918-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{}","labels":["AWSCompat-PM","ImageManagement"],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11901":null,"issuelinks":[{"id":"23918","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/23918","type":{"id":"10102","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10102"},"outwardIssue":{"id":"27716","key":"EUCA-8812","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27716","fields":{"summary":"images bundled without kernel and ramdisk fails","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"updated":"2014-07-03T09:06:22.941-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10900","id":"10900","name":"UX"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\nWhen launching an EMI that hasn't been bundled or launched with a kernel (EKI), the following error is returned:\r\n{code}\r\n# euca-run-instances -k euca-admin -t m1.xlarge emi-9aa8cac1 --region admin@\r\neuca-run-instances: error (InternalFailure): Failed to send message RunInstancesType to service EucalyptusRequestQueueSync because: Attempt to resolve a kerneId for BootableSet:machine=arn:aws:euca:eucalyptus:463656813077:image/emi-9aa8cac1/:ramdisk=false:kernel=false:isLinux=true during request RunInstancesType:f580b816-eb22-48b0-a306-f5938b4ea870:return=true:epoch=null:status=null\r\n{code}\r\n\r\nThis behavior is different than AWS.  On AWS, the following occurs:\r\n* instance is launched successfully\r\n* instance reaches 'running' state\r\n* instance does not boot successfully, and user has to use GetConsoleOutput in order to see why the instance did not boot successfully\r\n\r\nNot sure if we want to follow AWS with this behavior, and use it as a opportunity to educate users on how to troubleshoot EMIs that do not boot correctly, or provide a Eucalyptus specific error response that is a bit more understandable.\r\n\r\n*Signs*\r\n\r\n* Cloud properties showing default kernel and default ramdisk not being registered:\r\n{code}\r\n[root@odc-d-31 ~]# euca-describe-properties | grep images\r\nPROPERTY\tcloud.images.cleanupperiod\t10m\r\nPROPERTY\tcloud.images.defaultkernelid\t<unset>\r\nPROPERTY\tcloud.images.defaultramdiskid\t<unset>\r\nPROPERTY\tcloud.images.defaultvisibility\tfalse\r\nPROPERTY\tcloud.images.maximagesizegb\t30\r\n{code}\r\n* euca-run-instances with debug output:\r\n{code}\r\n[root@odc-d-31 ~]# euca-run-instances -k euca-admin -t m1.xlarge emi-9aa8cac1 --region admin@ --debug\r\n2014-03-29 08:51:04,098 DEBUG   RunInstances parsed arguments: {'user_data': None, 'iam_profile': None, 'Placement.GroupName': None, 'shell_configfile': '', 'EbsOptimized': None, 'RamdiskId': None, 'subnet': None, 'group': [], 'key_id': None, 'Monitoring.Enabled': None, 'ImageId': 'emi-9aa8cac1', 'KeyName': 'euca-admin', 'deprecated_key_id': None, 'ClientToken': None, 'user_data_file': None, 'InstanceType': 'm1.xlarge', 'AddressingType': None, 'BlockDeviceMapping': [], 'user_data_force': None, 'InstanceInitiatedShutdownBehavior': None, 'NetworkInterface': None, 'show_empty_fields': False, 'secondary_private_ip_address': None, 'KernelId': None, 'count': '1', 'userregion': 'admin@', 'url': None, 'Placement.Tenancy': None, 'Placement.AvailabilityZone': None, 'private_ip_address': None, 'secondary_private_ip_address_count': None, 'secret_key': None, 'DisableApiTermination': None}\r\n2014-03-29 08:51:04,098 DEBUG   Config current user set to 'admin'\r\n2014-03-29 08:51:04,098 DEBUG   Config searching regions for option 'ec2-url'\r\n2014-03-29 08:51:04,098 DEBUG   Config   section 'LoveLockdown'\r\n2014-03-29 08:51:04,098 INFO    Config option 'ec2-url' = 'http://10.104.1.194:8773/services/Eucalyptus/'\r\n2014-03-29 08:51:04,098 DEBUG   Config searching regions for option 'verify-ssl'\r\n2014-03-29 08:51:04,098 DEBUG   Config   section 'LoveLockdown'\r\n2014-03-29 08:51:04,098 DEBUG   Config   section '*'\r\n2014-03-29 08:51:04,099 INFO    Config option 'verify-ssl' not found\r\n2014-03-29 08:51:04,099 DEBUG   Config searching users for option 'key-id'\r\n2014-03-29 08:51:04,099 DEBUG   Config   section 'admin'\r\n2014-03-29 08:51:04,099 INFO    Config option 'key-id' = 'AKIWLKI81POS4Z7BALPP'\r\n2014-03-29 08:51:04,099 DEBUG   Config searching users for option 'secret-key'\r\n2014-03-29 08:51:04,099 DEBUG   Config   section 'admin'\r\n2014-03-29 08:51:04,099 INFO    Config option 'secret-key' = <redacted>\r\n2014-03-29 08:51:04,102 INFO    RunInstances parameters: {'KeyName': 'euca-admin', 'Version': '2013-02-01', 'MaxCount': '1', 'Action': 'RunInstances', 'MinCount': '1', 'InstanceType': 'm1.xlarge', 'ImageId': 'emi-9aa8cac1'}\r\n2014-03-29 08:51:04,103 INFO    Eucalyptus sending request (attempt 1 of 3)\r\n2014-03-29 08:51:04,104 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.104.1.194:8773\\n/services/Eucalyptus/\\nAWSAccessKeyId=AKIWLKI81POS4Z7BALPP&Action=RunInstances&ImageId=emi-9aa8cac1&InstanceType=m1.xlarge&KeyName=euca-admin&MaxCount=1&MinCount=1&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-03-29T15%3A51%3A04Z&Version=2013-02-01'\r\n2014-03-29 08:51:04,104 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: jzAQdnFzo8bBKE7cMEq+U9HNLEJ228D7mjm31FGstLU=\r\n2014-03-29 08:51:04,104 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2014-03-29 08:51:04,111 DEBUG   Eucalyptus request method: POST\r\n2014-03-29 08:51:04,111 DEBUG   Eucalyptus request url:    http://10.104.1.194:8773/services/Eucalyptus/\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request header: Content-Length: 299\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request header: Host: 10.104.1.194:8773\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.2-111-ga4adffa (CPython 2.6.6; Linux 2.6.32-431.5.1.el6.x86_64; x86_64) requestbuilder/0.1.0 requests/1.1.0\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIWLKI81POS4Z7BALPP\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   Action: RunInstances\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   ImageId: emi-9aa8cac1\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   InstanceType: m1.xlarge\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   KeyName: euca-admin\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   MaxCount: 1\r\n2014-03-29 08:51:04,112 DEBUG   Eucalyptus request data:   MinCount: 1\r\n2014-03-29 08:51:04,113 DEBUG   Eucalyptus request data:   Signature: jzAQdnFzo8bBKE7cMEq+U9HNLEJ228D7mjm31FGstLU=\r\n2014-03-29 08:51:04,113 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2014-03-29 08:51:04,113 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2014-03-29 08:51:04,113 DEBUG   Eucalyptus request data:   Timestamp: 2014-03-29T15:51:04Z\r\n2014-03-29 08:51:04,113 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2014-03-29 08:51:04,284 DEBUG   Eucalyptus response time: 0.170 seconds\r\n2014-03-29 08:51:04,284 ERROR   Eucalyptus response status: 500\r\n2014-03-29 08:51:04,284 DEBUG   Eucalyptus response header: content-length: 518\r\n2014-03-29 08:51:04,284 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2014-03-29 08:51:04,284 DEBUG   Eucalyptus will retry after 1.964 seconds\r\n2014-03-29 08:51:06,250 INFO    Eucalyptus sending request (attempt 2 of 3)\r\n2014-03-29 08:51:06,250 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.104.1.194:8773\\n/services/Eucalyptus/\\nAWSAccessKeyId=AKIWLKI81POS4Z7BALPP&Action=RunInstances&ImageId=emi-9aa8cac1&InstanceType=m1.xlarge&KeyName=euca-admin&MaxCount=1&MinCount=1&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-03-29T15%3A51%3A06Z&Version=2013-02-01'\r\n2014-03-29 08:51:06,250 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: VSWSB2ssOw76f8udjGamEXf/BfUnJ/R4CG682zSkTfA=\r\n2014-03-29 08:51:06,251 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2014-03-29 08:51:06,251 DEBUG   Eucalyptus request method: POST\r\n2014-03-29 08:51:06,251 DEBUG   Eucalyptus request url:    http://10.104.1.194:8773/services/Eucalyptus/\r\n2014-03-29 08:51:06,251 DEBUG   Eucalyptus request header: Content-Length: 301\r\n2014-03-29 08:51:06,251 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2014-03-29 08:51:06,251 DEBUG   Eucalyptus request header: Host: 10.104.1.194:8773\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.2-111-ga4adffa (CPython 2.6.6; Linux 2.6.32-431.5.1.el6.x86_64; x86_64) requestbuilder/0.1.0 requests/1.1.0\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIWLKI81POS4Z7BALPP\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   Action: RunInstances\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   ImageId: emi-9aa8cac1\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   InstanceType: m1.xlarge\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   KeyName: euca-admin\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   MaxCount: 1\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   MinCount: 1\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   Signature: VSWSB2ssOw76f8udjGamEXf/BfUnJ/R4CG682zSkTfA=\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2014-03-29 08:51:06,252 DEBUG   Eucalyptus request data:   Timestamp: 2014-03-29T15:51:06Z\r\n2014-03-29 08:51:06,253 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2014-03-29 08:51:06,407 DEBUG   Eucalyptus response time: 0.154 seconds\r\n2014-03-29 08:51:06,407 ERROR   Eucalyptus response status: 500\r\n2014-03-29 08:51:06,408 DEBUG   Eucalyptus response header: content-length: 518\r\n2014-03-29 08:51:06,408 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2014-03-29 08:51:06,408 DEBUG   Eucalyptus will retry after 3.261 seconds\r\n2014-03-29 08:51:09,672 INFO    Eucalyptus sending request (attempt 3 of 3)\r\n2014-03-29 08:51:09,673 DEBUG   EC2CompatibleQuerySigV2Auth string to sign: 'POST\\n10.104.1.194:8773\\n/services/Eucalyptus/\\nAWSAccessKeyId=AKIWLKI81POS4Z7BALPP&Action=RunInstances&ImageId=emi-9aa8cac1&InstanceType=m1.xlarge&KeyName=euca-admin&MaxCount=1&MinCount=1&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-03-29T15%3A51%3A09Z&Version=2013-02-01'\r\n2014-03-29 08:51:09,673 DEBUG   EC2CompatibleQuerySigV2Auth b64-encoded signature: KbEGqAmrdsG3UfUkwiB6MgeZ0GhLnwPf11JDt2oLgkE=\r\n2014-03-29 08:51:09,673 DEBUG   EC2CompatibleQuerySigV2Auth converting params to POST data\r\n2014-03-29 08:51:09,673 DEBUG   Eucalyptus request method: POST\r\n2014-03-29 08:51:09,673 DEBUG   Eucalyptus request url:    http://10.104.1.194:8773/services/Eucalyptus/\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request header: Content-Length: 297\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request header: Content-Type: application/x-www-form-urlencoded\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request header: Host: 10.104.1.194:8773\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request header: User-Agent: euca2ools/3.0.2-111-ga4adffa (CPython 2.6.6; Linux 2.6.32-431.5.1.el6.x86_64; x86_64) requestbuilder/0.1.0 requests/1.1.0\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   AWSAccessKeyId: AKIWLKI81POS4Z7BALPP\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   Action: RunInstances\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   ImageId: emi-9aa8cac1\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   InstanceType: m1.xlarge\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   KeyName: euca-admin\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   MaxCount: 1\r\n2014-03-29 08:51:09,674 DEBUG   Eucalyptus request data:   MinCount: 1\r\n2014-03-29 08:51:09,675 DEBUG   Eucalyptus request data:   Signature: KbEGqAmrdsG3UfUkwiB6MgeZ0GhLnwPf11JDt2oLgkE=\r\n2014-03-29 08:51:09,675 DEBUG   Eucalyptus request data:   SignatureMethod: HmacSHA256\r\n2014-03-29 08:51:09,675 DEBUG   Eucalyptus request data:   SignatureVersion: 2\r\n2014-03-29 08:51:09,675 DEBUG   Eucalyptus request data:   Timestamp: 2014-03-29T15:51:09Z\r\n2014-03-29 08:51:09,675 DEBUG   Eucalyptus request data:   Version: 2013-02-01\r\n2014-03-29 08:51:09,850 DEBUG   Eucalyptus response time: 0.175 seconds\r\n2014-03-29 08:51:09,850 ERROR   Eucalyptus response status: 500\r\n2014-03-29 08:51:09,851 DEBUG   Eucalyptus response header: content-length: 518\r\n2014-03-29 08:51:09,851 DEBUG   Eucalyptus response header: content-type: application/xml; charset=UTF-8\r\n2014-03-29 08:51:09,851 DEBUG   RunInstances -- response content --\r\n<ErrorResponse xmlns=\"\"><Errors><Error><Code>InternalFailure</Code><Message>Failed to send message RunInstancesType to service EucalyptusRequestQueueSync because: Attempt to resolve a kerneId for BootableSet:machine=arn:aws:euca:eucalyptus:463656813077:image/emi-9aa8cac1/:ramdisk=false:kernel=false:isLinux=true during request RunInstancesType:8d4b7d4b-cf8b-4813-ba47-08e89951e216:return=true:epoch=null:status=null</Message></Error></Errors><RequestId>946c25bf-c5b1-4c0d-899c-2e5ba683f079</RequestId></ErrorResponse>\r\n2014-03-29 08:51:09,851 DEBUG   RunInstances -- end of response content --\r\n2014-03-29 08:51:09,851 INFO    RunInstances result: failure\r\neuca-run-instances: error (InternalFailure): Failed to send message RunInstancesType to service EucalyptusRequestQueueSync because: Attempt to resolve a kerneId for BootableSet:machine=arn:aws:euca:eucalyptus:463656813077:image/emi-9aa8cac1/:ramdisk=false:kernel=false:isLinux=true during request RunInstancesType:8d4b7d4b-cf8b-4813-ba47-08e89951e216:return=true:epoch=null:status=null\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-run-instances\", line 6, in <module>\r\n    euca2ools.commands.euca.runinstances.RunInstances.run()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 289, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 286, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 181, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 143, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 130, in send\r\n    params=params, data=self.body)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/service.py\", line 234, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/euca/__init__.py\", line 204, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (500, 'Internal Server Error', 'InternalFailure', 'Failed to send message RunInstancesType to service EucalyptusRequestQueueSync because: Attempt to resolve a kerneId for BootableSet:machine=arn:aws:euca:eucalyptus:463656813077:image/emi-9aa8cac1/:ramdisk=false:kernel=false:isLinux=true during request RunInstancesType:8d4b7d4b-cf8b-4813-ba47-08e89951e216:return=true:epoch=null:status=null')\r\n{code}\r\n* Behavior seen on AWS (DescribeInstances output and GetConsoleOutput):\r\n{code}\r\n$ aws ec2 describe-instances --output text\r\nRESERVATIONS\t986451091583\tr-ed5067c3\r\nGROUPS\tsg-c09762a8\tdefault\r\nINSTANCES\t0\tx86_64\tNone\tFalse\txen\tami-f37c6d9a\ti-26783377\tm1.small\thspencer-test\t2014-03-29T19:53:38.000Z\tip-10-190-137-79.ec2.internal\t10.190.137.79\tec2-54-237-192-122.compute-1.amazonaws.com\t54.237.192.122\tinstance-store\tNone\tparavirtual\r\nMONITORING\tdisabled\r\nPLACEMENT\tus-east-1b\tNone\tdefault\r\nSECURITYGROUPS\tsg-c09762a8\tdefault\r\nSTATE\t16\trunning\r\n\r\n\r\neuca-prod-1-82:~ haroldspencerjr$ aws ec2 get-console-output --instance-id i-26783377\r\n.........\r\nLinux version 2.6.16-xenU (builder@xenbat.amazonsa) (gcc version 4.0.1 20050727 (Red Hat 4.0.1-5)) #1 SMP Mon May 28 03:41:49 SAST 2007\r\nBIOS-provided physical RAM map:\r\n Xen: 0000000000000000 - 000000006a400000 (usable)\r\n980MB HIGHMEM available.\r\n727MB LOWMEM available.\r\nNX (Execute Disable) protection: active\r\nIRQ lockup detection disabled\r\nBuilt 1 zonelists\r\nKernel command line: root=/dev/sda1 ro 4\r\nEnabling fast FPU save and restore... done.\r\nEnabling unmasked SIMD FPU exception support... done.\r\nInitializing CPU#0\r\nPID hash table entries: 4096 (order: 12, 65536 bytes)\r\nXen reported: 2000.070 MHz processor.\r\nDentry cache hash table entries: 131072 (order: 7, 524288 bytes)\r\nInode-cache hash table entries: 65536 (order: 6, 262144 bytes)\r\nSoftware IO TLB disabled\r\nvmalloc area: ee000000-f53fe000, maxmem 2d7fe000\r\nMemory: 1718700k/1748992k available (1958k kernel code, 20948k reserved, 620k data, 144k init, 1003528k highmem)\r\nChecking if this processor honours the WP bit even in supervisor mode... Ok.\r\nCalibrating delay using timer specific routine.. 4001.95 BogoMIPS (lpj=20009772)\r\nMount-cache hash table entries: 512\r\nCPU: L1 I cache: 32K, L1 D cache: 32K\r\nCPU: L2 cache: 256K\r\nCPU: L3 cache: 12288K\r\nChecking 'hlt' instruction... OK.\r\nBrought up 1 CPUs\r\nmigration_cost=0\r\nGrant table initialized\r\nNET: Registered protocol family 16\r\nBrought up 1 CPUs\r\nxen_mem: Initialising balloon driver.\r\nhighmem bounce pool size: 64 pages\r\nVFS: Disk quotas dquot_6.5.1\r\nDquot-cache hash table entries: 1024 (order 0, 4096 bytes)\r\nInitializing Cryptographic API\r\nio scheduler noop registered\r\nio scheduler anticipatory registered (default)\r\nio scheduler deadline registered\r\nio scheduler cfq registered\r\ni8042.c: No controller found.\r\nRAMDISK driver initialized: 16 RAM disks of 4096K size 1024 blocksize\r\nXen virtual console successfully installed as tty1\r\nEvent-channel device installed.\r\nnetfront: Initialising virtual ethernet driver.\r\nmice: PS/2 mouse device common for all mice\r\nmd: md driver 0.90.3 MAX_MD_DEVS=256, MD_SB_DISKS=27\r\nmd: bitmap version 4.39\r\nNET: Registered protocol family 2\r\nRegistering block device major 8\r\nIP route cache hash table entries: 65536 (order: 6, 262144 bytes)\r\nTCP established hash table entries: 262144 (order: 9, 2097152 bytes)\r\nTCP bind hash table entries: 65536 (order: 7, 524288 bytes)\r\nTCP: Hash tables configured (established 262144 bind 65536)\r\nTCP reno registered\r\nTCP bic registered\r\nNET: Registered protocol family 1\r\nNET: Registered protocol family 17\r\nNET: Registered protocol family 15\r\nUsing IPI No-Shortcut mode\r\nXENBUS: Timeout connecting to devices!\r\nmd: Autodetecting RAID arrays.\r\nmd: autorun ...\r\nmd: ... autorun DONE.\r\nKernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(8,1)\r\n.....\r\n{code}\r\n\r\n*Steps*\r\n\r\n* Set up Eucalyptus 4.0.0 cloud\r\n* euca bundle and upload an image to be used for the EMI without a kernel and ramdisk\r\n* Register the image without a kernel\r\n* Use euca-run-instances with the EMI and observe the behavior","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Odd Error Returned When Launching EMI Without Kernel","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"10001_*:*_1_*:*_529122503_*|*_10000_*:*_1_*:*_243685022_*|*_5_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i02lzz:","customfield_10001":"2014-04-01T12:50:27.927-0500","customfield_10002":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11501","value":"Architecture","id":"11501"}],"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["hspencer(hspencer)","spark(spark)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9007/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}