{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"36194","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194","key":"EUCA-10842","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11500","value":"Edge","id":"11500"}],"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10104":[],"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10842/watchers","watchCount":3,"isWatching":false},"created":"2015-05-18T00:30:00.981-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/15500","id":"15500","description":"Eucalyptus 4.1.1","name":"4.1.1","archived":false,"released":true,"releaseDate":"2015-05-11"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2017-01-03T13:54:18.948-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"In the singapore C3 cloud we are observing failure in creation of volumes from snapshots. The storage backend used is {{das}}.\r\n\r\nThe setup is described below:\r\n\r\nCLC/UFS/Walrus - Host 1\r\nSC/CC - Host 2\r\nNCs - Host 3 and Host 4\r\n\r\nThe cloud properties are shown below:\r\n\r\n{code}\r\nPROPERTY\tauthentication.access_keys_limit\t20\r\nPROPERTY\tauthentication.credential_download_generate_certificate\tLimited\r\nPROPERTY\tauthentication.credential_download_host_match\t{}\r\nPROPERTY\tauthentication.credential_download_port\t{}\r\nPROPERTY\tauthentication.default_password_expiry\t60d\r\nPROPERTY\tauthentication.ldap_integration_configuration\t{ 'sync': { 'enable':'false' } }\r\nPROPERTY\tauthentication.signing_certificates_limit\t20\r\nPROPERTY\tauthentication.system_account_quota_enabled\ttrue\r\nPROPERTY\tautoscaling.activityexpiry\t42d\r\nPROPERTY\tautoscaling.activityinitialbackoff\t9s\r\nPROPERTY\tautoscaling.activitymaxbackoff\t15m\r\nPROPERTY\tautoscaling.activitytimeout\t5m\r\nPROPERTY\tautoscaling.maxlaunchincrement\t20\r\nPROPERTY\tautoscaling.maxregistrationretries\t5\r\nPROPERTY\tautoscaling.pendinginstancetimeout\t15m\r\nPROPERTY\tautoscaling.suspendedprocesses\t{}\r\nPROPERTY\tautoscaling.suspendedtasks\t{}\r\nPROPERTY\tautoscaling.suspensionlaunchattemptsthreshold\t15\r\nPROPERTY\tautoscaling.suspensiontimeout\t1d\r\nPROPERTY\tautoscaling.untrackedinstancetimeout\t5m\r\nPROPERTY\tautoscaling.zonefailurethreshold\t5m\r\nPROPERTY\tbootstrap.async.future_listener_debug_limit_secs\t30\r\nPROPERTY\tbootstrap.async.future_listener_error_limit_secs\t120\r\nPROPERTY\tbootstrap.async.future_listener_get_retries\t8\r\nPROPERTY\tbootstrap.async.future_listener_get_timeout\t30\r\nPROPERTY\tbootstrap.async.future_listener_info_limit_secs\t60\r\nPROPERTY\tbootstrap.hosts.state_initialize_timeout\t120000\r\nPROPERTY\tbootstrap.hosts.state_transfer_timeout\t10000\r\nPROPERTY\tbootstrap.notifications.batch_delay_seconds\t60\r\nPROPERTY\tbootstrap.notifications.digest\tfalse\r\nPROPERTY\tbootstrap.notifications.digest_frequency_hours\t24\r\nPROPERTY\tbootstrap.notifications.digest_only_on_errors\ttrue\r\nPROPERTY\tbootstrap.notifications.email_from\tnotification@eucalyptus\r\nPROPERTY\tbootstrap.notifications.email_from_name\tEucalyptus Notifications\r\nPROPERTY\tbootstrap.notifications.email_subject_prefix\t[eucalyptus-notifications]\r\nPROPERTY\tbootstrap.notifications.email_to\t{}\r\nPROPERTY\tbootstrap.notifications.include_fault_stack\tfalse\r\nPROPERTY\tbootstrap.notifications.email.email_smtp_host\t{}\r\nPROPERTY\tbootstrap.notifications.email.email_smtp_port\t25\r\nPROPERTY\tbootstrap.servicebus.context_timeout\t60\r\nPROPERTY\tbootstrap.servicebus.hup\t0\r\nPROPERTY\tbootstrap.servicebus.max_outstanding_messages\t256\r\nPROPERTY\tbootstrap.servicebus.min_scheduler_core_size\t64\r\nPROPERTY\tbootstrap.servicebus.workers_per_stage\t16\r\nPROPERTY\tbootstrap.timer.rate\t10000\r\nPROPERTY\tbootstrap.topology.coordinator_check_backoff_secs\t10\r\nPROPERTY\tbootstrap.topology.local_check_backoff_secs\t10\r\nPROPERTY\tbootstrap.tx.concurrent_update_retries\t10\r\nPROPERTY\tbootstrap.webservices.async_internal_operations\tfalse\r\nPROPERTY\tbootstrap.webservices.async_operations\tfalse\r\nPROPERTY\tbootstrap.webservices.async_pipeline\tfalse\r\nPROPERTY\tbootstrap.webservices.channel_connect_timeout\t500\r\nPROPERTY\tbootstrap.webservices.channel_keep_alive\ttrue\r\nPROPERTY\tbootstrap.webservices.channel_nodelay\ttrue\r\nPROPERTY\tbootstrap.webservices.channel_reuse_address\ttrue\r\nPROPERTY\tbootstrap.webservices.client_http_chunk_buffer_max\t1048576000\r\nPROPERTY\tbootstrap.webservices.client_idle_timeout_secs\t30\r\nPROPERTY\tbootstrap.webservices.client_internal_timeout_secs\t60\r\nPROPERTY\tbootstrap.webservices.client_pool_max_mem_per_conn\t0\r\nPROPERTY\tbootstrap.webservices.client_pool_max_threads\t40\r\nPROPERTY\tbootstrap.webservices.client_pool_timeout_millis\t500\r\nPROPERTY\tbootstrap.webservices.client_pool_total_mem\t0\r\nPROPERTY\tbootstrap.webservices.clock_skew_sec\t20\r\nPROPERTY\tbootstrap.webservices.cluster_connect_timeout_millis\t2000\r\nPROPERTY\tbootstrap.webservices.default_aws_sns_uri_scheme\thttp\r\nPROPERTY\tbootstrap.webservices.default_ec2_uri_scheme\thttp\r\nPROPERTY\tbootstrap.webservices.default_euare_uri_scheme\thttp\r\nPROPERTY\tbootstrap.webservices.default_eustore_url\thttp://emis.eucalyptus.com/\r\nPROPERTY\tbootstrap.webservices.default_https_enabled\tfalse\r\nPROPERTY\tbootstrap.webservices.default_s3_uri_scheme\thttp\r\nPROPERTY\tbootstrap.webservices.disabled_soap_api_components\t{}\r\nPROPERTY\tbootstrap.webservices.http_max_chunk_bytes\t102400\r\nPROPERTY\tbootstrap.webservices.http_max_header_bytes\t8192\r\nPROPERTY\tbootstrap.webservices.http_max_initial_line_bytes\t4096\r\nPROPERTY\tbootstrap.webservices.listener_address_match\t0.0.0.0\r\nPROPERTY\tbootstrap.webservices.log_requests\ttrue\r\nPROPERTY\tbootstrap.webservices.oob_internal_operations\ttrue\r\nPROPERTY\tbootstrap.webservices.pipeline_idle_timeout_seconds\t60\r\nPROPERTY\tbootstrap.webservices.port\t8773\r\nPROPERTY\tbootstrap.webservices.replay_skew_window_sec\t3\r\nPROPERTY\tbootstrap.webservices.server_boss_pool_max_mem_per_conn\t0\r\nPROPERTY\tbootstrap.webservices.server_boss_pool_max_threads\t128\r\nPROPERTY\tbootstrap.webservices.server_boss_pool_timeout_millis\t500\r\nPROPERTY\tbootstrap.webservices.server_boss_pool_total_mem\t0\r\nPROPERTY\tbootstrap.webservices.server_channel_nodelay\ttrue\r\nPROPERTY\tbootstrap.webservices.server_channel_reuse_address\ttrue\r\nPROPERTY\tbootstrap.webservices.server_pool_max_mem_per_conn\t0\r\nPROPERTY\tbootstrap.webservices.server_pool_max_threads\t128\r\nPROPERTY\tbootstrap.webservices.server_pool_timeout_millis\t500\r\nPROPERTY\tbootstrap.webservices.server_pool_total_mem\t0\r\nPROPERTY\tbootstrap.webservices.statistics\tfalse\r\nPROPERTY\tbootstrap.webservices.unknown_parameter_handling\tignore\r\nPROPERTY\tbootstrap.webservices.use_dns_delegation\tfalse\r\nPROPERTY\tbootstrap.webservices.use_instance_dns\tfalse\r\nPROPERTY\tbootstrap.webservices.ssl.server_alias\teucalyptus\r\nPROPERTY\tbootstrap.webservices.ssl.server_password\t********\r\nPROPERTY\tbootstrap.webservices.ssl.server_ssl_ciphers\tRSA:DSS:ECDSA:+RC4:+3DES:TLS_EMPTY_RENEGOTIATION_INFO_SCSV:!NULL:!EXPORT:!EXPORT1024:!MD5:!DES\r\nPROPERTY\tbootstrap.webservices.ssl.server_ssl_protocols\tSSLv2Hello,TLSv1,TLSv1.1,TLSv1.2\r\nPROPERTY\tbootstrap.webservices.ssl.user_ssl_ciphers\tRSA:DSS:ECDSA:+RC4:+3DES:TLS_EMPTY_RENEGOTIATION_INFO_SCSV:!NULL:!EXPORT:!EXPORT1024:!MD5:!DES\r\nPROPERTY\tbootstrap.webservices.ssl.user_ssl_default_cas\ttrue\r\nPROPERTY\tbootstrap.webservices.ssl.user_ssl_enable_hostname_verification\ttrue\r\nPROPERTY\tbootstrap.webservices.ssl.user_ssl_protocols\tSSLv2Hello,TLSv1,TLSv1.1,TLSv1.2\r\nPROPERTY\tcloud.db_check_poll_time\t60000\r\nPROPERTY\tcloud.db_check_threshold\t2.0%\r\nPROPERTY\tcloud.euca_log_level\tINFO\r\nPROPERTY\tcloud.identifier_canonicalizer\tlower\r\nPROPERTY\tcloud.log_file_disk_check_poll_time\t5000\r\nPROPERTY\tcloud.log_file_disk_check_threshold\t\t2.0%\r\nPROPERTY\tcloud.memory_check_poll_time\t5000\r\nPROPERTY\tcloud.memory_check_ratio\t0.98\r\nPROPERTY\tcloud.perm_gen_memory_check_poll_time\t5000\r\nPROPERTY\tcloud.perm_gen_memory_check_ratio\t0.98\r\nPROPERTY\tcloud.trigger_fault\t{}\r\nPROPERTY\tcloud.addresses.dodynamicpublicaddresses\ttrue\r\nPROPERTY\tcloud.addresses.maxkillorphans\t360\r\nPROPERTY\tcloud.addresses.orphangrace\t360\r\nPROPERTY\tcloud.addresses.systemreservedpublicaddresses\t0\r\nPROPERTY\tcloud.cluster.disabledinterval\t15\r\nPROPERTY\tcloud.cluster.enabledinterval\t15\r\nPROPERTY\tcloud.cluster.notreadyinterval\t10\r\nPROPERTY\tcloud.cluster.pendinginterval\t3\r\nPROPERTY\tcloud.cluster.requestworkers\t8\r\nPROPERTY\tcloud.cluster.startupsyncretries\t10\r\nPROPERTY\tcloud.images.cleanupperiod\t10m\r\nPROPERTY\tcloud.images.defaultvisibility\tfalse\r\nPROPERTY\tcloud.images.maximagesizegb\t30\r\nPROPERTY\tcloud.images.maxmanifestsizebytes\t5242880\r\nPROPERTY\tcloud.monitor.default_poll_interval_mins\t5\r\nPROPERTY\tcloud.monitor.history_size\t5\r\nPROPERTY\tcloud.network.global_max_network_index\t4096\r\nPROPERTY\tcloud.network.global_max_network_tag\t4096\r\nPROPERTY\tcloud.network.global_min_network_index\t2\r\nPROPERTY\tcloud.network.global_min_network_tag\t1\r\nPROPERTY\tcloud.network.min_broadcast_interval\t5\r\nPROPERTY\tcloud.network.network_configuration\t{\r\n             \"InstanceDnsDomain\": \"eucalyptus.internal\",\r\n             \"InstanceDnsServers\": [\"10.60.1.10\"],\r\n             \"PublicIps\": [\r\n                 \"10.60.1.100-10.60.1.200\"\r\n             ],\r\n             \"PrivateIps\": [\r\n                 \"192.168.6.100-192.168.6.200\"\r\n             ],\r\n             \"Subnets\": [\r\n               {\r\n                 \"Subnet\": \"192.168.6.0\",\r\n                 \"Netmask\": \"255.255.255.0\",\r\n                 \"Gateway\": \"192.168.6.254\"\r\n               }\r\n             ]\r\n}\r\nPROPERTY\tcloud.network.network_index_pending_timeout\t35\r\nPROPERTY\tcloud.network.network_tag_pending_timeout\t35\r\nPROPERTY\tcloud.vmstate.buried_time\t60\r\nPROPERTY\tcloud.vmstate.ebs_root_device_name\temi\r\nPROPERTY\tcloud.vmstate.ebs_volume_creation_timeout\t30\r\nPROPERTY\tcloud.vmstate.instance_reachability_timeout\t5\r\nPROPERTY\tcloud.vmstate.instance_subdomain\t.eucalyptus\r\nPROPERTY\tcloud.vmstate.instance_timeout\t180d\r\nPROPERTY\tcloud.vmstate.instance_touch_interval\t15\r\nPROPERTY\tcloud.vmstate.mac_prefix\td0:0d\r\nPROPERTY\tcloud.vmstate.max_state_threads\t16\r\nPROPERTY\tcloud.vmstate.migration_refresh_time\t60\r\nPROPERTY\tcloud.vmstate.network_metadata_refresh_time\t15\r\nPROPERTY\tcloud.vmstate.shut_down_time\t10\r\nPROPERTY\tcloud.vmstate.stopping_time\t10\r\nPROPERTY\tcloud.vmstate.terminated_time\t60\r\nPROPERTY\tcloud.vmstate.tx_retries\t10\r\nPROPERTY\tcloud.vmstate.unknown_instance_handlers\tterminate-done, restore-failed, restore\r\nPROPERTY\tcloud.vmstate.user_data_max_size_kb\t16\r\nPROPERTY\tcloud.vmstate.vm_initial_report_timeout\t300\r\nPROPERTY\tcloud.vmstate.vm_metadata_instance_cache\tmaximumSize=250, expireAfterWrite=5s\r\nPROPERTY\tcloud.vmstate.vm_metadata_request_cache\tmaximumSize=250, expireAfterWrite=1s\r\nPROPERTY\tcloud.vmstate.vm_metadata_user_data_cache\tmaximumSize=50, expireAfterWrite=5s, softValues\r\nPROPERTY\tcloud.vmstate.vm_state_settle_time\t40\r\nPROPERTY\tcloud.vmstate.volatile_state_interval_sec\t9223372036854775807\r\nPROPERTY\tcloud.vmstate.volatile_state_timeout_sec\t60\r\nPROPERTY\tcloud.vmtypes.default_type_name\tm1.small\r\nPROPERTY\tcloud.vpc.defaultvpc\ttrue\r\nPROPERTY\tcloud.vpc.networkaclspervpc\t200\r\nPROPERTY\tcloud.vpc.routespertable\t50\r\nPROPERTY\tcloud.vpc.routetablespervpc\t200\r\nPROPERTY\tcloud.vpc.rulespernetworkacl\t20\r\nPROPERTY\tcloud.vpc.rulespersecuritygroup\t50\r\nPROPERTY\tcloud.vpc.securitygroupspernetworkinterface\t5\r\nPROPERTY\tcloud.vpc.securitygroupspervpc\t100\r\nPROPERTY\tcloud.vpc.subnetspervpc\t200\r\nPROPERTY\tcloudformation.autoscaling_group_deleted_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.autoscaling_group_zero_instances_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.instance_attach_volume_max_create_retry_secs\t300\r\nPROPERTY\tcloudformation.instance_running_max_create_retry_secs\t300\r\nPROPERTY\tcloudformation.instance_terminated_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.max_attributes_per_mapping\t30\r\nPROPERTY\tcloudformation.max_mappings_per_template\t100\r\nPROPERTY\tcloudformation.max_outputs_per_template\t60\r\nPROPERTY\tcloudformation.max_parameters_per_template\t60\r\nPROPERTY\tcloudformation.max_resources_per_template\t200\r\nPROPERTY\tcloudformation.region\teucalyptus\r\nPROPERTY\tcloudformation.request_template_body_max_length_bytes\t51200\r\nPROPERTY\tcloudformation.request_template_url_max_content_length_bytes\t460800\r\nPROPERTY\tcloudformation.security_group_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.swf_activity_worker_config\t{}\r\nPROPERTY\tcloudformation.swf_client_config\t{\"ConnectionTimeout\": 10000, \"MaxConnections\": 100}\r\nPROPERTY\tcloudformation.swf_domain\tCloudFormationDomain\r\nPROPERTY\tcloudformation.swf_tasklist\tCloudFormationTaskList\r\nPROPERTY\tcloudformation.swf_workflow_worker_config\t{ \"DomainRetentionPeriodInDays\": 1, \"PollThreadCount\": 4 }\r\nPROPERTY\tcloudformation.url_domain_whitelist\t*s3.amazonaws.com\r\nPROPERTY\tcloudformation.volume_attachment_max_create_retry_secs\t300\r\nPROPERTY\tcloudformation.volume_available_max_create_retry_secs\t300\r\nPROPERTY\tcloudformation.volume_deleted_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.volume_detachment_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.volume_snapshot_complete_max_delete_retry_secs\t300\r\nPROPERTY\tcloudformation.wait_condition_bucket_prefix\tcf-waitcondition\r\nPROPERTY\tcloudwatch.disable_cloudwatch_service\tfalse\r\nPROPERTY\tdns.dns_listener_address_match\t{}\r\nPROPERTY\tdns.enabled\ttrue\r\nPROPERTY\tdns.search\t{}\r\nPROPERTY\tdns.server\t{}\r\nPROPERTY\tdns.instancedata.enabled\ttrue\r\nPROPERTY\tdns.ns.enabled\ttrue\r\nPROPERTY\tdns.recursive.enabled\ttrue\r\nPROPERTY\tdns.services.enabled\ttrue\r\nPROPERTY\tdns.services.hostmapping\t{}\r\nPROPERTY\tdns.split_horizon.enabled\ttrue\r\nPROPERTY\tdns.spoof_regions.enabled\tfalse\r\nPROPERTY\tdns.spoof_regions.region_name\t{}\r\nPROPERTY\tdns.spoof_regions.spoof_aws_default_regions\tfalse\r\nPROPERTY\tdns.spoof_regions.spoof_aws_regions\tfalse\r\nPROPERTY\tdns.tcp.timeout_seconds\t30\r\nPROPERTY\tdns.udp.num_worker_threads\t128\r\nPROPERTY\teuca-c3-az01.cluster.addressespernetwork\t-1\r\nPROPERTY\teuca-c3-az01.cluster.maxnetworkindex\t-1\r\nPROPERTY\teuca-c3-az01.cluster.maxnetworktag\t-1\r\nPROPERTY\teuca-c3-az01.cluster.minnetworkindex\t-1\r\nPROPERTY\teuca-c3-az01.cluster.minnetworktag\t-1\r\nPROPERTY\teuca-c3-az01.cluster.networkmode\tEDGE\r\nPROPERTY\teuca-c3-az01.cluster.sourcehostname\t10.60.1.20\r\nPROPERTY\teuca-c3-az01.cluster.usenetworktags\tfalse\r\nPROPERTY\teuca-c3-az01.cluster.vnetnetmask\t255.255.255.0\r\nPROPERTY\teuca-c3-az01.cluster.vnetsubnet\t192.168.6.0\r\nPROPERTY\teuca-c3-az01.cluster.vnettype\tipv4\r\nPROPERTY\teuca-c3-az01.storage.blockstoragemanager\tdas\r\nPROPERTY\teuca-c3-az01.storage.cephconfigfile\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.cephkeyringfile\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.cephsnapshotpools\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.cephuser\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.cephvolumepools\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.chapuser\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.dasdevice\tvg_eucacc\r\nPROPERTY\teuca-c3-az01.storage.deletedvolexpiration\t24\r\nPROPERTY\teuca-c3-az01.storage.maxconcurrentsnapshottransfers\t3\r\nPROPERTY\teuca-c3-az01.storage.maxsnapshotpartsqueuesize\t5\r\nPROPERTY\teuca-c3-az01.storage.maxsnaptransferretries\t50\r\nPROPERTY\teuca-c3-az01.storage.maxtotalvolumesizeingb\t500\r\nPROPERTY\teuca-c3-az01.storage.maxvolumesizeingb\t100\r\nPROPERTY\teuca-c3-az01.storage.ncpaths\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.readbuffersizeinmb\t1\r\nPROPERTY\teuca-c3-az01.storage.resourceprefix\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.resourcesuffix\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.sanhost\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.sanpassword\t********\r\nPROPERTY\teuca-c3-az01.storage.sanuser\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.scpaths\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.shouldtransfersnapshots\ttrue\r\nPROPERTY\teuca-c3-az01.storage.snapshotpartsizeinmb\t100\r\nPROPERTY\teuca-c3-az01.storage.snapshottransfertimeoutinhours\t48\r\nPROPERTY\teuca-c3-az01.storage.storeprefix\tiqn.2009-06.com.eucalyptus.\r\nPROPERTY\teuca-c3-az01.storage.tasktimeout\t<unset>\r\nPROPERTY\teuca-c3-az01.storage.tid\t4\r\nPROPERTY\teuca-c3-az01.storage.timeoutinmillis\t10000\r\nPROPERTY\teuca-c3-az01.storage.volumesdir\t//var/lib/eucalyptus/volumes\r\nPROPERTY\teuca-c3-az01.storage.writebuffersizeinmb\t100\r\nPROPERTY\teuca-c3-az01.storage.zerofillvolumes\tfalse\r\nPROPERTY\tobjectstorage.bucket_creation_wait_interval_seconds\t60\r\nPROPERTY\tobjectstorage.bucket_naming_restrictions\textended\r\nPROPERTY\tobjectstorage.cleanup_task_interval_seconds\t60\r\nPROPERTY\tobjectstorage.dogetputoncopyfail\tfalse\r\nPROPERTY\tobjectstorage.failed_put_timeout_hrs\t168\r\nPROPERTY\tobjectstorage.max_buckets_per_account\t100\r\nPROPERTY\tobjectstorage.max_total_reporting_capacity_gb\t2147483647\r\nPROPERTY\tobjectstorage.providerclient\twalrus\r\nPROPERTY\tobjectstorage.queue_size\t128\r\nPROPERTY\tobjectstorage.queue_timeout\t1\r\nPROPERTY\tobjectstorage.s3client.buffer_size\t524288\r\nPROPERTY\tobjectstorage.s3client.connection_timeout_ms\t10000\r\nPROPERTY\tobjectstorage.s3client.max_connections\t64\r\nPROPERTY\tobjectstorage.s3client.max_error_retries\t3\r\nPROPERTY\tobjectstorage.s3client.socket_read_timeout_ms\t30000\r\nPROPERTY\tobjectstorage.s3provider.s3accesskey\t********\r\nPROPERTY\tobjectstorage.s3provider.s3endpoint\tuninitialized-s3-endpoint\r\nPROPERTY\tobjectstorage.s3provider.s3secretkey\t********\r\nPROPERTY\tobjectstorage.s3provider.s3usebackenddns\tfalse\r\nPROPERTY\tobjectstorage.s3provider.s3usehttps\tfalse\r\nPROPERTY\treporting.data_collection_enabled\ttrue\r\nPROPERTY\treporting.default_size_time_size_unit\tGB\r\nPROPERTY\treporting.default_size_time_time_unit\tDAYS\r\nPROPERTY\treporting.default_size_unit\tGB\r\nPROPERTY\treporting.default_time_unit\tDAYS\r\nPROPERTY\treporting.default_write_interval_mins\t15\r\nPROPERTY\tservices.database.appendonlyhost\tlocalhost\r\nPROPERTY\tservices.database.appendonlypassword\t********\r\nPROPERTY\tservices.database.appendonlyport\t{}\r\nPROPERTY\tservices.database.appendonlysslcert\t********\r\nPROPERTY\tservices.database.appendonlyuser\t{}\r\nPROPERTY\tservices.database.worker.availability_zones\t{}\r\nPROPERTY\tservices.database.worker.configured\tfalse\r\nPROPERTY\tservices.database.worker.expiration_days\t180\r\nPROPERTY\tservices.database.worker.image\tNULL\r\nPROPERTY\tservices.database.worker.init_script\t{}\r\nPROPERTY\tservices.database.worker.instance_type\tm1.small\r\nPROPERTY\tservices.database.worker.keyname\t{}\r\nPROPERTY\tservices.database.worker.ntp_server\t{}\r\nPROPERTY\tservices.database.worker.volume\tNULL\r\nPROPERTY\tservices.imaging.import_task_expiration_hours\t168\r\nPROPERTY\tservices.imaging.import_task_timeout_minutes\t180\r\nPROPERTY\tservices.imaging.worker.availability_zones\t{}\r\nPROPERTY\tservices.imaging.worker.configured\ttrue\r\nPROPERTY\tservices.imaging.worker.expiration_days\t180\r\nPROPERTY\tservices.imaging.worker.healthcheck\ttrue\r\nPROPERTY\tservices.imaging.worker.image\temi-fc372442\r\nPROPERTY\tservices.imaging.worker.init_script\t{}\r\nPROPERTY\tservices.imaging.worker.instance_type\tm3.2xlarge\r\nPROPERTY\tservices.imaging.worker.keyname\tsshlogin\r\nPROPERTY\tservices.imaging.worker.log_server\t{}\r\nPROPERTY\tservices.imaging.worker.log_server_port\t514\r\nPROPERTY\tservices.imaging.worker.ntp_server\t16.110.135.123\r\nPROPERTY\tservices.loadbalancing.dns_resolver_enabled\ttrue\r\nPROPERTY\tservices.loadbalancing.dns_subdomain\tlb\r\nPROPERTY\tservices.loadbalancing.dns_ttl\t60\r\nPROPERTY\tservices.loadbalancing.restricted_ports\t22\r\nPROPERTY\tservices.loadbalancing.vm_per_zone\t1\r\nPROPERTY\tservices.loadbalancing.worker.app_cookie_duration\t24\r\nPROPERTY\tservices.loadbalancing.worker.expiration_days\t365\r\nPROPERTY\tservices.loadbalancing.worker.image\temi-2dc5f396\r\nPROPERTY\tservices.loadbalancing.worker.init_script\t{}\r\nPROPERTY\tservices.loadbalancing.worker.instance_type\tm1.small\r\nPROPERTY\tservices.loadbalancing.worker.keyname\tsshlogin\r\nPROPERTY\tservices.loadbalancing.worker.ntp_server\t16.110.135.123\r\nPROPERTY\tservices.simpleworkflow.activitytypesperdomain\t10000\r\nPROPERTY\tservices.simpleworkflow.deprecatedactivitytyperetentionduration\t30d\r\nPROPERTY\tservices.simpleworkflow.deprecateddomainretentionduration\t1d\r\nPROPERTY\tservices.simpleworkflow.deprecatedworkflowtyperetentionduration\t1d\r\nPROPERTY\tservices.simpleworkflow.openactivitytasksperworkflowexecution\t1000\r\nPROPERTY\tservices.simpleworkflow.opentimersperworkflowexecution\t1000\r\nPROPERTY\tservices.simpleworkflow.openworkflowexecutionsperdomain\t100000\r\nPROPERTY\tservices.simpleworkflow.systemonly\ttrue\r\nPROPERTY\tservices.simpleworkflow.workflowexecutionduration\t365d\r\nPROPERTY\tservices.simpleworkflow.workflowexecutionhistorysize\t25000\r\nPROPERTY\tservices.simpleworkflow.workflowexecutionretentionduration\t90d\r\nPROPERTY\tservices.simpleworkflow.workflowtypesperdomain\t10000\r\nPROPERTY\tstats.config_update_check_interval_seconds\t60\r\nPROPERTY\tstats.enable_stats\tfalse\r\nPROPERTY\tstats.event_emitter\tcom.eucalyptus.stats.emitters.FileSystemEmitter\r\nPROPERTY\tstats.file_system_emitter.stats_data_permissions\trw-r-----\r\nPROPERTY\tstats.file_system_emitter.stats_group_name\teucalyptus-status\r\nPROPERTY\tstorage.global_total_snapshot_size_limit_gb\t500\r\nPROPERTY\tsystem.dns.dnsdomain\tlocalhost\r\nPROPERTY\tsystem.dns.nameserver\tnshost.localhost\r\nPROPERTY\tsystem.dns.nameserveraddress\t16.110.135.52\r\nPROPERTY\tsystem.dns.registrationid\taa8d4beb-323d-4860-bcca-0ad96f02b9c3\r\nPROPERTY\tsystem.exec.io_chunk_size\t102400\r\nPROPERTY\tsystem.exec.max_restricted_concurrent_ops\t2\r\nPROPERTY\tsystem.exec.restricted_concurrent_ops\tdd,gunzip,tar\r\nPROPERTY\ttagging.max_tags_per_resource\t10\r\nPROPERTY\ttokens.disabledactions\t{}\r\nPROPERTY\ttokens.enabledactions\t{}\r\nPROPERTY\twalrusbackend.blockdevice\t<unset>\r\nPROPERTY\twalrusbackend.resource\t<unset>\r\nPROPERTY\twalrusbackend.storagedir\t//var/lib/eucalyptus/bukkits\r\nPROPERTY\twalrusbackend.storagemaxtotalcapacity\t1397\r\nPROPERTY\twww.httpproxyhost\t{}\r\nPROPERTY\twww.httpproxyport\t{}\r\nPROPERTY\twww.https_ciphers\tRSA:DSS:ECDSA:+RC4:+3DES:TLS_EMPTY_RENEGOTIATION_INFO_SCSV:!NULL:!EXPORT:!EXPORT1024:!MD5:!DES\r\nPROPERTY\twww.https_port\t8443\r\nPROPERTY\twww.https_protocols\tSSLv2Hello,TLSv1,TLSv1.1,TLSv1.2\r\n{code}\r\n\r\nThe describe services is shown below:\r\n\r\n{code}\r\nSERVICE\tuser-api          \tAPI_10    \tAPI_10               \tENABLED \t29  \thttp://10.60.1.10:8773/services/User-API\tarn:euca:bootstrap:API_10:user-api:API_10/\r\nSERVICE\tautoscaling       \tAPI_10    \tAPI_10.autoscaling   \tENABLED \t29  \thttp://10.60.1.10:8773/services/AutoScaling\tarn:euca:bootstrap:API_10:autoscaling:API_10.autoscaling/\r\nSERVICE\tcloudformation    \tAPI_10    \tAPI_10.cloudformation\tENABLED \t29  \thttp://10.60.1.10:8773/services/CloudFormation\tarn:euca:bootstrap:API_10:cloudformation:API_10.cloudformation/\r\nSERVICE\tcloudwatch        \tAPI_10    \tAPI_10.cloudwatch    \tENABLED \t29  \thttp://10.60.1.10:8773/services/CloudWatch\tarn:euca:bootstrap:API_10:cloudwatch:API_10.cloudwatch/\r\nSERVICE\tcompute           \tAPI_10    \tAPI_10.compute       \tENABLED \t29  \thttp://10.60.1.10:8773/services/compute\tarn:euca:bootstrap:API_10:compute:API_10.compute/\r\nSERVICE\teuare             \tAPI_10    \tAPI_10.euare         \tENABLED \t29  \thttp://10.60.1.10:8773/services/Euare\tarn:euca:bootstrap:API_10:euare:API_10.euare/\r\nSERVICE\timaging           \tAPI_10    \tAPI_10.imaging       \tENABLED \t29  \thttp://10.60.1.10:8773/services/Imaging\tarn:euca:bootstrap:API_10:imaging:API_10.imaging/\r\nSERVICE\tloadbalancing     \tAPI_10    \tAPI_10.loadbalancing \tENABLED \t29  \thttp://10.60.1.10:8773/services/LoadBalancing\tarn:euca:bootstrap:API_10:loadbalancing:API_10.loadbalancing/\r\nSERVICE\tobjectstorage     \tAPI_10    \tAPI_10.objectstorage \tENABLED \t29  \thttp://10.60.1.10:8773/services/objectstorage\tarn:euca:bootstrap:API_10:objectstorage:API_10.objectstorage/\r\nSERVICE\tsimpleworkflow    \tAPI_10    \tAPI_10.simpleworkflow\tENABLED \t29  \thttp://10.60.1.10:8773/services/SimpleWorkflow\tarn:euca:bootstrap:API_10:simpleworkflow:API_10.simpleworkflow/\r\nSERVICE\ttokens            \tAPI_10    \tAPI_10.tokens        \tENABLED \t29  \thttp://10.60.1.10:8773/services/Tokens\tarn:euca:bootstrap:API_10:tokens:API_10.tokens/\r\nSERVICE\treporting         \tbootstrap \t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Reporting\tarn:euca:bootstrap::reporting:10.60.1.10/\r\nSERVICE\tbootstrap         \tbootstrap \t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Empyrean\tarn:euca:bootstrap:::10.60.1.10/   \r\nSERVICE\tcluster           \teuca-c3-az01\tcc-01                \tENABLED \t29  \thttp://10.60.1.20:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:euca-c3-az01:cluster:cc-01/\r\nSERVICE\tstorage           \teuca-c3-az01\tsc-01                \tENABLED \t29  \thttp://10.60.1.20:8773/services/Storage\tarn:euca:eucalyptus:euca-c3-az01:storage:sc-01/\r\nSERVICE\tjetty             \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Jetty\tarn:euca:eucalyptus::jetty:10.60.1.10/\r\nSERVICE\tdns               \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Dns\tarn:euca:eucalyptus::dns:10.60.1.10/\r\nSERVICE\tnotifications     \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Notifications\tarn:euca:eucalyptus::notifications:10.60.1.10/\r\nSERVICE\timagingbackend    \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/ImagingBackend\tarn:euca:eucalyptus::imagingbackend:10.60.1.10/\r\nSERVICE\tautoscalingbackend\teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/AutoScalingBackend\tarn:euca:eucalyptus::autoscalingbackend:10.60.1.10/\r\nSERVICE\tloadbalancingbackend\teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/LoadBalancingBackend\tarn:euca:eucalyptus::loadbalancingbackend:10.60.1.10/\r\nSERVICE\teucalyptus        \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/Eucalyptus\tarn:euca:eucalyptus:::10.60.1.10/  \r\nSERVICE\tpollednotifications\teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/PolledNotifications\tarn:euca:eucalyptus::pollednotifications:10.60.1.10/\r\nSERVICE\tcloudwatchbackend \teucalyptus\t10.60.1.10           \tENABLED \t29  \thttp://10.60.1.10:8773/services/CloudWatchBackend\tarn:euca:eucalyptus::cloudwatchbackend:10.60.1.10/\r\nSERVICE\twalrusbackend     \twalrus    \twalrus               \tENABLED \t29  \thttp://10.60.1.10:8773/services/WalrusBackend\tarn:euca:bootstrap:walrus:walrusbackend:walrus/\r\n{code}\r\n\r\nAs per the documentation available on the following link:\r\n\r\nhttps://www.eucalyptus.com/docs/eucalyptus/4.1.0/index.html#install-guide/configure_storage_controller.html#enabling_san_jbod\r\n\r\nWe enabled the das device on cloud property to a volume group that exists on the SC:\r\n\r\n{code}\r\nPROPERTY\teuca-c3-az01.storage.blockstoragemanager\tdas\r\nPROPERTY\teuca-c3-az01.storage.dasdevice\tvg_eucacc\r\n{code}\r\n\r\nBelow are the details of the volume group on the SC:\r\n\r\n{code}\r\n  --- Volume group ---\r\n  VG Name               vg_eucacc\r\n  System ID             \r\n  Format                lvm2\r\n  Metadata Areas        1\r\n  Metadata Sequence No  21\r\n  VG Access             read/write\r\n  VG Status             resizable\r\n  MAX LV                0\r\n  Cur LV                6\r\n  Open LV               5\r\n  Max PV                0\r\n  Cur PV                1\r\n  Act PV                1\r\n  VG Size               2.18 TiB\r\n  PE Size               4.00 MiB\r\n  Total PE              572167\r\n  Alloc PE / Size       298752 / 1.14 TiB\r\n  Free  PE / Size       273415 / 1.04 TiB\r\n  VG UUID               MxYK25-Nzyg-zGL2-c2xl-xmb9-JTu6-j2qx12\r\n{code}\r\n\r\nThe error in SC log file says:\r\n\r\n{code}\r\n2015-05-18 12:35:42  INFO 000241227 BlockStorageController   | Processing CreateStorageVolume request for volume vol-3b806f90\r\n2015-05-18 12:35:42 ERROR 000241343 BlockStorageController   | Failed to create volume vol-3b806f90\r\njava.lang.NullPointerException\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:399)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1528)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n{code}\r\n\r\nWe can create new volumes and we can create snapshots of those volumes. But we cannot create volumes from the snapshots.\r\n\r\nThis is blocking us to start EBS instances. The EBS images were prepared using {{euca-import-volume}}:\r\n\r\n{code}\r\neuca-import-volume trusty-server-cloudimg-amd64-disk1.raw --format raw --availability-zone euca-c3-az01 --bucket trusty-ubuntu-ebs --owner-akid $EC2_ACCESS_KEY --owner-sak $EC2_SECRET_KEY --prefix trustyubuntu --description \"Ubuntu Trusty EBS\"\r\n{code}\r\n\r\nThe conversion was successful and we were able to create the snapshot and register the EMI as shown below:\r\n\r\n{code}\r\nTaskType\tIMPORTVOLUME\tTaskId\timport-vol-21b6ed9e\tExpirationTime\tMon May 25 12:12:28 SGT 2015\tStatus\tcompleted\tStatusMessage\tImport task finished successfully\r\nDISKIMAGE\tDiskImageFormat\tRAW\tDiskImageSize\t2361393152\tVolumeId\tvol-f4bb5678\tVolumeSize\t3\tAvailabilityZone\teuca-c3-az01\tApproximateBytesConverted\t2361393152\r\n{code}\r\n\r\n...\r\n{code}\r\nSNAPSHOT\tsnap-4d6c313d\tvol-f4bb5678\tcompleted\t2015-05-18T04:19:11.506Z\t100%\t118396646719\t3\t\r\n\r\neuca-register --arch x86_64 -n \"Ubuntu-Trusty-EBS\" --description \"Ubuntu-Trusty-EBS\" --root-device-name /dev/sda -b /dev/sda=snap-4d6c313d\r\n{code}\r\n\r\nInstances on the CLC end are stuck in {{pending}} as shown below:\r\n\r\n{code}\r\nRESERVATION\tr-d4583039\t758041195985\tdefault\r\nINSTANCE\ti-a8b5eb66\temi-00bfeccc\t192.168.6.152\t192.168.6.152\tpending\tdeependra-key-ssh\t0\t\tm1.large\t2015-05-18T04:35:37.113Z\teuca-c3-az01\t\t\t\tmonitoring-disabled\t192.168.6.152\t192.168.6.152\t\t\tebs\t\t\t\t\thvm\t\t\tsg-7b4e6770\t\t\t\tx86_64\r\nBLOCKDEVICE\t/dev/sda\tvol-62f1337d\t2015-05-18T04:35:37.391Z\ttrue\r\n{code}\r\n\r\nWe have terminated all of them , CLC has removed them from {{euca-describe-instances}} but the volumes are in the state {{creating}} as shown below:\r\n\r\n{code}\r\nVOLUME\tvol-49d95fd3\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:20:35.406Z\tstandard\t\r\nVOLUME\tvol-62f1337d\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:35:37.223Z\tstandard\t\r\nVOLUME\tvol-b7e95449\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:25:17.336Z\tstandard\t\r\nVOLUME\tvol-87872a7b\t10\t\teuca-c3-az01\tavailable\t2015-04-30T09:01:18.161Z\tstandard\t\r\nVOLUME\tvol-e5f9cbb9\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T05:05:32.700Z\tstandard\t\r\nVOLUME\tvol-3b806f90\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:35:42.212Z\tstandard\t\r\nVOLUME\tvol-406dd668\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:52:49.326Z\tstandard\t\r\nVOLUME\tvol-f4bb5678\t3\t\teuca-c3-az01\tavailable\t2015-05-18T04:14:01.396Z\tstandard\t\r\nVOLUME\tvol-52fc135a\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:54:20.174Z\tstandard\t\r\nVOLUME\tvol-1e13fe6d\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T04:59:13.543Z\tstandard\t\r\nVOLUME\tvol-c9a36435\t10\tsnap-0a4f1b99\teuca-c3-az01\tcreating\t2015-05-18T05:03:04.335Z\tstandard\t\r\nVOLUME\tvol-823e7741\t3\tsnap-4d6c313d\teuca-c3-az01\tcreating\t2015-05-18T05:00:56.786Z\tstandard\r\n{code}\r\n\r\nWe tried to delete the volumes via {{euca-delete-volumes}} but they error was reported back on the command line:\r\n\r\n{code}\r\n# for i in `euca-describe-volumes verbose | grep creating | awk '{print $2}'` ; do euca-delete-volume $i; done\r\neuca-delete-volume: error (VolumeInUse): Volume is currently attached to: i-a8fe9a0d\r\neuca-delete-volume: error (VolumeInUse): Volume is currently attached to: i-a8b5eb66\r\neuca-delete-volume: error (VolumeInUse): Volume is currently attached to: i-30d1c7ba\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\neuca-delete-volume: error (VolumeInUse): Volume is currently attached to: i-92efc3bb\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\neuca-delete-volume: error (DeleteStorageVolumeType): Cannot delete volume in state: creating. Please retry later\r\n{code}\r\n\r\nNow we checked and found there are no instances as reported above on the CLC:\r\n\r\n{code}\r\n[root@euca-clc ~]# euca-describe-instances i-a8fe9a0d verbose\r\n[root@euca-clc ~]# euca-describe-instances i-a8b5eb66 verbose\r\n[root@euca-clc ~]# euca-describe-instances i-30d1c7ba verbose\r\n[root@euca-clc ~]# euca-describe-instances i-92efc3bb verbose\r\n{code}\r\n\r\nClearly the system has not forgotten about the attachments causing the message to come. Moreover after we issue the {{euca-delete-volume}} we are having error messages continuously populating the SC log files as shown below:\r\n\r\n{code}\r\n2015-05-18 13:03:55 ERROR | Error marking volume vol-c9a36435 for deletion: Cannot delete volume in state: creating. Please retry later\r\n2015-05-18 13:03:58  INFO | Processing DeleteStorageVolume request for volume vol-c9a36435\r\n2015-05-18 13:03:58 ERROR | Error marking volume vol-c9a36435 for deletion: Cannot delete volume in state: creating. Please retry later\r\n2015-05-18 13:05:32  INFO | Processing CreateStorageVolume request for volume vol-e5f9cbb9\r\n2015-05-18 13:05:32 ERROR | Failed to create volume vol-e5f9cbb9\r\ncom.eucalyptus.entities.TransactionInternalException: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n        at com.eucalyptus.entities.Transactions.each(Transactions.java:185)\r\n        at com.eucalyptus.entities.Transactions.each(Transactions.java:153)\r\n        at com.eucalyptus.entities.Transactions.findAll(Transactions.java:145)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1336)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.hibernate.exception.GenericJDBCException: could not prepare statement\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:188)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:159)\r\n        at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1859)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1836)\r\n        at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1816)\r\n        at org.hibernate.loader.Loader.doQuery(Loader.java:900)\r\n        at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:342)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2526)\r\n        at org.hibernate.loader.Loader.doList(Loader.java:2512)\r\n        at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2342)\r\n        at org.hibernate.loader.Loader.list(Loader.java:2337)\r\n        at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:124)\r\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1662)\r\n        at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:374)\r\n        at com.eucalyptus.entities.Entities.query(Entities.java:372)\r\n        at com.eucalyptus.entities.Transactions.each(Transactions.java:164)\r\n        ... 6 more\r\nCaused by: java.sql.SQLException: Couldn't perform the operation prepareStatement: You can't perform any operations on this connection. It has been automatically closed by Proxool for some reason (see logs).\r\n        at org.logicalcobwebs.proxool.WrappedConnection.invoke(WrappedConnection.java:207)\r\n        at org.logicalcobwebs.proxool.WrappedConnection.intercept(WrappedConnection.java:87)\r\n        at $java.lang.AutoCloseable$$EnhancerByProxool$$133ac3e0.prepareStatement(<generated>)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:161)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\r\n        ... 21 more\r\norg.hibernate.exception.GenericJDBCException: could not prepare statement\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:188)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:91)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3181)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3126)\r\n        at org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3456)\r\n        at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:140)\r\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:377)\r\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:369)\r\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:287)\r\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:339)\r\n        at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:62)\r\n        at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1205)\r\n        at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1655)\r\n        at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:374)\r\n        at org.hibernate.internal.CriteriaImpl.uniqueResult(CriteriaImpl.java:396)\r\n        at com.eucalyptus.entities.Entities.maybeDefinitelyExample(Entities.java:567)\r\n        at com.eucalyptus.entities.Entities.uniqueResult(Entities.java:531)\r\n        at com.eucalyptus.blockstorage.BlockStorageController$VolumeCreator.run(BlockStorageController.java:1553)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.sql.SQLException: Couldn't perform the operation prepareStatement: You can't perform any operations on this connection. It has been automatically closed by Proxool for some reason (see logs).\r\n        at org.logicalcobwebs.proxool.WrappedConnection.invoke(WrappedConnection.java:207)\r\n        at org.logicalcobwebs.proxool.WrappedConnection.intercept(WrappedConnection.java:87)\r\n        at $java.lang.AutoCloseable$$EnhancerByProxool$$133ac3e0.prepareStatement(<generated>)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:98)\r\n        at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\r\n        ... 20 more\r\n{code}\r\n\r\nLooking at the source code that was hit earlier:\r\n\r\nhttps://github.com/eucalyptus/eucalyptus/blob/maint-4.1/clc/modules/block-storage/src/main/java/com/eucalyptus/blockstorage/DASManager.java#L399\r\n\r\nCurrently the line 399 is not inside any try-catch block ? The exception we are getting is following:\r\n\r\n{code}\r\n2015-05-18 12:35:42 ERROR 000241343 BlockStorageController   | Failed to create volume vol-3b806f90\r\njava.lang.NullPointerException\r\n        at com.eucalyptus.blockstorage.DASManager.createVolume(DASManager.java:399)\r\n{code}\r\n\r\nWe do not know what this means ? I am sure this can be handled a little better. Please let us know the next steps as we are effectively blocked right now.\r\n\r\nPS: We noticed the snapshot files in {{/var/lib/eucalyptus/volumes/}} on the SC were owned by user {{root}} we weren't sure if that should be the case because the directory is owned by user {{eucalyptus}} we changed the ownership to {{eucalyptus}} but did not restart SC. This has not fixed the problem.\r\n\r\nCheers,\r\nDeependra\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Volume creation from snapshot fails","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"customfield_10000":null,"customfield_12100":"0|i0385j:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2015-05-21T16:36:27.093-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["dshekhawat(dshekhawat)","dmitrii(dmitrii)","vasya(vasya)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194/comment/86564","id":"86564","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"We tried to stop and start the SC to see if that causes the NPE to go away. But no luck. Currently we have cleared the SC database by marking all {{creating}} volumes to {{deleted}} so we could than delete the volumes via {{euca-delete-volume}} on the CLC. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T01:21:36.391-0500","updated":"2015-05-18T01:21:36.391-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194/comment/86566","id":"86566","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"We were not able to reproduce this problem in PRC with a cloud-in-a-box and DAS backend. We executed the same use case end to end which is to use euca-import-volume and register a EBS image then run an instance from that image.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T02:02:18.868-0500","updated":"2015-05-18T02:02:18.868-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194/comment/86567","id":"86567","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"We tested the following on the C3 cloud and it works:\r\n\r\na) Create a new volume of size 1 GB\r\nb) Create snapshot of this volume\r\nc) Create a new volume from this snapshot\r\n\r\nThis seems to have worked. Trouble is with the 2 snapshots we have among which 1 is prepared from a volume that ImportVolume created. I will again try to run end to end the primary use case on the C3 cloud and confirm if the problem is fixed with new snapshots.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T02:06:58.988-0500","updated":"2015-05-18T02:06:58.988-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194/comment/86568","id":"86568","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"I did end to end the use case and this time I did not find any problems. I was able to successfully create the snapshot and register an EMI. The volume creation from the new snapshot worked like a charm and I was able to boot an instance. I am still having trouble creating volumes from the 2 snapshots that are there. I do not know how they end up in such a state but perhaps you might be interested in finding out more about them.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2015-05-18T03:05:26.257-0500","updated":"2015-05-18T03:05:26.257-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36194/comment/86798","id":"86798","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"[~zhill] will see if this is useful for debugging.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2015-05-21T16:36:27.093-0500","updated":"2015-05-21T16:36:27.093-0500"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10842/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}