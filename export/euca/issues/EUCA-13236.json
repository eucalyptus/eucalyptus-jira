{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"54809","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/54809","key":"EUCA-13236","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12601","value":"CentOS 7","id":"12601"}],"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2017-02-15T16:15:00.062-0600","customfield_10704":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13236/watchers","watchCount":5,"isWatching":false},"created":"2017-02-15T12:30:10.902-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"issuelinks":[{"id":"49122","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/49122","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"49308","key":"EUCA-12846","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49308","fields":{"summary":"ASG fails to distribute instances across AZ in some cases","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2017-02-15T16:15:00.074-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11500","id":"11500","name":"ELB","description":"Load Balancing"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\n_Eucalyptus Version_\r\n{{4.4.0-0.25788.147.20170202git6e5a63d.el7}}\r\n\r\nStack fails when deploying an ELB+ASG stack that spans across multiple availability zones where one of the AZs is 100% utilized.  This was discovered while verifying EUCA-12846.  \r\n{code}\r\n[root@h-04 ~]# euform-create-stack EUCA12846Stack --template-file cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json --capabilities CAPABILITY_IAM --parameter ImageId=emi-63ef779d --parameter KeyName=devops-admin --parameter EndPoint=http://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --parameter MinSize=3 --parameter MaxSize=6 --region devops-admin@\r\narn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\r\n[root@h-04 ~]# euform-describe-stack-resources -n EUCA12846Stack --region devops-admin@\r\nRESOURCE\tNginxRouteTable\trtb-04df59c2\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet2\tsubnet-3db2c928\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet\tsubnet-96be079d\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxVPC\tvpc-937c7f37\tAWS::EC2::VPC\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\tAWS::EC2::VPCGatewayAttachment\t\tCREATE_COMPLETE\r\nRESOURCE\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\tAWS::IAM::User\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRouteTable2\trtb-42be38b0\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet3\tsubnet-28582056\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tLoadBalancerSecurityGroup\tsg-0fd3e752\tAWS::EC2::SecurityGroup\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRoute\t\tAWS::EC2::Route\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\tAWS::S3::Bucket\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\tAWS::EC2::Route\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation\t\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tInstanceSecurityGroup\tsg-134aada8\tAWS::EC2::SecurityGroup\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation2\t\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxRouteTable3\trtb-f0d83871\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxNetworkAcl\tacl-37ba6af6\tAWS::EC2::NetworkAcl\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\tAWS::EC2::NetworkAclEntry\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxInternetGateway\tigw-6a0f4278\tAWS::EC2::InternetGateway\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundResponsePortsNetworkAclEntry\t\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\tAWS::IAM::AccessKey\t\tCREATE_COMPLETE\r\nRESOURCE\tOutBoundNetworkAclEntry\t\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxELB\t\tAWS::ElasticLoadBalancing::LoadBalancer\t\tCREATE_FAILED\tFailed to create loadbalancer: Not enough resources to create loadbalancer\r\nRESOURCE\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\tAWS::EC2::Route\t\tCREATE_FAILED\tResource creation cancelled\r\n{code}\r\nShouldn't we behave very similar to how we behave now with the ASG fix in EUCA-12846 (e.g. deploy in the AZs that have enough space for resources)?\r\n\r\n*Signs*\r\n\r\n* Stack events from failed stack:\r\n{code}\r\n[root@h-04 ~]# euform-describe-stack-events EUCA12846Stack --region devops-admin@\r\nEVENT\tEUCA12846Stack\t007a6e60-7c06-4332-b4c9-25f78b6c233d\tAWS::CloudFormation::Stack\tEUCA12846Stack\tarn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\t2017-02-15T18:09:35.663Z\tROLLBACK_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxVPC-DELETE_COMPLETE-1487182175292\tAWS::EC2::VPC\tNginxVPC\tvpc-937c7f37\t2017-02-15T18:09:35.292Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxVPC-DELETE_IN_PROGRESS-1487182174542\tAWS::EC2::VPC\tNginxVPC\tvpc-937c7f37\t2017-02-15T18:09:34.542Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tLoadBalancerSecurityGroup-DELETE_COMPLETE-1487182173858\tAWS::EC2::SecurityGroup\tLoadBalancerSecurityGroup\tsg-0fd3e752\t2017-02-15T18:09:33.858Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tCfnUser-DELETE_COMPLETE-1487182173825\tAWS::IAM::User\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\t2017-02-15T18:09:33.825Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tS3LoggingBucket-DELETE_COMPLETE-1487182173316\tAWS::S3::Bucket\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\t2017-02-15T18:09:33.316Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet3-DELETE_COMPLETE-1487182173216\tAWS::EC2::Subnet\tNginxSubnet3\tsubnet-28582056\t2017-02-15T18:09:33.216Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet-DELETE_COMPLETE-1487182173182\tAWS::EC2::Subnet\tNginxSubnet\tsubnet-96be079d\t2017-02-15T18:09:33.182Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tCfnUser-DELETE_IN_PROGRESS-1487182172883\tAWS::IAM::User\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\t2017-02-15T18:09:32.883Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tLoadBalancerSecurityGroup-DELETE_IN_PROGRESS-1487182172849\tAWS::EC2::SecurityGroup\tLoadBalancerSecurityGroup\tsg-0fd3e752\t2017-02-15T18:09:32.849Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet2-DELETE_COMPLETE-1487182172682\tAWS::EC2::Subnet\tNginxSubnet2\tsubnet-3db2c928\t2017-02-15T18:09:32.682Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxInternetGateway-DELETE_COMPLETE-1487182172490\tAWS::EC2::InternetGateway\tNginxInternetGateway\tigw-6a0f4278\t2017-02-15T18:09:32.490Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet3-DELETE_IN_PROGRESS-1487182172189\tAWS::EC2::Subnet\tNginxSubnet3\tsubnet-28582056\t2017-02-15T18:09:32.189Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet-DELETE_IN_PROGRESS-1487182171980\tAWS::EC2::Subnet\tNginxSubnet\tsubnet-96be079d\t2017-02-15T18:09:31.980Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInstanceSecurityGroup-DELETE_COMPLETE-1487182171897\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tsg-134aada8\t2017-02-15T18:09:31.897Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet2-DELETE_IN_PROGRESS-1487182171746\tAWS::EC2::Subnet\tNginxSubnet2\tsubnet-3db2c928\t2017-02-15T18:09:31.746Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tCfnUserKey-DELETE_COMPLETE-1487182171705\tAWS::IAM::AccessKey\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\t2017-02-15T18:09:31.705Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tS3LoggingBucket-DELETE_IN_PROGRESS-1487182171680\tAWS::S3::Bucket\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\t2017-02-15T18:09:31.680Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable-DELETE_COMPLETE-1487182171432\tAWS::EC2::RouteTable\tNginxRouteTable\trtb-04df59c2\t2017-02-15T18:09:31.432Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxInternetGateway-DELETE_IN_PROGRESS-1487182171064\tAWS::EC2::InternetGateway\tNginxInternetGateway\tigw-6a0f4278\t2017-02-15T18:09:31.064Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxNetworkAcl-DELETE_COMPLETE-1487182171039\tAWS::EC2::NetworkAcl\tNginxNetworkAcl\tacl-37ba6af6\t2017-02-15T18:09:31.039Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxELB-DELETE_COMPLETE-1487182170830\tAWS::ElasticLoadBalancing::LoadBalancer\tNginxELB\t\t2017-02-15T18:09:30.830Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tCfnUserKey-DELETE_IN_PROGRESS-1487182170555\tAWS::IAM::AccessKey\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\t2017-02-15T18:09:30.555Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInstanceSecurityGroup-DELETE_IN_PROGRESS-1487182170530\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tsg-134aada8\t2017-02-15T18:09:30.530Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxAttachGateway-DELETE_COMPLETE-1487182170396\tAWS::EC2::VPCGatewayAttachment\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\t2017-02-15T18:09:30.396Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRouteTable-DELETE_IN_PROGRESS-1487182170187\tAWS::EC2::RouteTable\tNginxRouteTable\trtb-04df59c2\t2017-02-15T18:09:30.187Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxNetworkAcl-DELETE_IN_PROGRESS-1487182170163\tAWS::EC2::NetworkAcl\tNginxNetworkAcl\tacl-37ba6af6\t2017-02-15T18:09:30.163Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable3-DELETE_COMPLETE-1487182170012\tAWS::EC2::RouteTable\tNginxRouteTable3\trtb-f0d83871\t2017-02-15T18:09:30.012Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxELB-DELETE_IN_PROGRESS-1487182169904\tAWS::ElasticLoadBalancing::LoadBalancer\tNginxELB\t\t2017-02-15T18:09:29.904Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable2-DELETE_COMPLETE-1487182169753\tAWS::EC2::RouteTable\tNginxRouteTable2\trtb-42be38b0\t2017-02-15T18:09:29.753Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxAttachGateway-DELETE_IN_PROGRESS-1487182169377\tAWS::EC2::VPCGatewayAttachment\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\t2017-02-15T18:09:29.377Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInboundSSHNetworkAclEntry-DELETE_COMPLETE-1487182169344\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\t2017-02-15T18:09:29.344Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRouteTable3-DELETE_IN_PROGRESS-1487182169135\tAWS::EC2::RouteTable\tNginxRouteTable3\trtb-f0d83871\t2017-02-15T18:09:29.135Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable2-DELETE_IN_PROGRESS-1487182168826\tAWS::EC2::RouteTable\tNginxRouteTable2\trtb-42be38b0\t2017-02-15T18:09:28.826Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation-DELETE_COMPLETE-1487182168621\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation\t\t2017-02-15T18:09:28.621Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tInboundSSHNetworkAclEntry-DELETE_IN_PROGRESS-1487182168245\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\t2017-02-15T18:09:28.245Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation3-DELETE_COMPLETE-1487182168145\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\t2017-02-15T18:09:28.145Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRoute-DELETE_COMPLETE-1487182167828\tAWS::EC2::Route\tNginxRoute\t\t2017-02-15T18:09:27.828Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tInboundHTTPNetworkAclEntry-DELETE_COMPLETE-1487182167686\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\t2017-02-15T18:09:27.686Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation-DELETE_IN_PROGRESS-1487182167594\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation\t\t2017-02-15T18:09:27.594Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute3-DELETE_COMPLETE-1487182167569\tAWS::EC2::Route\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\t2017-02-15T18:09:27.569Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRoute2-DELETE_COMPLETE-1487182167268\tAWS::EC2::Route\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\t2017-02-15T18:09:27.268Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation2-DELETE_COMPLETE-1487182167176\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation2\t\t2017-02-15T18:09:27.176Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tInboundResponsePortsNetworkAclEntry-DELETE_COMPLETE-1487182167035\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\t\t2017-02-15T18:09:27.035Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRoute-DELETE_IN_PROGRESS-1487182166918\tAWS::EC2::Route\tNginxRoute\t\t2017-02-15T18:09:26.918Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation3-DELETE_IN_PROGRESS-1487182166759\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\t2017-02-15T18:09:26.759Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute3-DELETE_IN_PROGRESS-1487182166525\tAWS::EC2::Route\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\t2017-02-15T18:09:26.525Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute2-DELETE_IN_PROGRESS-1487182166475\tAWS::EC2::Route\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\t2017-02-15T18:09:26.475Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInboundResponsePortsNetworkAclEntry-DELETE_IN_PROGRESS-1487182166290\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\t\t2017-02-15T18:09:26.290Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInboundHTTPNetworkAclEntry-DELETE_IN_PROGRESS-1487182166154\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\t2017-02-15T18:09:26.154Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation2-DELETE_IN_PROGRESS-1487182165912\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation2\t\t2017-02-15T18:09:25.912Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tOutBoundNetworkAclEntry-DELETE_COMPLETE-1487182165711\tAWS::EC2::NetworkAclEntry\tOutBoundNetworkAclEntry\t\t2017-02-15T18:09:25.711Z\tDELETE_COMPLETE\r\nEVENT\tEUCA12846Stack\tOutBoundNetworkAclEntry-DELETE_IN_PROGRESS-1487182165293\tAWS::EC2::NetworkAclEntry\tOutBoundNetworkAclEntry\t\t2017-02-15T18:09:25.293Z\tDELETE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\t0d093c8d-bba6-4fbb-a69b-bbf6b55df0dc\tAWS::CloudFormation::Stack\tEUCA12846Stack\tarn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\t2017-02-15T18:09:24.822Z\tROLLBACK_IN_PROGRESS\tCreate stack failed.  Rollback requested by user.\r\nEVENT\tEUCA12846Stack\t72fdfb8d-4817-4a0e-9b0b-39f55538eace\tAWS::CloudFormation::Stack\tEUCA12846Stack\tarn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\t2017-02-15T18:09:01.666Z\tCREATE_FAILED\tThe following resource(s) failed to create: [NginxRoute3, NginxRoute, NginxSubnetRouteTableAssocaiation, InstanceSecurityGroup, NginxSubnetRouteTableAssocaiation2, InboundSSHNetworkAclEntry, InboundResponsePortsNetworkAclEntry, OutBoundNetworkAclEntry, NginxELB].\r\nEVENT\tEUCA12846Stack\tOutBoundNetworkAclEntry-CREATE_FAILED-1487182141328\tAWS::EC2::NetworkAclEntry\tOutBoundNetworkAclEntry\t\t2017-02-15T18:09:01.328Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tInboundResponsePortsNetworkAclEntry-CREATE_FAILED-1487182141311\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\t\t2017-02-15T18:09:01.311Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tInboundSSHNetworkAclEntry-CREATE_FAILED-1487182141294\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\t2017-02-15T18:09:01.294Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation2-CREATE_FAILED-1487182141278\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation2\t\t2017-02-15T18:09:01.278Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tInstanceSecurityGroup-CREATE_FAILED-1487182141261\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tsg-134aada8\t2017-02-15T18:09:01.261Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation-CREATE_FAILED-1487182141244\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation\t\t2017-02-15T18:09:01.244Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tNginxRoute-CREATE_FAILED-1487182141227\tAWS::EC2::Route\tNginxRoute\t\t2017-02-15T18:09:01.227Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tNginxRoute3-CREATE_FAILED-1487182141211\tAWS::EC2::Route\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\t2017-02-15T18:09:01.211Z\tCREATE_FAILED\tResource creation cancelled\r\nEVENT\tEUCA12846Stack\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-1487182140880\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\t2017-02-15T18:09:00.880Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tInboundHTTPNetworkAclEntry-CREATE_COMPLETE-1487182140820\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\t2017-02-15T18:09:00.820Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRoute3-CREATE_IN_PROGRESS-1487182140797\tAWS::EC2::Route\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\t2017-02-15T18:09:00.797Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation2-CREATE_IN_PROGRESS-1487182140653\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation2\t\t2017-02-15T18:09:00.653Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-1487182140612\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\t\t2017-02-15T18:09:00.612Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxELB-CREATE_FAILED-1487182140578\tAWS::ElasticLoadBalancing::LoadBalancer\tNginxELB\t\t2017-02-15T18:09:00.578Z\tCREATE_FAILED\tFailed to create loadbalancer: Not enough resources to create loadbalancer\r\nEVENT\tEUCA12846Stack\tNginxRoute2-CREATE_COMPLETE-1487182140420\tAWS::EC2::Route\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\t2017-02-15T18:09:00.420Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tOutBoundNetworkAclEntry-CREATE_IN_PROGRESS-1487182140269\tAWS::EC2::NetworkAclEntry\tOutBoundNetworkAclEntry\t\t2017-02-15T18:09:00.269Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1487182140245\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\t2017-02-15T18:09:00.245Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-1487182140177\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\t\t2017-02-15T18:09:00.177Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInstanceSecurityGroup-CREATE_IN_PROGRESS-1487182140002\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tsg-134aada8\t2017-02-15T18:09:00.002Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxRoute-CREATE_IN_PROGRESS-1487182139851\tAWS::EC2::Route\tNginxRoute\t\t2017-02-15T18:08:59.851Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute2-CREATE_IN_PROGRESS-1487182139844\tAWS::EC2::Route\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\t2017-02-15T18:08:59.844Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation3-CREATE_COMPLETE-1487182139692\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\t2017-02-15T18:08:59.692Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1487182139483\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\t\t2017-02-15T18:08:59.483Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tInstanceSecurityGroup-CREATE_IN_PROGRESS-1487182139458\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\t\t2017-02-15T18:08:59.458Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxELB-CREATE_IN_PROGRESS-1487182139441\tAWS::ElasticLoadBalancing::LoadBalancer\tNginxELB\t\t2017-02-15T18:08:59.441Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation3-CREATE_IN_PROGRESS-1487182139267\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\t2017-02-15T18:08:59.267Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation-CREATE_IN_PROGRESS-1487182139190\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation\t\t2017-02-15T18:08:59.190Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute3-CREATE_IN_PROGRESS-1487182139031\tAWS::EC2::Route\tNginxRoute3\t\t2017-02-15T18:08:59.031Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRoute2-CREATE_IN_PROGRESS-1487182138973\tAWS::EC2::Route\tNginxRoute2\t\t2017-02-15T18:08:58.973Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnetRouteTableAssocaiation3-CREATE_IN_PROGRESS-1487182138776\tAWS::EC2::SubnetRouteTableAssociation\tNginxSubnetRouteTableAssocaiation3\t\t2017-02-15T18:08:58.776Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet-CREATE_COMPLETE-1487182138283\tAWS::EC2::Subnet\tNginxSubnet\tsubnet-96be079d\t2017-02-15T18:08:58.283Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxNetworkAcl-CREATE_COMPLETE-1487182138232\tAWS::EC2::NetworkAcl\tNginxNetworkAcl\tacl-37ba6af6\t2017-02-15T18:08:58.232Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tLoadBalancerSecurityGroup-CREATE_COMPLETE-1487182138124\tAWS::EC2::SecurityGroup\tLoadBalancerSecurityGroup\tsg-0fd3e752\t2017-02-15T18:08:58.124Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet2-CREATE_COMPLETE-1487182137439\tAWS::EC2::Subnet\tNginxSubnet2\tsubnet-3db2c928\t2017-02-15T18:08:57.439Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRouteTable-CREATE_COMPLETE-1487182137406\tAWS::EC2::RouteTable\tNginxRouteTable\trtb-04df59c2\t2017-02-15T18:08:57.406Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tCfnUserKey-CREATE_COMPLETE-1487182137381\tAWS::IAM::AccessKey\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\t2017-02-15T18:08:57.381Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxSubnet3-CREATE_COMPLETE-1487182137180\tAWS::EC2::Subnet\tNginxSubnet3\tsubnet-28582056\t2017-02-15T18:08:57.180Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxAttachGateway-CREATE_COMPLETE-1487182137130\tAWS::EC2::VPCGatewayAttachment\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\t2017-02-15T18:08:57.130Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRouteTable2-CREATE_COMPLETE-1487182136829\tAWS::EC2::RouteTable\tNginxRouteTable2\trtb-42be38b0\t2017-02-15T18:08:56.829Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxRouteTable3-CREATE_COMPLETE-1487182136670\tAWS::EC2::RouteTable\tNginxRouteTable3\trtb-f0d83871\t2017-02-15T18:08:56.670Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxAttachGateway-CREATE_IN_PROGRESS-1487182136613\tAWS::EC2::VPCGatewayAttachment\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\t2017-02-15T18:08:56.613Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxNetworkAcl-CREATE_IN_PROGRESS-1487182136479\tAWS::EC2::NetworkAcl\tNginxNetworkAcl\tacl-37ba6af6\t2017-02-15T18:08:56.479Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tCfnUserKey-CREATE_IN_PROGRESS-1487182136273\tAWS::IAM::AccessKey\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\t2017-02-15T18:08:56.273Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxRouteTable-CREATE_IN_PROGRESS-1487182136023\tAWS::EC2::RouteTable\tNginxRouteTable\trtb-04df59c2\t2017-02-15T18:08:56.023Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tCfnUserKey-CREATE_IN_PROGRESS-1487182135912\tAWS::IAM::AccessKey\tCfnUserKey\t\t2017-02-15T18:08:55.912Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable3-CREATE_IN_PROGRESS-1487182135780\tAWS::EC2::RouteTable\tNginxRouteTable3\trtb-f0d83871\t2017-02-15T18:08:55.780Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxSubnet-CREATE_IN_PROGRESS-1487182135713\tAWS::EC2::Subnet\tNginxSubnet\tsubnet-96be079d\t2017-02-15T18:08:55.713Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxNetworkAcl-CREATE_IN_PROGRESS-1487182135703\tAWS::EC2::NetworkAcl\tNginxNetworkAcl\t\t2017-02-15T18:08:55.703Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable-CREATE_IN_PROGRESS-1487182135528\tAWS::EC2::RouteTable\tNginxRouteTable\t\t2017-02-15T18:08:55.528Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet2-CREATE_IN_PROGRESS-1487182135521\tAWS::EC2::Subnet\tNginxSubnet2\tsubnet-3db2c928\t2017-02-15T18:08:55.521Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxSubnet3-CREATE_IN_PROGRESS-1487182135496\tAWS::EC2::Subnet\tNginxSubnet3\tsubnet-28582056\t2017-02-15T18:08:55.496Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tLoadBalancerSecurityGroup-CREATE_IN_PROGRESS-1487182135337\tAWS::EC2::SecurityGroup\tLoadBalancerSecurityGroup\tsg-0fd3e752\t2017-02-15T18:08:55.337Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxRouteTable3-CREATE_IN_PROGRESS-1487182135268\tAWS::EC2::RouteTable\tNginxRouteTable3\t\t2017-02-15T18:08:55.268Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet-CREATE_IN_PROGRESS-1487182135184\tAWS::EC2::Subnet\tNginxSubnet\t\t2017-02-15T18:08:55.184Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxAttachGateway-CREATE_IN_PROGRESS-1487182135126\tAWS::EC2::VPCGatewayAttachment\tNginxAttachGateway\t\t2017-02-15T18:08:55.126Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable2-CREATE_IN_PROGRESS-1487182135094\tAWS::EC2::RouteTable\tNginxRouteTable2\trtb-42be38b0\t2017-02-15T18:08:55.094Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tLoadBalancerSecurityGroup-CREATE_IN_PROGRESS-1487182134959\tAWS::EC2::SecurityGroup\tLoadBalancerSecurityGroup\t\t2017-02-15T18:08:54.959Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet3-CREATE_IN_PROGRESS-1487182134799\tAWS::EC2::Subnet\tNginxSubnet3\t\t2017-02-15T18:08:54.799Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxRouteTable2-CREATE_IN_PROGRESS-1487182134766\tAWS::EC2::RouteTable\tNginxRouteTable2\t\t2017-02-15T18:08:54.766Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxSubnet2-CREATE_IN_PROGRESS-1487182134644\tAWS::EC2::Subnet\tNginxSubnet2\t\t2017-02-15T18:08:54.644Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tCfnUser-CREATE_COMPLETE-1487182133675\tAWS::IAM::User\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\t2017-02-15T18:08:53.675Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxVPC-CREATE_COMPLETE-1487182133650\tAWS::EC2::VPC\tNginxVPC\tvpc-937c7f37\t2017-02-15T18:08:53.650Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tNginxInternetGateway-CREATE_COMPLETE-1487182133258\tAWS::EC2::InternetGateway\tNginxInternetGateway\tigw-6a0f4278\t2017-02-15T18:08:53.258Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tS3LoggingBucket-CREATE_COMPLETE-1487182133233\tAWS::S3::Bucket\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\t2017-02-15T18:08:53.233Z\tCREATE_COMPLETE\r\nEVENT\tEUCA12846Stack\tS3LoggingBucket-CREATE_IN_PROGRESS-1487182132647\tAWS::S3::Bucket\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\t2017-02-15T18:08:52.647Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tCfnUser-CREATE_IN_PROGRESS-1487182132646\tAWS::IAM::User\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\t2017-02-15T18:08:52.646Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxVPC-CREATE_IN_PROGRESS-1487182132609\tAWS::EC2::VPC\tNginxVPC\tvpc-937c7f37\t2017-02-15T18:08:52.609Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tNginxInternetGateway-CREATE_IN_PROGRESS-1487182132609\tAWS::EC2::InternetGateway\tNginxInternetGateway\tigw-6a0f4278\t2017-02-15T18:08:52.609Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tEUCA12846Stack\tCfnUser-CREATE_IN_PROGRESS-1487182132422\tAWS::IAM::User\tCfnUser\t\t2017-02-15T18:08:52.422Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxInternetGateway-CREATE_IN_PROGRESS-1487182132322\tAWS::EC2::InternetGateway\tNginxInternetGateway\t\t2017-02-15T18:08:52.322Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tNginxVPC-CREATE_IN_PROGRESS-1487182132288\tAWS::EC2::VPC\tNginxVPC\t\t2017-02-15T18:08:52.288Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\tS3LoggingBucket-CREATE_IN_PROGRESS-1487182132237\tAWS::S3::Bucket\tS3LoggingBucket\t\t2017-02-15T18:08:52.237Z\tCREATE_IN_PROGRESS\r\nEVENT\tEUCA12846Stack\t95ab0784-8a9c-460c-8d7f-a3fd8b50b97a\tAWS::CloudFormation::Stack\tEUCA12846Stack\tarn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\t2017-02-15T18:08:51.689Z\tCREATE_IN_PROGRESS\tUser Initiated\r\n{code}\r\n\r\n*Steps*\r\n\r\n# Create Eucalyptus VPC cloud with multiple availability zones - [hspencer-400-maint-4.4|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Maint_4.4/400/]\r\n{code}\r\n[root@h-04 ~]# euca-describe-availability-zones --region euca-admin@\r\nAVAILABILITYZONE\tblack-dollar\tavailable\r\nAVAILABILITYZONE\tblack-market\tavailable\r\nAVAILABILITYZONE\tport-of-miami\tavailable\r\n{code}\r\n# Create non-eucalyptus account (example {{development-operations}}) via {{euare-accountcreate}}\r\n# Using other cloud accounts, use up all the resources under one availability zone:\r\n{code}\r\n[root@h-04 ~]# euca-describe-instance-types --show-capacity --by-zone --region euca-admin@\r\nAVAILABILITYZONE\tblack-dollar\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    19 /    24     79%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    19 /    24     79%\r\nINSTANCETYPE\tm1.medium       1           512          10     2    10 /    12     83%\r\nINSTANCETYPE\tc1.medium       2           512          10     2    10 /    12     83%\r\nINSTANCETYPE\tm1.large        2           512          10     3    10 /    12     83%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4    10 /    12     83%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     7 /     9     78%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     7 /     9     78%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     6 /     7     86%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     3 /     3    100%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     3 /     3    100%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n\r\nAVAILABILITYZONE\tblack-market\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    24 /    24    100%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    24 /    24    100%\r\nINSTANCETYPE\tm1.medium       1           512          10     2    12 /    12    100%\r\nINSTANCETYPE\tc1.medium       2           512          10     2    12 /    12    100%\r\nINSTANCETYPE\tm1.large        2           512          10     3    12 /    12    100%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4    12 /    12    100%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     6 /     6    100%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     6 /     6    100%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     6 /     6    100%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n\r\nAVAILABILITYZONE\tport-of-miami\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    15 /    24     62%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    15 /    24     62%\r\nINSTANCETYPE\tm1.medium       1           512          10     2     8 /    12     67%\r\nINSTANCETYPE\tc1.medium       2           512          10     2     8 /    12     67%\r\nINSTANCETYPE\tm1.large        2           512          10     3     8 /    12     67%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4     8 /    12     67%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     2 /     6     33%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     2 /     6     33%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     4 /     6     67%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n{code}\r\n# Using linked {{cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json}}, deploy stack:\r\n{code}\r\n[root@h-04 ~]# euform-create-stack EUCA12846Stack --template-file cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json --capabilities CAPABILITY_IAM --parameter ImageId=emi-63ef779d --parameter KeyName=devops-admin --parameter EndPoint=http://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --parameter MinSize=3 --parameter MaxSize=6 --region devops-admin@\r\narn:aws:cloudformation::000727120439:stack/EUCA12846Stack/482fed56-ddd6-4482-a304-f18439af9044\r\n{code}\r\n# Observe stack failing to deploy due to ELB not being able to be created:\r\n{code}\r\n[root@h-04 ~]# euform-describe-stack-resources -n EUCA12846Stack --region devops-admin@\r\nRESOURCE\tNginxRouteTable\trtb-04df59c2\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet2\tsubnet-3db2c928\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet\tsubnet-96be079d\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxVPC\tvpc-937c7f37\tAWS::EC2::VPC\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxAttachGateway\tEUCA12846Stack-NginxAttachGateway-EVNWPYSCFQ8FF\tAWS::EC2::VPCGatewayAttachment\t\tCREATE_COMPLETE\r\nRESOURCE\tCfnUser\tEUCA12846Stack-CfnUser-MQPLTRZIOOKHS\tAWS::IAM::User\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRouteTable2\trtb-42be38b0\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnet3\tsubnet-28582056\tAWS::EC2::Subnet\t\tCREATE_COMPLETE\r\nRESOURCE\tLoadBalancerSecurityGroup\tsg-0fd3e752\tAWS::EC2::SecurityGroup\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRoute\t\tAWS::EC2::Route\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tS3LoggingBucket\teuca12846stack-s3loggingbucket-i61aplrsnddjk\tAWS::S3::Bucket\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxRoute2\tEUCA12846Stack-NginxRoute2-PE3F3D0LNBTBK\tAWS::EC2::Route\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation\t\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tInstanceSecurityGroup\tsg-134aada8\tAWS::EC2::SecurityGroup\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation2\t\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxRouteTable3\trtb-f0d83871\tAWS::EC2::RouteTable\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxNetworkAcl\tacl-37ba6af6\tAWS::EC2::NetworkAcl\t\tCREATE_COMPLETE\r\nRESOURCE\tNginxSubnetRouteTableAssocaiation3\trtbassoc-98d08bab\tAWS::EC2::SubnetRouteTableAssociation\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundHTTPNetworkAclEntry\tEUCA12846Stack-InboundHTTPNetworkAclEntry-SGNCYH96XDVMT\tAWS::EC2::NetworkAclEntry\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundSSHNetworkAclEntry\tEUCA12846Stack-InboundSSHNetworkAclEntry-M7AN7NTDZCJM9\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxInternetGateway\tigw-6a0f4278\tAWS::EC2::InternetGateway\t\tCREATE_COMPLETE\r\nRESOURCE\tInboundResponsePortsNetworkAclEntry\t\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tCfnUserKey\tAKIAALT2DGLWNDDF2HCZ\tAWS::IAM::AccessKey\t\tCREATE_COMPLETE\r\nRESOURCE\tOutBoundNetworkAclEntry\t\tAWS::EC2::NetworkAclEntry\t\tCREATE_FAILED\tResource creation cancelled\r\nRESOURCE\tNginxELB\t\tAWS::ElasticLoadBalancing::LoadBalancer\t\tCREATE_FAILED\tFailed to create loadbalancer: Not enough resources to create loadbalancer\r\nRESOURCE\tNginxRoute3\tEUCA12846Stack-NginxRoute3-R4FGKHLQPBZSW\tAWS::EC2::Route\t\tCREATE_FAILED\tResource creation cancelled\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/39311","id":"39311","filename":"cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-15T12:26:54.257-0600","size":18914,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/39311/cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json"}],"aggregatetimeestimate":null,"summary":"ELB fails to create when one out of multiple AZs is 100% utilized","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_13489174","customfield_12100":"0|i042rj:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2017-02-15T13:13:08.214-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["dmitrii(dmitrii)","hspencer(hspencer)","spark(spark)"],"customfield_10116":null,"environment":"Eucalyptus VPC cloud with multiple availability zones","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/54809/comment/117655","id":"117655","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"When space is freed on the AZ, the stack deploys just fine:\r\n{code}\r\n[root@h-04 ~]# euca-describe-instance-types --show-capacity --by-zone --region euca-admin@\r\nAVAILABILITYZONE\tblack-dollar\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    19 /    24     79%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    19 /    24     79%\r\nINSTANCETYPE\tm1.medium       1           512          10     2    10 /    12     83%\r\nINSTANCETYPE\tc1.medium       2           512          10     2    10 /    12     83%\r\nINSTANCETYPE\tm1.large        2           512          10     3    10 /    12     83%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4    10 /    12     83%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     7 /     9     78%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     7 /     9     78%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     6 /     7     86%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     3 /     3    100%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     3 /     3    100%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n\r\nAVAILABILITYZONE\tblack-market\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    18 /    24     75%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    18 /    24     75%\r\nINSTANCETYPE\tm1.medium       1           512          10     2     9 /    12     75%\r\nINSTANCETYPE\tc1.medium       2           512          10     2     9 /    12     75%\r\nINSTANCETYPE\tm1.large        2           512          10     3     9 /    12     75%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4     9 /    12     75%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     3 /     6     50%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     3 /     6     50%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     4 /     6     67%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     1 /     2     50%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     1 /     2     50%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n\r\nAVAILABILITYZONE\tport-of-miami\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  NICs  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2    15 /    24     62%\r\nINSTANCETYPE\tt1.micro        1           256           5     2    15 /    24     62%\r\nINSTANCETYPE\tm1.medium       1           512          10     2     8 /    12     67%\r\nINSTANCETYPE\tc1.medium       2           512          10     2     8 /    12     67%\r\nINSTANCETYPE\tm1.large        2           512          10     3     8 /    12     67%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     4     8 /    12     67%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     4     2 /     6     33%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     4     2 /     6     33%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     4     4 /     6     67%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     4     2 /     2    100%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     4     2 /     2    100%\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     8     2 /     2    100%\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     8     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     8     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     8     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     8     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     8     0 /     0\r\n\r\n[root@h-04 ~]# euform-create-stack EUCA12846Stack --template-file cfn-elb-multiaz-accesslog-cloudwatch-vpc-template.json --capabilities CAPABILITY_IAM --parameter ImageId=emi-63ef779d --parameter KeyName=devops-admin --parameter EndPoint=http://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --parameter MinSize=3 --parameter MaxSize=6 --region devops-admin@\r\narn:aws:cloudformation::000727120439:stack/EUCA12846Stack/7b5190c6-1409-4a7e-83b2-9c20612a9eeb\r\n[root@h-04 ~]# euform-describe-stacks EUCA12846Stack --region devops-admin@\r\nSTACK\tEUCA12846Stack\tCREATE_COMPLETE\t\tCloudFormation template to deploy a 3 availability zone ELB, Nginx deployment on Eucalyptus VPC cloud\t2017-02-15T18:33:45.283Z\r\nPARAMETER\tImageId\t\temi-63ef779d\r\nPARAMETER\tKeyName\t\tdevops-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tMinSize\t\t3\r\nPARAMETER\tMaxSize\t\t6\r\nOUTPUT\tAccessLogBucket\teuca12846stack-s3loggingbucket-t7qaxknco7oqh\r\nOUTPUT\tELBURL\thttp://EUCA12846-NginxELB-TSBYRXYZQS7K6-000727120439.lb.e-32.autoqa.qa1.eucalyptus-systems.com\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-15T12:40:50.969-0600","updated":"2017-02-15T12:40:50.969-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/54809/comment/117659","id":"117659","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"body":"There is a check that prevents creating an LB when an AZ is out of resource. I think that's a reasonable behavior for us. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-02-15T13:13:08.214-0600","updated":"2017-02-15T13:13:08.214-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/54809/comment/117672","id":"117672","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"[~spark], if there is a better design that we should consider in the future, would you file an improvement/feature ticket for it?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-02-15T16:15:00.073-0600","updated":"2017-02-15T16:15:00.073-0600"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-13236/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}