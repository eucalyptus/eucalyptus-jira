{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"22200","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200","key":"EUCA-6771","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@773671f[id=25,rapidViewId=<null>,state=CLOSED,name=3.4 Sprint 3,goal=<null>,startDate=2013-08-05T20:25:51.072Z,endDate=2013-08-23T22:25:51.072Z,completeDate=2013-08-26T23:03:40.634Z,sequence=25]","com.atlassian.greenhopper.service.sprint.Sprint@15619ef0[id=26,rapidViewId=64,state=CLOSED,name=3.4 Sprint 4,goal=<null>,startDate=2013-08-27T04:24:27.505Z,endDate=2013-09-17T04:24:00.000Z,completeDate=2013-09-17T00:38:04.117Z,sequence=26]","com.atlassian.greenhopper.service.sprint.Sprint@305dcc05[id=27,rapidViewId=34,state=CLOSED,name=3.4 Sprint 5,goal=<null>,startDate=2013-09-17T19:21:02.124Z,endDate=2013-10-04T22:21:00.000Z,completeDate=2013-10-09T15:31:36.581Z,sequence=27]","com.atlassian.greenhopper.service.sprint.Sprint@9db650c[id=29,rapidViewId=64,state=CLOSED,name=3.4 Sprint 6,goal=<null>,startDate=2013-10-09T15:36:36.638Z,endDate=2013-10-21T15:36:00.000Z,completeDate=2013-10-24T18:46:44.066Z,sequence=29]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2013-10-14T10:30:29.245-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-6771/watchers","watchCount":2,"isWatching":false},"created":"2013-06-27T00:08:14.754-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{repository={count=2, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":2,\"lastUpdated\":\"2013-08-23T19:02:43.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":2,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_11901":null,"issuelinks":[{"id":"18800","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/18800","type":{"id":"10100","name":"Blocks","inward":"is blocked by","outward":"blocks","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10100"},"outwardIssue":{"id":"20589","key":"EUCA-5794","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20589","fields":{"summary":"Support for AWS Ruby SDK","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}},{"id":"19731","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/19731","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"23463","key":"DOC-994","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23463","fields":{"summary":"Document new configuration property for unknown parameter handling with Query APIs","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"updated":"2014-06-16T16:17:49.640-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10006","id":"10006","name":"Euare"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"Hi All,\r\n\r\nTrying to run CreateRole operation using AWS Ruby SDK version 1.8.5 , following request and response is seen with AWS IAM\r\n\r\nRequest\r\n\r\n{code}\r\nopening connection to iam.amazonaws.com...\r\nopened\r\n<- \"POST / HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\\r\\nContent-Length: 334\\r\\nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux\\r\\nHost: iam.amazonaws.com\\r\\nX-Amz-Date: 20130627T042147Z\\r\\nX-Amz-Content-Sha256: 95806dc09d2de66deadd5a311eb4e117702218f01382fd1be2bf09174720a4fb\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=XCSE0O0MRLBI1NRDGDXN0/20130627/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=ca0d204cdb899d4a1ca5e156e20e0576d2a72f1d973e4eff33b62fbd6a58f478\\r\\nAccept: */*\\r\\n\\r\\n\"\r\n<- \"Action=CreateRole&AssumeRolePolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D&RoleName=s3-read-only&Timestamp=2013-06-27T04%3A21%3A47Z&Version=2010-05-08\"\r\n{code}\r\n\r\nResponse\r\n\r\n{code}\r\n-> \"HTTP/1.1 200 OK\\r\\n\"\r\n-> \"x-amzn-RequestId: 15119e3f-dee1-11e2-af3f-f58037e41cee\\r\\n\"\r\n-> \"Content-Type: text/xml\\r\\n\"\r\n-> \"Content-Length: 764\\r\\n\"\r\n-> \"Date: Thu, 27 Jun 2013 04:21:47 GMT\\r\\n\"\r\n-> \"\\r\\n\"\r\nreading 764 bytes...\r\n-> \"<CreateRoleResponse xmlns=\\\"https://iam.amazonaws.com/doc/2010-05-08/\\\">\\n  <CreateRoleResult>\\n    <Role>\\n      <Path>/</Path>\\n      <Arn>arn:aws:iam::048212016277:role/s3-read-only</Arn>\\n      <RoleName>s3-read-only</RoleName>\\n      <AssumeRolePolicyDocument>%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D</AssumeRolePolicyDocument>\\n      <CreateDate>2013-06-27T04:21:47.815Z</CreateDate>\\n      <RoleId>AROAIIGBZTZUJU7FNGRQ2</RoleId>\\n    </Role>\\n  </CreateRoleResult>\\n  <ResponseMetadata>\\n    <RequestId>15119e3f-dee1-11e2-af3f-f58037e41cee</RequestId>\\n  </ResponseMetadata>\\n</CreateRoleResponse>\\n\"\r\nread 764 bytes\r\nConn keep-alive\r\n{code}\r\n\r\n\r\nSame thing against Euare 3.3.0\r\n\r\nRequest\r\n\r\n{code}\r\nopening connection to 10.104.1.210...\r\nopened\r\n<- \"POST /services/Euare HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\\r\\nContent-Length: 334\\r\\nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux\\r\\nHost: 10.104.1.210\\r\\nX-Amz-Date: 20130627T050216Z\\r\\nX-Amz-Content-Sha256: 2f5b50e4bb0bcd84b24a84468722deb9d1e9e5c982775c1850e537d202c72aa1\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=XCSE0O0MRLBI1NRDGDXN0/20130627/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=61a4df1a7313b7a1529137bf9cd79ccdd41c441b450afebc236d5957009c8a14\\r\\nAccept: */*\\r\\n\\r\\n\"\r\n<- \"Action=CreateRole&AssumeRolePolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D&RoleName=s3-read-only&Timestamp=2013-06-27T05%3A02%3A16Z&Version=2010-05-08\"\r\n{code}\r\n\r\nResponse\r\n\r\n{code}\r\n-> \"HTTP/1.1 400 Bad Request\\r\\n\"\r\n-> \"Connection: close\\r\\n\"\r\n-> \"Content-Length: 284\\r\\n\"\r\n-> \"Content-Type: text/plain; charset=UTF-8\\r\\n\"\r\n-> \"\\r\\n\"\r\nreading 284 bytes...\r\n-> \"<?xml version=\\\"1.0\\\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>Failed to bind the following fields:\\nTimestamp = 2013-06-27T05:02:16Z\\n</Message></Error></Errors><RequestID>Failed to bind the following fields:\\nTimestamp = 2013-06-27T05:02:16Z\\n</RequestID></Response>\"\r\nread 284 bytes\r\nConn close\r\n/usr/local/lib/ruby/gems/1.9.1/gems/aws-sdk-1.8.5/lib/aws/core/client.rb:339:in `return_or_raise': <?xml version=\"1.0\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>Failed to bind the following fields: (AWS::Errors::Base)\r\nTimestamp = 2013-06-27T05:02:16Z\r\n</Message></Error></Errors><RequestID>Failed to bind the following fields:\r\nTimestamp = 2013-06-27T05:02:16Z\r\n</RequestID></Response>\r\n{code}\r\n\r\nFollowing the snippet of code\r\n\r\n{code}\r\nrequire 'rubygems'\r\nrequire 'yaml'\r\nrequire 'aws-sdk'\r\nrequire 'logger'\r\n\r\nAWS.config({\r\n  :access_key_id => 'XCSE0O0MRLBI1NRDGDXN0',\r\n  :secret_access_key => 'F8aRCTVGroCALk94oPmRONuFuqq8ORxabxOGNA71',\r\n  :iam_endpoint => '10.104.1.210',\r\n  :iam_service_path => '/services/Euare',\r\n  :iam_port => 8773,\r\n  :use_ssl => false,\r\n  :http_wire_trace => true,\r\n})\r\n\r\n# the role, policy and profile all have names, pick something descriptive\r\nrole_name = 's3-read-only'\r\npolicy_name = 's3-read-only'\r\nprofile_name = 's3-read-only'\r\n# required so that Amazon EC2 can generate session credentials on your behalf\r\nassume_role_policy_document = '{\"Version\":\"2008-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ec2.amazonaws.com\"]},\"Action\":[\"sts:AssumeRole\"]}]}'\r\n# build a custom policy    \r\npolicy = AWS::IAM::Policy.new\r\npolicy.allow(:actions => [\"s3:Get*\",\"s3:List*\"], :resources => '*')\r\n\r\niam = AWS::IAM.new\r\n# create the role\r\niam.client.create_role({\r\n  :role_name => role_name,\r\n  :assume_role_policy_document => assume_role_policy_document\r\n})\r\n{code}\r\n\r\nPlease let me know if there are any questions.\r\n\r\nCheers!\r\nDeependra","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"CreateRole api call gives bad request","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"customfield_12100":"0|i00izj:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10001_*:*_1_*:*_4738527799_*|*_10002_*:*_1_*:*_198807491_*|*_10000_*:*_1_*:*_57343246_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_4460256021","customfield_10001":"2013-06-27T12:58:17.005-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["dshekhawat(dshekhawat)","sjones(sjones)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49002","id":"49002","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"I tested this operation with Eucalobo and following was the wire trace\n\nRequest\n\n{code}\n######\nT 10.8.0.46:57235 -> 10.104.1.210:8773 [AP]\nPOST /services/Euare HTTP/1.1 \nHost: 10.104.1.210:8773 \nUser-Agent: EucaLobo/4.2.1 \nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 \nAccept-Language: en-us,en;q=0.5 \nAccept-Encoding: gzip, deflate \nConnection: close \nContent-Length: 946 \nContent-Type: application/x-www-form-urlencoded; charset=utf-8 \nPragma: no-cache \nCache-Control: no-cache \n \nAWSAccessKeyId=XCSE0O0MRLBI1NRDGDXN0&Action=CreateRole&AssumeRolePolicyDocument=%7B%0A%20%20%20%20%22Statement%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Principal%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Service%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ec2.amazonaws.com%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Effect%22%3A%20%22Allow%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Action%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sts%3AAssumeRole%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%7D&Path=%2Fpath&RoleName=s3-role&SignatureMethod=HmacSHA1&SignatureVersion=2&Timestamp=2013-06-27T06%3A27%3A40Z&Version=2010-05-08&Signature=3kH%2FDtVrYhnuDFL15%2BpjeXcOcJY%3D\n##\n{code}\n\nResponse\n\n{code}\nT 10.104.1.210:8773 -> 10.8.0.46:57235 [AP]\nHTTP/1.1 200 OK \nContent-Length: 755 \nContent-Type: application/xml; charset=UTF-8 \n \n<CreateRoleResponse xmlns=\"http://iam.amazonaws.com/doc/2010-05-08/\"><CreateRoleResult><Role><Path>/path</Path><RoleName>s3-role</RoleName><RoleId>31LOWFJWNFNSE4SGOYRUG</RoleId><Arn>arn:aws:iam::080841048930:role/path/s3-role</Arn><CreateDate>2013-06-27T06:27:40.739Z</CreateDate><AssumeRolePolicyDocument>{\n    \"Statement\": [\n        {\n            \"Principal\": {\n                \"Service\": [\n                    \"ec2.amazonaws.com\"\n                ]\n            },\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"sts:AssumeRole\"\n            ]\n        }\n    ]\n}</AssumeRolePolicyDocument></Role></CreateRoleResult><ResponseMetadata><RequestId>e06909ec-f0eb-44f9-877e-ff83f49fc838</RequestId></ResponseMetadata></CreateRoleResponse>\n#\n{code}\n\nSo here it seems to have worked. Not sure about the exact cause of problem with AWS Ruby SDK.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-06-27T01:31:21.112-0500","updated":"2013-06-27T01:31:21.112-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49003","id":"49003","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"It appears that AWS Ruby SDK 1.8.5 is using signature version 4 and that is causing the trouble?\n\n{code}\n# ngrep -d lo -P' ' -Wbyline port 8773\ninterface: lo (127.0.0.0/255.0.0.0)\nfilter: (ip or ip6) and ( port 8773 )\n####\nT 10.104.1.210:49574 -> 10.104.1.210:8773 [AP]\nPOST /services/Euare HTTP/1.1 \nContent-Type: application/x-www-form-urlencoded; charset=utf-8 \nContent-Length: 334 \nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux \nHost: 10.104.1.210 \nX-Amz-Date: 20130627T063820Z \nX-Amz-Content-Sha256: a5edeeac97f0600048b50c3e1a9dec123f4e42d27554a20b72e23aef29bff8d4 \nAuthorization: AWS4-HMAC-SHA256 Credential=XCSE0O0MRLBI1NRDGDXN0/20130627/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=5f588328f9a06f91393310a1b54f433b001d93bc2b6add0e51196af92ea9f19f \nAccept: */* \n \n\n##\nT 10.104.1.210:49574 -> 10.104.1.210:8773 [AP]\nAction=CreateRole&AssumeRolePolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D&RoleName=s3-read-only&Timestamp=2013-06-27T06%3A38%3A20Z&Version=2010-05-08\n##\nT 10.104.1.210:8773 -> 10.104.1.210:49574 [AP]\nHTTP/1.1 400 Bad Request \nConnection: close \nContent-Length: 284 \nContent-Type: text/plain; charset=UTF-8 \n \n<?xml version=\"1.0\"?><Response><Errors><Error><Code>400 Bad Request</Code><Message>Failed to bind the following fields:\nTimestamp = 2013-06-27T06:38:20Z\n</Message></Error></Errors><RequestID>Failed to bind the following fields:\nTimestamp = 2013-06-27T06:38:20Z\n</RequestID></Response>\n####^Cexit\n48 received, 0 dropped\n{code}\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-06-27T01:41:34.057-0500","updated":"2013-06-27T01:41:34.057-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49005","id":"49005","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Ran the IAM Role test suite from eutester4j (using AWS JAVA SDK) , below is the wire dump\n\nRequest\n\n{code}\n#\nT 10.104.1.210:33613 -> 10.104.1.210:8773 [AP]\nPOST /services/Euare/ HTTP/1.1 \nHost: 10.104.1.210:8773 \nX-Amz-Date: 20130627T101759Z \nAuthorization: AWS4-HMAC-SHA256 Credential=XCSE0O0MRLBI1NRDGDXN0/20130627/us-east-1/iam/aws4_request, SignedHeaders=host;user-agent;x-amz-date, Signature=d2cce9e71910cf9253a94d58f269cf867c263b7f3ecc04bf1c73d7de6822e320 \nUser-Agent: aws-sdk-java/1.4.7 Linux/2.6.32-358.11.1.el6.x86_64 OpenJDK_64-Bit_Server_VM/23.7-b01 \nContent-Type: application/x-www-form-urlencoded; charset=utf-8 \nContent-Length: 356 \nConnection: Keep-Alive \n \nRoleName=3fe913444bc5e674-ProfileTest&Action=CreateRole&AssumeRolePolicyDocument=%7B%0A++++%22Statement%22%3A+%5B+%7B%0A++++++%22Effect%22%3A+%22Allow%22%2C%0A++++++%22Principal%22%3A+%7B%0A+++++++++%22Service%22%3A+%5B+%22ec2.amazonaws.com%22+%5D%0A++++++%7D%2C%0A++++++%22Action%22%3A+%5B+%22sts%3AAssumeRole%22+%5D%0A++++%7D+%5D%0A%7D&Version=2010-05-08\n{code}\n\nResponse\n\n{code}\n##\nT 10.104.1.210:8773 -> 10.104.1.210:33613 [AP]\nHTTP/1.1 200 OK \nContent-Length: 676 \nContent-Type: application/xml; charset=UTF-8 \n \n<CreateRoleResponse xmlns=\"http://iam.amazonaws.com/doc/2010-05-08/\"><CreateRoleResult><Role><Path>/</Path><RoleName>3fe913444bc5e674-ProfileTest</RoleName><RoleId>4QI23TP2AGFF6TIZRZ9JM</RoleId><Arn>arn:aws:iam::080841048930:role/3fe913444bc5e674-ProfileTest</Arn><CreateDate>2013-06-27T10:17:59.96Z</CreateDate><AssumeRolePolicyDocument>{\n    \"Statement\": [ {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n         \"Service\": [ \"ec2.amazonaws.com\" ]\n      },\n      \"Action\": [ \"sts:AssumeRole\" ]\n    } ]\n}</AssumeRolePolicyDocument></Role></CreateRoleResult><ResponseMetadata><RequestId>f9f174e7-0daf-4dfe-897f-83cf0d23bbdb</RequestId></ResponseMetadata></CreateRoleResponse>\n#\n{code}\n\nUsing signature version 4 with no timestamp parameter in the request , it seems to have worked.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-06-27T05:21:56.362-0500","updated":"2013-06-27T05:21:56.362-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49006","id":"49006","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"OK! Finally I removed the Timestamp parameter from the request by modifying the following file from AWS Ruby SDK 1.8.5 source code\n\naws-sdk-1.8.5/lib/aws/core/query_request_builder.rb\n\n{code}\n     26       def populate_request request, options\n     27 \n     28           now = Time.now.utc.strftime('%Y-%m-%dT%H:%M:%SZ')\n     29 \n     30           request.headers['Content-Type'] =\n     31             \"application/x-www-form-urlencoded; charset=utf-8\"\n     32 \n     33           # request.add_param 'Timestamp', now\n     34           request.add_param 'Version', @api_version\n     35           request.add_param 'Action', @operation_name\n{code}\n\nCheck the comment put in line number 33. After this following was seen (working):\n\nRequest\n\n{code}\nopening connection to 10.104.1.210...\nopened\n<- \"POST /services/Euare HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\\r\\nContent-Length: 299\\r\\nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux\\r\\nHost: 10.104.1.210\\r\\nX-Amz-Date: 20130627T102345Z\\r\\nX-Amz-Content-Sha256: 676697f77ce92218830c2666e03da4b5bb45ab84fd5afe468af121d83e9ecb4a\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=XCSE0O0MRLBI1NRDGDXN0/20130627/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=03a4f88c57000764b2f69a4c203c6e98c516bf15748e67dc575839082cef1035\\r\\nAccept: */*\\r\\n\\r\\n\"\n<- \"Action=CreateRole&AssumeRolePolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D&RoleName=s3-read-only&Version=2010-05-08\"\n{code}\n\nResponse\n\n{code}\n-> \"HTTP/1.1 200 OK\\r\\n\"\n-> \"Content-Length: 608\\r\\n\"\n-> \"Content-Type: application/xml; charset=UTF-8\\r\\n\"\n-> \"\\r\\n\"\nreading 608 bytes...\n-> \"<CreateRoleResponse xmlns=\\\"http://iam.amazonaws.com/doc/2010-05-08/\\\"><CreateRoleResult><Role><Path>/</Path><RoleName>s3-read-only</RoleName><RoleId>EGDAZ3MDP2O0DOOT7IDUN</RoleId><Arn>arn:aws:iam::080841048930:role/s3-read-only</Arn><CreateDate>2013-06-27T10:23:45.977Z</CreateDate><AssumeRolePolicyDocument>{\\\"Version\\\":\\\"2008-10-17\\\",\\\"Statement\\\":[{\\\"Effect\\\":\\\"Allow\\\",\\\"Principal\\\":{\\\"Service\\\":[\\\"ec2.amazonaws.com\\\"]},\\\"Action\\\":[\\\"sts:AssumeRole\\\"]}]}</AssumeRolePolicyDocument></Role></CreateRoleResult><ResponseMetadata><RequestId>ec4091c0-1a1d-4f78-8491-2c94819046c1</RequestId></ResponseMetadata></CreateRoleResponse>\"\nread 608 bytes\nConn keep-alive\n{code}\n\nThe IAM Role is then visible when checked. \n\nReading more on the API documentation from AWS here \n\nhttp://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateRole.html\n\nIt talks about \"common parameters\"\n\n\"For information about the common parameters that all actions use, see Common Parameters.\"\n\nhttp://docs.aws.amazon.com/IAM/latest/APIReference/CommonParameters.html\n\nHere the parameter \"Timestamp\" is listed. So we should accept it \n\nNot sure where exactly to look in Eucalyptus source code but I found the following \n\n{code}\n  <mapping name=\"CreateRole\" class=\"com.eucalyptus.auth.euare.CreateRoleType\" extends=\"com.eucalyptus.auth.euare.EuareMessage\">\n    <structure map-as=\"com.eucalyptus.auth.euare.EuareMessage\"/>\n    <value name=\"DelegateAccount\" field=\"delegateAccount\" usage=\"optional\"/>\n    <value name=\"Path\" field=\"path\" usage=\"optional\"/>\n    <value name=\"RoleName\" field=\"roleName\" usage=\"required\"/>\n    <value name=\"AssumeRolePolicyDocument\" field=\"assumeRolePolicyDocument\" usage=\"required\"/>\n  </mapping>\n{code}\n\nIn source code file ./clc/modules/euare-common/src/main/resources/euare-binding.xml\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-06-27T05:33:34.247-0500","updated":"2013-06-27T05:33:34.247-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49011","id":"49011","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Timestamp is a signature v2 parameter so is not meaningful in a signature v4 request. \n\n[~dshekhawat], please could you try adding an arbitrary parameter to see if AWS permits any unexpected parameters, e.g.\n\n{code}\n     33           # request.add_param 'Timestamp', now\n     34           request.add_param 'Parameter', 'Value'\n     35           request.add_param 'Version', @api_version\n{code}\n\nThis will help determine if we should fix by ignoring signature v2 parameters only or should ignore any unexpected parameter.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-27T12:58:17.005-0500","updated":"2013-06-27T12:58:17.005-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/49041","id":"49041","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Thanks [~sjones] for your response. I did what you said:\n\n{code}\n     26       def populate_request request, options\n     27 \n     28           now = Time.now.utc.strftime('%Y-%m-%dT%H:%M:%SZ')\n     29 \n     30           request.headers['Content-Type'] =\n     31             \"application/x-www-form-urlencoded; charset=utf-8\"\n     32 \n     33           request.add_param 'Timestamp', now\n     34           request.add_param 'Version', @api_version\n     35           request.add_param 'Action', @operation_name\n     36           request.add_param 'name', 'deependra'\n     37 \n     38           @grammar.request_params(options).each do |param|\n     39             request.add_param(param)\n     40           end\n     41           request.body = request.url_encoded_params\n     42 \n     43       end\n     44 \n{code}\n\nSee line number 36, this is a randomly added new parameter. \n\nNow the request\n\n{code}\nopening connection to iam.amazonaws.com...\nopened\n<- \"POST / HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\\r\\nContent-Length: 349\\r\\nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux\\r\\nHost: iam.amazonaws.com\\r\\nX-Amz-Date: 20130628T035222Z\\r\\nX-Amz-Content-Sha256: c7c3ad2ac714f8aaa2f772f0049c69334a8ec0024d77d0a057199d061883edec\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJ2OLOKRK2JXBIZMQ/20130628/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=8abef2a1421cb70bc4c0b54eafb331b4beab194b8df2ee55c1ec5df83f9022b1\\r\\nAccept: */*\\r\\n\\r\\n\"\n<- \"Action=CreateRole&AssumeRolePolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D&RoleName=s3-read-only&Timestamp=2013-06-28T03%3A52%3A22Z&Version=2010-05-08&name=deependra\"\n{code}\n\nAs can be seen the request now has the new parameter and value.\n\nResponse\n\n{code}\n-> \"HTTP/1.1 200 OK\\r\\n\"\n-> \"x-amzn-RequestId: 23d5426f-dfa6-11e2-af7c-112dcfc16bf4\\r\\n\"\n-> \"Content-Type: text/xml\\r\\n\"\n-> \"Content-Length: 764\\r\\n\"\n-> \"Date: Fri, 28 Jun 2013 03:52:23 GMT\\r\\n\"\n-> \"\\r\\n\"\nreading 764 bytes...\n-> \"<CreateRoleResponse xmlns=\\\"https://iam.amazonaws.com/doc/2010-05-08/\\\">\\n  <CreateRoleResult>\\n    <Role>\\n      <Path>/</Path>\\n      <Arn>arn:aws:iam::048212016277:role/s3-read-only</Arn>\\n      <RoleName>s3-read-only</RoleName>\\n      <AssumeRolePolicyDocument>%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%5B%22ec2.amazonaws.com%22%5D%7D%2C%22Action%22%3A%5B%22sts%3AAssumeRole%22%5D%7D%5D%7D</AssumeRolePolicyDocument>\\n      <CreateDate>2013-06-28T03:52:23.470Z</CreateDate>\\n      <RoleId>AROAIVOKYLZFZD6OGYLD2</RoleId>\\n    </Role>\\n  </CreateRoleResult>\\n  <ResponseMetadata>\\n    <RequestId>23d5426f-dfa6-11e2-af7c-112dcfc16bf4</RequestId>\\n  </ResponseMetadata>\\n</CreateRoleResponse>\\n\"\nread 764 bytes\nConn keep-alive\n<- \"POST / HTTP/1.1\\r\\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\\r\\nContent-Length: 345\\r\\nUser-Agent: aws-sdk-ruby/1.8.5 ruby/1.9.3 x86_64-linux\\r\\nHost: iam.amazonaws.com\\r\\nX-Amz-Date: 20130628T035223Z\\r\\nX-Amz-Content-Sha256: e041452c96e7503b79138f7c2d163a88de29d143f76e7ad34ebd1b523be16736\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=AKIAJ2OLOKRK2JXBIZMQ/20130628/us-east-1/iam/aws4_request, SignedHeaders=content-length;content-type;host;user-agent;x-amz-content-sha256;x-amz-date, Signature=ff7381b657f2d276fae3c3673da3e509404f4b73e421f683841309f710189175\\r\\nAccept: */*\\r\\n\\r\\n\"\n<- \"Action=PutRolePolicy&PolicyDocument=%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Effect%22%3A%22Allow%22%2C%22Resource%22%3A%5B%22%2A%22%5D%2C%22Action%22%3A%5B%22s3%3AGet%2A%22%2C%22s3%3AList%2A%22%5D%7D%5D%7D&PolicyName=s3-read-only&RoleName=s3-read-only&Timestamp=2013-06-28T03%3A52%3A23Z&Version=2010-05-08&name=deependra\"\n-> \"HTTP/1.1 200 OK\\r\\n\"\n-> \"x-amzn-RequestId: 24072795-dfa6-11e2-9d6d-0b5035168c31\\r\\n\"\n-> \"Content-Type: text/xml\\r\\n\"\n-> \"Content-Length: 206\\r\\n\"\n-> \"Date: Fri, 28 Jun 2013 03:52:22 GMT\\r\\n\"\n-> \"\\r\\n\"\nreading 206 bytes...\n-> \"<PutRolePolicyResponse xmlns=\\\"https://iam.amazonaws.com/doc/2010-05-08/\\\">\\n  <ResponseMetadata>\\n    <RequestId>24072795-dfa6-11e2-9d6d-0b5035168c31</RequestId>\\n  </ResponseMetadata>\\n</PutRolePolicyResponse>\\n\"\nread 206 bytes\nConn keep-alive\n{code}\n\nAs seen above in the response it is clear that any random (unexpected) parameter when added does not break it.\n\nPlease let me know if you have any additional questions.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-06-27T22:55:56.126-0500","updated":"2013-06-27T22:55:56.126-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/52032","id":"52032","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Query API parameters that are not recognized are now ignored by default rather than causing a request to fail for services other than EC2. \n\nA configuration property is added to allow unknown parameters to be ignored for all services or treated an an error for all services:\n\n{code}\nbootstrap.webservices.unknown_parameter_handling = default\n{code}\n\nThe new property can be set as follows:\n\n* \"default\" - Use each services default handling (i.e. Error with EC2, ignore unknown parameters for other services)\n* \"ignore\" - All services ignore unknown parameters\n* \"error\" - All services fail with an error for unknown parameters\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-08-23T19:29:46.114-0500","updated":"2013-08-23T19:29:46.114-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22200/comment/55805","id":"55805","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Thanks [~sjones] , I tested this fix against following commit ID\r\n\r\n{code}\r\n43ee8e45d2d28f539dad364cc2695e2e07f9c47c\r\n{code}\r\n\r\nI can confirm that now the unknown parameters are ignored for Euare. I could not confirm it for EC2 and the \"default\" value for property bootstrap.webservices.unknown_parameter_handling but I think for this ticket it looks good.\r\n\r\nI also modified the property to \"error\" and could see that the same code fails to run because now we send an error back for \"unknown parameters\".\r\n\r\nI am just wondering if its possible to send meaningful error back from server if unknown parameters are sent back? Currently we are having this\r\n\r\n{code}\r\n2013-10-14 02:35:24 ERROR 000000590 NioServerHandler         | Internal Error: Failed to bind the following fields:\r\n                          | name = deependra\r\n                          | Timestamp = 2013-10-14T09:35:24Z\r\n{code}\r\n\r\nThoughts?\r\n\r\n[~tony] I can't move this bug forward (not sure why?) but can you move it forward based on my comment here?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-10-14T04:36:22.596-0500","updated":"2013-10-14T04:36:22.596-0500"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-6771/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}