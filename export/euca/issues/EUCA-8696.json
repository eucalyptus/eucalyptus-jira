{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"27176","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27176","key":"EUCA-8696","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10211","value":"RHEL 6","id":"10211"}],"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10308","value":"Managed-NOVLAN","id":"10308"}],"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@23b4a6cb[id=54,rapidViewId=75,state=CLOSED,name=4.0 Sprint 7,goal=<null>,startDate=2014-04-05T00:26:27.500Z,endDate=2014-04-26T00:26:00.000Z,completeDate=2014-04-29T13:33:10.513Z,sequence=54]"],"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2014-04-07T15:18:21.168-0500","customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8696/watchers","watchCount":5,"isWatching":false},"created":"2014-02-06T00:43:44.442-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/13700","id":"13700","description":"Eucalyptus 3.4.2","name":"3.4.2","archived":false,"released":true,"releaseDate":"2014-02-24"}],"issuelinks":[{"id":"24027","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/24027","type":{"id":"10102","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10102"},"inwardIssue":{"id":"28087","key":"EUCA-8905","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28087","fields":{"summary":"Eucalyptus cloud fails to start","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2014-07-03T09:07:31.130-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"We found this in a QA setup where eucalyptus-cloud service fails to start with the following error,\r\n\r\n{noformat}\r\n2014-02-05 21:18:40  INFO | stdout: The database cluster will be initialized with locale C.\r\n2014-02-05 21:18:40  INFO | stdout: The default text search configuration will be set to \"english\".\r\n2014-02-05 21:18:40  INFO | stdout:\r\n2014-02-05 21:18:40  INFO | stderr: initdb: directory \"/var/lib/eucalyptus/db/data\" exists but is not empty\r\n2014-02-05 21:18:40  INFO | stderr: If you want to create a new database system, either remove or empty\r\n2014-02-05 21:18:40  INFO | stderr: the directory \"/var/lib/eucalyptus/db/data\" or run initdb\r\n2014-02-05 21:18:40  INFO | stderr: with an argument other than \"/var/lib/eucalyptus/db/data\".\r\n2014-02-05 21:18:40 ERROR | java.lang.RuntimeException: java.lang.RuntimeException: Failed to run ''/usr/pgsql-9.1/bin/initdb' '--encoding=UTF8' '--locale=C' '-Ueucalyptus' '--auth=password' '--pwfile=/va\r\nr/lib/eucalyptus/db/pass.txt' '-D//var/lib/eucalyptus/db/data' '-X/var/lib/eucalyptus/db/tx' '--encoding=UTF8'' because of: (see stdout and stderr for details)\r\njava.lang.RuntimeException: java.lang.RuntimeException: Failed to run ''/usr/pgsql-9.1/bin/initdb' '--encoding=UTF8' '--locale=C' '-Ueucalyptus' '--auth=password' '--pwfile=/var/lib/eucalyptus/db/pass.txt\r\n' '-D//var/lib/eucalyptus/db/data' '-X/var/lib/eucalyptus/db/tx' '--encoding=UTF8'' because of: (see stdout and stderr for details)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n        at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)\r\n        at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:190)\r\n        at PostgresqlBootstrapper.init(setup_db.groovy:247)\r\n        at com.eucalyptus.bootstrap.Databases$ScriptedDbBootstrapper.init(Databases.java:1120)\r\n        at com.eucalyptus.bootstrap.Databases.initialize(Databases.java:1043)\r\n        at com.eucalyptus.bootstrap.Databases$initialize.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:112)\r\n        at Script3.run(Script3.groovy:99)\r\n        at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:346)\r\n        at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:146)\r\n        at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:123)\r\n        at com.eucalyptus.scripting.Groovyness.run(Groovyness.java:158)\r\n        at com.eucalyptus.scripting.Groovyness.run(Groovyness.java:175)\r\n        at com.eucalyptus.scripting.Groovyness.run(Groovyness.java:179)\r\n        at com.eucalyptus.bootstrap.Bootstrap.initializeSystem(Bootstrap.java:615)\r\n        at com.eucalyptus.bootstrap.SystemBootstrapper.load(SystemBootstrapper.java:220)\r\n{noformat}\r\n\r\n(detail logs attached)\r\n\r\nWhen we tried to start the eucalyptus-cloud service again, the cloud came up normally.","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/18825","id":"18825","filename":"clc.tar.gz","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-06T00:43:44.462-0600","size":10240,"mimeType":"application/x-gzip","content":"https://eucalyptus.atlassian.net/secure/attachment/18825/clc.tar.gz"}],"summary":"eucalyptus-cloud fails to start","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i02m33:","customfield_10000":"10001_*:*_1_*:*_5177344345_*|*_10000_*:*_1_*:*_55533014_*|*_5_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2014-02-06T11:45:38.950-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["shaon(shaon)","tony(tony)"],"customfield_10116":null,"customfield_10117":null,"environment":"Eucalyptus: 3.4.2\r\n{noformat}\r\nRHEL    6.5     64      REPO    [UI CLC WS]\r\nRHEL    6.5     64      REPO    [CC00 SC00]\r\nRHEL    6.5     64      REPO    [NC00]\r\nRHEL    6.5     64      REPO    [NC00]\r\nRHEL    6.5     64      REPO    [NC00]\r\n{noformat}","customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8696/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27176/comment/62507","id":"62507","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"body":"Talked to [~viglesias] and [~sjones], it appears that this issue occurs when multiple cloud initialization happens at the same time in the same network (in this case QA network).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shaon","name":"shaon","key":"shaon","accountId":"557058:1e5e1aa5-5986-4a9e-b9ed-814f7000cd4f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/70d1c1681d03ea38518d3b4f59db4385?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshaon%26avatarId%3D11900%26noRedirect%3Dtrue"},"displayName":"Imran Hossain Shaon","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-02-06T00:45:47.738-0600","updated":"2014-02-06T00:45:47.738-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27176/comment/62528","id":"62528","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Have seen this in GA run as well today:\r\nhttp://10.111.1.120/euca-qa/display_test.php?testname=vic-CI-maint-EMC-rhel&uid=1071\r\nhttp://10.111.1.120/euca-qa/display_test.php?testname=vic-CI-maint-vmware-EMC&uid=1083\r\nhttp://10.111.1.120/euca-qa/display_test.php?testname=vic-CI-maint-vmware-das&uid=1103\r\n{code}\r\nWed Feb 5 22:25:47 2014 ERROR [ServiceConfigurations:main] [com.eucalyptus.records.BaseRecord.error(BaseRecord.java):173] :1391667947883:ServiceConfigurations:bootstrap:COMPONENT_REGISTERED:FAILED:ServiceConfiguration eucalyptus arn:euca:eucalyptus:10.111.1.111/ 10.111.\r\n1.111:8773:/services/Eucalyptus:vm-local:host-local:PRIMORDIAL\r\nWed Feb 5 22:25:52 2014 ERROR [Bootstrap:main] [org.apache.log4j.Category$error.call(?):?] javax.persistence.RollbackException: Error while committing the transaction\r\njavax.persistence.RollbackException: Error while committing the transaction\r\n\tat org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:92)\r\n\tat com.eucalyptus.entities.Entities$CascadingTx$TxState.commit(Entities.java:1059)\r\n\tat com.eucalyptus.entities.Entities$CascadingTx.commit(Entities.java:945)\r\n\tat com.eucalyptus.component.ServiceConfigurations$DatabaseProvider.store(ServiceConfigurations.java:155)\r\n\tat com.eucalyptus.component.ServiceConfigurations.store(ServiceConfigurations.java:441)\r\n\tat com.eucalyptus.component.ServiceConfigurations$store.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:116)\r\n\tat Script3.run(Script3.groovy:141)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:346)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:146)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:123)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:158)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:175)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:179)\r\n\tat com.eucalyptus.bootstrap.Bootstrap.initializeSystem(Bootstrap.java:615)\r\n\tat com.eucalyptus.bootstrap.SystemBootstrapper.load(SystemBootstrapper.java:220)\r\nCaused by: org.infinispan.CacheException: Could not commit implicit transaction\r\n\tat org.infinispan.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1199)\r\n\tat org.infinispan.CacheImpl.putInternal(CacheImpl.java:783)\r\n\tat org.infinispan.CacheImpl.put(CacheImpl.java:777)\r\n\tat org.infinispan.DecoratedCache.put(DecoratedCache.java:320)\r\n\tat org.hibernate.cache.infinispan.access.TransactionalAccessDelegate.insert(TransactionalAccessDelegate.java:124)\r\n\tat org.hibernate.cache.infinispan.entity.TransactionalAccess.insert(TransactionalAccess.java:44)\r\n\tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:119)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:377)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:369)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:286)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:339)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1234)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:404)\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)\r\n\tat org.hibernate.ejb.TransactionImpl.commit(TransactionImpl.java:75)\r\n\t... 17 more\r\nCaused by: bitronix.tm.internal.BitronixRollbackException: RuntimeException thrown during beforeCompletion cycle caused transaction rollback\r\n\tat bitronix.tm.BitronixTransaction.commit(BitronixTransaction.java:241)\r\n\tat bitronix.tm.BitronixTransactionManager.commit(BitronixTransactionManager.java:143)\r\n\tat org.infinispan.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1196)\r\n\t... 33 more\r\nCaused by: org.infinispan.CacheException: Could not prepare.\r\n\tat org.infinispan.transaction.synchronization.SynchronizationAdapter.beforeCompletion(SynchronizationAdapter.java:70)\r\n\tat bitronix.tm.BitronixTransaction.fireBeforeCompletionEvent(BitronixTransaction.java:532)\r\n\tat bitronix.tm.BitronixTransaction.commit(BitronixTransaction.java:235)\r\n\t... 35 more\r\nCaused by: javax.transaction.xa.XAException\r\n\tat org.infinispan.transaction.TransactionCoordinator.prepare(TransactionCoordinator.java:161)\r\n\tat org.infinispan.transaction.TransactionCoordinator.prepare(TransactionCoordinator.java:123)\r\n\tat org.infinispan.transaction.synchronization.SynchronizationAdapter.beforeCompletion(SynchronizationAdapter.java:68)\r\n\t... 37 more\r\nWed Feb 5 22:25:59 2014 ERROR [Databases:main] [com.eucalyptus.bootstrap.Databases$ScriptedDbBootstrapper.init(Databases.java):1122] java.lang.RuntimeException: java.lang.RuntimeException: Failed to run ''/usr/pgsql-9.1/bin/initdb' '--encoding=UTF8' '--locale=C' '-Ueuca\r\nlyptus' '--auth=password' '--pwfile=/var/lib/eucalyptus/db/pass.txt' '-D//var/lib/eucalyptus/db/data' '-X/var/lib/eucalyptus/db/tx' '--encoding=UTF8'' because of: (see stdout and stderr for details)\r\njava.lang.RuntimeException: java.lang.RuntimeException: Failed to run ''/usr/pgsql-9.1/bin/initdb' '--encoding=UTF8' '--locale=C' '-Ueucalyptus' '--auth=password' '--pwfile=/var/lib/eucalyptus/db/pass.txt' '-D//var/lib/eucalyptus/db/data' '-X/var/lib/eucalyptus/db/tx' '\r\n--encoding=UTF8'' because of: (see stdout and stderr for details)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)\r\n\tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:190)\r\n\tat PostgresqlBootstrapper.init(setup_db.groovy:247)\r\n\tat com.eucalyptus.bootstrap.Databases$ScriptedDbBootstrapper.init(Databases.java:1120)\r\n\tat com.eucalyptus.bootstrap.Databases.initialize(Databases.java:1043)\r\n\tat com.eucalyptus.bootstrap.Databases$initialize.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:112)\r\n\tat Script3.run(Script3.groovy:99)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:346)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:146)\r\n\tat org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:123)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:158)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:175)\r\n\tat com.eucalyptus.scripting.Groovyness.run(Groovyness.java:179)\r\n\tat com.eucalyptus.bootstrap.Bootstrap.initializeSystem(Bootstrap.java:615)\r\n\tat com.eucalyptus.bootstrap.SystemBootstrapper.load(SystemBootstrapper.java:220)\r\nCaused by: java.lang.RuntimeException: Failed to run ''/usr/pgsql-9.1/bin/initdb' '--encoding=UTF8' '--locale=C' '-Ueucalyptus' '--auth=password' '--pwfile=/var/lib/eucalyptus/db/pass.txt' '-D//var/lib/eucalyptus/db/data' '-X/var/lib/eucalyptus/db/tx' '--encoding=UTF8''\r\n because of: (see stdout and stderr for details)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77)\r\n\tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:194)\r\n\tat PostgresqlBootstrapper.initdbPG(setup_db.groovy:324)\r\n\tat PostgresqlBootstrapper.init(setup_db.groovy:226)\r\n\t... 15 more\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2014-02-06T11:45:38.950-0600","updated":"2014-02-06T11:48:35.033-0600"}],"maxResults":2,"total":2,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}