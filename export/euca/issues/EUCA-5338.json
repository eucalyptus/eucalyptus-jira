{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"19796","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/19796","key":"EUCA-5338","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@29f371a7[id=18,rapidViewId=<null>,state=CLOSED,name=3.3 Sprint 8,goal=<null>,startDate=2013-05-15T22:11:05.921Z,endDate=2013-05-31T22:11:05.921Z,completeDate=2013-06-07T17:47:14.384Z,sequence=18]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10401","value":"Standard","id":"10401"},"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2013-05-23T18:42:37.418-0500","customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5338/watchers","watchCount":6,"isWatching":false},"lastViewed":null,"created":"2013-03-11T12:45:16.281-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2013-03-16T00:49:57.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/11300","id":"11300","name":"3.2.1","archived":false,"released":true,"releaseDate":"2013-02-14"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2014-06-16T16:17:28.853-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10013","id":"10013","name":"Reporting"}],"timeoriginalestimate":null,"description":"While testing out Eucalyptus reporting, it was noticed that the volume usage report is incorrect. We have not created or deleted any volumes in the past few days:\r\n\r\n{code}\r\n[root@euca3 ~]# date\r\nWed Mar 6 13:30:58 EST 2013\r\n[root@euca3 ~]# euca-version\r\neuca2ools 2.1.3 (Limbo)\r\neucalyptus 3.2.1\r\n[root@euca3 ~]# euare-usergetattributes \r\narn:aws:iam::dal160001:user/shl1\r\nYDY6HTFHOHN80W9P8C13M\r\n[root@euca3 ~]# euca-describe-volumes \r\nVOLUME\tvol-33D23A28\t 10\tsnap-A1713F03\tredcloud\tin-use\t2013-02-21T20:38:46.165Z\r\nATTACHMENT\tvol-33D23A28\ti-14EB4182\t/dev/sda1\tattached\t2013-02-21T20:38:46.361Z\r\nVOLUME\tvol-B5943A8D\t 10\t redcloud\tin-use\t2013-03-01T20:48:25.466Z\r\nATTACHMENT\tvol-B5943A8D\ti-F3374268\t/dev/vdb\tattached\t2013-03-01T20:52:57.006Z\r\n{code}\r\n\r\nHowever, this is the report we got (notice the dates requested for the report - i.e. from the 4th to the 5th):\r\n\r\n{code}\r\n[root@euca3 ~]# eureport-generate-report -s 2013-03-04 -e 2013-03-05 --time-unit=hours --size-unit=gb --format=csv -t volume --size-time-size-unit gb --size-time-time-unit hours\r\n{code}\r\n\r\nOutput\r\n\r\n{code}\r\nVolume Report\r\nBegin:Mon Mar 04 00:00:00 EST 2013\r\nEnd:Tue Mar 05 00:00:00 EST 2013\r\nResource Usage Section\r\n,,,Instance Id,Volume Id,# Vol,Size (GB),GB-Hrs\r\nZone: redcloud,,,cumul.,cumul.,53,690,16560\r\n,Account: dal160001,,cumul.,cumul.,29,290,6960\r\n,,User: rda1,cumul.,cumul.,2,20,480\r\n,,,cumul.,vol-5CA63F37,1,10,240\r\n,,,cumul.,vol-B5943A8D,1,10,240\r\n,,,i-F3374268,vol-B5943A8D,1,10,240\r\n,,User: shl1,cumul.,cumul.,27,270,6480\r\n,,,cumul.,vol-B7973D1C,1,10,240\r\n,,,cumul.,vol-33D23A28,1,10,240\r\n,,,cumul.,vol-87373BBF,1,10,240\r\n,,,cumul.,vol-2A523C3C,1,10,240\r\n,,,cumul.,vol-0B403B31,1,10,240\r\n,,,cumul.,vol-1C563EAA,1,10,240\r\n,,,cumul.,vol-FF4A3D51,1,10,240\r\n,,,cumul.,vol-F93F3BD6,1,10,240\r\n,,,cumul.,vol-7DB23CD1,1,10,240\r\n,,,cumul.,vol-52DA41CF,1,10,240\r\n,,,cumul.,vol-27D0421C,1,10,240\r\n,,,cumul.,vol-64A83F96,1,10,240\r\n,,,cumul.,vol-34423C66,1,10,240\r\n,,,cumul.,vol-839D3CDD,1,10,240\r\n,,,cumul.,vol-9D384146,1,10,240\r\n,,,cumul.,vol-09A43C60,1,10,240\r\n,,,cumul.,vol-6310405D,1,10,240\r\n,,,cumul.,vol-10003E77,1,10,240\r\n,,,cumul.,vol-C35440A9,1,10,240\r\n,,,cumul.,vol-214D42DA,1,10,240\r\n,,,cumul.,vol-799839FB,1,10,240\r\n,,,cumul.,vol-150F3CC8,1,10,240\r\n,,,cumul.,vol-D241424C,1,10,240\r\n,,,cumul.,vol-B03E3EB7,1,10,240\r\n,,,cumul.,vol-97BF4012,1,10,240\r\n,,,cumul.,vol-58633DDD,1,10,240\r\n,,,cumul.,vol-23A83EB8,1,10,240\r\n,Account: eucalyptus,,cumul.,cumul.,24,400,9600\r\n,,User: admin,cumul.,cumul.,24,400,9600\r\n,,,cumul.,vol-9E493B41,1,10,240\r\n,,,cumul.,vol-43F34167,1,10,240\r\n,,,cumul.,vol-2DF33B91,1,10,240\r\n,,,cumul.,vol-A2C4441D,1,10,240\r\n,,,cumul.,vol-1C773F42,1,10,240\r\n,,,cumul.,vol-6B9D3D60,1,10,240\r\n,,,cumul.,vol-1E843DB5,1,10,240\r\n,,,cumul.,vol-F5B6424E,1,10,240\r\n,,,cumul.,vol-46754043,1,10,240\r\n,,,i-35E84101,vol-46754043,1,10,240\r\n,,,cumul.,vol-663F3F03,1,10,240\r\n,,,cumul.,vol-AB2743AF,1,10,240\r\n,,,cumul.,vol-22A73E09,1,10,240\r\n,,,cumul.,vol-8CF3468A,1,10,240\r\n,,,cumul.,vol-26203FC7,1,10,240\r\n,,,cumul.,vol-98FF4267,1,10,240\r\n,,,cumul.,vol-F2C23D7F,1,100,2400\r\n,,,i-3132417E,vol-F2C23D7F,1,100,2400\r\n,,,cumul.,vol-78DC41E5,1,10,240\r\n,,,cumul.,vol-44AE3CC9,1,10,240\r\n,,,cumul.,vol-CAC53EF5,1,10,240\r\n,,,cumul.,vol-EA3E3C4E,1,10,240\r\n,,,cumul.,vol-33584299,1,10,240\r\n,,,i-88E83B6A,vol-33584299,1,10,240\r\n,,,cumul.,vol-DC3C43D7,1,10,240\r\n,,,cumul.,vol-92A14111,1,10,240\r\n,,,cumul.,vol-E01C43C9,1,80,1920\r\n,,,i-3049430B,vol-E01C43C9,1,80,1920\r\n,,,i-698D4498,vol-E01C43C9,1,80,1920\r\n{code}\r\n\r\nIt looks like volume usage reports are derived from reporting_volume_create_events and reporting_volume_delete_events tables in the eucalyptus_reporting database. When a volume is created, the event is recorded in the reporting_volume_create_events table. When a volume is deleted, the event is recorded in reporting_volume_delete_events table and the corresponding event is removed from reporting_volume_create_events table. Hence, reporting_volume_create_events table should contain all existing volumes whereas reporting_volume_delete_events should contain volumes that have been deleted.\r\n\r\nThe bug appears to be in the recording of volume creation/deletion with EBS-backed images. When an instance is launched with an EBS-backed image, an EBS volume is created and the event is recorded in reporting_volume_create_events table accordingly. That's fine. However, when the instance is terminated, the associated EBS volume is deleted but the entry associated with this EBS volume is not removed from reporting_volume_create_events table and added to reporting_volume_delete_events as it should! So as far as usage reporting is concerned, all EBS volumes created by EBS-backed images remain in use ad infinitum!","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Eucalyptus Reporting:  Usage information incorrect","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i00okn:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_156791384_*|*_10001_*:*_1_*:*_183897244_*|*_10002_*:*_1_*:*_31582901_*|*_10000_*:*_1_*:*_59062_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_5939503927_*|*_10007_*:*_1_*:*_16806651","customfield_10001":"2013-03-14T16:17:19.115-0500","customfield_10200":null,"customfield_10002":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10000","value":"Customer Affecting","id":"10000"}],"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["hspencer(hspencer)","mmunn1(mmunn1)","tjcramer(tjcramer)","tony(tony)"],"customfield_10116":null,"environment":"*HA and non-HA*","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/19796/comment/41541","id":"41541","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"body":"Actually if you use the following steps to recreate:\r\n1) create and delete a volume\r\n2) run eureport-generate-report -s 2013-03-13 -e 2013-03-30 --time-unit=seconds --format=csv -t volume\r\n\r\nYou will see that the the clock keeps ticking on the newly created/deleted volume. This is not just an issue with ebs volumes it\r\nappears to happen with all volumes.\r\n ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-14T16:17:19.115-0500","updated":"2013-03-14T22:34:21.826-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/19796/comment/41703","id":"41703","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi All,\r\n\r\nMay I please request a code review for : In Progress EUCA-5338 Eucalyptus Reporting: Usage information incorrect\r\n\r\nbranch : dev/mmunn1/EUCA-5338\r\n\r\ndiff :  git show --color 962aeed272c312984fbade866a405287592baa18\r\n\r\nSummary: The the DB table reporting_volume_delete_events is not updated when a volume is deleted or and EBS\r\n         instance is stopped, this causes the GB-\"time\" output to be incorrect for volume reports.\r\n\r\nSolution:  Added call to update database when ebs instance is stopped and the root volume is removed. I \r\n           also moved the ubdate call in VolumeManager.DeleteVolume(...) so that it is executed when a volume is deleted.\r\n \r\n\r\nUnit test :\r\n\r\n1) create and delete a volume\r\n2) run eureport-generate-report -s 2013-03-13 -e 2013-03-30 --time-unit=seconds --format=csv -t volume\r\n   You will see that the the GB-Secs keeps increasing on the newly created/deleted volume. \r\n    \r\nI have created eutester/testcases/cloud_admin/Euca-5338\r\n\r\nThx Mike","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mmunn1","name":"mmunn1","key":"mmunn1","accountId":"557058:6e62b7e8-e48f-469d-ac54-e9449dec5cd9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/6638eee119e9c0bdcca16883c5415349?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmmunn1%26avatarId%3D11300%26noRedirect%3Dtrue"},"displayName":"Michael Munn","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-03-15T16:04:30.618-0500","updated":"2013-03-15T16:04:30.618-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/19796/comment/46503","id":"46503","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified\r\n\r\nUsing the steps from [~mmunn1] the time for deleted volumes does not continue to run.\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 3.3.0\r\nRelease     : 0.0.1002.20130523git8d3e5241.el6","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2013-05-23T18:42:37.428-0500","updated":"2013-05-23T18:42:37.428-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/19796/comment/48592","id":"48592","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved in the 3.3.0 release","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-26T21:44:59.101-0500","updated":"2013-06-26T21:44:59.101-0500"}],"maxResults":4,"total":4,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5338/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}