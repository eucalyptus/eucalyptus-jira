{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"17607","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607","key":"EUCA-4288","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2016-10-27T17:18:34.090-0500","customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4288/watchers","watchCount":3,"isWatching":false},"created":"2012-12-03T14:45:18.166-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2013-08-26T15:49:48.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":["fruit"],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10112","id":"10112","description":"Eucalyptus 3.2.0","name":"3.2.0","archived":false,"released":true,"releaseDate":"2012-12-19"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2016-10-27T17:18:34.115-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"I was (unintentionally) running QA on Centos 5.8 / Xen and noticed that EBS volume detach no longer works, FWIW.\r\n\r\n{code}\r\n\r\n2012-12-03 12:00:39 DEBUG 000008482 doDescribeResource       | returning cores=3/4 mem=7382/7894 disk=36/41 iqn=iqn.1994-05.com.redhat:7f70b6d6fc69\r\n2012-12-03 12:00:39 DEBUG 000008482 doDescribeInstances      | invoked userId=eucalyptus correlationId=UNSET epoch=0 services[0]{.name= .type= .uris[0]=}\r\n2012-12-03 12:00:39 DEBUG 000008482 doDescribeInstances      | [i-A0153F59] Extant pub=192.168.9.122 priv=10.63.4.55 mac=D0:0D:A0:15:3F:59 vlan=35 net=23 plat=linux vols=vol-1693441C:A\r\n2012-12-03 12:00:42  INFO 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] invoked (remote=,,,qSxHco4tYOwAJqmxEYp1FgDK2p/JixCxYWi2dBAB0ao67xEx3k6ImYHMwSFzRLCWFDSG4mdveKwVSLSWwW4TxXBfiBoOk7n+P07Fj6iKEdLzjlRHlnb5s87L674OmBpatD6+k3jnxdXQVWJ4m/AvvZQC3ZF2N0mgJYTl/Mcu52gTztRmkp2CE1C9oVEjem38SFQcfmAO/TMiFoGxX/ixVrM9ESFaXSasd41fo5FabdKti0FJLi1o3w94jRsME/LJw1PmpOejXT4JHzBfzBQypv9/GrLSocLd0g2F9S2qo1sjBizTnu0TvXFGmfv9XLGTcvquhUMbLbHX4l4HIF1Jyw==,,192.168.51.93,iqn.2009-06.com.eucalyptus.PARTI00:store1 local=/dev/xvdb force=0)\r\n2012-12-03 12:00:42 DEBUG 000008482 get_iscsi_target         | invoking `/opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap /opt/eucalyptus/usr/share/eucalyptus/get_iscsitarget.pl /opt/eucalyptus,,,,qSxHco4tYOwAJqmxEYp1FgDK2p/JixCxYWi2dBAB0ao67xEx3k6ImYHMwSFzRLCWFDSG4mdveKwVSLSWwW4TxXBfiBoOk7n+P07Fj6iKEdLzjlRHlnb5s87L674OmBpatD6+k3jnxdXQVWJ4m/AvvZQC3ZF2N0mgJYTl/Mcu52gTztRmkp2CE1C9oVEjem38SFQcfmAO/TMiFoGxX/ixVrM9ESFaXSasd41fo5FabdKti0FJLi1o3w94jRsME/LJw1PmpOejXT4JHzBfzBQypv9/GrLSocLd0g2F9S2qo1sjBizTnu0TvXFGmfv9XLGTcvquhUMbLbHX4l4HIF1Jyw==,,192.168.51.93,iqn.2009-06.com.eucalyptus.PARTI00:store1`\r\n2012-12-03 12:00:42 DEBUG 000008482 get_iscsi_target         | returned: 0, stdout: '/dev/sdb', stderr: ''\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_refresh_resources | polled statistics for 1 instance(s)\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_refresh_resources | unable to get metrics for instance i-A0153F59 (OK if it was terminated---should soon expire from the cache)\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_expire_cache_entr | invoked\r\n2012-12-03 12:00:42 ERROR 000008482 libvirt_err_handler      | libvirt: Requested operation is not valid: Xm driver only supports modifying persistent config (code=55)\r\n2012-12-03 12:00:42  INFO 000016983 xen_detach_helper        | [i-A0153F59] /opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap /opt/eucalyptus/usr/share/eucalyptus/detach.pl /opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap `which virsh` i-A0153F59 xvdb /tmp/detachxml.ezSLMw\r\n2012-12-03 12:00:42 ERROR 000008482 xen_detach_helper        | [i-A0153F59] failed to sucessfully run detach helper\r\n2012-12-03 12:00:42 ERROR 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] failed to detach host device '/dev/sdb' from guest device 'xvdb'\r\n2012-12-03 12:00:42 ERROR 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] virDomainDetachDevice() or 'virsh detach' failed (err=1) XML='<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<disk type=\"block\">\r\n  <driver name=\"phy\"/>\r\n  <source dev=\"/dev/sdb\"/>\r\n  <target dev=\"xvdb\" bus=\"scsi\"/>\r\n</disk>\r\n'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskReadOps:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskWriteOps:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskReadBytes:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskWriteBytes:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:VolumeTotalReadTime:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:VolumeTotalWriteTime:summation:root to 'sda1'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskReadOps:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskWriteOps:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskReadBytes:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:DiskWriteBytes:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:VolumeTotalReadTime:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 sensor_set_dimension_ali | set alias for sensor dimension i-A0153F59:VolumeTotalWriteTime:summation:root to 'sda3'\r\n2012-12-03 12:00:42 DEBUG 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] attempting to disconnect iscsi target\r\n2012-12-03 12:00:42 DEBUG 000008482 disconnect_iscsi_target  | invoking `/opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap /opt/eucalyptus/usr/share/eucalyptus/disconnect_iscsitarget.pl /opt/eucalyptus,,,,qSxHco4tYOwAJqmxEYp1FgDK2p/JixCxYWi2dBAB0ao67xEx3k6ImYHMwSFzRLCWFDSG4mdveKwVSLSWwW4TxXBfiBoOk7n+P07Fj6iKEdLzjlRHlnb5s87L674OmBpatD6+k3jnxdXQVWJ4m/AvvZQC3ZF2N0mgJYTl/Mcu52gTztRmkp2CE1C9oVEjem38SFQcfmAO/TMiFoGxX/ixVrM9ESFaXSasd41fo5FabdKti0FJLi1o3w94jRsME/LJw1PmpOejXT4JHzBfzBQypv9/GrLSocLd0g2F9S2qo1sjBizTnu0TvXFGmfv9XLGTcvquhUMbLbHX4l4HIF1Jyw==,,192.168.51.93,iqn.2009-06.com.eucalyptus.PARTI00:store1`\r\n2012-12-03 12:00:43 DEBUG 000008482 disconnect_iscsi_target  | returned: 0, stdout: '', stderr: ''\r\n2012-12-03 12:00:43 ERROR 000008482 ncDetachVolumeMarshal    | [i-A0153F59][vol-1693441C] failed error=1\r\n{code}\r\n\r\nfollowed, around instance termination time, by:\r\n\r\n{code}\r\n2012-12-03 12:06:18  INFO 000008482 doTerminateInstance      | [i-A0153F59] termination requested\r\n2012-12-03 12:06:18 DEBUG 000008482 sensor_refresh_resources | polled statistics for 1 instance(s)\r\n2012-12-03 12:06:18 DEBUG 000008482 sensor_refresh_resources | unable to get metrics for instance i-A0153F59 (OK if it was terminated---should soon expire from the cache)\r\n2012-12-03 12:06:18 DEBUG 000008482 sensor_expire_cache_entr | invoked\r\n2012-12-03 12:06:18  INFO 000008482 find_and_terminate_insta | [i-A0153F59] detaching volume vol-1693441C, force=0 on termination\r\n2012-12-03 12:06:18 DEBUG 000008482 get_iscsi_target         | invoking `/opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap /opt/eucalyptus/usr/share/eucalyptus/get_iscsitarget.pl /opt/eucalyptus,,,,qSxHco4tYOwAJqmxEYp1FgDK2p/JixCxYWi2dBAB0ao67xEx3k6ImYHMwSFzRLCWFDSG4mdveKwVSLSWwW4TxXBfiBoOk7n+P07Fj6iKEdLzjlRHlnb5s87L674OmBpatD6+k3jnxdXQVWJ4m/AvvZQC3ZF2N0mgJYTl/Mcu52gTztRmkp2CE1C9oVEjem38SFQcfmAO/TMiFoGxX/ixVrM9ESFaXSasd41fo5FabdKti0FJLi1o3w94jRsME/LJw1PmpOejXT4JHzBfzBQypv9/GrLSocLd0g2F9S2qo1sjBizTnu0TvXFGmfv9XLGTcvquhUMbLbHX4l4HIF1Jyw==,,192.168.51.93,iqn.2009-06.com.eucalyptus.PARTI00:store1`\r\n2012-12-03 12:06:18 DEBUG 000008482 get_iscsi_target         | returned: 1, stdout: '', stderr: 'Unable to get attached target device.\r\n'\r\n2012-12-03 12:06:18 ERROR 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] failed to get local name of host iscsi device\r\n2012-12-03 12:06:18 DEBUG 000008482 get_iscsi_target         | invoking `/opt/eucalyptus/usr/lib/eucalyptus/euca_rootwrap /opt/eucalyptus/usr/share/eucalyptus/get_iscsitarget.pl /opt/eucalyptus,,,,qSxHco4tYOwAJqmxEYp1FgDK2p/JixCxYWi2dBAB0ao67xEx3k6ImYHMwSFzRLCWFDSG4mdveKwVSLSWwW4TxXBfiBoOk7n+P07Fj6iKEdLzjlRHlnb5s87L674OmBpatD6+k3jnxdXQVWJ4m/AvvZQC3ZF2N0mgJYTl/Mcu52gTztRmkp2CE1C9oVEjem38SFQcfmAO/TMiFoGxX/ixVrM9ESFaXSasd41fo5FabdKti0FJLi1o3w94jRsME/LJw1PmpOejXT4JHzBfzBQypv9/GrLSocLd0g2F9S2qo1sjBizTnu0TvXFGmfv9XLGTcvquhUMbLbHX4l4HIF1Jyw==,,192.168.51.93,iqn.2009-06.com.eucalyptus.PARTI00:store1`\r\n2012-12-03 12:06:18 DEBUG 000008482 get_iscsi_target         | returned: 1, stdout: '', stderr: 'Unable to get attached target device.\r\n'\r\n2012-12-03 12:06:18 ERROR 000008482 doDetachVolume           | [i-A0153F59][vol-1693441C] failed to get local name of host iscsi device\r\n2012-12-03 12:06:19  INFO 000008482 find_and_terminate_insta | [i-A0153F59] destroying instance\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/16806","id":"16806","filename":"xen_helper.diff","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"created":"2013-08-27T18:54:24.752-0500","size":1359,"mimeType":"application/octet-stream","content":"https://eucalyptus.atlassian.net/secure/attachment/16806/xen_helper.diff"}],"aggregatetimeestimate":null,"summary":"NC: volume detachment does not work on Xen","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_77380817_*|*_10001_*:*_1_*:*_122961815134","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i01x0n:","customfield_10001":"2013-08-26T15:15:35.294-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["dmitrii(dmitrii)","gozer@mozilla.com(gozer@mozilla.com)","vasya(vasya)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4288/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/52122","id":"52122","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"body":"I believe I've found the cause, and it's here:\r\n\r\nhttps://github.com/eucalyptus/eucalyptus/blob/master/node/handlers_default.c#L860:\r\n\r\n            //! @todo does this work?\r\n            snprintf(cmd, MAX_PATH, \"[%s] executing '%s %s `which virsh` %s %s %s'\", instanceId, nc->detach_cmd_path, nc->rootwrap_cmd_path, instanceId, devReal, tmpfile);\r\n            LOGDEBUG(\"%s\\n\", cmd);\r\n            rc = system(cmd);\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"created":"2013-08-26T15:15:35.294-0500","updated":"2013-08-26T15:15:35.294-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/52129","id":"52129","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Doh! What a goofy error. Thanks for pointing that out, [~gozer@mozilla.com]!\n\nI fixed it in our 'testing' branch (which will get merged into 'master' within a few weeks at the most):\n\n  https://github.com/eucalyptus/eucalyptus/commit/5d3d6a6a49d931293d4a63857ec9445a6c1a680c\n\nWe, unfortunately, do not have time to QA Xen, but if you end up trying the fix, I'd love to hear whether it worked.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-08-26T16:22:07.658-0500","updated":"2013-08-26T16:22:07.658-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/52172","id":"52172","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"body":"Yes, I will be trying the fix myself. BTW, the src.rpms for eucalyptus-3.3.0 are not up on the download site (http://downloads.eucalyptus.com/software/eucalyptus/3.3/centos/6/source/) like the previous releases.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"created":"2013-08-27T12:29:10.997-0500","updated":"2013-08-27T12:29:10.997-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/52218","id":"52218","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Looks like we accidentally deleted the RPMs, [~gozer@mozilla.com]. They've been put back now. Thanks for letting me know!","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-08-27T16:51:10.830-0500","updated":"2013-08-27T16:51:10.830-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/52231","id":"52231","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"body":"Here is a better patch, and I've verified it as working.\r\n\r\nThe issue was invoking xen_detach_helper() only if virDomainDetachDevice() failed. Otherwise, it gets called every time, and fails, rightly so, if virDomainDetachDevice() already succeeded at detaching the device.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gozer%40mozilla.com","name":"gozer@mozilla.com","key":"gozer@mozilla.com","accountId":"557058:0a140181-066b-4cc8-b289-5871393ffc06","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4ea84d4da2cf067d3b9b2ed6235abf01?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Philippe M. Chiasson","active":false,"timeZone":"America/Havana"},"created":"2013-08-27T18:54:24.762-0500","updated":"2013-08-27T18:54:24.762-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17607/comment/112238","id":"112238","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"XEN is no longer supported.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-10-27T17:18:34.112-0500","updated":"2016-10-27T17:18:34.112-0500"}],"maxResults":6,"total":6,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}