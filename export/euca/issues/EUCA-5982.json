{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"21030","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21030","key":"EUCA-5982","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@651f8d2e[id=18,rapidViewId=<null>,state=CLOSED,name=3.3 Sprint 8,goal=<null>,startDate=2013-05-15T22:11:05.921Z,endDate=2013-05-31T22:11:05.921Z,completeDate=2013-06-07T17:47:14.384Z,sequence=18]"],"customfield_10302":null,"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2013-05-29T13:16:18.143-0500","customfield_10308":null,"customfield_10704":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5982/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2013-05-01T13:43:59.824-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"updated":"2014-06-16T16:21:46.631-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"QA tests are failing against the Netapp/cluster mode while trying to create volumes from snapshots. Maybe a 2 part problem...\r\n\r\nPART#1:\r\nLooks like the SC is swapping out the igroup id (SC's iqn) with the netapp's iqn during the snapshot creation process. This is causing the snapshot to fail. \r\nPART#2:\r\nThe error is not reported upstream which causes the CLC to report the snapshot as successfully completed. \r\nLog snippets below...\r\nThanks!\r\n-Matt\r\n\r\nTest output showing failed volume as successfully completed 100%...\r\n{code}\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\nSNAP_ID        |ORDER|CMDTIME |ELAPSED | %  |   STATUS   |    SRC_VOL    |           SRC_VOL_MD5           |    VOLZONE    |INFO-MSG\r\n-----------------------------------------------------------------------------------------------------------------------\r\nsnap-73F73837  |  0  |  0.27  |   40   |100 | completed  |  vol-B3FD3F40 | f7a4f4867c5cee1284ee8364e09dd13f|    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n{code}\r\n\r\n\r\nSC logs:\r\n\r\nEarly in the creation process the SC iqn is being used for igroup id.Later the SAN's iqn is getting swapping in, looks like this may be causing the failure...\r\n\r\n{code}\r\n2013-05-01 10:16:14 DEBUG 000000753 NetappONTAP81Provider    | #createSnapshot#snap_73F73837: Lun is online\r\n2013-05-01 10:16:14 DEBUG 000000753 NetappONTAP81Provider    | #createSnapshot#snap_73F73837: Map lun to the intiator group\r\n2013-05-01 10:16:14 DEBUG 000000753 NetappAdapter            | #mapIgroupToLun#/vol/snap_73F73837/lun1: Mapping lun to igroup iqn.1994-05.com.redhat:4907f9a5da1\r\n2013-05-01 10:16:14 DEBUG 000000753 XmlApiInvocation         | Executing API request lun-map to 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8'?><!DOCTYPE netapp SYSTEM 'file:/etc/netapp_filer.dtd'><netapp xmlns=\"http://www.netapp.com/filer/admin\" version=\"1.7\" vfiler=\"euca-vserver\"><lun-map><initiator-group>iqn.1994-05.com.redhat:4907f9a5da1</initiator-group><path>/vol/snap_73F73837/lun1</path></lun-map></netapp>\r\n2013-05-01 10:16:14 DEBUG 000000753 XmlApiInvocation         | Received API response for lun-map from 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8' ?>\r\n                          | <!DOCTYPE netapp SYSTEM 'file:/etc/netapp_gx.dtd'>\r\n                          | <netapp version='1.19' xmlns='http://www.netapp.com/filer/admin'>\r\n                          | <results status=\"passed\"><lun-id-assigned>0</lun-id-assigned></results></netapp>\r\n2013-05-01 10:16:15 DEBUG 000000753 NetappONTAP81Provider    | #connectTarget: Dump from connect_iscsitarget_sc.pl:\r\n                          | Return value=0\r\n                          | Output=/dev/mapper/mpatha\r\n                          | Error=Before connecting:\r\n                          | $VAR1 = {\r\n                          |           'sid' => '1',\r\n                          |           'tpgt' => '1028',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdc',\r\n                          |           'hostnumber' => '6',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.107.1.200',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.107.1.200'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '2',\r\n                          |           'tpgt' => '1030',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdd',\r\n                          |           'hostnumber' => '7',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.107.1.201',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.107.1.201'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '3',\r\n                          |           'tpgt' => '1029',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sde',\r\n                          |           'hostnumber' => '8',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.108.1.200',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.108.1.200'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '4',\r\n                          |           'tpgt' => '1031',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdf',\r\n                          |           'hostnumber' => '9',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.108.1.201',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.108.1.201'\r\n                          |         };\r\n                          | After connecting:\r\n                          | $VAR1 = {\r\n                          |           'sid' => '1',\r\n                          |           'tpgt' => '1028',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdc',\r\n                          |           'hostnumber' => '6',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.107.1.200',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.107.1.200'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '2',\r\n                          |           'tpgt' => '1030',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdd',\r\n                          |           'hostnumber' => '7',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.107.1.201',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.107.1.201'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '3',\r\n                          |           'tpgt' => '1029',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sde',\r\n                          |           'hostnumber' => '8',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.108.1.200',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.108.1.200'\r\n                          |         };\r\n                          | $VAR1 = {\r\n                          |           'sid' => '4',\r\n                          |           'tpgt' => '1031',\r\n                          |           'netdev' => '<empty>',\r\n                          |           'lun-0' => 'sdf',\r\n                          |           'hostnumber' => '9',\r\n                          |           'target' => 'iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3',\r\n                          |           'pportal' => '10.108.1.201',\r\n                          |           'iface' => 'default',\r\n                          |           'portal' => '10.108.1.201'\r\n                          |         };\r\n                          | Failed to run 'scsi_id --whitelisted --replace-whitespace --device=/dev/mapper/mpatha': \r\n2013-05-01 10:16:17 DEBUG 000000753 HttpTransfer             | Signing canonical request: PUT\r\n                          | /services/Walrus/snapset-18b12cb0-25b6-453c-aa1d-e3c0bf25eb55/snap-73F73837\r\n                          | \r\n                          | date:20130501T171617Z\r\n                          | eucaoperation:StoreSnapshot\r\n                          | eucasnapsize:1073741824\r\n                          | host:10.111.1.27:8773\r\n                          | transfer-encoding:chunked\r\n                          | date;eucaoperation;eucasnapsize;host;transfer-encoding\r\n2013-05-01 10:16:25 DEBUG 000000363 Faults                   | Fault notifications: waking up to service error queue.\r\n2013-05-01 10:16:25 DEBUG 000000363 Faults                   | Fault notifications: service error queue is empty... going back to sleep.\r\n2013-05-01 10:16:28 DEBUG 000000202 NetappAdapter            | #isConnected: Fetching Data ONATP system information\r\n2013-05-01 10:16:28 DEBUG 000000202 XmlApiInvocation         | Executing API request system-get-version to 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8'?><!DOCTYPE netapp SYSTEM 'file:/etc/netapp_filer.dtd'><netapp xmlns=\"http://www.netapp.com/filer/admin\" version=\"1.7\" vfiler=\"euca-vserver\"><system-get-version/></netapp>\r\n2013-05-01 10:16:28 DEBUG 000000202 XmlApiInvocation         | Received API response for system-get-version from 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8' ?>\r\n                          | <!DOCTYPE netapp SYSTEM 'file:/etc/netapp_gx.dtd'>\r\n                          | <netapp version='1.19' xmlns='http://www.netapp.com/filer/admin'>\r\n                          | <results status=\"passed\"><build-timestamp>1351641219</build-timestamp><is-clustered>true</is-clustered><version>NetApp Release 8.1.2 Cluster-Mode: Tue Oct 30 23:53:39 PDT 2012</version><version-tuple><system-version-tuple><generation>8</generation><major>1</major><minor>2</minor></system-version-tuple></version-tuple></results></netapp>\r\n2013-05-01 10:16:28 DEBUG 000000202 NetappAdapter            | #isConnected: Data ONTAP version is NetApp Release 8.1.2 Cluster-Mode: Tue Oct 30 23:53:39 PDT 2012\r\n2013-05-01 10:16:30 DEBUG 000000190 NetappAdapter            | #isConnected: Fetching Data ONATP system information\r\n2013-05-01 10:16:30 DEBUG 000000190 XmlApiInvocation         | Executing API request system-get-version to 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8'?><!DOCTYPE netapp SYSTEM 'file:/etc/netapp_filer.dtd'><netapp xmlns=\"http://www.netapp.com/filer/admin\" version=\"1.7\" vfiler=\"euca-vserver\"><system-get-version/></netapp>\r\n2013-05-01 10:16:30 DEBUG 000000190 XmlApiInvocation         | Received API response for system-get-version from 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8' ?>\r\n                          | <!DOCTYPE netapp SYSTEM 'file:/etc/netapp_gx.dtd'>\r\n                          | <netapp version='1.19' xmlns='http://www.netapp.com/filer/admin'>\r\n                          | <results status=\"passed\"><build-timestamp>1351641219</build-timestamp><is-clustered>true</is-clustered><version>NetApp Release 8.1.2 Cluster-Mode: Tue Oct 30 23:53:39 PDT 2012</version><version-tuple><system-version-tuple><generation>8</generation><major>1</major><minor>2</minor></system-version-tuple></version-tuple></results></netapp>\r\n2013-05-01 10:16:30 DEBUG 000000190 NetappAdapter            | #isConnected: Data ONTAP version is NetApp Release 8.1.2 Cluster-Mode: Tue Oct 30 23:53:39 PDT 2012\r\n2013-05-01 10:16:31 DEBUG 000000767 Timers                   | com.eucalyptus.component.ServiceOperations$1@191422d7: completed in 14 msec.\r\n2013-05-01 10:16:33 DEBUG 000000753 XmlApiInvocation         | Executing API request volume-get-iter to 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8'?><!DOCTYPE netapp SYSTEM 'file:/etc/netapp_filer.dtd'><netapp xmlns=\"http://www.netapp.com/filer/admin\" version=\"1.7\" vfiler=\"euca-vserver\"><volume-get-iter><query><volume-attributes><volume-id-attributes><name>snap_73F73837</name></volume-id-attributes></volume-attributes></query></volume-get-iter></netapp>\r\n2013-05-01 10:16:33 DEBUG 000000753 XmlApiInvocation         | Received API response for volume-get-iter from 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8' ?>\r\n                          | <!DOCTYPE netapp SYSTEM 'file:/etc/netapp_gx.dtd'>\r\n                          | <netapp version='1.19' xmlns='http://www.netapp.com/filer/admin'>\r\n                          | <results status=\"passed\"><attributes-list><volume-attributes><volume-antivirus-attributes><on-access-policy>default</on-access-policy></volume-antivirus-attributes><volume-autosize-attributes><increment-size>268435456</increment-size><is-enabled>true</is-enabled><maximum-size>3252682752</maximum-size></volume-autosize-attributes><volume-directory-attributes><i2p-enabled>true</i2p-enabled><max-dir-size>75161600</max-dir-size><root-dir-gen>1296905826</root-dir-gen></volume-directory-attributes><volume-export-attributes><policy>default</policy></volume-export-attributes><volume-hybrid-cache-attributes><eligibility>read_write</eligibility></volume-hybrid-cache-attributes><volume-id-attributes><comment></comment><containing-aggregate-name>aggr1_euca_01</containing-aggregate-name><containing-aggregate-uuid>db60a03d-7fa1-11e2-9727-123478563412</containing-aggregate-uuid><creation-time>1367428459</creation-time><dsid>1429</dsid><fsid>1530922966</fsid><instance-uuid>8f53bca0-b282-11e2-8d8e-123478563412</instance-uuid><msid>2147485077</msid><name>snap_73F73837</name><name-ordinal>base</name-ordinal><owning-vserver-name>euca-vserver</owning-vserver-name><owning-vserver-uuid>70215034-7fa2-11e2-8d14-123478563412</owning-vserver-uuid><provenance-uuid>8f53bca0-b282-11e2-8d8e-123478563412</provenance-uuid><style>flex</style><type>rw</type><uuid>8f5399dc-b282-11e2-8d8e-123478563412</uuid></volume-id-attributes><volume-inode-attributes><block-type>64_bit</block-type><files-private-used>503</files-private-used><files-total>39202</files-total><files-used>101</files-used><inodefile-private-capacity>31142</inodefile-private-capacity><inodefile-public-capacity>31142</inodefile-public-capacity></volume-inode-attributes><volume-language-attributes><is-convert-ucode-enabled>true</is-convert-ucode-enabled><is-create-ucode-enabled>true</is-create-ucode-enabled><language>C (POSIX)</language><language-code>c</language-code><nfs-character-set>iso-8859-1|iso-8859-1|Thu Oct  1 15:00:53 PDT 1998</nfs-character-set><oem-character-set>ascii|cp1|Thu Oct  1 15:00:53 PDT 1998</oem-character-set></volume-language-attributes><volume-mirror-attributes><is-data-protection-mirror>false</is-data-protection-mirror><is-load-sharing-mirror>false</is-load-sharing-mirror><is-move-mirror>false</is-move-mirror><is-replica-volume>false</is-replica-volume><mirror-transfer-in-progress>false</mirror-transfer-in-progress><redirect-snapshot-id>0</redirect-snapshot-id></volume-mirror-attributes><volume-performance-attributes><extent-enabled>off</extent-enabled><is-atime-update-enabled>false</is-atime-update-enabled><max-write-alloc-blocks>0</max-write-alloc-blocks><minimal-read-ahead>false</minimal-read-ahead><read-realloc>off</read-realloc></volume-performance-attributes><volume-security-attributes><style>unix</style><volume-security-unix-attributes><group-id>1</group-id><permissions>700</permissions><user-id>0</user-id></volume-security-unix-attributes></volume-security-attributes><volume-sis-attributes><compression-space-saved>0</compression-space-saved><deduplication-space-saved>0</deduplication-space-saved><is-sis-logging-enabled>false</is-sis-logging-enabled><is-sis-volume>false</is-sis-volume><percentage-compression-space-saved>0</percentage-compression-space-saved><percentage-deduplication-space-saved>0</percentage-deduplication-space-saved><percentage-total-space-saved>0</percentage-total-space-saved><total-space-saved>0</total-space-saved></volume-sis-attributes><volume-snapshot-attributes><auto-snapshots-enabled>false</auto-snapshots-enabled><snapdir-access-enabled>true</snapdir-access-enabled><snapshot-clone-dependency-enabled>false</snapshot-clone-dependency-enabled><snapshot-policy>none</snapshot-policy></volume-snapshot-attributes><volume-snapshot-autodelete-attributes><commitment>try</commitment><defer-delete>user_created</defer-delete><delete-order>oldest_first</delete-order><destroy-list>none</destroy-list><is-autodelete-enabled>false</is-autodelete-enabled><prefix>(not specified)</prefix><target-free-space>20</target-free-space><trigger>volume</trigger></volume-snapshot-autodelete-attributes><volume-space-attributes><is-filesys-size-fixed>false</is-filesys-size-fixed><is-space-guarantee-enabled>true</is-space-guarantee-enabled><overwrite-reserve>0</overwrite-reserve><overwrite-reserve-required>16384</overwrite-reserve-required><overwrite-reserve-used>0</overwrite-reserve-used><overwrite-reserve-used-actual>0</overwrite-reserve-used-actual><percentage-fractional-reserve>0</percentage-fractional-reserve><percentage-size-used>79</percentage-size-used><percentage-snapshot-reserve>0</percentage-snapshot-reserve><percentage-snapshot-reserve-used>0</percentage-snapshot-reserve-used><size>1352663040</size><size-available>274247680</size-available><size-available-for-snapshots>274247680</size-available-for-snapshots><size-total>1352663040</size-total><size-used>1078398976</size-used><snapshot-reserve-size>0</snapshot-reserve-size><space-guarantee>volume</space-guarantee><space-mgmt-option-try-first>volume_grow</space-mgmt-option-try-first></volume-space-attributes><volume-state-attributes><become-node-root-after-reboot>false</become-node-root-after-reboot><ignore-inconsistent>false</ignore-inconsistent><in-nvfailed-state>false</in-nvfailed-state><is-cluster-volume>true</is-cluster-volume><is-constituent>false</is-constituent><is-inconsistent>false</is-inconsistent><is-invalid>false</is-invalid><is-moving>false</is-moving><is-node-root>false</is-node-root><is-nvfail-enabled>true</is-nvfail-enabled><is-quiesced-in-memory>false</is-quiesced-in-memory><is-quiesced-on-disk>false</is-quiesced-on-disk><is-unrecoverable>false</is-unrecoverable><is-volume-in-cutover>false</is-volume-in-cutover><is-vserver-root>false</is-vserver-root><state>online</state></volume-state-attributes><volume-striping-attributes><stripe-width>0</stripe-width></volume-striping-attributes><volume-vm-align-attributes><vm-align-sector>0</vm-align-sector><vm-align-suffix></vm-align-suffix></volume-vm-align-attributes></volume-attributes></attributes-list><num-records>1</num-records></results></netapp>\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element volume-hybrid-cache-attributes for element volume-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element style for element volume-id-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element is-constituent for element volume-state-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element is-moving for element volume-state-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element is-volume-in-cutover for element volume-state-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 ApiReader                | Unexpected element volume-vm-align-attributes for element volume-attributes\r\n2013-05-01 10:16:33 DEBUG 000000753 NetappCModeAdapter       | #volumeExists#snap_73F73837: Found volume on SAN\r\n2013-05-01 10:16:33 DEBUG 000000753 NetappAdapter            | #unmapIgroupFromLun#/vol/snap_73F73837/lun1: Unmapping lun from igroup iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3,0\r\n2013-05-01 10:16:33 DEBUG 000000753 XmlApiInvocation         | Executing API request lun-unmap to 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8'?><!DOCTYPE netapp SYSTEM 'file:/etc/netapp_filer.dtd'><netapp xmlns=\"http://www.netapp.com/filer/admin\" version=\"1.7\" vfiler=\"euca-vserver\"><lun-unmap><initiator-group>iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3,0</initiator-group><path>/vol/snap_73F73837/lun1</path></lun-unmap></netapp>\r\n2013-05-01 10:16:33 DEBUG 000000753 XmlApiInvocation         | Received API response for lun-unmap from 10.109.1.26:\r\n                          | <?xml version='1.0' encoding='UTF-8' ?>\r\n                          | <!DOCTYPE netapp SYSTEM 'file:/etc/netapp_gx.dtd'>\r\n                          | <netapp version='1.19' xmlns='http://www.netapp.com/filer/admin'>\r\n                          | <results reason=\"No such initiator group exists\" status=\"failed\" errno=\"9003\"/></netapp>\r\n2013-05-01 10:16:33 ERROR 000000753 NetappAdapter            | #unmapIgroupFromLun#/vol/snap_73F73837/lun1: Failed to unmap lun from igroup iqn.1992-08.com.netapp:sn.702150347fa211e28d14123478563412:vs.3,0\r\ncom.netapp.nmsdk.ApiExecutionException: No such initiator group exists\r\n\r\nLater the SAN's iqn is getting swapping in, looks like this may be causing the failure...\r\n\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Snapshots failing due to incorrect igroup id. CLC reporting snap as successful. ","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_129343_*|*_10001_*:*_1_*:*_6131_*|*_10000_*:*_1_*:*_13840417_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_2403562473","customfield_12100":"0|i00oyn:","customfield_10001":"2013-05-01T17:36:55.709-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["mclark(mclark)","swathi(swathi)","tjcramer(tjcramer)","viglesias(viglesias)"],"environment":"machine00\tCENTOS\t6.3\t64\tREPO\t[CLC WS UI]\r\nmachine01\tCENTOS\t6.3\t64\tREPO\t[CC00 SC00]\r\nmachine02\tCENTOS\t6.3\t64\tREPO\t[NC00]\r\nmachine03\tCENTOS\t6.3\t64\tREPO\t[NC00]\r\n\r\nEBS_STORAGE_MANAGER=SANManager\r\nSAN_PROVIDER=NetappProvider\r\nNETAPP_MODE=Cluster\r\nUSE_MULTIPATHING=YES","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5982/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21030/comment/44629","id":"44629","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Commit: 59586619a8dedfe5db57f75bed413b444044210c\r\n\r\nDisconnecting the SC from the SAN after uploading snapshot to Walrus failed due to incorrect IQN.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-01T17:36:55.709-0500","updated":"2013-05-01T17:36:55.709-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21030/comment/46884","id":"46884","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified that this has been passing in automated QA.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-29T13:16:18.163-0500","updated":"2013-05-29T13:16:18.163-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/21030/comment/48412","id":"48412","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved in the 3.3.0 release","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-26T21:44:15.222-0500","updated":"2013-06-26T21:44:15.222-0500"}],"maxResults":3,"total":3,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}