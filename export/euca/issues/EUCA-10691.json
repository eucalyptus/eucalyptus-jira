{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"35448","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448","key":"EUCA-10691","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@266cb2cd[id=128,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 10,goal=<null>,startDate=2015-09-09T20:38:52.383Z,endDate=2015-10-02T20:38:00.000Z,completeDate=2015-11-03T02:34:19.117Z,sequence=128]"],"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10100","value":"Yes","id":"10100"},"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2015-10-26T16:01:43.500-0500","customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10691/watchers","watchCount":3,"isWatching":false},"lastViewed":null,"created":"2015-03-26T17:39:05.979-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2015-10-08T15:25:51.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"customfield_11901":null,"issuelinks":[{"id":"30113","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/30113","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"35445","key":"EUCA-10689","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35445","fields":{"summary":"CLC should exclude VPC resources from the global network view when not used","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:26:00.483-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"}],"timeoriginalestimate":null,"description":"Cloud admin can successfully delete VPCs of other accounts unless an account no longer exists (but its resources still do).","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"cloud admin cannot delete other account's vpc after the account is deleted","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i0360n:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_2_*:*_29016218_*|*_10000_*:*_1_*:*_600121086_*|*_10002_*:*_3_*:*_58919_*|*_10001_*:*_3_*:*_694286948_*|*_10003_*:*_3_*:*_16118284537_*|*_10006_*:*_1_*:*_0","customfield_10001":"2015-04-09T20:33:45.844-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["mclark(mclark)","sjones(sjones)","rusvika(rusvika)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/84943","id":"84943","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue does not occur in 4.2:\r\n\r\n{code}\r\n#\r\n# euare-accountcreate -a sjones\r\nsjones\t000360884421\r\n#\r\n# euca-create-vpc 000360884421\r\nVPC\tvpc-f9bed27a\tavailable\t172.31.0.0/16\tdopt-9ca929fa\tdefault\ttrue\r\n#\r\n# euca-describe-vpcs verbose\r\nVPC\tvpc-f9bed27a\tavailable\t172.31.0.0/16\tdopt-9ca929fa\tdefault\ttrue\r\n#\r\n# euare-accountdel -r -a sjones\r\n#\r\n# euare-accountlist\r\n(eucalyptus)blockstorage\t000436775518\r\neucalyptus\t000672623239\r\n(eucalyptus)objectstorage\t000432290924\r\n(eucalyptus)cloudformation\t000682294494\r\n(eucalyptus)aws-exec-read\t000591983471\r\n#\r\n# euca-describe-vpcs verbose\r\nVPC\tvpc-f9bed27a\tavailable\t172.31.0.0/16\tdopt-9ca929fa\tdefault\ttrue\r\n#\r\n# euca-delete-vpc vpc-f9bed27a\r\n#\r\n# euca-describe-vpcs verbose\r\n#\r\n# euca-describe-subnets verbose\r\n#\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-04-09T20:33:45.844-0500","updated":"2015-04-09T20:33:45.844-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/93132","id":"93132","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Reopening as the I'm seeing what looks like the described behavior w/ today's build...\r\n\r\n{code}\r\nIn [203]: user = tc.create_user_using_cloudadmin('user2', 'admin')\r\n[2015-10-07 17:27:54,854][DEBUG][UserContext:000184443807:user2:admin]: Successfully created User Context\r\n\r\nIn [204]: user\r\nOut[204]: UserContext:000184443807:user2:admin\r\n\r\nIn [205]: user.ec2.show_vp\r\nuser.ec2.show_vpc   user.ec2.show_vpcs  \r\n\r\nIn [205]: user.ec2.show_vpcs()\r\n[2015-10-07 17:28:03,310][INFO][EC2ops(user2:admin)]: \r\n--------------VPC LIST--------------\r\n+--------------------------------------------------------------+\r\n|  VPC SUMMARY: \"vpc-f390f5b5\"                                 |\r\n+--------------------------------------------------------------+\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||  CIDR BLOCK | DHCP OPT ID |INS TENANCY|  STATE  |IS DEFAULT||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||172.31.0.0/16|dopt-9cb9ac73|  default  |available|   True   ||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n+--------------------------------------------------------------+\r\n\r\n\r\nIn [206]: tc.admin.ec2.show_vpc('vpc-f390f5b5')\r\n[2015-10-07 17:28:22,510][INFO][EC2ops(eucalyptus:admin)]: \r\n+--------------------------------------------------------------+\r\n|  VPC SUMMARY: \"vpc-f390f5b5\"                                 |\r\n+--------------------------------------------------------------+\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||  CIDR BLOCK | DHCP OPT ID |INS TENANCY|  STATE  |IS DEFAULT||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||172.31.0.0/16|dopt-9cb9ac73|  default  |available|   True   ||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n+--------------------------------------------------------------+\r\n\r\nIn [212]: tc.admin.iam.delete_account(user.account_name, recursive=True)\r\n[2015-10-07 17:29:26,022][DEBUG][IAMops(eucalyptus:admin)]: Deleting account: user2\r\n\r\n\r\nIn [214]: tc.admin.iam.show_all_accounts(account_name='user.account_name')\r\n[2015-10-07 17:29:56,750][DEBUG][IAMops(eucalyptus:admin)]: Attempting to fetch all accounts matching- account_id:None account_name:user.account_name\r\n[2015-10-07 17:29:56,923][INFO][IAMops(eucalyptus:admin)]: \r\n+--------------+------------+\r\n| ACCOUNT_NAME | ACCOUNT_ID |\r\n+--------------+------------+\r\n\r\nIn [215]: tc.admin.ec2.show_vpc('vpc-f390f5b5')\r\n[2015-10-07 17:30:05,475][INFO][EC2ops(eucalyptus:admin)]: \r\n+--------------------------------------------------------------+\r\n|  VPC SUMMARY: \"vpc-f390f5b5\"                                 |\r\n+--------------------------------------------------------------+\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||  CIDR BLOCK | DHCP OPT ID |INS TENANCY|  STATE  |IS DEFAULT||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||172.31.0.0/16|dopt-9cb9ac73|  default  |available|   True   ||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n+--------------------------------------------------------------+\r\n\r\nIn [220]: tc.admin.ec2.delete_vpc('vpc-f390f5b5')\r\nOut[220]: True\r\n\r\nIn [221]: tc.admin.ec2.get_vpc('vpc-f390f5b5')\r\nOut[221]: VPC:vpc-f390f5b5\r\n\r\nIn [222]: tc.admin.ec2.get_vpc('vpc-f390f5b5')\r\nOut[222]: VPC:vpc-f390f5b5\r\n\r\nIn [223]: tc.admin.ec2.show_vpc('vpc-f390f5b5')\r\n[2015-10-07 17:31:34,494][INFO][EC2ops(eucalyptus:admin)]: \r\n+--------------------------------------------------------------+\r\n|  VPC SUMMARY: \"vpc-f390f5b5\"                                 |\r\n+--------------------------------------------------------------+\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||  CIDR BLOCK | DHCP OPT ID |INS TENANCY|  STATE  |IS DEFAULT||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||172.31.0.0/16|dopt-9cb9ac73|  default  |available|   True   ||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n+--------------------------------------------------------------+\r\n\r\n\r\n\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-07T19:36:40.413-0500","updated":"2015-10-07T19:36:40.413-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/93173","id":"93173","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This appears to work as expected with euca2ools:\r\n\r\n{code}\r\n#\r\n# euare-accountcreate -a test-account\r\ntest-account\t000185493390\r\n#\r\n#\r\n# euare-useraddkey --as-account test-account -u admin\r\nAKIAAOVFIU7GPWRRLGXS\r\nsXqQmjNFvJpIfpLQM75O3yKz5ebUB8oRGW9pQMbD\r\n# \r\n# \r\n# euca-describe-vpcs -I AKIAAOVFIU7GPWRRLGXS -S sXqQmjNFvJpIfpLQM75O3yKz5ebUB8oRGW9pQMbD\r\nVPC\tvpc-6497cf22\tavailable\t172.31.0.0/16\tdopt-07dc9cb4\tdefault\ttrue\r\n# \r\n# \r\n# euare-accountdel -r test-account\r\n# \r\n# \r\n# euca-describe-vpcs vpc-6497cf22\r\nVPC\tvpc-6497cf22\tavailable\t172.31.0.0/16\tdopt-07dc9cb4\tdefault\ttrue\r\n#\r\n# \r\n# euca-delete-vpc vpc-6497cf22\r\n#\r\n# \r\n# euca-describe-vpcs vpc-6497cf22\r\neuca-describe-vpcs: error (InvalidVpcID.NotFound): The vpc ID 'vpc-6497cf22' does not exist\r\n#\r\n#\r\n# euca-describe-vpcs verbose\r\nVPC\tvpc-09fe1405\tavailable\t172.31.0.0/16\tdopt-bfd6a621\tdefault\ttrue\r\nVPC\tvpc-f9b09a2e\tavailable\t172.31.0.0/16\tdopt-299752e3\tdefault\ttrue\r\n#\r\n#\r\n{code}\r\n\r\nit is expected that if the default VPC has dependent resources created by the user then you will have to delete those resources from the VPC manually first. For example if there are non-default subnets you would have to first delete those. There should be a \"DependencyViolation\" error if deleting the VPC fails due to dependent resources.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-08T10:52:21.732-0500","updated":"2015-10-08T10:52:21.732-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/93195","id":"93195","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones] thanks for the info. \r\nI have a fair amount of VPCs on this system behaving this way(200 ok response when failing to delete the VPC). When I create a new account, vpc, attach an IGW, sec group, etc.. I can get the constraint violation response, but I can also delete the related VPC  artifacts and ultimately the VPC. \r\n\r\nAm I missing any artifacts that should be deleted first? Another guess is that these VPCs may have existed prior to upgrading to several daily 4.2 builds over the last few weeks.  (clc @ 10.111.5.10)\r\nThanks!\r\n-Matt\r\n{code}\r\n[root@h-10 ~]# euca-describe-vpcs vpc-866e7fa0\r\nVPC\tvpc-866e7fa0\tavailable\t172.31.0.0/16\tdopt-76e31af2\tdefault\ttrue\r\n[root@h-10 ~]# euca-describe-internet-gateways verbose --filter attachment.vpc-id=vpc-866e7fa0\r\n[root@h-10 ~]# euca-describe-subnets verbose --filter vpc-id=vpc-866e7fa0\r\n[root@h-10 ~]# euca-describe-group verbose --filter vpc-id=vpc-866e7fa0\r\n[root@h-10 ~]# \r\n[root@h-10 ~]# euca-delete-vpc vpc-866e7fa0 --debug\r\n2015-10-08 10:45:31,182 DEBUG   DeleteVpc parsed arguments: {'VpcId': 'vpc-866e7fa0', 'security_token': None, 'url': None, 'region': None, 'show_empty_fields': False, 'key_id': None, 'secret_key': None}\r\n2015-10-08 10:45:31,182 INFO    Config finding global option default-region\r\n2015-10-08 10:45:31,182 INFO    Config   novalue for default-region\r\n2015-10-08 10:45:31,182 INFO    Config finding global option max-retries\r\n2015-10-08 10:45:31,182 INFO    Config   novalue for max-retries\r\n2015-10-08 10:45:31,182 INFO    Config finding global option timeout\r\n2015-10-08 10:45:31,183 INFO    Config   novalue for timeout\r\n2015-10-08 10:45:31,183 WARNING EC2 added fake region name undefined-4652\r\n2015-10-08 10:45:31,183 DEBUG   HmacV4Auth using auth info from environment\r\n2015-10-08 10:45:31,183 INFO    DeleteVpc parameters: {'Action': 'DeleteVpc', 'VpcId': 'vpc-866e7fa0', 'Version': '2014-06-15'}\r\n2015-10-08 10:45:31,183 DEBUG   DeleteVpc sending flattened params as form data\r\n2015-10-08 10:45:31,187 INFO    EC2 sending request (attempt 1 of 3)\r\n2015-10-08 10:45:31,194 DEBUG   HmacV4Auth payload hash: 14009807cacf0b948839e14a4f3f6871dc52717e7f13f87b78b4846d279cd585\r\n2015-10-08 10:45:31,194 DEBUG   HmacV4Auth scope: 20151008/undefined-4652/ec2/aws4_request\r\n2015-10-08 10:45:31,195 DEBUG   HmacV4Auth canonical URI: /services/compute\r\n2015-10-08 10:45:31,195 DEBUG   HmacV4Auth canonical query: \r\n2015-10-08 10:45:31,195 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'connection:keep-alive', 'content-length:54', 'content-type:application/x-www-form-urlencoded', 'host:10.111.5.12:8773', 'x-amz-content-sha256:14009807cacf0b948839e14a4f3f6871dc52717e7f13f87b78b4846d279cd585', 'x-amz-date:20151008T174531Z']\r\n2015-10-08 10:45:31,195 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2015-10-08 10:45:31,195 DEBUG   HmacV4Auth canonical request: 'POST\\n/services/compute\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\nconnection:keep-alive\\ncontent-length:54\\ncontent-type:application/x-www-form-urlencoded\\nhost:10.111.5.12:8773\\nx-amz-content-sha256:14009807cacf0b948839e14a4f3f6871dc52717e7f13f87b78b4846d279cd585\\nx-amz-date:20151008T174531Z\\n\\naccept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\n14009807cacf0b948839e14a4f3f6871dc52717e7f13f87b78b4846d279cd585'\r\n2015-10-08 10:45:31,196 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20151008T174531Z\\n20151008/undefined-4652/ec2/aws4_request\\n16586ff5371b3a14f7e8d440d5d00a15e97baebb7fb3d3c5b5583dce40e8f058'\r\n2015-10-08 10:45:31,196 DEBUG   HmacV4Auth signature: b3055c51a4a0e4ffb1b7117140841520eb604771ba8779b757b1214790e54cf5\r\n2015-10-08 10:45:31,196 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request method: POST\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request url:    http://10.111.5.12:8773/services/compute\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request header: Accept: */*\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request header: Accept-Encoding: gzip, deflate\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAAC3PD25COUBW56KF/20151008/undefined-4652/ec2/aws4_request, SignedHeaders=accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=b3055c51a4a0e4ffb1b7117140841520eb604771ba8779b757b1214790e54cf5\r\n2015-10-08 10:45:31,196 DEBUG   EC2 request header: Connection: keep-alive\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: Content-Length: 54\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: Content-Type: application/x-www-form-urlencoded\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: Host: 10.111.5.12:8773\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: User-Agent: euca2ools/3.3.0-pre1-2-gcbbc0e7 (CPython 2.6.6; Linux 2.6.32-504.23.4.el6.x86_64; x86_64) requestbuilder/0.4.0 requests/2.6.0\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: X-Amz-Content-SHA256: 14009807cacf0b948839e14a4f3f6871dc52717e7f13f87b78b4846d279cd585\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request header: X-Amz-Date: 20151008T174531Z\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request data:   Action: DeleteVpc\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request data:   Version: 2014-06-15\r\n2015-10-08 10:45:31,197 DEBUG   EC2 request data:   VpcId: vpc-866e7fa0\r\n2015-10-08 10:45:31,283 DEBUG   EC2 response time: 0.085 seconds\r\n2015-10-08 10:45:31,283 INFO    EC2 response status: 200\r\n2015-10-08 10:45:31,284 DEBUG   EC2 response header: content-length: 168\r\n2015-10-08 10:45:31,284 DEBUG   EC2 response header: content-type: application/xml; charset=UTF-8\r\n2015-10-08 10:45:31,284 DEBUG   EC2 response header: date: Thu, 08 Oct 2015 17:45:31 UTC\r\n2015-10-08 10:45:31,284 DEBUG   DeleteVpc -- response content --\r\n<DeleteVpcResponse xmlns=\"http://ec2.amazonaws.com/doc/2014-06-15/\"><requestId>a58bafb4-c5b4-44ab-bb07-f76815eb0b4e</requestId><return>true</return></DeleteVpcResponse>\r\n2015-10-08 10:45:31,285 DEBUG   DeleteVpc -- end of response content --\r\n[root@h-10 ~]# euca-describe-vpcs vpc-866e7fa0\r\nVPC\tvpc-866e7fa0\tavailable\t172.31.0.0/16\tdopt-76e31af2\tdefault\ttrue\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-08T12:51:57.752-0500","updated":"2015-10-08T12:51:57.752-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/93238","id":"93238","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"There is still an issue in 4.2 when the user cache does not contain the (deleted) user:\r\n\r\n{code}\r\n# \r\n# euare-accountcreate -a test-account-2\r\ntest-account-2\t000208898262\r\n# \r\n# \r\n# euare-useraddkey --as-account test-account-2 -u admin\r\nAKIAA7ZI6QL7XUHXSLL5\r\nb23bpSRSserigSwTwD9pk1X7uo6lIPQVWmXnrzqJ\r\n# \r\n# \r\n# euca-describe-vpcs -I AKIAA7ZI6QL7XUHXSLL5 -S b23bpSRSserigSwTwD9pk1X7uo6lIPQVWmXnrzqJ\r\nVPC\tvpc-e336ad70\tavailable\t172.31.0.0/16\tdopt-e39bb55b\tdefault\ttrue\r\n# \r\n# \r\n# euare-accountdel -r test-account-2\r\n# \r\n# \r\n# euca-describe-vpcs vpc-e336ad70\r\nVPC\tvpc-e336ad70\tavailable\t172.31.0.0/16\tdopt-e39bb55b\tdefault\ttrue\r\n# \r\n# \r\n# euca-modify-property -peuca='com.eucalyptus.auth.principal.UserFullName.userIdMap.invalidateAll()'\r\nwarning: euca-modify-property is deprecated; use ``euctl'' instead\r\nPROPERTY\teuca\tnull was executed successfully.\r\n# \r\n# \r\n# euca-delete-vpc vpc-e336ad70\r\n# \r\n# \r\n# euca-describe-vpcs vpc-e336ad70\r\nVPC\tvpc-e336ad70\tavailable\t172.31.0.0/16\tdopt-e39bb55b\tdefault\ttrue\r\n# \r\n# \r\n{code}\r\n\r\nAn example fix for this issue is here:\r\n\r\nhttps://github.com/sjones4/eucalyptus/commit/8e65b23cbf8fd6af6352750310d6c7c221198d27","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-08T15:28:14.260-0500","updated":"2015-10-08T15:28:14.260-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35448/comment/93790","id":"93790","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.2.0\r\nRelease     : 0.0.24040.714.20151013git400ff60.el6\r\n\r\nAfter upgrading the system, and restaring the services. Found and deleted a pre-existing user...\r\n{code}\r\nIn [166]: user\r\nOut[166]: UserContext:000700579809:nephstress1:admin\r\n\r\n\r\nIn [167]: user.ec2.show_vpcs()\r\n[2015-10-14 12:12:33,629][INFO][EC2ops(nephstress1:admin)]: \r\n--------------VPC LIST--------------\r\n+--------------------------------------------------------------+\r\n|  VPC SUMMARY: \"vpc-1e83caff\"                                 |\r\n+--------------------------------------------------------------+\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||  CIDR BLOCK | DHCP OPT ID |INS TENANCY|  STATE  |IS DEFAULT||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n||172.31.0.0/16|dopt-ced906e6|  default  |available|   True   ||\r\n|+-------------+-------------+-----------+---------+----------+|\r\n+--------------------------------------------------------------+\r\n\r\nIn [169]: tc.admin.iam.delete_account(user.account_name, recursive=True)\r\n[2015-10-14 12:13:05,470][DEBUG][IAMops(eucalyptus:admin)]: Deleting account: nephstress1\r\n\r\nIn [170]: user.ec2.show_vpcs()\r\nEC2ResponseError: EC2ResponseError: 403 Forbidden\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>Failed to find access key</Message></Error></Errors><RequestID>Failed to find access key</RequestID></Response>\r\n\r\n\r\n{code}\r\n\r\n\r\nFrom the eucalyptus/admin account/user was able fetch the vpc...\r\n\r\n{code}\r\n\r\nIn [171]: vpc = tc.admin.ec2.get_vpc('vpc-1e83caff')\r\n\r\nIn [172]: vpc\r\nOut[172]: VPC:vpc-1e83caff\r\n\r\n{code}\r\n\r\n... Using the eucalyptus/admin user, deleted all internet gateways, subnets, and security groups associated with the account. \r\n... Then deleted the vpc.\r\n\r\n{code}\r\nIn [208]: vpc.delete()\r\nOut[208]: True\r\ncode}\r\n\r\n\r\nvpc is deleted...\r\n{code}\r\n\r\nIn [211]: vpc = tc.admin.ec2.get_vpc('vpc-1e83caff')\r\n\r\nEC2ResponseError: EC2ResponseError: 400 InvalidVpcID.NotFound\r\n<Response xmlns=\"\"><Errors><Error><Code>InvalidVpcID.NotFound</Code><Message>The vpc ID 'vpc-1e83caff' does not exist</Message></Error></Errors><RequestID>c82c3570-a588-4002-b449-d4ca00ee2572</RequestID></Response>\r\n\r\n {code}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-14T14:35:13.674-0500","updated":"2015-10-14T14:35:13.674-0500"}],"maxResults":6,"total":6,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10691/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}