{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"40544","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40544","key":"EUCA-11930","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10302":null,"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2016-01-28T16:35:15.509-0600","customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11930/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2016-01-21T21:52:56.108-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{}","labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[],"assignee":null,"updated":"2016-06-06T16:33:31.817-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_13000":null,"description":"It took me 998 seconds to delete 3000 alarms one by one. I had one UFS.","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"euwatch-delete-alarms is slow","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i03lbj:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_585739411","customfield_10001":"2016-01-25T17:53:40.734-0600","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["sjones(sjones)","vasya(vasya)","zhill(zhill)"],"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40544/comment/98240","id":"98240","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"There is around 200ms of client processing for every command with euca2ools (so ~60% of your test time). If performance is a concern do not delete alarms individually via euca2ools. You can check the command time vs service response time with euca2ools by running with debug enabled (look for \"response time\"):\r\n\r\n{code}\r\n# time euwatch-describe-alarms --debug\r\n2016-01-25 11:39:58,739 DEBUG   DescribeAlarms parsed arguments: {'AlarmNames.member': [], 'StateValue': None, 'security_token': None, 'ActionPrefix': None, 'url': None, 'region': None, 'show_long': False, 'show_empty_fields': False, 'key_id': None, 'AlarmNamePrefix': None, 'secret_key': None}\r\n2016-01-25 11:39:58,739 INFO    Config finding global option default-region\r\n2016-01-25 11:39:58,739 INFO    Config   novalue for default-region\r\n2016-01-25 11:39:58,739 INFO    Config finding global option max-retries\r\n2016-01-25 11:39:58,739 INFO    Config   novalue for max-retries\r\n2016-01-25 11:39:58,739 INFO    Config finding global option timeout\r\n2016-01-25 11:39:58,739 INFO    Config   novalue for timeout\r\n2016-01-25 11:39:58,739 WARNING CloudWatch added fake region name undefined-15282\r\n2016-01-25 11:39:58,739 DEBUG   HmacV4Auth using auth info from environment\r\n2016-01-25 11:39:58,740 INFO    DescribeAlarms parameters: {'Action': 'DescribeAlarms', 'Version': '2010-08-01'}\r\n2016-01-25 11:39:58,740 DEBUG   DescribeAlarms sending flattened params as form data\r\n2016-01-25 11:39:58,743 INFO    CloudWatch sending request (attempt 1 of 3)\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth payload hash: 57c3d9c7d24b342f02bb6f04344888c8b2f5edb728e610a68d0d1665454dde11\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth scope: 20160125/undefined-15282/monitoring/aws4_request\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth canonical URI: /\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth canonical query: \r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth canonical headers: ['accept:*/*', 'accept-encoding:gzip, deflate', 'connection:keep-alive', 'content-length:40', 'content-type:application/x-www-form-urlencoded', 'host:cloudwatch.a-03.autoqa.qa1.eucalyptus-systems.com:8773', 'x-amz-content-sha256:57c3d9c7d24b342f02bb6f04344888c8b2f5edb728e610a68d0d1665454dde11', 'x-amz-date:20160125T193958Z']\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-01-25 11:39:58,753 DEBUG   HmacV4Auth canonical request: 'POST\\n/\\n\\naccept:*/*\\naccept-encoding:gzip, deflate\\nconnection:keep-alive\\ncontent-length:40\\ncontent-type:application/x-www-form-urlencoded\\nhost:cloudwatch.a-03.autoqa.qa1.eucalyptus-systems.com:8773\\nx-amz-content-sha256:57c3d9c7d24b342f02bb6f04344888c8b2f5edb728e610a68d0d1665454dde11\\nx-amz-date:20160125T193958Z\\n\\naccept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\\n57c3d9c7d24b342f02bb6f04344888c8b2f5edb728e610a68d0d1665454dde11'\r\n2016-01-25 11:39:58,754 DEBUG   HmacV4Auth string to sign: 'AWS4-HMAC-SHA256\\n20160125T193958Z\\n20160125/undefined-15282/monitoring/aws4_request\\n94e21db614f4a2fc113e226f2ce51b71ba5fa759283d1813f82be63f6cbae377'\r\n2016-01-25 11:39:58,754 DEBUG   HmacV4Auth signature: 09b7e14835efb0b5e4dba7dc5798c86696635e891fd868162c28e19ca9d2d47d\r\n2016-01-25 11:39:58,754 DEBUG   HmacV4Auth signed headers: accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request method: POST\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request url:    http://cloudwatch.a-03.autoqa.qa1.eucalyptus-systems.com:8773/\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Accept: */*\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Accept-Encoding: gzip, deflate\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Authorization: AWS4-HMAC-SHA256 Credential=AKIAA63KPHPYQ6HACF6Z/20160125/undefined-15282/monitoring/aws4_request, SignedHeaders=accept;accept-encoding;connection;content-length;content-type;host;x-amz-content-sha256;x-amz-date, Signature=09b7e14835efb0b5e4dba7dc5798c86696635e891fd868162c28e19ca9d2d47d\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Connection: keep-alive\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Content-Length: 40\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Content-Type: application/x-www-form-urlencoded\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: Host: cloudwatch.a-03.autoqa.qa1.eucalyptus-systems.com:8773\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: User-Agent: euca2ools/3.3.0-5-gf04e631 (CPython 2.6.6; Linux 2.6.32-573.12.1.el6.x86_64; x86_64) requestbuilder/0.4.0 requests/2.6.0\r\n2016-01-25 11:39:58,754 DEBUG   CloudWatch request header: X-Amz-Content-SHA256: 57c3d9c7d24b342f02bb6f04344888c8b2f5edb728e610a68d0d1665454dde11\r\n2016-01-25 11:39:58,755 DEBUG   CloudWatch request header: X-Amz-Date: 20160125T193958Z\r\n2016-01-25 11:39:58,755 DEBUG   CloudWatch request data:   Action: DescribeAlarms\r\n2016-01-25 11:39:58,755 DEBUG   CloudWatch request data:   Version: 2010-08-01\r\n2016-01-25 11:39:58,864 DEBUG   CloudWatch response time: 0.109 seconds\r\n2016-01-25 11:39:58,864 INFO    CloudWatch response status: 200\r\n2016-01-25 11:39:58,864 DEBUG   CloudWatch response header: content-length: 299\r\n2016-01-25 11:39:58,865 DEBUG   CloudWatch response header: content-type: application/xml; charset=UTF-8\r\n2016-01-25 11:39:58,865 DEBUG   CloudWatch response header: date: Mon, 25 Jan 2016 19:39:58 UTC\r\n2016-01-25 11:39:58,865 DEBUG   DescribeAlarms -- response content --\r\n<DescribeAlarmsResponse xmlns=\"http://monitoring.amazonaws.com/doc/2010-08-01/\"><DescribeAlarmsResult><MetricAlarms/></DescribeAlarmsResult><ResponseMetadata><RequestId>5a081bcd-287f-44a9-8cf5-16cc077bd558::c4414d0b-2881-455f-930e-d74c2b59ddd1</RequestId></ResponseMetadata></DescribeAlarmsResponse>\r\n2016-01-25 11:39:58,865 DEBUG   DescribeAlarms -- end of response content --\r\n\r\nreal\t0m0.301s\r\nuser\t0m0.165s\r\nsys\t0m0.025s\r\n{code}\r\n\r\nso in the above example the service time is 0.109 seconds and the command takes 0m0.301s.\r\n\r\nTesting with the AWS SDK for Java I see deletes of 3000 alarms (sequentially, one per action) taking 320 seconds in a default QA setup (or 290 seconds with debug logging turned off).\r\n\r\nThis is consistent with the performance of services generally.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-25T17:53:40.734-0600","updated":"2016-01-25T17:53:40.734-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40544/comment/98321","id":"98321","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Performance of creating alarms is consistent with other operations. It's not fast but not considered a bug.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-01-28T16:35:15.516-0600","updated":"2016-01-28T16:35:15.516-0600"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11930/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}