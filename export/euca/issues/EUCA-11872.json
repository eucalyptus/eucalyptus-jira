{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"40224","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40224","key":"EUCA-11872","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@2ec6c4e0[id=133,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 4,goal=<null>,startDate=2016-02-17T14:46:30.194Z,endDate=2016-03-04T14:46:00.000Z,completeDate=2016-03-08T15:14:42.844Z,sequence=133]","com.atlassian.greenhopper.service.sprint.Sprint@b2eb654[id=135,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 6,goal=<null>,startDate=2016-03-29T22:49:33.459Z,endDate=2016-04-19T22:49:00.000Z,completeDate=2016-04-20T00:36:39.021Z,sequence=135]"],"customfield_12800":null,"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2016-09-20T12:49:56.549-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11872/watchers","watchCount":2,"isWatching":false},"created":"2016-01-05T10:51:04.631-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2016-04-07T13:26:06.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-10-28T00:29:09.474-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12900","id":"12900","name":"CloudFormation"}],"timeoriginalestimate":null,"description":"As a cloudformation user, I would like 'delete stack' to not be available during update.  Specifically, I should not be able to delete stack when the stack status is UPDATE_IN_PROGRESS, UPDATE_COMPLETE_CLEANUP_IN_PROGRESS, UPDATE_ROLLBACK_IN_PROGRESS, and UPDATE_ROLLBACK_COMPLETE_CLEANUP_IN_PROGRESS.  However I should be able to delete the stack when the status is UPDATE_COMPLETE, UPDATE_ROLLBACK_COMPLETE, or UPDATE_ROLLBACK_FAILED.  I should also be able to delete the stack during any of the CREATE_* statuses.","customfield_13000":null,"customfield_13200":null,"customfield_11300":"EUCA-11536","customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/34712","id":"34712","filename":"cfn-elb-cloudwatch-vpc-multiaz-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-20T12:39:29.054-0500","size":14420,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/34712/cfn-elb-cloudwatch-vpc-multiaz-template.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/34713","id":"34713","filename":"cfn-elb-cloudwatch-vpc-multiaz-update1-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-20T12:39:28.971-0500","size":14597,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/34713/cfn-elb-cloudwatch-vpc-multiaz-update1-template.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/34714","id":"34714","filename":"cfn-elb-cloudwatch-vpc-multiaz-update2-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-20T12:39:28.937-0500","size":14221,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/34714/cfn-elb-cloudwatch-vpc-multiaz-update2-template.json"}],"aggregatetimeestimate":null,"summary":"CF: disable delete during update","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_12343_*|*_10000_*:*_1_*:*_156005_*|*_10001_*:*_1_*:*_8121694439_*|*_10003_*:*_1_*:*_14259269148_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03kcv:","customfield_10001":"2016-09-20T12:49:56.562-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10004":2.0,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["ethomas(ethomas)","hspencer(hspencer)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40224/comment/110369","id":"110369","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Eucalyptus Version*\r\n\r\n{{4.3.0-0.25084.394.20160830git660153b.el7}}\r\n\r\n*Steps*\r\n\r\n# Set up multi-cluster Eucalyptus VPC cloud\r\n# Create non-eucalyptus account\r\n# Bundle, upload and register [Ubuntu Cloud Image (16.04 Xenial Xerus)|http://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img]\r\n# Using linked {{cfn-elb-cloudwatch-vpc-multiaz-template.json}} template, create stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-create-stack NginxMultiAZStack --template-file cfn-elb-cloudwatch-vpc-multiaz-template.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --parameter InstanceType=m1.small --parameter EndPoint=http://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/ --capabilities CAPABILITY_IAM --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/453021aa-4b8f-4b9a-ae2f-6a6ce2eb2c3f\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tCREATE_COMPLETE\t\tCloudFormation template to launch a highly available Nginx web stack in Eucalyptus VPC\t2016-09-20T15:25:09.644Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.small\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t4\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-MJS6OAMQMKECL-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n{code}\r\n# Using linked {{cfn-elb-cloudwatch-vpc-multiaz-update1-template.json}} template, run UpdateStack using deployed stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-update-stack NginxMultiAZStack --template-file cfn-elb-cloudwatch-vpc-multiaz-update1-template.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --parameter EndPoint=http://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/ --capabilities CAPABILITY_IAM --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/453021aa-4b8f-4b9a-ae2f-6a6ce2eb2c3f\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tUPDATE_IN_PROGRESS\tUser Initiated\tFirst UpdateStack for ELB, Cloudwatch, Nginx Stack\t2016-09-20T15:25:09.644Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.xlarge\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t6\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-MJS6OAMQMKECL-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n{code}\r\n# Once stack is in {{UPDATE_IN_PROGRESS}} state, attempt to delete the stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-delete-stack NginxMultiAZStack --region sales-admin@\r\neuform-delete-stack: error (ValidationError): Stack arn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/453021aa-4b8f-4b9a-ae2f-6a6ce2eb2c3f is in UPDATE_IN_PROGRESS state and can not be deleted.\r\n{code}\r\n# Once stack reaches {{UPDATE_COMPLETE}} state, delete the stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tUPDATE_COMPLETE\t\tFirst UpdateStack for ELB, Cloudwatch, Nginx Stack\t2016-09-20T15:25:09.644Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.xlarge\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t6\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-MJS6OAMQMKECL-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n[root@g-22-04 ~]# euform-delete-stack NginxMultiAZStack --region sales-admin@\r\n{code}\r\n# Re-create stack using linked {{cfn-elb-cloudwatch-vpc-multiaz-template.json}} template:\r\n{code}\r\n[root@g-22-04 ~]# euform-create-stack NginxMultiAZStack --template-file cfn-elb-cloudwatch-vpc-multiaz-template.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --parameter InstanceType=m1.small --parameter EndPoint=http://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/ --capabilities CAPABILITY_IAM --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/317cc4bc-a201-4cb5-804a-93dc7d4ebad4\r\n{code}\r\n# Once stack reaches {{CREATE_COMPLETE}}, use linked {{cfn-elb-cloudwatch-vpc-multiaz-update2-template.json}} template with UpdateStack:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tCREATE_COMPLETE\t\tCloudFormation template to launch a highly available Nginx web stack in Eucalyptus VPC\t2016-09-20T16:57:24.625Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.small\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t4\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-RAIJMLDRUDEMO-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n[root@g-22-04 ~]# euform-update-stack NginxMultiAZStack --template-file cfn-elb-cloudwatch-vpc-multiaz-update2-template.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --parameter EndPoint=http://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/ --capabilities CAPABILITY_IAM --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/294ba706-82bf-48cc-9a21-6129d0b658a9\r\n{code}\r\n# Once stack reaches {{UPDATE_ROLLBACK_IN_PROGRESS}}, attempt to delete the stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tUPDATE_ROLLBACK_IN_PROGRESS\tThe following resource(s) failed to update: [LaunchConfig].\tSecond UpdateStack for ELB, Cloudwatch, Nginx Stack\t2016-09-20T16:57:24.625Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm3.medium\r\nPARAMETER\tMinSize\t\t3\r\nPARAMETER\tMaxSize\t\t6\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-RAIJMLDRUDEMO-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n[root@g-22-04 ~]# euform-delete-stack NginxMultiAZStack --region sales-admin@\r\neuform-delete-stack: error (ValidationError): Stack arn:aws:cloudformation::002598321247:stack/NginxMultiAZStack/294ba706-82bf-48cc-9a21-6129d0b658a9 is in UPDATE_ROLLBACK_IN_PROGRESS state and can not be deleted.\r\n{code}\r\n# Once stack reached {{UPDATE_ROLLBACK_COMPLETE}} state, delete the stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tNginxMultiAZStack\tUPDATE_ROLLBACK_COMPLETE\t\tCloudFormation template to launch a highly available Nginx web stack in Eucalyptus VPC\t2016-09-20T16:57:24.625Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tKeyName\t\tsales-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.b-29.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.small\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t4\r\nOUTPUT\tELBURL\thttp://NginxMult-NginxELB-RAIJMLDRUDEMO-002598321247.lb.b-29.autoqa.qa1.eucalyptus-systems.com\r\n[root@g-22-04 ~]# euform-delete-stack NginxMultiAZStack --region sales-admin@\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-20T12:49:56.562-0500","updated":"2016-09-20T12:49:56.562-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40224/comment/110519","id":"110519","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Confirmed DeleteStack doesn't work on stack in {{UPDATE_COMPLETE_CLEANUP_IN_PROGRESS}} state:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tInstanceTest\tUPDATE_COMPLETE_CLEANUP_IN_PROGRESS\t\tCloudformation UpdateStack #4: Enable DisableApiTermination on instance store-backed HVM instance\t2016-09-22T23:48:58.440Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\tsales-admin\r\nOUTPUT\tInstanceId\ti-a6b06712\r\nOUTPUT\tAZ\tds2\r\nOUTPUT\tPublicIP\t10.116.155.121\r\n[root@g-22-04 ~]# euform-delete-stack InstanceTest --region sales-admin@\r\neuform-delete-stack: error (ValidationError): Stack arn:aws:cloudformation::002598321247:stack/InstanceTest/01d551ea-1739-4d3a-96d4-c37d312f1cfb is in UPDATE_COMPLETE_CLEANUP_IN_PROGRESS state and can not be deleted.\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-23T08:37:40.910-0500","updated":"2016-09-23T08:37:40.910-0500"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11872/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}