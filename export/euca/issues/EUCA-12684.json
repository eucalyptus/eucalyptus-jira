{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"47600","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600","key":"EUCA-12684","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/6","id":"6","description":"The product is working as designed.","name":"Not a Bug"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10211","value":"RHEL 6","id":"10211"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12600","value":"RHEL 7","id":"12600"}],"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11500","value":"Edge","id":"11500"}],"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10302":null,"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2016-08-25T16:14:26.428-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12684/watchers","watchCount":6,"isWatching":false},"created":"2016-08-24T02:19:32.097-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{pullrequest={dataType=pullrequest, state=DECLINED, stateCount=1}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2016-12-06T15:27:04.000-0600\",\"stateCount\":1,\"state\":\"DECLINED\",\"dataType\":\"pullrequest\",\"open\":false},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"issuelinks":[{"id":"45450","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/45450","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"49248","key":"DOC-1990","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49248","fields":{"summary":"Need upgrade steps to allow attaching Overlay EBS volumes after upgrade to RHEL7","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}},{"id":"42306","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/42306","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"47708","key":"EUCA-12698","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47708","fields":{"summary":"Overlay export volume workflow needs to be fixed","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-02-08T19:09:44.634-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"I have this cloud in the EQS lab, standard 3 node (CLC, Walrus, SC, CC) (UFS, Console) (NC), Edge, Overlay, 4.3.0 on RHEL7 after an upgrade from 4.2.2 on RHEL6:\r\nhttp://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Current%20Public%20Release/79/\r\n{noformat}\r\n10.111.5.86\tCENTOS\t6.5\t64\tREPO\t[CLC]\r\n10.111.5.86\tCENTOS\t6.5\t64\tREPO\t[WS]\r\n10.111.1.72\tCENTOS\t6.5\t64\tREPO\t[UFS]\r\n10.111.5.86\tCENTOS\t6.5\t64\tREPO\t[CC00]\r\n10.111.5.86\tCENTOS\t6.5\t64\tREPO\t[SC00]\r\n10.111.5.134\tCENTOS\t6.5\t64\tREPO\t[NC00]\r\n{noformat}\r\n\r\nAfter the OS upgrade of all hosts, the unpacked instances are running fine, but I cannot attach any existing available EBS volume to any stopped or running instance. And if I try to attach a volume to a stopped instance, it cannot be started ever again, even if I detach that volume!\r\n\r\nThis is Overlay, but I'm guessing the effect is the same for DAS, hence Critical.\r\n\r\nExample:\r\n\r\nAfter upgrading all hosts to 4.3 on RHEL6, I re-attached vol-9b375a1d to instance ebs-vols-stopped (i-0e02b6c3) while it was stopped. Before packing all instances on 4.3/RHEL6, I had detached this volume (after unmounting it on the instance) while it was running, and then stopped it. So this instance was not packed (nothing running to pack).\r\n\r\nUpon restarting the instance, I got errors from tgtd, about the volume I had re-attached while the instance was stopped:\r\n{noformat}\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: device_mgmt(246) sz:61 params:path=/dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: bs_thread_open(408) 16\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: backed_file_open(92) Could not open /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d, No such file or directory\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n\tAug 23 23:33:14 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 21 already exists\r\n{noformat}\r\n\t...and in cloud-debug.log:\r\n{noformat}\r\n\tTue Aug 23 23:33:14 2016  INFO [BlockStorageController:Storage.03] Processing ExportVolume request for volume vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 DEBUG [SystemUtil:Storage.03] Running command: ///usr/lib/eucalyptus/euca_rootwrap losetup -f\r\n\tTue Aug 23 23:33:14 2016  INFO [OverlayManager:Storage.03] Finished executing: losetup /dev/loop5 //var/lib/eucalyptus/volumes/vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016  INFO [OverlayManager:Storage.03] Result of: losetup /dev/loop5 //var/lib/eucalyptus/volumes/vol-9b375a1d stdout:\r\n\tTue Aug 23 23:33:14 2016  INFO [OverlayManager:Storage.03] Result of: losetup/dev/loop5 //var/lib/eucalyptus/volumes/vol-9b375a1d return value:\r\n\tTue Aug 23 23:33:14 2016 DEBUG [SystemUtil:Storage.03] Running command: ///usr/lib/eucalyptus/euca_rootwrap lvchange -ay /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 ERROR [SystemUtil:Storage.03] com.eucalyptus.util.EucalyptusCloudException:   Volume group \"euca-ebs-storage-vg-vol-9b375a1d\" not found\r\n\t  Cannot process volume group euca-ebs-storage-vg-vol-9b375a1d\r\n\t\r\n\tcom.eucalyptus.util.EucalyptusCloudException:   Volume group \"euca-ebs-storage-vg-vol-9b375a1d\" not found\r\n\t  Cannot process volume group euca-ebs-storage-vg-vol-9b375a1d\r\n\t\r\n\t        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:223)\r\n\t        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:193)\r\n\t        at com.eucalyptus.blockstorage.LVMWrapper.enableLogicalVolume(LVMWrapper.java:139)\r\n\t        at com.eucalyptus.blockstorage.OverlayManager.exportVolume(OverlayManager.java:1139)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:543)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:504)\r\n\t        at com.eucalyptus.entities.Entities$TransactionalFunction.apply(Entities.java:1550)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController.ExportVolume(BlockStorageController.java:586)\r\n\t        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t        at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t        at org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:148)\r\n\t        at org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:118)\r\n\t{ ... }\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Allocate target: null,-1,-1,eucalyptus,vol-9b375a1d,one,/dev/loop5,null,null,euca-ebs-storage-vg-vol-9b375a1d,euca-vol-9b375a1d,1,available,null,false\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 21\r\n\t return=22\r\n\t stdout=\r\n\t stderr=tgtadm: can't find the target\r\n\t\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Volume vol-9b375a1d Target allocation found tid: 21\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Exporting vol-9b375a1d as target: 21,iqn.2009-06.com.eucalyptus.one:store21,1,/dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d,eucalyptus\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --op show --mode account\r\n\t return=0\r\n\t stdout=Account list:\r\n\t    eucalyptus\r\n\t\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 21\r\n\t return=22\r\n\t stdout=\r\n\t stderr=tgtadm: can't find the target\r\n\t\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Creating target 21 for vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode target --tid 21 -T iqn.2009-06.com.eucalyptus.one:store21\r\n\t return=0\r\n\t stdout=\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Creating lun 1 for vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode logicalunit --tid 21 --lun 1 -b /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d\r\n\t return=22\r\n\t stdout=\r\n\t stderr=tgtadm: invalid request\r\n\t\r\n\tTue Aug 23 23:33:14 2016 ERROR [ISCSIManager:Storage.03] Failed creating target 21 for vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 ERROR [DASManager:Storage.03] com.eucalyptus.util.EucalyptusCloudException: Resource not found\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Allocate target: iqn.2009-06.com.eucalyptus.one:store21,21,1,eucalyptus,vol-9b375a1d,one,/dev/loop5,null,null,euca-ebs-storage-vg-vol-9b375a1d,euca-vol-9b375a1d,1,available,null,false\r\n\tTue Aug 23 23:33:14 2016  INFO [ISCSIManager:Storage.03] Volume already associated with a tid: 21\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Exporting vol-9b375a1d as target: 21,iqn.2009-06.com.eucalyptus.one:store21,1,/dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d,eucalyptus\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --op show --mode account\r\n\t return=0\r\n\t stdout=Account list:\r\n\t    eucalyptus\r\n\t\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 21\r\n\t return=0\r\n\t stdout=MaxRecvDataSegmentLength=8192\r\n\tHeaderDigest=None\r\n\tDataDigest=None\r\n\tInitialR2T=Yes\r\n\tMaxOutstandingR2T=1\r\n\tImmediateData=Yes\r\n\tFirstBurstLength=65536\r\n\tMaxBurstLength=262144\r\n\tDataPDUInOrder=Yes\r\n\tDataSequenceInOrder=Yes\r\n\tErrorRecoveryLevel=0\r\n\tIFMarker=No\r\n\tOFMarker=No\r\n\tDefaultTime2Wait=2\r\n\tDefaultTime2Retain=20\r\n\tOFMarkInt=Reject\r\n\tIFMarkInt=Reject\r\n\tMaxConnections=1\r\n\tRDMAExtensions=Yes\r\n\tTargetRecvDataSegmentLength=262144\r\n\tInitiatorRecvDataSegmentLength=262144\r\n\tMaxOutstandingUnexpectedPDUs=0\r\n\tMaxXmitDataSegmentLength=8192\r\n\tMaxQueueCmd=128\r\n\t\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target\r\n\t return=0\r\n\t stdout=Target 2: iqn.2009-06.com.eucalyptus.one:store2\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 1\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00020000\r\n\t            SCSI SN: beaf20\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     00020001\r\n\t            SCSI SN: beaf21\r\n\t            Size: 6442 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-6193a29e/euca-vol-6193a29e\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 4: iqn.2009-06.com.eucalyptus.one:store4\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 3\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00040000\r\n\t            SCSI SN: beaf40\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     00040001\r\n\t            SCSI SN: beaf41\r\n\t            Size: 3221 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-a07de7e7/euca-vol-a07de7e7\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 6: iqn.2009-06.com.eucalyptus.one:store6\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 4\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00060000\r\n\t            SCSI SN: beaf60\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     00060001\r\n\t            SCSI SN: beaf61\r\n\t            Size: 3221 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-fb913867/euca-vol-fb913867\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 10: iqn.2009-06.com.eucalyptus.one:store10\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 2\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     000a0000\r\n\t            SCSI SN: beaf100\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     000a0001\r\n\t            SCSI SN: beaf101\r\n\t            Size: 3221 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-4be8f3a3/euca-vol-4be8f3a3\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 19: iqn.2009-06.com.eucalyptus.one:store19\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 5\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00130000\r\n\t            SCSI SN: beaf190\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     00130001\r\n\t            SCSI SN: beaf191\r\n\t            Size: 3221 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-8260a67f/euca-vol-8260a67f\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 20: iqn.2009-06.com.eucalyptus.one:store20\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t        I_T nexus: 6\r\n\t            Initiator: iqn.1994-05.com.redhat:5049f33909 alias: d-10.qa1.eucalyptus-systems.com\r\n\t            Connection: 0\r\n\t                IP Address: 10.111.5.134\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00140000\r\n\t            SCSI SN: beaf200\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t        LUN: 1\r\n\t            Type: disk\r\n\t            SCSI ID: IET     00140001\r\n\t            SCSI SN: beaf201\r\n\t            Size: 3221 MB, Block size: 512\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: rdwr\r\n\t            Backing store path: /dev/euca-ebs-storage-vg-vol-75cf72e2/euca-vol-75cf72e2\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t        eucalyptus\r\n\t    ACL information:\r\n\t        ALL\r\n\tTarget 21: iqn.2009-06.com.eucalyptus.one:store21\r\n\t    System information:\r\n\t        Driver: iscsi\r\n\t        State: ready\r\n\t    I_T nexus information:\r\n\t    LUN information:\r\n\t        LUN: 0\r\n\t            Type: controller\r\n\t            SCSI ID: IET     00150000\r\n\t            SCSI SN: beaf210\r\n\t            Size: 0 MB, Block size: 1\r\n\t            Online: Yes\r\n\t            Removable media: No\r\n\t            Prevent removal: No\r\n\t            Readonly: No\r\n\t            SWP: No\r\n\t            Thin-provisioning: No\r\n\t            Backing store type: null\r\n\t            Backing store path: None\r\n\t            Backing store flags:\r\n\t    Account information:\r\n\t    ACL information:\r\n\t\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Creating target 21 for vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op new --mode target --tid 21 -T iqn.2009-06.com.eucalyptus.one:store21\r\n\t return=22\r\n\t stdout=\r\n\t stderr=tgtadm: this target already exists\r\n\t\r\n\tTue Aug 23 23:33:14 2016 ERROR [ISCSIManager:Storage.03] Failed creating target 21 for vol-9b375a1d\r\n\tTue Aug 23 23:33:14 2016 ERROR [DASManager:Storage.03] com.eucalyptus.util.EucalyptusCloudException: Resource target not found\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Allocate target: iqn.2009-06.com.eucalyptus.one:store21,21,1,eucalyptus,vol-9b375a1d,one,/dev/loop5,null,null,euca-ebs-storage-vg-vol-9b375a1d,euca-vol-9b375a1d,1,available,null,false\r\n\tTue Aug 23 23:33:14 2016  INFO [ISCSIManager:Storage.03] Volume already associated with a tid: 21\r\n\tTue Aug 23 23:33:14 2016 DEBUG [ISCSIManager:Storage.03] Exporting vol-9b375a1d as target: 21,iqn.2009-06.com.eucalyptus.one:store21,1,/dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d,eucalyptus\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --op show --mode account\r\n\t return=0\r\n\t stdout=Account list:\r\n\t    eucalyptus\r\n\t\r\n\t stderr=\r\n\tTue Aug 23 23:33:14 2016 DEBUG [TGTWrapper:Storage.03] TGTWrapper executed: ///usr/lib/eucalyptus/euca_rootwrap tgtadm --lld iscsi --op show --mode target --tid 21\r\n\t return=0\r\n\t stdout=MaxRecvDataSegmentLength=8192\r\n\tHeaderDigest=None\r\n\tDataDigest=None\r\n\tInitialR2T=Yes\r\n\tMaxOutstandingR2T=1\r\n\tImmediateData=Yes\r\n\tFirstBurstLength=65536\r\n\tMaxBurstLength=262144\r\n\tDataPDUInOrder=Yes\r\n\tDataSequenceInOrder=Yes\r\n\tErrorRecoveryLevel=0\r\n\tIFMarker=No\r\n\tOFMarker=No\r\n\tDefaultTime2Wait=2\r\n\tDefaultTime2Retain=20\r\n\tOFMarkInt=Reject\r\n\tIFMarkInt=Reject\r\n\tMaxConnections=1\r\n\tRDMAExtensions=Yes\r\n\tTargetRecvDataSegmentLength=262144\r\n\tInitiatorRecvDataSegmentLength=262144\r\n\tMaxOutstandingUnexpectedPDUs=0\r\n\tMaxXmitDataSegmentLength=8192\r\n\tMaxQueueCmd=128\r\n\t\r\n\t stderr=\r\n{noformat}\r\nI detached the volume (while stopped). Started it... still failed! Got this in tgtd:\r\n{noformat}\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: device_mgmt(246) sz:61 params:path=/dev/euca-ebs-storage-vg-vol-df85cb60/euca-vol-df85cb60\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: bs_thread_open(408) 16\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: backed_file_open(92) Could not open /dev/euca-ebs-storage-vg-vol-df85cb60/euca-vol-df85cb60, No such file or directory\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n\tAug 23 23:55:12 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 22 already exists\r\n{noformat}\r\n\tWhy is it even trying to access that volume when the instance no longer has it attached? So even though I've detached that volume I tried to attach, I still can't start that instance!\r\n\r\n\tAttached a different volume (which had been attached pre-OS upgrade) 8GB  vol-ec5b8d72.\r\n\tStarted it, still failed to start, and got this from tgtd:\r\n{noformat}\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: device_mgmt(246) sz:61 params:path=/dev/euca-ebs-storage-vg-vol-ec5b8d72/euca-vol-ec5b8d72\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: bs_thread_open(408) 16\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: backed_file_open(92) Could not open /dev/euca-ebs-storage-vg-vol-ec5b8d72/euca-vol-ec5b8d72, No such file or directory\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n\tAug 23 23:58:54 c-37.qa1.eucalyptus-systems.com tgtd[24234]: tgtd: tgt_target_create(2146) Target id 23 already exists\r\n{noformat}\r\n\tBut the logical volume is ok in lvm, and exists as a device:\r\n{noformat}\r\n\troot@c-37 qlov4_RHEL7_CLC_etc 23:59:49  /var/log/eucalyptus\r\n\t# lvdisplay euca-ebs-storage-vg-vol-ec5b8d72\r\n\t  --- Logical volume ---\r\n\t  LV Path                /dev/euca-ebs-storage-vg-vol-ec5b8d72/euca-vol-ec5b8d72\r\n\t  LV Name                euca-vol-ec5b8d72\r\n\t  VG Name                euca-ebs-storage-vg-vol-ec5b8d72\r\n\t  LV UUID                dlAVNh-JVTq-zq6v-W1hP-Sabc-lXW1-FIFJHj\r\n\t  LV Write Access        read/write\r\n\t  LV Creation host, time c-37.qa1.eucalyptus-systems.com, 2016-08-22 18:24:08 -0700\r\n\t  LV Status              available\r\n\t  # open                 0\r\n\t  LV Size                8.00 GiB\r\n\t  Current LE             2048\r\n\t  Segments               1\r\n\t  Allocation             inherit\r\n\t  Read ahead sectors     auto\r\n\t  - currently set to     8192\r\n\t  Block device           253:9\r\n\t\r\n\t\r\n\troot@c-37 qlov4_RHEL7_CLC_etc 00:00:04  /var/log/eucalyptus\r\n\t# ll /dev/euca-ebs-storage-vg-vol-ec5b8d72/euca-vol-ec5b8d72\r\n\tlrwxrwxrwx. 1 root root 7 Aug 23 23:58 /dev/euca-ebs-storage-vg-vol-ec5b8d72/euca-vol-ec5b8d72 -> ../dm-9\r\n\t\r\n\troot@c-37 qlov4_RHEL7_CLC_etc 00:00:14  /var/log/eucalyptus\r\n\t# ll /dev/dm-9\r\n\tbrw-rw----. 1 root disk 253, 9 Aug 23 23:58 /dev/dm-9\r\n\t\r\n{noformat}\r\n\tSame problem if I try to attach any available unattached volume to any running instance. You get errors like the above, at the time you try to attach it.\r\n\r\nI had another stopped EBS-backed instance ebs-stopped (i-dc3e5755) that I did NOT attach any volumes to, and it started up just fine after the upgrade.\r\n\r\nFeel free to log in to these hosts, I'm leaving it as-is for investigation.\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Cannot attach any Overlay EBS volume to any instance after OS upgrade of all hosts","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_136409288_*|*_10001_*:*_1_*:*_85059","customfield_12100":"0|i03wnb:","customfield_10001":"2016-08-24T11:14:42.687-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["dmitrii(dmitrii)","lincoln.thomas(lincoln.thomas)","swathi(swathi)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109400","id":"109400","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Alerting [~swathi]","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T02:20:58.602-0500","updated":"2016-08-24T02:20:58.602-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109401","id":"109401","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"In case it's relevant: I restored files from backups stored on another machine, after installing RHEL7 and 4.3, and before starting any services. After starting the cloud services, I noticed Walrus had file access Permission Denied errors in the log because the dirs and files in the /var/lib/eucalyptus/bukkits tree were owned by 498:498, which was eucalyptus:eucalyptus on RHEL6, but on RHEL7 eucalyptus:eucalyptus is now 994:991. I had copied them to/from my backup machine with \"rsync -av ...\" which preserves file ownership, permissions, etc. So I had to \"chown -r eucalyptus:eucalyptus /var/lib/eucalyptus/bukkits\" everything in the bukkits directory and restart eucalyptus-cloud. Then no more errors. This was all before I started trying to attach volumes per the above.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T02:53:12.155-0500","updated":"2016-08-24T02:53:12.155-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109402","id":"109402","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas]: Firstly I wouldn't extend the problem to DAS without actually verifying it since there are differences between the two backends even though both use tgtd and lvm. Secondly, is this a new issue? As in I recollect pack/unpack was verified with Overlay before, is that accurate and is this test case any different from the previous attempts? Going back to the problem, I suspect something weird going on with the restored data. SC sure seems to complain about missing vg. Might be worth comparing the lvm resources before and after the OS upgrade and verify that the structure, permissions etc are preserved. I'll take a closer look at the system later today\r\n\r\n{noformat}\r\nTue Aug 23 23:33:14 2016 ERROR [SystemUtil:Storage.03] com.eucalyptus.util.EucalyptusCloudException:   Volume group \"euca-ebs-storage-vg-vol-9b375a1d\" not found\r\n\t  Cannot process volume group euca-ebs-storage-vg-vol-9b375a1d\r\n\t\r\n\tcom.eucalyptus.util.EucalyptusCloudException:   Volume group \"euca-ebs-storage-vg-vol-9b375a1d\" not found\r\n\t  Cannot process volume group euca-ebs-storage-vg-vol-9b375a1d\r\n\t\r\n\t        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:223)\r\n\t        at edu.ucsb.eucalyptus.util.SystemUtil.run(SystemUtil.java:193)\r\n\t        at com.eucalyptus.blockstorage.LVMWrapper.enableLogicalVolume(LVMWrapper.java:139)\r\n\t        at com.eucalyptus.blockstorage.OverlayManager.exportVolume(OverlayManager.java:1139)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:543)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController$2.apply(BlockStorageController.java:504)\r\n\t        at com.eucalyptus.entities.Entities$TransactionalFunction.apply(Entities.java:1550)\r\n\t        at com.eucalyptus.blockstorage.BlockStorageController.ExportVolume(BlockStorageController.java:586)\r\n\t        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t        at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t        at org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:148)\r\n\t        at org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:118)\r\n\t{ ... }\r\n{noformat}\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T11:14:42.687-0500","updated":"2016-08-24T11:14:42.687-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109405","id":"109405","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Hi [~swathi], thanks for the quick response. \r\n\r\n_>> ...pack/unpack was verified with Overlay before..._\r\n\r\nTrue, for the 4.2.2 --> 4.3 upgrade on RHEL6, and the subsequent OS upgrade of the NC only. But it hasn't been fully verified after an OS upgrade of the set of non-NC hosts, due to other issues we saw, since resolved or at least understood. This issue stands out alone now.\r\n\r\n_>> ...SC sure seems to complain about missing vg..._\r\n\r\nYes, good data point. I had checked the lv before, not the vg. But likewise the vg exists ok too, in lvm:\r\n{noformat}\r\nroot@c-37 qlov4_RHEL7_CLC_etc 10:12:05  ~\r\n# vgdisplay euca-ebs-storage-vg-vol-9b375a1d\r\n  --- Volume group ---\r\n  VG Name               euca-ebs-storage-vg-vol-9b375a1d\r\n  System ID\r\n  Format                lvm2\r\n  Metadata Areas        1\r\n  Metadata Sequence No  8\r\n  VG Access             read/write\r\n  VG Status             resizable\r\n  MAX LV                0\r\n  Cur LV                1\r\n  Open LV               1\r\n  Max PV                0\r\n  Cur PV                1\r\n  Act PV                1\r\n  VG Size               1.00 GiB\r\n  PE Size               4.00 MiB\r\n  Total PE              256\r\n  Alloc PE / Size       256 / 1.00 GiB\r\n  Free  PE / Size       0 / 0\r\n  VG UUID               7AZaQM-PoO5-FzZg-PmCt-l0Bt-iHuN-6YHDPc\r\n\r\nroot@c-37 qlov4_RHEL7_CLC_etc 10:17:08  ~\r\n# ll /dev/euca-ebs-storage-vg-vol-9b375a1d/\r\ntotal 0\r\ndrwxr-xr-x.  2 root root   60 Aug 24 00:11 .\r\ndrwxr-xr-x. 27 root root 3600 Aug 24 00:53 ..\r\nlrwxrwxrwx.  1 root root    7 Aug 24 00:11 euca-vol-9b375a1d -> ../dm-9\r\n{noformat}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T12:20:05.730-0500","updated":"2016-08-24T12:20:05.730-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109409","id":"109409","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas], is the vg and lv display output post failure and SC restart? Would it be possible to get the lvdisplay and vgdislplay output after the OS upgrade but before eucalyptus-cloud service is started on the SC. As far as the SC is concerned, it tries to implement the last persisted state. SC, rightfully, does not distinguish between host reboot or OS upgrade. It just expects the underlying lvm resources such as vgs and lvs to be consistently available, there might be bigger data related problems if thats not the case. I'm not entirely sure that the lvm resources are in the same state as the SC expects after an OS upgrade as opposed to a host reboot/eucalyptus-cloud service restart. I think we need to look further into backup and restore process for lvm resources such as vgs and lvs. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-24T13:23:12.648-0500","updated":"2016-08-24T13:24:10.257-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109513","id":"109513","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Overlay maps EBS volumes to flat files on SC - it uses loop device to make a file accessible as a block device, lvm2 to manage data lun, and tgtd to export the lun as an iscsi target. On attach/export volume request to SC, Overlay manager  \r\n# Associates a free loop device with the file representing the EBS volume \r\n{noformat}\r\nlosetup /dev/loop5 //var/lib/eucalyptus/volumes/vol-9b375a1d\r\n{noformat}\r\n# Enables the logical volume \r\n{noformat}\r\nlvchange -ay /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d\r\n{noformat}\r\n\r\nThe issue as recorded in the Eucalyptus logs was an error enabling the lv\r\n{noformat}\r\nTue Aug 23 23:33:14 2016 DEBUG [SystemUtil:Storage.03] Running command: ///usr/lib/eucalyptus/euca_rootwrap lvchange -ay /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d \r\nTue Aug 23 23:33:14 2016 ERROR [SystemUtil:Storage.03] com.eucalyptus.util.EucalyptusCloudException:   Volume group \"euca-ebs-storage-vg-vol-9b375a1d\" not found\r\n  Cannot process volume group euca-ebs-storage-vg-vol-9b375a1d\r\n{noformat}\r\n\r\nOverlay's export workflow should have aborted at this point since the lv cannot be enabled. But the error is ignored and overlay ploughs on with exporting a non-existent lun using tgtd. This is a bug and should be addressed separately in a different ticket. Going back to the issue of missing volume group (vg) that caused the lv enablement failure, we found that the vg was present with no apparent issues post volume attachment failure. Digging through {{/var/log/messages}} showed a race condition between the use of the vg for enabling the lv and its availability.  \r\n{noformat}\r\nAug 23 23:33:14 c-37 tgtd: tgtd: device_mgmt(246) sz:61 params:path=/dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d\r\nAug 23 23:33:14 c-37 tgtd: tgtd: bs_thread_open(408) 16\r\nAug 23 23:33:14 c-37 tgtd: tgtd: backed_file_open(92) Could not open /dev/euca-ebs-storage-vg-vol-9b375a1d/euca-vol-9b375a1d, No such file or directory\r\nAug 23 23:33:14 c-37 systemd: Starting LVM2 PV scan on device 7:5...\r\nAug 23 23:33:14 c-37 tgtd: tgtd: tgt_target_create(2146) Target id 21 already exists\r\nAug 23 23:33:14 c-37 tgtd: tgtd: tgt_target_create(2146) Target id 21 already exists\r\nAug 23 23:33:14 c-37 tgtd: tgtd: tgt_target_create(2146) Target id 21 already exists\r\nAug 23 23:33:14 c-37 tgtd: tgtd: tgt_target_create(2146) Target id 21 already exists\r\nAug 23 23:33:14 c-37 tgtd: tgtd: tgt_target_create(2146) Target id 21 already exists\r\nAug 23 23:33:14 c-37 lvm: 1 logical volume(s) in volume group \"euca-ebs-storage-vg-vol-9b375a1d\" now active\r\n{noformat}\r\ntgtd logs in the snippet are indicative of the logic that follows lv enablement. tgtd cannot export the lun because its not available/enabled. The order of messages show that the vg was activated well after the failed attempt to enable the lv that counts on the vg to be available. \r\n\r\nUpon further investigation into lvm2's pvscan, [~gholms] pointed out that this might be related to a difference in the way pvscan ran on CentOS 7 vs CentOS6. Snippet from pvscan man page\r\n{noformat}\r\nDESCRIPTION\r\n       pvscan scans all supported LVM block devices in the system for physical volumes.\r\n\r\n   Scanning with lvmetad\r\n       pvscan operates differently when used with the lvmetad(8) daemon.\r\n\r\n       Scanning  disks is required to read LVM metadata and identify LVM PVs.  Once read, lvmetad caches the metadata so that LVM commands can read it without repeatedly scanning disks.  This is helpful because scanning\r\n       disks is time consuming, and frequent scanning may interfere with the normal work of the system and disks.\r\n\r\n       When lvmetad is not used, LVM commands revert to scanning disks to read metadata.  Any LVM command that needs metadata will scan disks for it; running the pvscan command is not necessary for the sake of other LVM\r\n       commands.\r\n\r\n       When lvmetad is used, LVM commands avoid scanning disks by reading metadata from lvmetad.  When new disks appear, they must be scanned so their metadata can be cached in lvmetad.  This is done by the command pvs‐\r\n       can --cache, which scans disks and passes the metadata to lvmetad.\r\n\r\n       The pvscan --cache command is typically run automatically by system services when a new device appears.  Users do not generally need to run this command if the system and lvmetad are running properly.\r\n\r\n       Many scripts contain unnecessary pvscan (or vgscan) commands for historical reasons.  To avoid disrupting the system with extraneous disk scanning, an ordinary pvscan (without --cache) will simply  read  metadata\r\n       from lvmetad like other LVM commands.  It does not do anything beyond displaying the current state of the cache.\r\n{noformat}\r\nThe difference here is lvmetad service - its enabled by default in lvm.conf on CentOS 7 where as thats not the case with CentOS 6. As per the description above, lvm commands get the metadata from lvmetad instead of scanning all the disks. lvmetad triggers with udev events as block devices matching the filters show up. From the order of events and my understanding of lvmetad behavior, its highly likely that lvchange tried to fetch the metadata from lvmetad before it was available. Since lvm commands don't scan the disks for vg metadata when lvmetad is enabled, the lvchange command subsequently failed. \r\n\r\nA workaround that does not involve eucalyptus code change (and also a test for the above theory) is to force lvm commands to scan the disks like they did in CentOS 6. In order to avoid lvm commands from using lvmetad, {{use_lvmetad}} option in {{lvm.conf}} was disabled and lvm2-lvmetad service was stopped. I'll let [~lincoln.thomas] comment to the attach-ability of the volumes after the workaround was put in place. \r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T12:52:10.670-0500","updated":"2016-08-25T12:56:49.819-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109525","id":"109525","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"[~swathi] to open a different code fix ticket for overlay workflow.\r\n\r\n[~kmeredith] to open a DOC ticket to ensure this setting is visible in the upgrade narrative.\r\n\r\nThanks!","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T16:14:26.440-0500","updated":"2016-08-25T16:14:26.440-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109526","id":"109526","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"[~swathi] is creating the exact steps to document, and I will test it in a full upgrade.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T16:15:40.646-0500","updated":"2016-08-25T16:16:03.203-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109531","id":"109531","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"RHEL doc for lvmetad including its default setting RHEL/CentOS 7 - https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Logical_Volume_Manager_Administration/metadatadaemon.html","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T16:59:46.658-0500","updated":"2016-08-25T16:59:46.658-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109532","id":"109532","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Steps for disabling lvmetad service to be executed on SC after OS upgrade to CentOS 7 and before restarting eucalyptus-cloud service\r\n\r\n# Disable {{use_lvmetad}} flag in {{/etc/lvm/lvm.conf}}\r\n{noformat}\r\n        # Configuration option global/use_lvmetad.\r\n        # Use lvmetad to cache metadata and reduce disk scanning.\r\n        # When enabled (and running), lvmetad provides LVM commands with VG\r\n        # metadata and PV state. LVM commands then avoid reading this\r\n        # information from disks which can be slow. When disabled (or not\r\n        # running), LVM commands fall back to scanning disks to obtain VG\r\n        # metadata. lvmetad is kept updated via udev rules which must be set\r\n        # up for LVM to work correctly. (The udev rules should be installed\r\n        # by default.) Without a proper udev setup, changes in the system's\r\n        # block device configuration will be unknown to LVM, and ignored\r\n        # until a manual 'pvscan --cache' is run. If lvmetad was running\r\n        # while use_lvmetad was disabled, it must be stopped, use_lvmetad\r\n        # enabled, and then started. When using lvmetad, LV activation is\r\n        # switched to an automatic, event-based mode. In this mode, LVs are\r\n        # activated based on incoming udev events that inform lvmetad when\r\n        # PVs appear on the system. When a VG is complete (all PVs present),\r\n        # it is auto-activated. The auto_activation_volume_list setting\r\n        # controls which LVs are auto-activated (all by default.)\r\n        # When lvmetad is updated (automatically by udev events, or directly\r\n        # by pvscan --cache), devices/filter is ignored and all devices are\r\n        # scanned by default. lvmetad always keeps unfiltered information\r\n        # which is provided to LVM commands. Each LVM command then filters\r\n        # based on devices/filter. This does not apply to other, non-regexp,\r\n        # filtering settings: component filters such as multipath and MD\r\n        # are checked during pvscan --cache. To filter a device and prevent\r\n        # scanning from the LVM system entirely, including lvmetad, use\r\n        # devices/global_filter.\r\n        use_lvmetad = 0\r\n{noformat}\r\n# Stop and disable lvmetad service and socket\r\n{noformat}\r\n# systemctl stop lvm2-lvmetad.service\r\n# systemctl disable lvm2-lvmetad.service\r\n# systemctl stop lvm2-lvmetad.socket\r\n# systemctl disable lvm2-lvmetad.socket\r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-25T17:07:44.021-0500","updated":"2016-08-25T17:07:44.021-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109802","id":"109802","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Proven to be a good workaround in the latest upgrade testing.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-31T09:58:47.929-0500","updated":"2016-08-31T09:58:47.929-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109803","id":"109803","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Also, this problem does NOT affect DAS upgrades, only Overlay.\r\n\r\n[~swathi], should there be a new EUCA ticket created to change our code to handle this correctly when the lvmetad service is running? Or is this not a workaround but a permanent change to the upgrade process for Overlay?\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-31T10:01:43.494-0500","updated":"2016-08-31T10:01:43.494-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109805","id":"109805","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"[~lincoln.thomas], thank you for confirming workaround and testing DAS. I created EUCA-12698 to track Overlay issues. This is a temporary workaround targeted towards upgrade to 4.3.0 release. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-08-31T11:40:34.721-0500","updated":"2016-08-31T11:40:34.721-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/109928","id":"109928","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"[~swathi]: Could this issue affect fresh installs of Eucalyptus 4.3 on RHEL7 as well as upgrades from RHEL6? We've been treating this as a workaround for upgrades only, but given how this works, it seems like it would affect any Overlay users on 4.3 RHEL7, whether they upgraded or not. If so, we should put the workaround in the installation procedure, which upgraders would also encounter as they install 4.3 on RHEL7. This would actually be easier to document, rather than saying to do this step only if you're upgrading. Thoughts?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-06T21:02:14.972-0500","updated":"2016-09-06T21:02:14.972-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/111193","id":"111193","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"I am going to assume that this could happen on either upgrades or fresh installs of Overlay-based clouds. Fixing it is tracked in EUCA-12698.\r\n\r\nFrom above:\r\n{quote}\r\nKeri Meredith to open a DOC ticket to ensure this setting is visible in the upgrade narrative.\r\n{quote}\r\n[~kmeredith] is there a DOC ticket for this? To update the docs with this workaround until the issue is fixed. I couldn't find one.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-10-05T19:32:14.398-0500","updated":"2016-10-05T19:32:14.398-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/47600/comment/113271","id":"113271","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"body":"Created DOC-1990 to document this, which is already done.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lincoln.thomas","name":"lincoln.thomas","key":"lincoln.thomas","accountId":"557058:f9364c00-87ee-4948-b657-bb8f8f2030ea","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c21bba9797b880c34a5d772e6db4664f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlincoln.thomas%26avatarId%3D17800%26noRedirect%3Dtrue"},"displayName":"Lincoln Thomas","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-11-21T23:27:20.389-0600","updated":"2016-11-21T23:27:20.389-0600"}],"maxResults":16,"total":16,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12684/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}