{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"16923","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923","key":"EUCA-4081","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10400","value":"Premium","id":"10400"},"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@56db8862[id=18,rapidViewId=<null>,state=CLOSED,name=3.3 Sprint 8,goal=<null>,startDate=2013-05-15T22:11:05.921Z,endDate=2013-05-31T22:11:05.921Z,completeDate=2013-06-07T17:47:14.384Z,sequence=18]"],"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10700":null,"customfield_10304":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2013-05-21T21:35:16.321-0500","customfield_10704":null,"customfield_10308":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4081/watchers","watchCount":10,"isWatching":false},"lastViewed":null,"created":"2012-11-07T16:35:13.511-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2013-04-06T13:01:02.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":["Support","top200"],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10201","id":"10201","description":"Eucalyptus 3.1.1","name":"3.1.1","archived":false,"released":true,"releaseDate":"2012-08-24"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10801","id":"10801","name":"3.1.2","archived":false,"released":true,"releaseDate":"2012-10-04"}],"customfield_11901":null,"issuelinks":[{"id":"13714","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/13714","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"15193","key":"EUCA-3271","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/15193","fields":{"summary":"EBS Backed instance always have an ephemeral disk","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"14218","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/14218","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"16725","key":"EUCA-3954","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16725","fields":{"summary":"Metadata service doesn't show correct block device mapping for BFEBS instance when block device mapping is set with euca-register","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"13715","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/13715","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"15156","key":"EUCA-3254","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/15156","fields":{"summary":"RunInstances api call needs to support multiple block device mappings","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"15448","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/15448","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"18869","key":"EUCA-4833","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/18869","fields":{"summary":"Fix the image metadata service to reflect the device mappings communicated to NC","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/5","id":"5","description":"The sub-task of the issue","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14816&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":14816}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"updated":"2014-06-16T16:50:47.911-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"}],"timeoriginalestimate":null,"description":"After launching a BFEBS instance, the query against the metadata service for block device mapping returns the following:\r\n\r\n* curl http://169.254.169.254/latest/meta-data/block-device-mapping/root => /dev/sda1\r\n* curl http://169.254.169.254/latest/meta-data/block-device-mapping/ephemeral => sda2\r\n* curl http://169.254.169.254/latest/meta-data/block-device-mapping/ephemeral0 => sda2\r\n* curl http://169.254.169.254/latest/meta-data/block-device-mapping/swap => sda3\r\n\r\nThis is incorrect.  The available (since this is KVM using virtIO for disk, the prefix of the devices is vd) devices are as follows:\r\n\r\n{code}\r\n# fdisk /dev/vda\r\n\r\nCommand (m for help): p\r\n\r\nDisk /dev/vda: 4294 MB, 4294967296 bytes\r\n43 heads, 32 sectors/track, 6096 cylinders, total 8388608 sectors\r\nUnits = sectors of 1 * 512 = 512 bytes\r\nSector size (logical/physical): 512 bytes / 512 bytes\r\nI/O size (minimum/optimal): 512 bytes / 512 bytes\r\nDisk identifier: 0x0005c6e4\r\n\r\n   Device Boot      Start         End      Blocks   Id  System\r\n/dev/vda1            2048     8388607     4193280   83  Linux\r\n\r\n# fdisk /dev/vdb\r\nDevice contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel\r\nBuilding a new DOS disklabel with disk identifier 0xdff94e48.\r\nChanges will remain in memory only, until you decide to write them.\r\nAfter that, of course, the previous content won't be recoverable.\r\n\r\nWarning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)\r\n\r\nCommand (m for help): p\r\n\r\nDisk /dev/vdb: 10.7 GB, 10737418240 bytes\r\n16 heads, 63 sectors/track, 20805 cylinders, total 20971520 sectors\r\nUnits = sectors of 1 * 512 = 512 bytes\r\nSector size (logical/physical): 512 bytes / 512 bytes\r\nI/O size (minimum/optimal): 512 bytes / 512 bytes\r\nDisk identifier: 0xdff94e48\r\n\r\n   Device Boot      Start         End      Blocks   Id  System\r\n\r\nCommand (m for help):\r\n\r\nls /dev/vd*\r\n/dev/vda  /dev/vda1  /dev/vdb\r\n\r\n# curl http://169.254.169.254/latest/meta-data/block-device-mapping/\r\nemi\r\nephemeral\r\nephemeral0\r\nroot\r\nswap\r\n{code}\r\n\r\nThe /dev/vdb device (which is ephemeral) is a known bug - EUCA-3271.  \r\n\r\nIn AWS, the same query returns the following:\r\n\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/\r\nami\r\nroot\r\n{code}\r\n\r\nPer the AWS documentation for EBS-backed instances, ephermal and other block devices will show up if they are passed when a user requests them via ec2-register or ec2-run-instances. \r\n\r\n*References*\r\n\r\n* http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html\r\n* http://docs.amazonwebservices.com/AWSEC2/latest/UserGuide/Using_LaunchingInstaceFromSnapshot.html\r\n* http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-RegisterImage.html\r\n* http://docs.amazonwebservices.com/AWSEC2/latest/CommandLineReference/ApiReference-cmd-RunInstances.html","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/11300","id":"11300","name":"3.2.1","archived":false,"released":true,"releaseDate":"2013-02-14"}],"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"metadata service incorrect for BFEBS instance","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_2_*:*_4742481507_*|*_10001_*:*_2_*:*_8568444614_*|*_10000_*:*_1_*:*_47722_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_3551389683_*|*_10007_*:*_1_*:*_39298","customfield_12100":"0|i00n9j:","customfield_10001":"2012-11-08T11:09:36.100-0600","customfield_10002":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10000","value":"Customer Affecting","id":"10000"}],"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["awithrow(awithrow)","dmitrii(dmitrii)","hspencer(hspencer)","mclark(mclark)","mspaulding(mspaulding)","swathi(swathi)","tjcramer(tjcramer)"],"environment":"*HA and non-HA*","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4081/votes","votes":1,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/34891","id":"34891","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"these values are hard coded in the metadata service today.  This fix won't make it into 3.2.  BE and CLC team to discuss and come up with solution","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-08T11:09:36.100-0600","updated":"2012-11-08T11:09:36.100-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/36390","id":"36390","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=awithrow","name":"awithrow","key":"awithrow","accountId":"557058:489310fd-31eb-49f8-8552-e87970faf51b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Aaron Withrow","active":false,"timeZone":"America/Los_Angeles"},"body":"Chuck to assess this one and provide input. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=awithrow","name":"awithrow","key":"awithrow","accountId":"557058:489310fd-31eb-49f8-8552-e87970faf51b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Aaron Withrow","active":false,"timeZone":"America/Los_Angeles"},"created":"2012-11-28T16:46:36.699-0600","updated":"2012-11-28T16:46:36.699-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/38050","id":"38050","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"For reference, please check the following link:\r\n\r\nhttp://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames\r\n\r\nIt has a detailed explanation as to when /dev/sda2 is used for ephemeral storage and when /dev/sdb is used for ephemeral storage.  In short, if the vm.type used for the instance is not m1.small or c1.medium, then /dev/sdb is the ephemeral device.\r\n\r\n{code}\r\n/dev/sda2\tFormatted and mounted as /mnt or /media/ephemeral0 on m1.small and c1.medium instances.\r\n/dev/sdb\tFormatted and mounted as /mnt or /media/ephemeral0 on m1.medium, m1.large, m1.xlarge, c1.xlarge, cc1.4xlarge, cc2.8xlarge, m2.xlarge, m2.2xlarge, m2.4xlarge, and hi1.4xlarge.\r\n{code}\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-12-31T20:56:54.848-0600","updated":"2012-12-31T20:57:14.479-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/38241","id":"38241","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"[~hspencer], in this bug you bring up several inconsistencies between Euca and AWS:\n\n* Different format of device strings for 'root' and 'ephemeral': '/dev/sda1' vs 'sda2'\n* Not using VirtIO names ('vda' vs 'sda')\n* Reporting 'ephemeral', 'ephemeral0', and 'swap' even though '-b' option is not used\n* Different definitions of VM types (/dev/sda2 vs /dev/sdb)\n\nObviously, we'd like to fix them all. But some are easier fixes than others. (I think making VM types more consistent / configurable is a development story for 3.3.) So...\n\nWhich specific inconsistency prompted you to file the bug? We can try to prioritize fixing that.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-01-07T19:31:45.604-0600","updated":"2013-01-07T19:31:45.604-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/38310","id":"38310","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=awithrow","name":"awithrow","key":"awithrow","accountId":"557058:489310fd-31eb-49f8-8552-e87970faf51b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Aaron Withrow","active":false,"timeZone":"America/Los_Angeles"},"body":"Removing from 3.2.1.  This needs additional investigation and possibly more significant design changes.  ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=awithrow","name":"awithrow","key":"awithrow","accountId":"557058:489310fd-31eb-49f8-8552-e87970faf51b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a5a27d1c4012a61174df794fd8406eb5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Aaron Withrow","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-01-08T19:03:28.502-0600","updated":"2013-01-08T19:03:28.502-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/38317","id":"38317","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~dmitrii],\n\nYep, makes sense.  The specific inconsistency that brought this issue up was the different definitions of VM types (/dev/sda2 vs /dev/sdb).  Sorry I wasn't clear on that earlier.  \n\nI agree with you, figuring out how to make the VM types more consistent/configurable is the best way to go about resolving this issue and others. If it helps, I added additional information in EUCA-3954 that discusses the documentation that AWS provides. \n\nThanks again for your response on this.  Let me know if you need any additional information.\n\nRegards,\n\n[~hspencer]","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-08T21:07:27.887-0600","updated":"2013-01-08T21:07:27.887-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/39614","id":"39614","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Among the several things that need to be fixed to completely resolve this issue, one of the fixes is to replace the hard coded values in the metadata service. What this means is metadata service should reflect the block devices as requested by the user (stored in CLC database) and thereby communicated to NC by CLC. This may or may not be a match to the block device mapping on the VM instance due to hypervisor constraints.  \n\nFor instance, if a user registers a bfebs image with /dev/vda as the root device and with kvm as the hypervisor, the metadata service will publish the root device as /dev/vda and the actual root device also happens to be /dev/vda. This wont be the case if the image is registered with /dev/sda as the root device, metadata service returns /dev/sda as the root device while /dev/vda is the actual root device. \n\nHardcoded values are being fixed along with/as a part of EUCA-4786 (support multiple ebs mappings)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T11:59:23.560-0600","updated":"2013-02-13T11:59:23.560-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/39618","id":"39618","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey [~swathi], \n\nI am not sure if you have had the opportunity to check the behavior on AWS, but the block device mapping is pretty much standard regarding root, swap and ephemeral (This is true for instance-backed and ebs-backed instances).  For example, here is the root device mapping for the metadata service on AWS for instance-backed:\n\n{code}\nINSTANCE\ti-e5c8c595\tami-0354c36a\tec2-54-234-203-124.compute-1.amazonaws.com\tip-10-151-18-218.ec2.internal\trunning\thspencer-test\t0\t\tm1.small\t2013-02-13T18:03:07+0000\tus-east-1b\taki-88aa75e1\t\t\tmonitoring-disabled\t54.234.203.124\t10.151.18.218\t\t\tinstance-store\t\t\t\t\tparavirtual\txen\t\tsg-c09762a8\tdefault\tfalse\n\nubuntu@ip-10-151-18-218:~$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/root      \n/dev/sda1\n{code}\n\nBut if you look at what device is actually mounted, its the following:\n\n{code}\nubuntu@ip-10-151-18-218:~$ df -ah\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/xvda1      9.9G  809M  8.6G   9% /\nproc               0     0     0    - /proc\nsysfs              0     0     0    - /sys\nnone               0     0     0    - /sys/fs/fuse/connections\nnone               0     0     0    - /sys/kernel/debug\nnone               0     0     0    - /sys/kernel/security\nudev            819M   12K  819M   1% /dev\ndevpts             0     0     0    - /dev/pts\ntmpfs           331M  176K  331M   1% /run\nnone            5.0M     0  5.0M   0% /run/lock\nnone            827M     0  827M   0% /run/shm\n/dev/xvda2      147G  188M  140G   1% /mnt\n{code}\n\nHere is another instance that is EBS-backed\n\n{code}\nINSTANCE\ti-23cac753\tami-78f16011\tec2-54-234-227-152.compute-1.amazonaws.com\tip-10-110-214-233.ec2.internal\trunning\thspencer-test\t0\t\tm1.small\t2013-02-13T18:03:43+0000\tus-east-1b\taki-88aa75e1\t\t\tmonitoring-disabled\t54.234.227.152\t10.110.214.233\t\t\tebs\t\t\t\t\tparavirtual\txen\t\tsg-c09762a8\tdefault\tfalse\t\nBLOCKDEVICE\t/dev/sda1\tvol-e4cfbc95\t2013-02-13T18:03:47.000Z\ttrue\n{code}\n\n{code}\nubuntu@ip-10-110-214-233:~$ df -ah\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/xvda1      7.9G  912M  6.6G  12% /\nproc               0     0     0    - /proc\nsysfs              0     0     0    - /sys\nnone               0     0     0    - /sys/fs/fuse/connections\nnone               0     0     0    - /sys/kernel/debug\nnone               0     0     0    - /sys/kernel/security\nudev            819M  8.0K  819M   1% /dev\ndevpts             0     0     0    - /dev/pts\ntmpfs           331M  176K  331M   1% /run\nnone            5.0M     0  5.0M   0% /run/lock\nnone            827M     0  827M   0% /run/shm\n/dev/xvdb       147G  188M  140G   1% /mnt\n{code}\n\n{code}\nubuntu@ip-10-110-214-233:~$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/root\n/dev/sda1\n\nubuntu@ip-10-110-214-233:~$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/ephemeral0\nsdb\n{code}\n\nAs you can see, even if the metadata supplies sd*, the instance makes sure that the appropriate device is mounted. This is something that AWS users are already familiar with.  For folks who haven't used AWS, this is an education opportunity. \n\nMy point here is this - there is joint education that needs to be done here:\n\n1) What Eucalyptus is doing in regards to block device mapping\n\n2) What Cloud Users can do with regards to getting the behavior they want using udev rules, etc.  (an example of this can be found here - https://github.com/eucalyptus/Eucalyptus-Scripts/blob/master/euca-udev and https://github.com/eucalyptus/Eucalyptus-Scripts/blob/master/euca-udev.rules)\n\nI think what would be really helpful, is after this has been fixed if we could provide some documentation - similar along the lines of the following example:\n\n* http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html\n\nThis way, for example, we can start coming up with more udev rules in our images, and start educating users on how to create their own udev rules, etc.  If the behavior is understood, then we can provide supporting docs.  Thoughts?\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-13T12:31:53.155-0600","updated":"2013-02-13T12:31:53.155-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/39671","id":"39671","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hspencer]: I've been testing metadata service for ebs backed instances in AWS and found things to be inconsistent. For instance:\n\n* root option was not listed for an ebs backed instance with an additional ebs volume. But it was listed when I launched the instance with no additional ebs volumes\n* there never is a swap option under block-device-mappings metadata \n* ebs metadata is indexed as ebs1, ebs2 and so on. ebs1 is always skipped, any additional ebs volumes are listed as ebs2. The root ebs volume is not listed under ebs metadata. \n\nI've been looking through the ec2 documentation for some explanation about metadata service behavior but couldn't find anything that describes what I found out while testing. Please let me know if you come across any document thats talks about this.  \n\nI completely agree with you about providing more documentation to our customers. I'm hoping that we'll introduce a boat load of documentation when we fix EUCA-4786 and will cover metadata service too in there. \n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-14T12:27:54.993-0600","updated":"2013-02-14T12:27:54.993-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/39742","id":"39742","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey [~swathi],\r\n\r\nI did a bit of digging and found this link that may help answer your questions:\r\n\r\nhttp://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AESDG-chapter-instancedata.html#instancedata-data-categories\r\n\r\nI think this article answers your questions as follows:\r\n\r\n{code}\r\n* root option was not listed for an ebs backed instance with\r\nan additional ebs volume. But it was listed when I launched the\r\ninstance with no additional ebs volumes\r\n{code}\r\n\r\nblock-device-mapping/ebsN\tThe virtual devices associated with Amazon EBS volumes, if any are present. _Only available in metadata if it is present at launch time_. N indicates the index of the Amazon EBS volume (such as ebs1, ebs2, etc.).\r\n\r\n{code}\r\n* there never is a swap option under block-device-mappings metadata\r\n{code}\r\n\r\nIMO, this makes sense.  When you are launching EBS-backed instance, there isn't a need to define a swap.  This is something that is mostly seen in instance-backed instances.\r\n\r\nblock-device-mapping/swap\tThe virtual devices associated with swap. Not always present.\r\n\r\n{code}\r\n* ebs metadata is indexed as ebs1, ebs2 and so on. ebs1 is always skipped,\r\nany additional ebs volumes are listed as ebs2. The root ebs volume is not\r\nlisted under ebs metadata.\r\n{code}\r\n\r\nThis question somewhat confuses me.  I did the following tests - \r\n\r\n*First Test*\r\n\r\n* Launched EBS-backed instance on AWS using the following parameters (using Ubuntu 12.04 Precise cloud image with one EBS volume): \r\n{code}\r\n$ ec2-run-instances -k hspencer-test -b \"/dev/sdh=:20\" -b\r\n\"/dev/sdb=ephemeral0\" --user-data-file cloud-init.config ami-78f16011\r\n{code}\r\n\r\n* Did a query on the metadata service to see what block devices were available:\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/\r\nami\r\nebs1\r\nephemeral0\r\nroot\r\nswap\r\n{code}\r\n\r\n* Did a query against the ebs1 entry and saw the following:\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs1\r\nsdh\r\n{code}\r\n\r\n*Second Test*\r\n\r\n* Launched EBS-backed instance on AWS using the following parameters (using Ubuntu 12.04 Precise cloud image with two EBS volume):\r\n{code}\r\n$ ec2-run-instances -k hspencer-test -b \"/dev/sdh=:20\" \r\n-b \"/dev/sdi=:10\" --user-data-file cloud-init.config ami-78f16011\r\n{code}\r\n\r\n* Did a query on the metadata service to see what block devices were available:\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/\r\nami\r\nebs1\r\nebs2\r\nephemeral0\r\nroot\r\nswap\r\n{code}\r\n\r\n* Did a query against the ebs1 and ebs2 entries and saw the following:\r\n{code}\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs1\r\nsdh\r\n\r\n$ curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs2\r\nsdi\r\n{code}\r\n\r\nWas this not what you experienced?  Would you mind sharing your test case?  IMO, the behavior from my test case makes sense.  I think this speaks to the behavior mentioned in the link above, found under the \"block-device-mapping/ebsN\" description:\r\n\r\nblock-device-mapping/ebsN\tThe virtual devices associated with Amazon EBS volumes, if any are present. _Only available in metadata if it is present at launch time_. N indicates the index of the Amazon EBS volume (such as ebs1, ebs2, etc.).\r\n\r\nThe reason that I think that the root device doesn't show up under the block-device-mapping/ebsN is because I _think_ AWS treats these EBS volumes passed at launch similar to how ephemeral can be chopped up when you launch an instance-backed instance, except it doesn't limit you based upon what VM type you have in order to take advantage of having multiple ephemeral devices. *NOTE* Only certain VM types allow multiple ephemeral for instance-backed instances - check the following resources for more information:\r\n\r\n* http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html#InstanceStoreDeviceNames\r\n* http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/block-device-mapping-concepts.html#ami-block-device-mapping - see the following line:\r\n{code}\r\nTo attach an additional instance store volume, /dev/sdc, use this option. If the instance type doesn’t support more than one instance store volume, this option has no effect.\r\n\r\n–b \"/dev/sdc=ephemeral1\"\r\n{code}\r\n\r\nDoes that make sense?  \r\n\r\nRegarding the proper devices being passed appropriately to the instance when its launched, I am wondering if this is something that can be addressed jointly by work done on the NC (hypervisor), and work done in the kernel modules for KVM in the instance? (I think this is how Xen is able to guarantee the device mapping).  Maybe we could leverage the Image Management team in the community to help with figuring this out.  Thoughts?\r\n\r\nThanks for putting in work on this.  Let me know if this helps.  \r\n\r\nCheers,\r\n\r\nHarold Spencer, Jr. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-17T14:44:18.981-0600","updated":"2013-02-17T16:56:44.325-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/39743","id":"39743","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Update*\n\n[~swathi], I did a bit of searching and it seems the block device mapping to specific targets should be fixed in RHEL 5/RHEL 6.  Here are the links I found:\n\n* https://bugzilla.redhat.com/show_bug.cgi?id=683005\n* https://bugzilla.redhat.com/show_bug.cgi?id=719435 (clone of https://bugzilla.redhat.com/show_bug.cgi?id=683005)\n* http://rhn.redhat.com/errata/RHBA-2012-0248.html\n\nI guess we probably just need to confirm that it has been fixed. In CentOS 6 and RHEL 6.  If not, we should open up a bug report.  Thoughts?\n\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-02-17T16:22:00.809-0600","updated":"2013-02-17T16:22:00.809-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/43098","id":"43098","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Implementation for EUCA-4786 fixes this bug to the extent that metadata service returns the block device mappings based on run instance and register image requests. This fix does NOT guarantee an exact match between the actual device mappings on the VM instance and those requested by the end user in run instance/register image requests (because of hypervisor limitations). ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-10T19:05:26.639-0500","updated":"2013-04-10T19:05:26.639-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/46330","id":"46330","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Added new eutester suite to test multiple block device mapping scenarios for ebs backed instances. The test executes a variety of maps set at registration time, run-time, and both reg+runtime. Each test run now includes a metadata check which iterates through the block device mapping and metadata service to compare. Please see attached eutester code and test log/output snippets. I think the one inconsistency is the reporting of ephemeral disk which is still being tracked in euca-6048. If the test is now passing so moving this ticket to resolved, but if it looks incomplete or incorrect please let me know. \nThanks!\n-Matt\n\n\n{code}\n\n\n\n###############################################################################################\n###############################################################################################\nFrom block device mapping test:\n###############################################################################################\n###############################################################################################\n...\n...\nself.status('Check block device mapping meta data...')\nmeta_bdm = instance.block_device_mapping\n  #Temp work around for existing bug where ephemeral is not reported...\n  if not meta_bdm.has_key(bdm_ephemeral_dev):\n    self.resulterr('Ephemeral disk not reported in instance block dev mapping: see euca-6048')\n    meta_bdm[bdm_ephemeral_dev] = eph_dev\ninstance.check_instance_meta_data_for_block_device_mapping(root_dev=image.root_device_name, bdm=meta_bdm)\n...\n...\n\n###############################################################################################\n###############################################################################################\nFrom euinstance class:\n###############################################################################################\n###############################################################################################\ndef check_instance_meta_data_for_block_device_mapping(self, root_dev=None, bdm=None):\n        '''\n        Checks current instances meta data against a provided block device map & root_dev, or\n        against the current values of the instance; self.block_device_mapping & self.root_device_name\n        '''\n        self.tester.print_block_device_map(self.block_device_mapping)\n        meta_dev_names = self.get_metadata('block-device-mapping')\n        meta_devices = {}\n        root_dev = root_dev or self.root_device_name\n        orig_bdm = bdm or self.block_device_mapping\n        bdm = copy.copy(orig_bdm)\n        if root_dev in bdm:\n            bdm.pop(root_dev)\n\n        meta_ami = self.get_metadata('block-device-mapping/ami')\n        if not root_dev in meta_ami:\n            raise Exception('Meta data \"block-device-mapping/ami\":' + str(meta_ami) + ' != ' + str(root_dev))\n        meta_dev_names.remove('ami')\n        meta_emi = self.get_metadata('block-device-mapping/emi')\n        if not root_dev in meta_emi :\n            raise Exception('Meta data \"block-device-mapping/emi\":' + str(meta_emi) + ' != ' + str(root_dev))\n        meta_dev_names.remove('emi')\n        meta_root = self.get_metadata('block-device-mapping/root')\n        if not root_dev in meta_root:\n            raise Exception('Meta data \"block-device-mapping/root\":' + str(meta_root) + ' != ' + str(root_dev))\n        meta_dev_names.remove('root')\n        if self.root_device_type == 'ebs':\n            meta_ebs1 = self.get_metadata('block-device-mapping/ebs1')\n            if not root_dev in meta_ebs1:\n                raise Exception('Meta data \"block-device-mapping/ebs1\":' + str(meta_ebs1) + ' != ' + str(root_dev))\n            meta_dev_names.remove('ebs1')\n\n        for device in meta_dev_names:\n            meta_devices[device] =  self.get_metadata('block-device-mapping/' + str(device))[0]\n\n        for device in bdm:\n            found = False\n            device_map = bdm[device]\n            if device_map.no_device:\n                continue\n            else:\n                if device_map.ephemeral_name:\n                    dev_name_prefix = 'ephemeral'\n                else:\n                    dev_name_prefix = 'ebs'\n                for meta_dev in meta_devices:\n                    if str(meta_dev).startswith(dev_name_prefix):\n                        if meta_devices.get(meta_dev) == device:\n                            self.debug('Found meta data match for block device:' + str(device) + \" at: \" + str(meta_dev))\n                            meta_devices.pop(meta_dev)\n                            found = True\n                            break\n                if not found:\n                    raise Exception('No meta data found for block dev map device:' + str(device))\n        if meta_devices:\n            err_buf = 'Unknown meta data found for the following not in:' + str(self.id) + \"'s block_device_mapping:\"\n            for meta_dev in meta_devices:\n                err_buf += \"'\" + str(meta_dev) + \":\" + str(meta_devices.get(meta_dev)) + \"', \"\n            raise Exception(err_buf)\n\n\n\n###############################################################################################\n###############################################################################################\nTest output:\n\n###############################################################################################\n###############################################################################################\n\n-------------------------------------------------------------------------\nOriginal Image block device map:\n-------------------------------------------------------------------------\n[2013-05-22 12:15:57,323] [block_dev_map_tests] [DEBUG]: (print_block_device_map:3508): \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n                                              BLOCK DEVICE MAP                                             \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\nDEVICE          |   VOLUME_ID   |    SNAP_ID    | D.O.T.| SIZE | EPHEMERAL  | NO DEV| ATTACH TM  | STATUS\n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n    /dev/sda    |      None     | snap-76CA420B |  True |  3   |    None    | False |    None    |  None \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n\n[2013-05-22 12:15:57,325] [block_dev_map_tests] [DEBUG]: (run_time_test2_image1_add_ephemeral_map_snap_map_emptyvol_map_at_run_time_dot_true:782): \n-------------------------------------------------------------------------\nApplying the following block device map:\n-------------------------------------------------------------------------\n[2013-05-22 12:15:57,327] [block_dev_map_tests] [DEBUG]: (print_block_device_map:3508): \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n                                              BLOCK DEVICE MAP                                             \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\nDEVICE          |   VOLUME_ID   |    SNAP_ID    | D.O.T.| SIZE | EPHEMERAL  | NO DEV| ATTACH TM  | STATUS\n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n    /dev/vdc    |      None     | snap-358F419B | False |  2   |    None    | False |    None    |  None \n    /dev/vdb    |      None     |      None     | False | None | ephemeral0 | False |    None    |  None \n    /dev/vdd    |      None     |      None     | False |  1   |    None    | False |    None    |  None \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n\n\n-------------------------------------------------------------------------\nResulting in the instance block device map:\n-------------------------------------------------------------------------\n[2013-05-22 12:18:48,405] [block_dev_map_tests] [DEBUG]: (print_block_device_map:3508): \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n                                              BLOCK DEVICE MAP                                             \n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\nDEVICE          |   VOLUME_ID   |    SNAP_ID    | D.O.T.| SIZE | EPHEMERAL  | NO DEV| ATTACH TM  | STATUS\n----------------|---------------|---------------|-------|------|------------|-------|------------|--------\n    /dev/vdc    |  vol-77EC407F |      None     | False | None |    None    | False |2013-05-22T19:16:01.746Z|attached\n    /dev/vdd    |  vol-3AE83C58 |      None     | False | None |    None    | False |2013-05-22T19:16:01.880Z|attached\n    /dev/sda    |  vol-6B5E43A7 |      None     |  True | None |    None    | False |2013-05-22T19:16:02.038Z|attached\n\n-------------------------------------------------------------------------\nCheck block device mapping meta data...\n-------------------------------------------------------------------------\n[2013-05-22 12:19:00,651] [block_dev_map_tests] [DEBUG]: (run_time_test2_image1_add_ephemeral_map_snap_map_emptyvol_map_at_run_time_dot_true:835): Ephemeral disk not reported in instance block dev mapping: see euca-6048\n[2013-05-22 12:19:00,651] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:00,742] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.416 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.416/0.416/0.416/0.000 ms\n\n[2013-05-22 12:19:00,742] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:00,743] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping\n[2013-05-22 12:19:00,875] [i-13184028] [DEBUG]: \nami\nebs1\nebs2\nebs3\nemi\nephemeral0\nroot\n[2013-05-22 12:19:00,876] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:00,876] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:00,949] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.369 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.369/0.369/0.369/0.000 ms\n\n[2013-05-22 12:19:00,949] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:00,950] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/ami\n[2013-05-22 12:19:01,091] [i-13184028] [DEBUG]: \n/dev/sda\n[2013-05-22 12:19:01,091] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,092] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:01,166] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.413 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.413/0.413/0.413/0.000 ms\n\n[2013-05-22 12:19:01,166] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,167] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/emi\n[2013-05-22 12:19:01,305] [i-13184028] [DEBUG]: \n/dev/sda\n[2013-05-22 12:19:01,306] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,306] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:01,377] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.389 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.389/0.389/0.389/0.000 ms\n\n[2013-05-22 12:19:01,378] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,378] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/root\n[2013-05-22 12:19:01,514] [i-13184028] [DEBUG]: \n/dev/sda\n[2013-05-22 12:19:01,514] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,515] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:01,588] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.428 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.428/0.428/0.428/0.000 ms\n\n[2013-05-22 12:19:01,588] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,588] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs1\n[2013-05-22 12:19:01,726] [i-13184028] [DEBUG]: \n/dev/sda\n[2013-05-22 12:19:01,726] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,726] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:01,799] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.446 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 2 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.446/0.446/0.446/0.000 ms\n\n[2013-05-22 12:19:01,800] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,800] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs2\n[2013-05-22 12:19:01,912] [i-13184028] [DEBUG]: \n/dev/vdc\n[2013-05-22 12:19:01,912] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,912] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:01,985] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.468 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.468/0.468/0.468/0.000 ms\n\n[2013-05-22 12:19:01,985] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:01,985] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/ebs3\n[2013-05-22 12:19:02,094] [i-13184028] [DEBUG]: \n/dev/vdd\n[2013-05-22 12:19:02,095] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:02,095] [i-13184028] [DEBUG]: [root@192.168.46.155]# ping -c 1 169.254.169.254\n[2013-05-22 12:19:02,168] [i-13184028] [DEBUG]: \nPING 169.254.169.254 (169.254.169.254) 56(84) bytes of data.\n64 bytes from 169.254.169.254: icmp_seq=1 ttl=64 time=0.477 ms\n\n--- 169.254.169.254 ping statistics ---\n1 packets transmitted, 1 received, 0% packet loss, time 0ms\nrtt min/avg/max/mdev = 0.477/0.477/0.477/0.000 ms\n\n[2013-05-22 12:19:02,168] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:02,169] [i-13184028] [DEBUG]: [root@192.168.46.155]# curl http://169.254.169.254/latest/meta-data/block-device-mapping/ephemeral0\n[2013-05-22 12:19:02,315] [i-13184028] [DEBUG]: \n/dev/vdb\n[2013-05-22 12:19:02,316] [i-13184028] [DEBUG]: done with exec\n[2013-05-22 12:19:02,316] [i-13184028] [DEBUG]: Found meta data match for block device:/dev/vdc at: ebs2\n[2013-05-22 12:19:02,316] [i-13184028] [DEBUG]: Found meta data match for block device:/dev/vdb at: ephemeral0\n[2013-05-22 12:19:02,316] [i-13184028] [DEBUG]: Found meta data match for block device:/dev/vdd at: ebs3\n[2013-05-22 12:19:02,318] [block_dev_map_tests] [DEBUG]: (run_time_test2_image1_add_ephemeral_map_snap_map_emptyvol_map_at_run_time_dot_true:838)\n{code}\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-05-22T14:49:51.615-0500","updated":"2013-05-22T14:49:51.615-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/16923/comment/48687","id":"48687","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Resolved in the 3.3.0 release","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-06-26T21:45:28.725-0500","updated":"2013-06-26T21:45:28.725-0500"}],"maxResults":14,"total":14,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}