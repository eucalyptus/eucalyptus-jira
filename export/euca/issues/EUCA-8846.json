{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"27865","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865","key":"EUCA-8846","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@77c1763c[id=66,rapidViewId=45,state=CLOSED,name=4.1.0 Sprint 1,goal=<null>,startDate=2014-06-30T13:48:10.163Z,endDate=2014-07-21T13:48:00.000Z,completeDate=2014-07-24T15:48:24.089Z,sequence=66]","com.atlassian.greenhopper.service.sprint.Sprint@65a118e0[id=67,rapidViewId=37,state=CLOSED,name=4.1.0 Sprint 2,goal=<null>,startDate=2014-07-22T15:49:23.013Z,endDate=2014-08-11T15:49:00.000Z,completeDate=2014-08-18T21:57:24.120Z,sequence=67]","com.atlassian.greenhopper.service.sprint.Sprint@5ce5edc0[id=54,rapidViewId=75,state=CLOSED,name=4.0 Sprint 7,goal=<null>,startDate=2014-04-05T00:26:27.500Z,endDate=2014-04-26T00:26:00.000Z,completeDate=2014-04-29T13:33:10.513Z,sequence=54]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8846/watchers","watchCount":4,"isWatching":false},"created":"2014-03-05T14:09:03.745-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"updated":"2014-12-10T15:24:23.379-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"Here is an example using an empty volume as the root file system for boot from EBS.\r\n\r\nThe expected outcome is that the instance gets stopped because it is not actually running.  This seems natural except that the hypervisor continues to report it as running.  The failure seems to be on the part of the BIOS (sgabios/seabios).\r\n\r\nh3. Register Empty Volume as HVM image\r\n{code}\r\n11:51:51 :( root@b-27:~ ):\r\n ~ 600 > euca-create-volume -s 1 -z PARTI00\r\nVOLUME\tvol-f7ffeb77\t1\t\tPARTI00\tcreating\t2014-03-05T19:52:04.739Z\r\n11:52:04 :( root@b-27:~ ):\r\n ~ 602 > euca-describe-volumes vol-f7ffeb77\r\nVOLUME\tvol-f7ffeb77\t1\t\tPARTI00\tavailable\t2014-03-05T19:52:04.739Z\tstandard\t\r\n11:52:15 :( root@b-27:~ ):\r\n ~ 604 > euca-create-snapshot vol-f7ffeb77\r\nSNAPSHOT\tsnap-420f053b\tvol-f7ffeb77\tpending\t2014-03-05T19:52:22.751Z\t651405341366\t1\t\r\n11:52:35 :( root@b-27:~ ):\r\n ~ 607 > euca-describe-snapshots snap-420f053b\r\nSNAPSHOT\tsnap-420f053b\tvol-f7ffeb77\tcompleted\t2014-03-05T19:52:22.751Z\t100%\t651405341366\t1\t\r\n11:52:39 :( root@b-27:~ ):\r\n ~ 608 > euca-register -n emptyvolume --root-device-name /dev/sda -s snap-420f053b\r\nIMAGE\temi-0b6e7f9d\r\n11:53:03 :( root@b-27:~ ):\r\n ~ 609 > euca-describe-images emi-0b6e7f9d\r\nIMAGE\temi-0b6e7f9d\t651405341366/emptyvolume\t651405341366\tavailable\tprivate\tx86_64\tmachine\t\t\t\tebs\thvm\t\r\nBLOCKDEVICEMAPPING\t/dev/sda\tsnap-420f053b\t1\ttrue\r\n{code}\r\n\r\nh3. Run the emptyvolume EMI\r\n{code}\r\n11:53:13 :( root@b-27:~ ):\r\n ~ 610 > euca-run-instances emi-0b6e7f9d\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\t\t\tpending\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t0.0.0.0\t0.0.0.0\t\t\tebs\t\t\t\t\thvm\t\t\tsg-41638270\t\t\t\r\n\r\n11:53:59 :( root@b-27:~ ):\r\n ~ 612 > euca-describe-instances i-82961536\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\teuca-10-111-111-1.eucalyptus.b-27.autoqa.qa1.eucalyptus-systems.com\teuca-1-120-160-41.eucalyptus.internal\trunning\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t10.111.111.1\t1.120.160.41\t\t\tebs\t\t\t\t\thvm\t\tsg-41638270\t\t\t\r\nBLOCKDEVICE\t/dev/sda\tvol-6c174fe1\t2014-03-05T19:53:30.389Z\ttrue\t\t\r\nTAG\tinstance\ti-82961536\teuca:node\t10.111.5.15\r\n{code}\r\n\r\nh3. Find instance running on the hypervisor and in Eucalyptus\r\n{code}\r\n11:54:22 :( root@b-27:~ ):\r\n ~ 612 > ssh 10.111.5.15 virsh list \r\n Id    Name                           State\r\n----------------------------------------------------\r\n 4     i-82961536                     running\r\n{code}\r\n\r\nh3. Confirm that destroying the instance on the hypervisor is sufficient to stop it.\r\n{code}\r\n11:55:46 :( root@b-27:~ ):\r\n ~ 614 > ssh 10.111.5.15 virsh destroy i-82961536\r\nDomain i-82961536 destroyed\r\n\r\n11:55:50 :( root@b-27:~ ):\r\n ~ 615 > ssh 10.111.5.15 virsh list \r\n Id    Name                           State\r\n----------------------------------------------------\r\n\r\n11:56:42 :( root@b-27:~ ):\r\n ~ 617 > euca-describe-instances i-82961536\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\teuca-10-111-111-1.eucalyptus.b-27.autoqa.qa1.eucalyptus-systems.com\teuca-1-120-160-41.eucalyptus.internal\trunning\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t10.111.111.1\t1.120.160.41\t\t\tebs\t\t\t\t\thvm\t\tsg-41638270\t\t\t\r\nBLOCKDEVICE\t/dev/sda\tvol-6c174fe1\t2014-03-05T19:53:30.389Z\ttrue\t\t\r\nTAG\tinstance\ti-82961536\teuca:node\t10.111.5.15\r\n11:56:44 :( root@b-27:~ ):\r\n ~ 617 > euca-describe-instances i-82961536\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\teuca-10-111-111-1.eucalyptus.b-27.autoqa.qa1.eucalyptus-systems.com\teuca-1-120-160-41.eucalyptus.internal\tstopping\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t10.111.111.1\t1.120.160.41\t\t\tebs\t\t\t\t\thvm\t\tsg-41638270\t\t\t\r\nBLOCKDEVICE\t/dev/sda\tvol-6c174fe1\t2014-03-05T19:53:30.389Z\ttrue\t\t\r\nTAG\tinstance\ti-82961536\teuca:node\t10.111.5.15\r\n11:56:56 :( root@b-27:~ ):\r\n ~ 617 > euca-describe-instances i-82961536\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\teuca-10-111-111-1.eucalyptus.b-27.autoqa.qa1.eucalyptus-systems.com\teuca-1-120-160-41.eucalyptus.internal\tstopping\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t10.111.111.1\t1.120.160.41\t\t\tebs\t\t\t\t\thvm\t\tsg-41638270\t\t\t\r\nBLOCKDEVICE\t/dev/sda\tvol-6c174fe1\t2014-03-05T19:53:30.389Z\ttrue\t\t\r\nTAG\tinstance\ti-82961536\teuca:node\t10.111.5.15\r\n11:57:04 :( root@b-27:~ ):\r\n ~ 617 > euca-describe-instances i-82961536\r\nRESERVATION\tr-19c45a4b\t651405341366\tdefault\r\nINSTANCE\ti-82961536\temi-0b6e7f9d\t\t\tstopped\t\t0\t\tm1.small\t2014-03-05T19:53:30.152Z\tPARTI01\t\t\t\tmonitoring-disabled\t\t\t\t\tebs\t\t\t\t\thvm\t\t\tsg-41638270\t\t\t\r\nBLOCKDEVICE\t/dev/sda\tvol-6c174fe1\t2014-03-05T19:53:30.389Z\ttrue\t\t\r\nTAG\tinstance\ti-82961536\teuca:node\t10.111.5.15\r\n{code}\r\n\r\nh3. Console output showing No Bootable Device\r\n{code}\r\n11:59:51 :( root@b-27:~ ):\r\n ~ 622 > euca-get-console-output i-82961536\r\ni-82961536\r\n\r\n^[[1;256r^[[256;256H^[[6n\r\nGoogle, Inc.\r\nSerial Graphics Adapter 12/07/11\r\nSGABIOS $Id: sgabios.S 8 2010-04-22 00:03:40Z nlaredo $ (mockbuild@c6b18n1.dev.centos.org) Wed Dec  7 17:04:47 UTC 2011\r\nTerm: 80x24\r\n4 0\r\nSeaBIOS (version seabios-0.6.1.2-28.el6)\r\nMachine UUID ef99afbe-f40e-17cc-c401-6dec3f48d812\r\n\r\n\r\ngPXE (http://etherboot.org) - 00:03.0 C100 PCI2.10 PnP BBS PMM0FE0@10 C100\r\n                                                                               \r\n\r\nBooting from Hard Disk...\r\nBoot failed: not a bootable disk\r\n\r\nBooting from ROM...\r\ngPXE (PCI 00:03.0) starting execution\r\ngP^HPX^HXE^HE ^H i^Hin^Hni^Hit^Hti^Hia^Hal^Hli^His^Hsi^Hin^Hng^Hg ^H d^Hde^Hev^Hvi^Hic^Hce^Hes^Hs.^H..^H..^H.\r\n\r\n\r\n\r\ng^[[40;37;1mP^[[m^HP^[[40;37;1mX^[[m^HX^[[40;37;1mE^[[m^HE^[[40;37;1m ^[[m^H ^[[40;37;1m0^[[m^H0^[[40;37;1m.^[[m^H.^[[40;37;1m9^[[m^H9^[[40;37;1m.^[[m^H.^[[40;37;1m7^[[m^H7 ^H -^H--^H- ^H O^HOp^Hpe^Hen^Hn ^H S^HSo^Hou^Hur^Hrc^Hce^He ^H B^HBo^Hoo^Hot^Ht ^H F^HFi^Hir^Hrm^Hmw^Hwa^Har^Hre^He ^H -^H--^H- ^H ^[[40;36;22mh^[[m^Hh^[[40;36;22mt^[[m^Ht^[[40;36;22mt^[[m^Ht^[[40;36;22mp^[[m^Hp^[[40;36;22m:^[[m^H:^[[40;36;22m/^[[m^H/^[[40;36;22m/^[[m^H/^[[40;36;22me^[[m^He^[[40;36;22mt^[[m^Ht^[[40;36;22mh^[[m^Hh^[[40;36;22me^[[m^He^[[40;36;22mr^[[m^Hr^[[40;36;22mb^[[m^Hb^[[40;36;22mo^[[m^Ho^[[40;36;22mo^[[m^Ho^[[40;36;22mt^[[m^Ht^[[40;36;22m.^[[m^H.^[[40;36;22mo^[[m^Ho^[[40;36;22mr^[[m^Hr^[[40;36;22mg^[[m^Hg\r\nFe^Hea^Hat^Htu^Hur^Hre^Hes^Hs:^H: ^H H^HHT^HTT^HTP^HP ^H D^HDN^HNS^HS ^H T^HTF^HFT^HTP^HP ^H A^HAo^HoE^HE ^H i^HiS^HSC^HCS^HSI^HI ^H b^Hbz^HzI^HIm^Hma^Hag^Hge^He ^H C^HCO^HOM^HMB^HBO^HOO^HOT^HT ^H E^HEL^HLF^HF ^H M^HMu^Hul^Hlt^Hti^Hib^Hbo^Hoo^Hot^Ht ^H P^HPX^HXE^HE ^H P^HPX^HXE^HEX^HXT^HT\r\n\r\nne^Het^Ht0^H0:^H: ^H d^Hd0^H0:^H:0^H0d^Hd:^H:8^H82^H2:^H:9^H96^H6:^H:1^H15^H5:^H:3^H36^H6 ^H o^Hon^Hn ^H P^HPC^HCI^HI0^H00^H0:^H:0^H03^H3.^H.0^H0 ^H (^H(o^Hop^Hpe^Hen^Hn)^H)\r\n  ^H [^H[L^HLi^Hin^Hnk^Hk:^H:u^Hup^Hp,^H, ^H T^HTX^HX:^H:0^H0 ^H T^HTX^HXE^HE:^H:0^H0 ^H R^HRX^HX:^H:0^H0 ^H R^HRX^HXE^HE:^H:0^H0]^H]\r\nWa^Hai^Hit^Hti^Hin^Hng^Hg ^H f^Hfo^Hor^Hr ^H l^Hli^Hin^Hnk^Hk-^H-u^Hup^Hp ^H o^Hon^Hn ^H n^Hne^Het^Ht0^H0.^H..^H..^H. ^H o^Hok^Hk\r\nDH^HHC^HCP^HP ^H (^H(n^Hne^Het^Ht0^H0 ^H d^Hd0^H0:^H:0^H0d^Hd:^H:8^H82^H2:^H:9^H96^H6:^H:1^H15^H5:^H:3^H36^H6)^H).^H..^H..^H..^H. ^H o^Hok^Hk\r\nne^Het^Ht0^H0:^H: ^H 1^H1.^H.1^H12^H20^H0.^H.1^H16^H60^H0.^H.4^H44^H4/^H/2^H25^H55^H5.^H.2^H25^H55^H5.^H.2^H25^H55^H5.^H.2^H24^H40^H0 ^H g^Hgw^Hw ^H 1^H1.^H.1^H12^H20^H0.^H.1^H16^H60^H0.^H.3^H33^H3\r\nNo^Ho ^H f^Hfi^Hil^Hle^Hen^Hna^Ham^Hme^He ^H o^Hor^Hr ^H r^Hro^Hoo^Hot^Ht ^H p^Hpa^Hat^Hth^Hh ^H s^Hsp^Hpe^Hec^Hci^Hif^Hfi^Hie^Hed^Hd\r\nNo^Ho ^H m^Hmo^Hor^Hre^He ^H n^Hne^Het^Htw^Hwo^Hor^Hrk^Hk ^H d^Hde^Hev^Hvi^Hic^Hce^Hes^Hs\r\n\r\nBooting from Floppy...^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H  ^H \r\nBoot failed: could not read the boot disk\r\n\r\nNo bootable device.\r\n{code}\r\n\r\nh3. KVM command line\r\n{code}\r\nqemu     27027  3.3  0.1 566616 16052 ?        Sl   11:59   0:08 /usr/libexec/qemu-kvm -name i-82961536 -S -M rhel6.5.0 -enable-kvm -m 256 -realtime mlock=off -smp 1,sockets=1,cores=1,threads=1 -uuid ef99afbe-f40e-17cc-c401-6dec3f48d812 -nographic -nodefconfig -nodefaults -chardev socket,id=charmonitor,path=/var/lib/libvirt/qemu/i-82961536.monitor,server,nowait -mon chardev=charmonitor,id=monitor,mode=control -rtc base=localtime -no-shutdown -device piix3-usb-uhci,id=usb,bus=pci.0,addr=0x1.0x2 -drive file=/dev/disk/by-id/scsi-1IET_00120001,if=none,id=drive-virtio-disk0,format=raw,cache=none -device virtio-blk-pci,scsi=off,bus=pci.0,addr=0x4,drive=drive-virtio-disk0,id=virtio-disk0,bootindex=1 -netdev tap,fd=25,id=hostnet0,vhost=on,vhostfd=26 -device virtio-net-pci,netdev=hostnet0,id=net0,mac=d0:0d:82:96:15:36,bus=pci.0,addr=0x3 -chardev file,id=charserial0,path=/disk1/storage/eucalyptus/instances/work/AIDOLNCDKELICB9LWX5NU/i-82961536/console.log -device isa-serial,chardev=charserial0,id=serial0 -device virtio-balloon-pci,id=balloon0,bus=pci.0,addr=0x5\r\n{code}\r\n\r\nh3. Instance's libvirt XML file\r\n{code}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<domain type=\"kvm\">\r\n  <name>i-82961536</name>\r\n  <description>Eucalyptus instance i-82961536</description>\r\n  <os>\r\n    <type>hvm</type>\r\n  </os>\r\n  <features>\r\n    <acpi/>\r\n  </features>\r\n  <clock offset=\"localtime\"/>\r\n  <on_poweroff>destroy</on_poweroff>\r\n  <on_reboot>restart</on_reboot>\r\n  <on_crash>destroy</on_crash>\r\n  <vcpu>1</vcpu>\r\n  <memory>262144</memory>\r\n  <devices>\r\n    <disk device=\"disk\" type=\"block\">\r\n      <driver cache=\"none\"/>\r\n      <source dev=\"/dev/disk/by-id/scsi-1IET_00120001\"/>\r\n      <target bus=\"virtio\" dev=\"vda\"/>\r\n    </disk>\r\n    <interface type=\"bridge\">\r\n      <source bridge=\"eucabr516\"/>\r\n      <mac address=\"D0:0D:82:96:15:36\"/>\r\n      <model type=\"virtio\"/>\r\n    </interface>\r\n    <serial type=\"file\">\r\n      <source path=\"/disk1/storage/eucalyptus/instances/work/AIDOLNCDKELICB9LWX5NU/i-82961536/console.log\"/>\r\n      <target port=\"1\"/>\r\n    </serial>\r\n  </devices>\r\n</domain>\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"HVM images on KVM which fail to boot remain reported as running (by KVM and so Eucalyptus)","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"customfield_10000":null,"customfield_12100":"0|i029zj:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2014-03-05T17:57:57.218-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["dmitrii(dmitrii)","decker(decker)","gholms(gholms)","tjcramer(tjcramer)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-8846/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/63905","id":"63905","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"body":"And it all comes back clearly:\r\n\r\nSeaBIOS has a single behaviour on failing to boot:\r\n{code}\r\n boot-fail-wait \t\r\nIf no boot devices are found SeaBIOS will reboot after 60 seconds. Set this to the amount of time (in milliseconds) to customize the reboot delay or set to -1 to disable rebooting when no boot devices are found \r\n{code}\r\n\r\nFor us, this behaviour would require setting the normal\r\n{code}\r\n  <on_reboot>restart</on_reboot>\r\n{code}\r\nto be\r\n{code}\r\n  <on_reboot>destroy</on_reboot>\r\n{code}\r\nThat would then break RebootInstance and the case where the user runs {{reboot}} with in the VM.\r\n\r\n[~dmitrii], do you recall any other details here?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-03-05T16:05:48.285-0600","updated":"2014-03-05T16:05:48.285-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/63938","id":"63938","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Actually, we no longer rely on 'reboot' operation in libvirt. We:\r\n\r\n* try to shutdown domain cleanly\r\n* destroy it if it doesn't shut down within grace period\r\n* create domain again, using the same XML spec\r\n\r\nSo, as far as I can tell, using {{<on_reboot>destroy</on_reboot>}} should not affect us. In fact, it sounds like the right thing to do.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-03-05T17:57:57.218-0600","updated":"2014-03-05T17:57:57.218-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/64046","id":"64046","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Wouldn't that cause /sbin/reboot to terminate my instances?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-06T16:27:18.676-0600","updated":"2014-03-06T16:27:18.676-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/66048","id":"66048","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"body":"Issue in the BIOS at this point","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tjcramer","name":"tjcramer","key":"tjcramer","accountId":"557058:e076cf45-80ca-4b67-befb-7b0c21f32739","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/65e7a5c18fc469f1978f6367993c3bf0?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtjcramer%26avatarId%3D10401%26noRedirect%3Dtrue"},"displayName":"Tim Cramer","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-04T13:51:37.896-0500","updated":"2014-04-04T13:51:37.896-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/71344","id":"71344","body":"This issue was previously scheduled to be worked on in more than one sprint:\r\n* '3.3 Sprint 4' (on board 'Test 3.3 Board')\r\n* '3.3 Sprint 4' (on board 'Copy of 3.3 Release Board')\r\n\r\nStarting from JIRA Agile 6.3, an issue can only belong to a single future sprint. Read more about this change: http://docs.atlassian.com/agile/docs-0640/Sprint+Marker+Migration\r\n\r\nThis issue is now scheduled for future sprint '3.3 Sprint 4' (on board 'Copy of 3.3 Release Board').\r\n\r\nIf this is incorrect, please update the issue accordingly.\r\n\r\nThis comment was automatically generated by JIRA. If it is no longer relevant, please feel free to delete it.","created":"2014-05-25T20:40:21.497-0500","updated":"2014-05-25T20:40:21.497-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27865/comment/79293","id":"79293","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Indeed, [~gholms] is right, /sbin/reboot will cause the instance to be terminated. I don't know how to distinguish a reboot due to failure to boot in BIOS and reboot that is initiated by user in a working instance. Unless someone can suggest a solution, I would close this as Won't Fix. (There doesn't seem to be a way to alter {{on_reboot}} property dynamically, after the domain has started.)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-11-19T18:31:01.453-0600","updated":"2014-11-19T18:31:01.453-0600"}],"maxResults":6,"total":6,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}