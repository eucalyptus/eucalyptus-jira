{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"23855","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855","key":"EUCA-7547","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=viglesias","name":"viglesias","key":"viglesias","accountId":"557058:49b276ff-ebf9-4dd6-ada3-b568a2898707","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/5608e0aa05bd6e5d73b855a08079cceb?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dviglesias%26avatarId%3D10405%26noRedirect%3Dtrue"},"displayName":"Victor Iglesias","active":true,"timeZone":"America/Los_Angeles"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@15b9936b[id=27,rapidViewId=34,state=CLOSED,name=3.4 Sprint 5,goal=<null>,startDate=2013-09-17T19:21:02.124Z,endDate=2013-10-04T22:21:00.000Z,completeDate=2013-10-09T15:31:36.581Z,sequence=27]","com.atlassian.greenhopper.service.sprint.Sprint@c02b742[id=29,rapidViewId=64,state=CLOSED,name=3.4 Sprint 6,goal=<null>,startDate=2013-10-09T15:36:36.638Z,endDate=2013-10-21T15:36:00.000Z,completeDate=2013-10-24T18:46:44.066Z,sequence=29]"],"customfield_10302":null,"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2013-10-11T12:45:50.110-0500","customfield_10308":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7547/watchers","watchCount":6,"isWatching":false},"lastViewed":null,"created":"2013-09-12T01:56:07.430-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2013-09-23T16:35:49.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[{"id":"20203","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20203","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"20315","key":"EUCA-5608","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20315","fields":{"summary":"Total Volume Size Limit and Snapshot Limit needs to go back to 101 math class","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2014-06-16T16:18:28.649-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10015","id":"10015","name":"Walrus"}],"timeoriginalestimate":null,"description":"It looks like this system has gotten into a state where the  Walrus property \"storagemaxtotalsnapshotsizeingb\" is not accounting for the actual size of snapshots in the system and/or the new snapshot request(s). In this case the max property is set to 50gb. During the first failed request for a 15gb snapshot, the existing snapshots total 33gb, one 15gb snap is deleted leaving 18gb total snapshots remaining, and the 2nd request also fails. When the property was increased from 50 to 55gb the request will succeeded. \r\n\r\nThis may be the result of some failed 'create-image' tasks and some odd snapshot accounting done for failed snapshots as part of the failed create tasks? I've waited about 10-15 minutes (in case of any cleanup in the background) and retried with the same failure. \r\n\r\n{code}\r\n[root@e-07 ~]# euca-describe-properties | grep wal\r\nPROPERTY\twalrus.blockdevice\t<unset>\r\nPROPERTY\twalrus.resource\t<unset>\r\nPROPERTY\twalrus.storagedir\t//var/lib/eucalyptus/bukkits\r\nPROPERTY\twalrus.storagemaxbucketsizeinmb\t251200\r\nPROPERTY\twalrus.storagemaxbucketsperaccount\t100\r\nPROPERTY\twalrus.storagemaxcachesizeinmb\t30720\r\nPROPERTY\twalrus.storagemaxtotalcapacity\t182\r\nPROPERTY\twalrus.storagemaxtotalsnapshotsizeingb\t50\r\n[root@e-07 ~]# euca-describe-volumes \r\nVOLUME\tvol-FE1C40AE\t15\t\tPARTI01\tavailable\t2013-09-12T05:45:51.619Z\tstandard\t\r\n[root@e-07 ~]# euca-create-snapshot vol-FE1C40AE\r\neuca-create-snapshot: error (CreateSnapshotType): java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n[root@e-07 ~]# euca-describe-snapshots \r\nSNAPSHOT\tsnap-B5CE3FC5\tvol-FE723F55\tcompleted\t2013-09-12T05:58:07.844Z\t100%\t433405042008\t15\t\r\nSNAPSHOT\tsnap-D4CF4103\tvol-42D73CBE\tcompleted\t2013-09-11T23:38:30.526Z\t100%\t433405042008\t15\t\r\nSNAPSHOT\tsnap-979B3B4F\tvol-F9C53E70\tcompleted\t2013-09-06T01:44:18.003Z\t100%\t433405042008\t2\tCreated by eutester\r\nTAG\tsnapshot\tsnap-979B3B4F\tblock_dev_map_tests_build_image_snapshot\t\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5\t137d243478c2c39e53156ed5f21d5f0f\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5len\t32\r\nTAG\tsnapshot\tsnap-979B3B4F\tsrc_url\thttp://mirror.eucalyptus-systems.com/images/bfebs-image/lucid-bfebs-vmware-tools.img\r\nSNAPSHOT\tsnap-26FD3DE5\tvol-726C399B\tcompleted\t2013-09-06T01:46:45.084Z\t100%\t433405042008\t1\tCreated by eutester\r\nTAG\tsnapshot\tsnap-26FD3DE5\tblock_dev_map_tests_base_test_snap\t\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5\tfc21c16df54f78e2a5752664b9186371\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5len\t32\r\n[root@e-07 ~]# euca-delete-snapshot snap-B5CE3FC5\r\nSNAPSHOT\tsnap-B5CE3FC5\r\n[root@e-07 ~]# \r\n[root@e-07 ~]# \r\n[root@e-07 ~]# euca-describe-snapshots \r\nSNAPSHOT\tsnap-D4CF4103\tvol-42D73CBE\tcompleted\t2013-09-11T23:38:30.526Z\t100%\t433405042008\t15\t\r\nSNAPSHOT\tsnap-979B3B4F\tvol-F9C53E70\tcompleted\t2013-09-06T01:44:18.003Z\t100%\t433405042008\t2\tCreated by eutester\r\nTAG\tsnapshot\tsnap-979B3B4F\tblock_dev_map_tests_build_image_snapshot\t\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5\t137d243478c2c39e53156ed5f21d5f0f\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5len\t32\r\nTAG\tsnapshot\tsnap-979B3B4F\tsrc_url\thttp://mirror.eucalyptus-systems.com/images/bfebs-image/lucid-bfebs-vmware-tools.img\r\nSNAPSHOT\tsnap-26FD3DE5\tvol-726C399B\tcompleted\t2013-09-06T01:46:45.084Z\t100%\t433405042008\t1\tCreated by eutester\r\nTAG\tsnapshot\tsnap-26FD3DE5\tblock_dev_map_tests_base_test_snap\t\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5\tfc21c16df54f78e2a5752664b9186371\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5len\t32\r\n[root@e-07 ~]# euca-delete-snapshot snap-B5CE3FC5\r\nSNAPSHOT\tsnap-B5CE3FC5\r\n[root@e-07 ~]# \r\n[root@e-07 ~]# \r\n[root@e-07 ~]# \r\n[root@e-07 ~]# euca-delete-snapshot snap-B5CE3FC5\r\nSNAPSHOT\tsnap-B5CE3FC5\r\n[root@e-07 ~]# \r\n[root@e-07 ~]# \r\n[root@e-07 ~]# euca-describe-snapshots snap-B5CE3FC5\r\n[root@e-07 ~]# euca-describe-snapshots \r\nSNAPSHOT\tsnap-D4CF4103\tvol-42D73CBE\tcompleted\t2013-09-11T23:38:30.526Z\t100%\t433405042008\t15\t\r\nSNAPSHOT\tsnap-979B3B4F\tvol-F9C53E70\tcompleted\t2013-09-06T01:44:18.003Z\t100%\t433405042008\t2\tCreated by eutester\r\nTAG\tsnapshot\tsnap-979B3B4F\tblock_dev_map_tests_build_image_snapshot\t\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5\t137d243478c2c39e53156ed5f21d5f0f\r\nTAG\tsnapshot\tsnap-979B3B4F\tmd5len\t32\r\nTAG\tsnapshot\tsnap-979B3B4F\tsrc_url\thttp://mirror.eucalyptus-systems.com/images/bfebs-image/lucid-bfebs-vmware-tools.img\r\nSNAPSHOT\tsnap-26FD3DE5\tvol-726C399B\tcompleted\t2013-09-06T01:46:45.084Z\t100%\t433405042008\t1\tCreated by eutester\r\nTAG\tsnapshot\tsnap-26FD3DE5\tblock_dev_map_tests_base_test_snap\t\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5\tfc21c16df54f78e2a5752664b9186371\r\nTAG\tsnapshot\tsnap-26FD3DE5\tmd5len\t32\r\n[root@e-07 ~]# euca-create-snapshot vol-FE1C40AE\r\neuca-create-snapshot: error (CreateSnapshotType): java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n[root@e-07 ~]# euca-create-snapshot vol-FE1C40AE\r\neuca-create-snapshot: error (CreateSnapshotType): java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n[root@e-07 ~]# \r\n[root@e-07 ~]# euca-modify-property -p walrus.storagemaxtotalsnapshotsizeingb=55\r\nPROPERTY\twalrus.storagemaxtotalsnapshotsizeingb\t55 was 50\r\n[root@e-07 ~]# euca-create-snapshot vol-FE1C40AE\r\nSNAPSHOT\tsnap-638D406E\tvol-FE1C40AE\tpending\t2013-09-12T06:25:03.128Z\t433405042008\t15\r\n\r\n{code}\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Error in max snapshot property accounting","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i00j9b:","customfield_10000":"3_*:*_1_*:*_362403552_*|*_10001_*:*_1_*:*_589871846_*|*_10000_*:*_1_*:*_51836631_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1540470674","customfield_10001":"2013-09-12T17:10:46.998-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["chuck(chuck)","mclark(mclark)","zhill(zhill)"],"customfield_10116":null,"environment":"10.111.1.112\tCENTOS\t6.3\t64\tREPO\t[CLC WS UI]\r\n10.111.1.119\tCENTOS\t6.3\t64\tREPO\t[CC00 SC00]\r\n10.111.5.12\tCENTOS\t6.3\t64\tREPO\t[NC00]\r\n10.111.5.26\tCENTOS\t6.3\t64\tREPO\t[CC01]\r\n10.111.5.30\tCENTOS\t6.3\t64\tREPO\t[SC01]\r\n10.111.5.31\tVMWARE\tESXI-5.0\t64\tREPO\t[NC01]\r\n10.111.5.35\tVMWARE\tESXI-5.0\t64\tREPO\t[NC01]\r\n\r\nUsing Netapp cmode in both clusters. ","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7547/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/53189","id":"53189","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"I did a quick investigation and the problem is that this is a 2 cluster setup, snapshots are cached at the cluster level, and the query that sums the size does not account for duplicate records per snapshot in the table.\r\n\r\nI ran a groovy query and the current size calculated is 36, but should be 18. The query needs to select out only unique records based on the snapshot_name.\r\n\r\nsnapshot_name | sc_name | size\r\n---------------+---------\r\n snap-979B3B4F | PARTI00 | 2\r\n snap-26FD3DE5 | PARTI00 | 1\r\n snap-979B3B4F | PARTI01 | 2\r\n snap-26FD3DE5 | PARTI01 | 1\r\n snap-D4CF4103 | PARTI01 | 15\r\n snap-D4CF4103 | PARTI00 | 15\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-12T17:10:46.998-0500","updated":"2013-09-12T19:15:07.389-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/53190","id":"53190","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"You can check the size as being calculated by the SC using the following groovy script. Copy it into a groovy file and run it using euca-modify-property -f euca=<your groovy file>\r\n\r\n{code}\r\nimport javax.persistence.EntityTransaction;\r\nimport java.util.List;\r\nimport org.hibernate.Criteria;\r\nimport com.eucalyptus.entities.Entities;\r\nimport org.hibernate.criterion.Restrictions;\r\nimport com.eucalyptus.blockstorage.util.StorageProperties;\r\nimport com.eucalyptus.blockstorage.entities.SnapshotInfo;\r\nimport com.eucalyptus.objectstorage.entities.WalrusInfo;\r\nimport com.eucalyptus.util.EucalyptusCloudException;\r\nimport com.eucalyptus.blockstorage.BlockStorageController;\r\nimport com.eucalyptus.blockstorage.LogicalStorageManager;\r\n\r\ndef getCurrentSize() {\r\n\tEntityTransaction dbTrans = Entities.get(SnapshotInfo.class);\r\n\tCriteria query = Entities.createCriteria(SnapshotInfo.class);\r\n\tLogicalStorageManager blockManager = BlockStorageController.blockManager;\r\n\tquery.setReadOnly(true);\r\n\tint totalSnapshotSize = 0;\r\n\tStringBuilder output = new StringBuilder();\r\n\t//Only look for snaps that are not failed and not error\r\n\tquery.add(Restrictions.not(Restrictions.and(\r\n\t\tRestrictions.and(\r\n\t\tRestrictions.eq(\"status\", StorageProperties.Status.failed.toString()),\r\n\t\tRestrictions.eq(\"status\", StorageProperties.Status.error.toString())),\r\n                Restrictions.eq(\"status\", StorageProperties.Status.deleted.toString()))));\r\n\ttry {\r\n\t\tList<SnapshotInfo> snapInfos = (List<SnapshotInfo>)query.list();\r\n\t\tfor (SnapshotInfo sInfo : snapInfos) {\r\n                        try {\r\n                                snapSize = blockManager.getSnapshotSize(sInfo.getSnapshotId());\r\n                                output.append(\"\\n\" + sInfo.getSnapshotId() + \" = \" + snapSize + \", \" + sInfo.getStatus() + \",\" + sInfo.getScName());\r\n                                totalSnapshotSize += snapSize;\r\n                        } catch(EucalyptusCloudException e) {\r\n                                //output.append(\"No vol found for \" + sInfo.getSnapshotId() + \",\");\r\n                        }\r\n                }\r\n\t\tint sizeLimitGB = WalrusInfo.getWalrusInfo().getStorageMaxTotalSnapshotSizeInGb();\r\n\t} catch(final Throwable e) {\r\n\t\treturn \"ERROR! \" + e.getMessage();\r\n\t} finally {\r\n\t\tif(dbTrans.isActive()) {\r\n\t\t\tdbTrans.rollback();\r\n\t\t}\r\n\t}\r\n\treturn output.append(\" Total: \" + totalSnapshotSize).toString();\r\n}\r\n\r\nreturn getCurrentSize();\r\n{code}\r\n\r\nExample output:\r\n{code}\r\nroot@h-30 ~]# euca-modify-property -f euca=checksize.groovy\r\nPROPERTY\teuca\tsnap-979B3B4F = 2, available,PARTI00\r\nsnap-26FD3DE5 = 1, available,PARTI00\r\nsnap-979B3B4F = 2, available,PARTI01\r\nsnap-26FD3DE5 = 1, available,PARTI01\r\nsnap-D4CF4103 = 15, available,PARTI01\r\nsnap-D4CF4103 = 15, available,PARTI00 Total: 36 was executed successfully.\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-12T17:15:51.834-0500","updated":"2013-09-12T17:17:55.322-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/53667","id":"53667","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Fix is in testing. Running it with 2-cluster config.\r\n\r\nThe fix is to select distinct Snapshot IDs for querying the size. Change is limited to about 6 lines of code in BlockStorageController.java","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-20T01:50:15.376-0500","updated":"2013-09-20T01:50:15.376-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/53731","id":"53731","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"The fix I had wasn't sufficient, so had to do some additional changes, including DB modifications.\r\n\r\nThis won't likely be ready until tomorrow. I've got a working solution now (including the upgrade bits) and am putting it through a multi-cluster smoke test.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-20T20:04:29.285-0500","updated":"2013-09-20T20:04:29.285-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/53862","id":"53862","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Internal repo commit: fabe476705be11da5a7e62f6df66e1d25a9996b2\r\nEucalyptus repo commit: b536e6cb86e9c09e5413472ffc1e296d35efdb33\r\n\r\nTested: euca-sequence-3.3-dns\r\nTopology: 2-cluster with overlaymanager SCs\r\n\r\nThis fix involves DB changes that are enacted upon upgrade, so an upgrade is required. I tested the upgrade code by invoking each upgrade procedure manually via euca-modify-property.\r\n\r\nTo test manually: use multicluster env, Overlay or DAS are fine.\r\n\r\n1. Create 1 GB volume in Cluster A -- vol-A\r\n2. snapshot vol-A.: snap-A\r\n3. Create a volume from that snap-A in Cluster B. That results in the snapshot being downloaded to Cluster B.\r\n4. Create a 2nd snapshot on any cluster from vol-A and examine the log (cloud-output) on the SCs at DEBUG level. You should see a log message like: \"Snapshot <x> checking snapshot total size of <Y> against limit of <Z>\". \r\n\r\nThe total size number should be the total size of all unique snapshots in the system, but not duplicates of the same snapshot on different clusters. The total size value should be the size of just the first snapshot: 1GB.\r\n\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-09-23T16:51:19.435-0500","updated":"2013-09-23T16:51:19.435-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/23855/comment/55637","id":"55637","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"Verified fixed:\r\n{noformat}\r\n[root@h-21 ~]# euca-describe-properties | grep storagemaxtotalsnapshotsizeingb\r\nPROPERTY\twalrus.storagemaxtotalsnapshotsizeingb\t5\r\n[root@h-21 ~]# euca-describe-volumes \r\nVOLUME\tvol-14923C94\t1\tsnap-FEE33FAF\tPARTI01\tavailable\t2013-10-11T17:40:47.922Z\tstandard\t\r\nVOLUME\tvol-2A6B401C\t10\t\tPARTI00\tavailable\t2013-10-11T17:25:23.227Z\tstandard\t\r\nVOLUME\tvol-2D30412B\t1\t\tPARTI00\tavailable\t2013-10-11T17:37:51.012Z\tstandard\t\r\n[root@h-21 ~]# euca-describe-snapshots \r\nSNAPSHOT\tsnap-8F683956\tvol-2D30412B\tcompleted\t2013-10-11T17:43:04.478Z\t100%\t812641732877\t1\t\r\nSNAPSHOT\tsnap-4E4F3F1C\tvol-2D30412B\tcompleted\t2013-10-11T17:41:36.323Z\t100%\t812641732877\t1\t\r\nSNAPSHOT\tsnap-8DDA41CB\tvol-2D30412B\tcompleted\t2013-10-11T17:42:22.976Z\t100%\t812641732877\t1\t\r\nSNAPSHOT\tsnap-C33F3C1D\tvol-2D30412B\tcompleted\t2013-10-11T17:44:00.090Z\t100%\t812641732877\t1\t\r\nSNAPSHOT\tsnap-FEE33FAF\tvol-2D30412B\tcompleted\t2013-10-11T17:39:23.833Z\t100%\t812641732877\t1\t\r\n[root@h-21 ~]# euca-create-snapshot vol-2D30412B\r\neuca-create-snapshot: error (CreateSnapshotType): java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n[root@h-21 ~]# \r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-10-11T12:45:50.127-0500","updated":"2013-10-11T12:45:50.127-0500"}],"maxResults":6,"total":6,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}