{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"22423","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423","key":"EUCA-9926","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16401","id":"16401","description":"Eucalyptus 4.2.1","name":"4.2.1","archived":false,"released":true,"releaseDate":"2015-12-07"}],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10311":null,"customfield_11400":null,"customfield_12800":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@3b82cbc9[id=126,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 8,goal=<null>,startDate=2015-07-24T17:18:30.088Z,endDate=2015-08-14T17:18:00.000Z,completeDate=2015-08-19T20:57:28.154Z,sequence=126]","com.atlassian.greenhopper.service.sprint.Sprint@68a59752[id=127,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 9,goal=<null>,startDate=2015-08-18T21:33:50.479Z,endDate=2015-09-08T21:33:00.000Z,completeDate=2015-09-11T20:28:07.867Z,sequence=127]","com.atlassian.greenhopper.service.sprint.Sprint@28956fc2[id=128,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 10,goal=<null>,startDate=2015-09-09T20:38:52.383Z,endDate=2015-10-02T20:38:00.000Z,completeDate=2015-11-03T02:34:19.117Z,sequence=128]"],"customfield_10105":null,"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2015-12-10T17:04:27.003-0600","customfield_10308":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9926/watchers","watchCount":5,"isWatching":false},"lastViewed":null,"created":"2013-07-08T17:47:35.404-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"labels":["admin-tool-rework"],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:26:05.238-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10000","id":"10000","name":"Admin tools","description":"CLI for administrative tasks"}],"timeoriginalestimate":null,"description":" As privileged cloud user, I would like to be able to execute privileged operation using local-host access.\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Privileged operations with local-host access","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_234584_*|*_5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_62292537017_*|*_10002_*:*_1_*:*_8108110192_*|*_10001_*:*_1_*:*_788329991_*|*_10003_*:*_1_*:*_5275799825","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i0010f:","customfield_10001":"2015-06-29T17:20:27.002-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10004":null,"customfield_10400":null,"customfield_11600":["gholms(gholms)","hspencer(hspencer)","rusvika(rusvika)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9926/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/88537","id":"88537","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Operations that require a shell on the CLC are as follows:\r\n* clcadmin-grant-admin-access (authorize users for admin roles)\r\n* clcadmin-assume-system-credentials (run inside eval for initial admin credentials)\r\n* clcadmin-copy-keys (copy certificates and private keys to other systems)\r\n* clcadmin-initialize-cloud (create a new cloud)\r\n\r\nOperations that require a shell on a cluster controller are as follows:\r\n* clusteradmin-register-nodes (register one or more node controllers)\r\n* clusteradmin-deregister-nodes (de-register one or more node controllers)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-29T17:20:27.002-0500","updated":"2015-12-01T10:34:47.498-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/92772","id":"92772","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"body":"Overall makes sense. The main idea with privileged personas is to eliminate the need for using eucalyptus admin's credentials for cloud management as much as possible. Privileged personas should be used for most insfrastructure and resource management operations. Only a handful of operations should require super privileges of the eucalyptus admin and those operations should require localhost access to CLC. Ideally those operations should not even be available outside of CLC. The current implementation does not restrict it and, for example, privileged personas management can be done with euare commands outside of CLC if eucalyptus admin's access key credentials are used. That's still acceptable because cloud admins have an option to enforce the restriction through operational practices of never obtaining and exposing eucalyptus admin's credentials outside of CLC and instead use clcadmin-allow-admin-access to grant access to privileges roles and use roles for everything else. Note that the definition of privileges roles needs to be revisited post 4.2.0 because currently they do not cover all privileged operations that are needed for infrastructure and resource management.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-01T13:35:37.191-0500","updated":"2015-10-01T13:35:37.191-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/96361","id":"96361","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~gholms],\r\n\r\nIs there a command to remove access for a user of a given account that has been granted access to a privileged persona (i.e. opposite of clcadmin-grant-admin-access)?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-01T10:39:52.941-0600","updated":"2015-12-01T10:39:52.941-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/96368","id":"96368","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Test for {{clcadmin-assume-system-credentials}}:\r\n\r\n{code}\r\n[root@a-18 ~]# eval `clcadmin-assume-system-credentials`\r\n[root@a-18 ~]# euca-describe-availability-zones verbose --region @rick-ross\r\nAVAILABILITYZONE\tblack-dollar\t10.111.5.200 arn:euca:eucalyptus:black-dollar:cluster:black-dollar-cc-1/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0009 / 0011   1    256     5\r\nAVAILABILITYZONE\t|- t1.micro\t0009 / 0011   1    256     5\r\nAVAILABILITYZONE\t|- m1.medium\t0004 / 0005   1    512    10\r\nAVAILABILITYZONE\t|- c1.medium\t0004 / 0005   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0004 / 0005   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0004 / 0005   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0003 / 0003   2   2048    10\r\nAVAILABILITYZONE\t|- m2.xlarge\t0003 / 0003   2   2048    10\r\nAVAILABILITYZONE\t|- m3.xlarge\t0003 / 0003   4   2048    15\r\nAVAILABILITYZONE\t|- m2.2xlarge\t0001 / 0001   2   4096    30\r\nAVAILABILITYZONE\t|- m3.2xlarge\t0001 / 0001   4   4096    30\r\nAVAILABILITYZONE\t|- cc1.4xlarge\t0000 / 0000   8   3072    60\r\nAVAILABILITYZONE\t|- m2.4xlarge\t0000 / 0000   8   4096    60\r\nAVAILABILITYZONE\t|- hi1.4xlarge\t0000 / 0000   8   6144   120\r\nAVAILABILITYZONE\t|- cc2.8xlarge\t0000 / 0000  16   6144   120\r\nAVAILABILITYZONE\t|- cg1.4xlarge\t0000 / 0000  16   12288   200\r\nAVAILABILITYZONE\t|- cr1.8xlarge\t0000 / 0000  16   16384   240\r\nAVAILABILITYZONE\t|- hs1.8xlarge\t0000 / 0000  48   119808  24000\r\nAVAILABILITYZONE\thood-billionaire\t10.111.5.51 arn:euca:eucalyptus:hood-billionaire:cluster:hood-billionaire-cc-1/\r\nAVAILABILITYZONE\t|- vm types\tfree / max   cpu   ram  disk\r\nAVAILABILITYZONE\t|- m1.small\t0009 / 0011   1    256     5\r\nAVAILABILITYZONE\t|- t1.micro\t0009 / 0011   1    256     5\r\nAVAILABILITYZONE\t|- m1.medium\t0004 / 0005   1    512    10\r\nAVAILABILITYZONE\t|- c1.medium\t0004 / 0005   2    512    10\r\nAVAILABILITYZONE\t|- m1.large\t0004 / 0005   2    512    10\r\nAVAILABILITYZONE\t|- m1.xlarge\t0004 / 0005   2   1024    10\r\nAVAILABILITYZONE\t|- c1.xlarge\t0003 / 0003   2   2048    10\r\nAVAILABILITYZONE\t|- m2.xlarge\t0003 / 0003   2   2048    10\r\nAVAILABILITYZONE\t|- m3.xlarge\t0003 / 0003   4   2048    15\r\nAVAILABILITYZONE\t|- m2.2xlarge\t0001 / 0001   2   4096    30\r\nAVAILABILITYZONE\t|- m3.2xlarge\t0001 / 0001   4   4096    30\r\nAVAILABILITYZONE\t|- cc1.4xlarge\t0000 / 0000   8   3072    60\r\nAVAILABILITYZONE\t|- m2.4xlarge\t0000 / 0000   8   4096    60\r\nAVAILABILITYZONE\t|- hi1.4xlarge\t0000 / 0000   8   6144   120\r\nAVAILABILITYZONE\t|- cc2.8xlarge\t0000 / 0000  16   6144   120\r\nAVAILABILITYZONE\t|- cg1.4xlarge\t0000 / 0000  16   12288   200\r\nAVAILABILITYZONE\t|- cr1.8xlarge\t0000 / 0000  16   16384   240\r\nAVAILABILITYZONE\t|- hs1.8xlarge\t0000 / 0000  48   119808  24000\r\n[root@a-18 ~]# euca-describe-instance-types --show-capacity --by-zone --region @rick-ross\r\nAVAILABILITYZONE\tblack-dollar\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2 /    11     18%\r\nINSTANCETYPE\tt1.micro        1           256           5     2 /    11     18%\r\nINSTANCETYPE\tm1.medium       1           512          10     1 /     5     20%\r\nINSTANCETYPE\tc1.medium       2           512          10     1 /     5     20%\r\nINSTANCETYPE\tm1.large        2           512          10     1 /     5     20%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     1 /     5     20%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     0 /     3      0%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     0 /     3      0%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     0 /     3      0%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     0 /     1      0%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     0 /     1      0%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     0 /     0\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     0 /     0\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     0 /     0\r\n\r\nAVAILABILITYZONE\thood-billionaire\r\nINSTANCETYPE\tName         CPUs  Memory (MiB)  Disk (GiB)  Used / Total  Used %\r\nINSTANCETYPE\tm1.small        1           256           5     2 /    11     18%\r\nINSTANCETYPE\tt1.micro        1           256           5     2 /    11     18%\r\nINSTANCETYPE\tm1.medium       1           512          10     1 /     5     20%\r\nINSTANCETYPE\tc1.medium       2           512          10     1 /     5     20%\r\nINSTANCETYPE\tm1.large        2           512          10     1 /     5     20%\r\nINSTANCETYPE\tm1.xlarge       2          1024          10     1 /     5     20%\r\nINSTANCETYPE\tc1.xlarge       2          2048          10     0 /     3      0%\r\nINSTANCETYPE\tm2.xlarge       2          2048          10     0 /     3      0%\r\nINSTANCETYPE\tm3.xlarge       4          2048          15     0 /     3      0%\r\nINSTANCETYPE\tm2.2xlarge      2          4096          30     0 /     1      0%\r\nINSTANCETYPE\tm3.2xlarge      4          4096          30     0 /     1      0%\r\nINSTANCETYPE\tcc1.4xlarge     8          3072          60     0 /     0\r\nINSTANCETYPE\tm2.4xlarge      8          4096          60     0 /     0\r\nINSTANCETYPE\thi1.4xlarge     8          6144         120     0 /     0\r\nINSTANCETYPE\tcc2.8xlarge    16          6144         120     0 /     0\r\nINSTANCETYPE\tcg1.4xlarge    16         12288         200     0 /     0\r\nINSTANCETYPE\tcr1.8xlarge    16         16384         240     0 /     0\r\nINSTANCETYPE\ths1.8xlarge    48        119808       24000     0 /     0\r\n\r\n[root@a-18 ~]# eval `euare-releaserole`\r\n{code}\r\n\r\nTest for {{clcadmin-copy-keys}}:\r\n\r\n{code}\r\n[root@a-18 ~]# clcadmin-copy-keys 10.111.5.47\r\nThe authenticity of host '10.111.5.47 (10.111.5.47)' can't be established.\r\nRSA key fingerprint is c9:a3:d7:5d:73:fc:06:61:4e:5b:1e:e8:42:8b:72:27.\r\nAre you sure you want to continue connecting (yes/no)? yes\r\nWarning: Permanently added '10.111.5.47' (RSA) to the list of known hosts.\r\n[root@a-18 ~]#\r\n\r\n## Check 10.111.5.47 for keys ##\r\n[root@a-05 ~]# ls /var/lib/eucalyptus/keys/\r\ncloud-cert.pem  cloud-pk.pem  euca.p12\r\n{code}\r\n\r\nTest {{clcadmin-initialize-cloud}}:\r\n\r\n{code}\r\n## After installing eucalyptus-cloud packages ##\r\n[root@a-05 ~]# clcadmin-initialize-cloud\r\n2015-12-01 09:39:44 INFO ulimit: resource=7 soft=1024 hard=4096\r\n2015-12-01 09:39:44 INFO ulimit: resource=7 soft=65535 hard=65535\r\n2015-12-01 09:39:44 INFO ulimit: resource=6 soft=31319 hard=31319\r\n2015-12-01 09:39:44 INFO ulimit: resource=6 soft=-1 hard=-1\r\n2015-12-01 09:39:44 INFO 0832 User did not set heap size. Setting it automatically to 4GB base on total memory of 8241504256 bytes\r\n2015-12-01 09:40:57 INFO Executing Pre-Shutdown Hooks...\r\n2015-12-01 09:40:57 INFO Executing Shutdown Hooks...\r\n2015-12-01 09:40:57 INFO Executing Shutdown Hook: com.eucalyptus.component.BasicService$1@6dd61cc1\r\n2015-12-01 09:40:57 INFO Executing Post-Shutdown Hooks...\r\n2015-12-01 09:40:57 INFO Executing Post-Shutdown Hook: com.eucalyptus.system.Threads$ThreadPool$1@5d2ffb71\r\n2015-12-01 09:40:57 INFO SHUTDOWN:Eucalyptus.SYSTEM Stopping thread pool...\r\n2015-12-01 09:40:57 INFO Executing Post-Shutdown Hook: PostgresqlBootstrapper$2@7924e782\r\n2015-12-01 09:40:57 INFO Executing Post-Shutdown Hook: com.eucalyptus.system.Threads$ThreadPool$1@756225ed\r\n2015-12-01 09:40:57 INFO SHUTDOWN:Eucalyptus.bootstrap:Futures Stopping thread pool...\r\n[root@a-05 ~]# service eucalyptus-cloud start\r\n\r\n\r\nWARN: net.ipv4.neigh.default.gc_interval is lower than the expected value of 3600\r\nTo ensure that the settings are persisted, set net.ipv4.neigh.default.gc_interval = 3600 in /etc/sysctl.conf.\r\nSetting /proc/sys/net/ipv4/neigh/default/gc_interval dynamically to 3600\r\n\r\nWARN: net.ipv4.neigh.default.gc_stale_time is lower than the expected value of 3600\r\nTo ensure that the settings are persisted, set net.ipv4.neigh.default.gc_stale_time = 3600 in /etc/sysctl.conf.\r\nSetting /proc/sys/net/ipv4/neigh/default/gc_stale_time dynamically to 3600\r\n\r\nWARN: net.ipv4.neigh.default.gc_thresh1 is lower than the expected value of 1024\r\nTo ensure that the settings are persisted, set net.ipv4.neigh.default.gc_thresh1 = 1024 in /etc/sysctl.conf.\r\nSetting /proc/sys/net/ipv4/neigh/default/gc_thresh1 dynamically to 1024\r\n\r\nWARN: net.ipv4.neigh.default.gc_thresh3 is lower than the expected value of 4096\r\nTo ensure that the settings are persisted, set net.ipv4.neigh.default.gc_thresh3 = 4096 in /etc/sysctl.conf.\r\nSetting /proc/sys/net/ipv4/neigh/default/gc_thresh3 dynamically to 4096\r\n\r\nWARN: net.ipv4.neigh.default.gc_thresh2 is lower than the expected value of 2048\r\nTo ensure that the settings are persisted, set net.ipv4.neigh.default.gc_thresh2 = 2048 in /etc/sysctl.conf.\r\nSetting /proc/sys/net/ipv4/neigh/default/gc_thresh2 dynamically to 2048\r\ndone.\r\n\r\n\r\n[root@a-05 ~]# ps aux | grep euca\r\nroot     19428  0.0  0.0  13036   280 ?        Ss   09:44   0:00 eucalyptus-cloud --log-level=INFO -h / -u eucalyptus --pidfile //var/run/eucalyptus/eucalyptus-cloud.pid -f -L console-log -o //var/log/eucalyptus/startup.log -e //var/log/eucalyptus/startup.log\r\n498      26872  105 15.4 7945112 1239988 ?     Sl   09:45   2:29 eucalyptus-cloud --log-level=INFO -h / -u eucalyptus --pidfile //var/run/eucalyptus/eucalyptus-cloud.pid -f -L console-log -o //var/log/eucalyptus/startup.log -e //var/log/eucalyptus/startup.log\r\n498      27023  0.2  3.3 606636 266852 ?       S    09:45   0:00 /usr/pgsql-9.2/bin/postgres -D /var/lib/eucalyptus/db/data -h0.0.0.0 -p8777\r\n498      27097  0.5  0.1 613040 11224 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57445) idle\r\n498      27098  3.7  0.2 620952 16772 ?        Ss   09:46   0:03 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57446) idle\r\n498      27099  0.6  0.1 613024 11040 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57447) idle\r\n498      27100  1.3  0.2 620952 16496 ?        Ss   09:46   0:01 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57448) idle\r\n498      27101  0.6  0.1 612608 10624 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57449) idle\r\n498      27102  1.5  0.2 620952 16488 ?        Ss   09:46   0:01 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57450) idle\r\n498      27103  0.4  0.1 613140 11400 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57451) idle\r\n498      27104  1.9  0.2 620944 16232 ?        Ss   09:46   0:01 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57452) idle\r\n498      27105  0.6  0.1 612604 10624 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57453) idle\r\n498      27106  0.4  0.2 620944 16144 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57454) idle\r\n498      27107  1.0  0.2 612668 20824 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57455) idle\r\n498      27108  1.7  0.2 620944 22140 ?        Ss   09:46   0:01 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57456) idle\r\n498      27109  0.4  0.1 612984 10808 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57457) idle\r\n498      27110  0.8  0.2 620944 16328 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57458) idle\r\n498      27111  0.7  0.2 613528 19360 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57459) idle\r\n498      27112  0.4  0.1 620944 15452 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57460) idle\r\n498      27119  0.0  0.0 611452  5784 ?        Ss   09:46   0:00 postgres: eucalyptus database_events 127.0.0.1(57461) idle\r\n498      27129  0.0  0.0 611416  5728 ?        Ss   09:46   0:00 postgres: eucalyptus database_events 127.0.0.1(57462) idle\r\n498      27474  0.2  0.1 612788  9512 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57463) idle\r\n498      27475  0.2  0.1 612184  8612 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57464) idle\r\n498      27477  0.2  0.1 612064  8648 ?        Ss   09:46   0:00 postgres: eucalyptus eucalyptus_shared 127.0.0.1(57465) idle\r\nroot     28074  0.0  0.0 103312   860 pts/0    S+   09:47   0:00 grep euca\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-01T11:49:14.497-0600","updated":"2015-12-01T11:49:14.497-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/96374","id":"96374","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"The following commands failed to work:\r\n\r\n- clcadmin-grant-admin-access\r\n- clusteradmin-register-nodes\r\n- clusteradmin-deregister-nodes\r\n\r\n*clcadmin-grant-admin-access*\r\n\r\nIt successfully adds the user to the role to allow access, however the user does not get the behavior of a 'cloud administrator'.  For example:\r\n{code}\r\n# clcadmin-grant-admin-access -u admin -a engineering ResourceAdministrator --region euca-admin@rick-ross\r\n# euare-rolegetattributes -r ResourceAdministrator --region euca-admin@rick-ross\r\narn:aws:iam::000567300725:role/eucalyptus/ResourceAdministrator\r\nAROAAYT4W3Q7NPYEJLBZW\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Action\": [\r\n        \"sts:AssumeRole\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Principal\": {\r\n        \"AWS\": [\r\n          \"arn:aws:iam::eucalyptus:user/admin\"\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"Action\": [\r\n        \"sts:AssumeRole\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Principal\": {\r\n        \"AWS\": [\r\n          \"arn:aws:iam::001673742098:user/admin\"\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n## Tries to run euca-describe-availability-zones verbose or euca-describe-instance-types --show-capacity --by-zone.  Expecting same behavior as cloud administrator. ###\r\n\r\n[root@a-18 ~]# eval `euare-assumerole arn:aws:iam::000567300725:role/eucalyptus/ResourceAdministrator --region eng-admin@rick-ross`\r\n[root@a-18 ~]# euca-describe-availability-zones verbose --region @rick-ross\r\nAVAILABILITYZONE\tblack-dollar\tavailable\r\nAVAILABILITYZONE\thood-billionaire\tavailable\r\n[root@a-18 ~]# euca-describe-instance-types --show-capacity --by-zone --region @rick-ross\r\n[root@a-18 ~]#\r\n{code}\r\n\r\n*clusteradmin-register-nodes / clusteradmin-deregister-nodes*\r\n\r\nCommands only edit /etc/eucalyptus/eucalyptus.conf on the Cluster Controller, but don't sync keys to Node Controller.\r\n\r\n{code}\r\n[root@c-10 ~]# clusteradmin-register-nodes 10.111.5.53\r\n[root@c-10 ~]# grep NODES /etc/eucalyptus/eucalyptus.conf\r\nNODES=\"10.111.1.55 10.111.5.53\"\r\n\r\n## check 10.111.5.53 ##\r\n[root@a-11 ~]# ls -ail /var/lib/eucalyptus/keys/\r\ntotal 8\r\n2228507 drwx------ 2 eucalyptus eucalyptus 4096 Oct 22 09:38 .\r\n2228506 drwxr-xr-x 6 eucalyptus eucalyptus 4096 Dec  1 11:50 ..\r\n\r\n## deregister NC ##\r\n[root@c-10 ~]# clusteradmin-deregister-nodes 10.111.5.53\r\n[root@c-10 ~]# grep NODES /etc/eucalyptus/eucalyptus.conf\r\nNODES=\"10.111.1.55\"\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-01T14:05:37.019-0600","updated":"2015-12-01T14:05:37.019-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/96375","id":"96375","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Update*\r\n\r\nIn order to successfully register Node Controller, I had to use {{clusteradmin-copy-keys}} to copy cluster and cloud certs over.  Therefore {{clusteradmin-register-nodes}} and {{clusteradmin-deregister-nodes}} are working as expected.\r\n{code}\r\n[root@c-10 ~]# clusteradmin-register-nodes 10.111.5.53\r\n[root@c-10 ~]# clusteradmin-copy-keys 10.111.5.53\r\nThe authenticity of host '10.111.5.53 (10.111.5.53)' can't be established.\r\nRSA key fingerprint is 26:40:1e:8a:8e:1b:17:98:25:40:ae:1f:2e:1a:3f:fe.\r\nAre you sure you want to continue connecting (yes/no)? yes\r\nWarning: Permanently added '10.111.5.53' (RSA) to the list of known hosts.\r\n[root@c-10 ~]# grep NODES /etc/eucalyptus/eucalyptus.conf\r\nNODES=\"10.111.1.55 10.111.5.53\"\r\n\r\n[root@a-11 ~]# ls -ail /var/lib/eucalyptus/keys/\r\ntotal 28\r\n2228507 drwx------ 2 eucalyptus eucalyptus 4096 Dec  1 12:09 .\r\n2228506 drwxr-xr-x 6 eucalyptus eucalyptus 4096 Dec  1 11:50 ..\r\n2228963 -rwx------ 1 eucalyptus eucalyptus 1188 Nov 24 13:50 cloud-cert.pem\r\n2228962 -rwx------ 1 eucalyptus eucalyptus 1208 Nov 24 13:50 cluster-cert.pem\r\n2228965 -rwx------ 1 eucalyptus eucalyptus 1675 Nov 24 13:50 cluster-pk.pem\r\n2228960 -rwx------ 1 eucalyptus eucalyptus 1208 Nov 24 13:50 node-cert.pem\r\n2228964 -rwx------ 1 eucalyptus eucalyptus 1675 Nov 24 13:50 node-pk.pem\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-01T14:12:51.595-0600","updated":"2015-12-01T14:12:51.595-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/22423/comment/96871","id":"96871","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"All is working as expected.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-12-10T17:04:27.011-0600","updated":"2015-12-10T17:04:27.011-0600"}],"maxResults":7,"total":7,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}