{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"49108","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49108","key":"EUCA-12793","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@9440ef9[id=141,rapidViewId=118,state=CLOSED,name=4.4.0 Sprint 2,goal=,startDate=2016-09-27T14:08:02.191Z,endDate=2016-10-17T20:08:00.000Z,completeDate=2016-10-18T13:35:10.406Z,sequence=141]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2017-03-15T23:14:48.830-0500","customfield_10308":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12793/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2016-09-30T01:18:31.905-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18100","id":"18100","description":"Eucalyptus 4.4.0","name":"4.4.0","archived":false,"released":true,"releaseDate":"2017-03-07"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-03-15T23:14:48.839-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11500","id":"11500","name":"ELB","description":"Load Balancing"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"There was a short network outage and the SWF activity worker running in the ELB VM crashed unexpectedly. This results in ELB not being updated. \r\n\r\n2016-09-30 06:05:44,992 servo [ERROR]:Swf worker process unexpectedly terminated with return code=-9\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/39705","id":"39705","filename":"cfn-bastion-host-vpc.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-23T21:10:09.212-0600","size":6178,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/39705/cfn-bastion-host-vpc.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/39706","id":"39706","filename":"cfn-elb-accesslog-cloudwatch-vpc-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-23T21:10:09.379-0600","size":14900,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/39706/cfn-elb-accesslog-cloudwatch-vpc-template.json"}],"summary":"ELB VM worker crashes unexpectedly","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_25142299_*|*_10000_*:*_1_*:*_36921_*|*_10001_*:*_1_*:*_303541279_*|*_10003_*:*_1_*:*_12362827717_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03xmd:i","customfield_10001":"2017-02-23T21:44:20.115-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["hspencer(hspencer)","lbiasi(lbiasi)","spark(spark)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49108/comment/111000","id":"111000","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"body":"When servo detects that the worker process (java) has terminated, it simply restarts it.\r\nTo verify, ssh into the servo VM and deliberately kill the java (only one) process. Then make sure ELB's still functional (e.g., instance status InService, new listeners added, etc).\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=spark","name":"spark","key":"spark","accountId":"557058:2ed923b8-7172-41f0-a425-8796bd9a62f9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fec440044f6e652174838d59d9233f29?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dspark%26avatarId%3D10900%26noRedirect%3Dtrue"},"displayName":"Sang-Min Park","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-10-03T20:37:12.400-0500","updated":"2016-10-03T20:37:12.400-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49108/comment/118139","id":"118139","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Eucalyptus Version*\r\n\r\n{{4.4.0-0.25788.147.20170202git6e5a63d.el7}}\r\n\r\n*Steps*\r\n\r\n# Create Eucalyptus VPC cloud - [hspencer-400-maint-4.4|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Maint_4.4/400/]\r\n# Create non-eucalyptus account (for example {{engineering}}) via {{euare-accountcreate}}\r\n# Bundle, upload and register Ubuntu Xenial HVM EMI:\r\n{code}\r\n[root@h-04 ~]# euca-describe-images --all --region eng-admin@\r\nIMAGE\temi-63ef779d\tubuntu-xenial-x86_64-hvm-20170203/xenial-server-cloudimg-amd64-disk1.raw.manifest.xml\t000727120439\tavailable\tpublic\tx86_64\tmachine\t\t\tinstance-store\thvm\r\n{code}\r\n# Using linked {{cfn-elb-accesslog-cloudwatch-vpc-template.json}} template, deploy stack:\r\n{code}\r\n[root@h-04 ~]# euform-create-stack ELBASGStack --template-file cfn-elb-accesslog-cloudwatch-vpc-template.json --capabilities CAPABILITY_IAM --parameter ImageId=emi-63ef779d --parameter KeyName=eng-admin --parameter EndPoint=http://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --region eng-admin@\r\narn:aws:cloudformation::000162003767:stack/ELBASGStack/c3576225-8352-4d1f-94c6-e8c74e65c2ef\r\n[root@h-04 ~]# euform-describe-stacks --region eng-admin@\r\nSTACK\tELBASGStack\tCREATE_COMPLETE\t\tCloudFormation template to launch a highly available Nginx web stack with ELB access logging in Eucalyptus VPC\t2017-02-23T20:33:34.480Z\r\nPARAMETER\tImageId\t\temi-63ef779d\r\nPARAMETER\tKeyName\t\teng-admin\r\nPARAMETER\tEndPoint\t\thttp://cloudformation.e-32.autoqa.qa1.eucalyptus-systems.com:8773/\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tMinSize\t\t2\r\nPARAMETER\tMaxSize\t\t4\r\nOUTPUT\tAccessLogBucket\telbasgstack-s3loggingbucket-utrxheera2dpp\r\nOUTPUT\tELBURL\thttp://ELBASGSta-NginxELB-FM06UOPGDI9P5-000162003767.lb.e-32.autoqa.qa1.eucalyptus-systems.com\r\n\r\n[root@h-04 ~]# aws --endpoint-url http://s3.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ s3api put-bucket-acl --bucket elbasgstack-s3loggingbucket-utrxheera2dpp --grant-write \"id=000389956352\" --profile eng-admin\r\n{code}\r\n# Create bastion instance under {{(eucalyptus)loadbalancing}} account using linked {{cfn-bastion-host-vpc.json}} template:\r\n{code}\r\n[root@h-04 ~]# euform-create-stack ELBBastion --template-file cfn-bastion-host-vpc.json --parameter UbuntuImageId=emi-63ef779d --parameter BastionVPC=vpc-98995982 --parameter BastionSubnet=subnet-579f2486 --parameter ELBInstanceSG=sg-1eeffa2e --parameter KeyName=elb-admin --region elb-admin@\r\narn:aws:cloudformation::000389956352:stack/ELBBastion/d958c467-7ad9-4ba9-94d8-0710bfe60156\r\n[root@h-04 ~]# euform-describe-stacks --region elb-admin@\r\nSTACK\tELBBastion\tCREATE_COMPLETE\t\tCloudformation Template to deploy Bastion host using Ubuntu instance\t2017-02-23T21:41:40.661Z\r\nPARAMETER\tUbuntuImageId\t\temi-63ef779d\r\nPARAMETER\tSSHLocation\t\t0.0.0.0/0\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tBastionVPC\t\tvpc-98995982\r\nPARAMETER\tELBInstanceSG\t\tsg-1eeffa2e\r\nPARAMETER\tBastionSubnet\t\tsubnet-579f2486\r\nPARAMETER\tKeyName\t\telb-admin\r\nOUTPUT\tInstanceId\ti-ce756a55\r\nOUTPUT\tAZ\tblack-dollar\r\nOUTPUT\tPublicIP\t10.116.152.5\r\n{code}\r\n# SSH into the bastion host, then SSH into the ELB instance:\r\n{code}\r\n[root@h-04 ~]# euca-describe-instances --region elb-admin@\r\nRESERVATION\tr-4e12c303\t000389956352\tdefault\r\nINSTANCE\ti-ce756a55\temi-63ef779d\t\teuca-192-168-0-156.eucalyptus.internal\trunning\telb-admin\t0\t\tm1.medium\t2017-02-23T21:41:45.253Z\tblack-dollar\t\t\t\tmonitoring-disabled\t10.116.152.5\t192.168.0.156\tvpc-98995982\tsubnet-579f2486\tinstance-store\t\t\t\t\thvm\tsg-1eeffa2e\t\t\t\tx86_64\r\nNETWORKINTERFACE\teni-635e3fbd\tsubnet-579f2486\tvpc-98995982\t000389956352\tin-use\t192.168.0.156\t\ttrue\r\nATTACHMENT\t\teni-attach-83f8356b\t0\tattached\t2017-02-23T21:41:45.263Z\tfalse\r\nASSOCIATION\t10.116.152.5\t000389956352\t192.168.0.156\r\nGROUP\tsg-42579555\tELBBastion-BastionSecurityGroup-XP1FYCE89S6TX\r\nPRIVATEIPADDRESS\t192.168.0.156\t\tprimary\r\nTAG\tinstance\ti-ce756a55\tApplication\tarn:aws:cloudformation::000389956352:stack/ELBBastion/d958c467-7ad9-4ba9-94d8-0710bfe60156\r\nTAG\tinstance\ti-ce756a55\tPurpose\tBastion Host for ELB Instance Access\r\nTAG\tinstance\ti-ce756a55\taws:cloudformation:logical-id\tBastionInstance\r\nTAG\tinstance\ti-ce756a55\taws:cloudformation:stack-id\tarn:aws:cloudformation::000389956352:stack/ELBBastion/d958c467-7ad9-4ba9-94d8-0710bfe60156\r\nTAG\tinstance\ti-ce756a55\taws:cloudformation:stack-name\tELBBastion\r\nRESERVATION\tr-1e915fe1\t000389956352\tdefault\r\nINSTANCE\ti-ebaca0a9\temi-f3290442\t\teuca-192-168-120-185.eucalyptus.internal\trunning\telb-admin\t0\t\tm1.medium\t2017-02-23T20:33:44.399Z\tblack-dollar\t\t\t\tmonitoring-enabled\t\t192.168.120.185\tvpc-98995982\tsubnet-3fb11d27\tinstance-store\t\t\t\t\thvm\t038526ad-dc57-43b2-aa8b-eb3e9b98dad5_black-dollar_1\tsg-1eeffa2e\t\t\tarn:aws:iam::000389956352:instance-profile/internal/loadbalancer/loadbalancer-vm-000162003767-ELBASGSta-NginxELB-FM06UOPGDI9P5\tx86_64\r\nNETWORKINTERFACE\teni-0eb312c7\tsubnet-3fb11d27\tvpc-98995982\t000389956352\tin-use\t192.168.120.185\t\ttrue\r\nATTACHMENT\t\teni-attach-e0aa2520\t0\tattached\t2017-02-23T20:33:44.402Z\ttrue\r\nGROUP\tsg-1eeffa2e\tdefault\r\nPRIVATEIPADDRESS\t192.168.120.185\t\tprimary\r\nNETWORKINTERFACE\teni-52367646\tsubnet-9ea9fd03\tvpc-21220208\t000389956352\tin-use\t10.0.0.5\teuca-10-0-0-5.eucalyptus.internal\ttrue\r\nATTACHMENT\t\teni-attach-b29c7d24\t1\tattached\t2017-02-23T20:35:05.100Z\ttrue\r\nASSOCIATION\t10.116.152.42\t000389956352\t10.0.0.5\r\nGROUP\tsg-6e2bb6bd\tELBASGStack-LoadBalancerSecurityGroup-7RIH6CUT9ZO68\r\nPRIVATEIPADDRESS\t10.0.0.5\teuca-10-0-0-5.eucalyptus.internal\tprimary\r\nTAG\tinstance\ti-ebaca0a9\taws:autoscaling:groupName\teuca-internal-elb-000162003767-ELBASGSta-NginxELB-FM06UOPGDI9P5-black-dollar\r\nTAG\tinstance\ti-ebaca0a9\tservice-type\tloadbalancing\r\n\r\n## SSH into bastion host ##\r\n[root@h-04 ~]# ssh -i elb-admin-pk ubuntu@10.116.152.5\r\n\r\n## SSH into ELB instance ##\r\nubuntu@euca-192-168-0-156:~$ ssh -i elb-admin-pk cloud-user@192.168.120.185\r\n[cloud-user@euca-192-168-120-185 ~]$ sudo -s\r\n[root@euca-192-168-120-185 cloud-user]\r\n{code}\r\n# List loadbalancer servo java process:\r\n{code}\r\n[root@euca-192-168-120-185 cloud-user]# ps aux | grep servo\r\nservo     8022  0.0  3.6 506984 18392 ?        Ssl  20:35   0:05 /usr/bin/python -tt /usr/bin/load-balancer-servo -d -p /var/run/load-balancer-servo/servo.pid -l debug -c /etc/load-balancer-servo/boto.cfg -b info\r\nservo     9423  0.2 20.7 2085424 103784 ?      Sl   20:35   0:20 java -cp .:/usr/share/eucalyptus/* com.eucalyptus.simpleworkflow.common.client.WorkflowClientStandalone --logdir /var/log/load-balancer-servo --logappender cloud-debug-file --loglevel DEBUG -d LoadbalancingDomain -e http://simpleworkflow.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --jar /usr/share/eucalyptus/eucalyptus-loadbalancing-4.4.0.jar --classes LoadBalancingVmActivitiesImpl -l i-ebaca0a9\r\nservo     9456  0.0  0.2  58984  1088 ?        Ss   20:35   0:00 /usr/sbin/haproxy -f /var/lib/load-balancer-servo/euca_haproxy.conf -p /var/run/load-balancer-servo/haproxy.pid -V -C /var/lib/load-balancer-servo -D -sf 9447)\r\nroot      9836  0.0  0.1  12464   924 pts/0    R+   23:13   0:00 grep --color=auto servo\r\n{code}\r\n# Kill the java process\r\n{code}\r\n[root@euca-192-168-120-185 cloud-user]# kill -9 9423\r\n[root@euca-192-168-120-185 cloud-user]#\r\n{code}\r\n# In separate terminal, confirm instances stayed {{InService}} for ASG and in respect to ELB:\r\n{code}\r\n[root@h-04 ~]# eulb-describe-instance-health ELBASGSta-NginxELB-FM06UOPGDI9P5 --region eng-admin@\r\nINSTANCE\ti-f277cb73\tInService\r\nINSTANCE\ti-e7a7facc\tInService\r\n[root@h-04 ~]# euscale-describe-auto-scaling-groups --region eng-admin@\r\nAUTO-SCALING-GROUP\tELBASGStack-AutoScalingGroup-FS3QRMF2JGKPJ\tELBASGStack-LaunchConfig-83CMVRAJUXHFR\tblack-dollar\tELBASGSta-NginxELB-FM06UOPGDI9P5\t2\t4\t2Default\r\nINSTANCE\ti-e7a7facc\tblack-dollar\tInService\tHealthy\tELBASGStack-LaunchConfig-83CMVRAJUXHFR\r\nINSTANCE\ti-f277cb73\tblack-dollar\tInService\tHealthy\tELBASGStack-LaunchConfig-83CMVRAJUXHFR\r\nTAG\tauto-scaling-group\tELBASGStack-AutoScalingGroup-FS3QRMF2JGKPJ\tName\tELBASGStack\ttrue\r\nTAG\tauto-scaling-group\tELBASGStack-AutoScalingGroup-FS3QRMF2JGKPJ\taws:cloudformation:logical-id\tAutoScalingGroup\ttrue\r\nTAG\tauto-scaling-group\tELBASGStack-AutoScalingGroup-FS3QRMF2JGKPJ\taws:cloudformation:stack-id\tarn:aws:cloudformation::000162003767:stack/ELBASGStack/c3576225-8352-4d1f-94c6-e8c74e65c2ef\ttrue\r\nTAG\tauto-scaling-group\tELBASGStack-AutoScalingGroup-FS3QRMF2JGKPJ\taws:cloudformation:stack-name\tELBASGStack\ttrue\r\n{code}\r\n# In the terminal with the SSH session to the ELB instance, confirm the java process was restarted:\r\n{code}\r\n[root@euca-192-168-120-185 cloud-user]# ps aux | grep servo\r\nservo     8022  0.0  3.6 580716 18492 ?        Ssl  20:35   0:05 /usr/bin/python -tt /usr/bin/load-balancer-servo -d -p /var/run/load-balancer-servo/servo.pid -l debug -c /etc/load-balancer-servo/boto.cfg -b info\r\nservo     9456  0.0  0.2  58984  1088 ?        Ss   20:35   0:00 /usr/sbin/haproxy -f /var/lib/load-balancer-servo/euca_haproxy.conf -p /var/run/load-balancer-servo/haproxy.pid -V -C /var/lib/load-balancer-servo -D -sf 9447)\r\nservo     9840 89.7 16.7 2081320 83784 ?       Sl   23:16   0:03 java -cp .:/usr/share/eucalyptus/* com.eucalyptus.simpleworkflow.common.client.WorkflowClientStandalone --logdir /var/log/load-balancer-servo --logappender cloud-debug-file --loglevel DEBUG -d LoadbalancingDomain -e http://simpleworkflow.e-32.autoqa.qa1.eucalyptus-systems.com:8773/ --jar /usr/share/eucalyptus/eucalyptus-loadbalancing-4.4.0.jar --classes LoadBalancingVmActivitiesImpl -l i-ebaca0a9\r\nroot      9856  0.0  0.1  12464   924 pts/0    R+   23:16   0:00 grep --color=auto servo\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-02-23T21:44:20.115-0600","updated":"2017-02-23T21:44:20.115-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/49108/comment/119251","id":"119251","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"Moving 4.4.0 Issues from Release Pending to Resolved","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2017-03-15T23:14:48.838-0500","updated":"2017-03-15T23:14:48.838-0500"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12793/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}