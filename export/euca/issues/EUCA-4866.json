{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"18909","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/18909","key":"EUCA-4866","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2013-01-30T18:11:49.349-0600","customfield_10704":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4866/watchers","watchCount":1,"isWatching":false},"created":"2013-01-30T18:06:56.797-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/11609","id":"11609","name":"3.2.1-devel","archived":false,"released":true}],"customfield_11901":null,"issuelinks":[{"id":"15479","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/15479","type":{"id":"10102","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10102"},"outwardIssue":{"id":"17425","key":"EUCA-4229","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/17425","fields":{"summary":"After hitting maximum snapshot limit the cloud still sees snapshots","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2013-01-30T18:11:49.365-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10014","id":"10014","name":"Storage Controller"}],"timeoriginalestimate":null,"description":"Attempts to exceed the storagemaxtotalsnapshotsizeingb walrus property result in an expected error/exception informing the user the proposed upload exceeds the max size. However this still results in a snapshot which remains in pending 0% for at least 20-30 minutes (haven't waited longer than that yet). \r\nEasily reproducible. Below shows describe-snapshot output for pending/failed snaps and 10 successful 5gb snapshots. max was set to 50gb so any new snaps are expected to fail. \r\n\r\nThanks,\r\n-Matt\r\n\r\n\r\n{code}\r\n[root@eucahost-51-69 ~]# euca-describe-snapshots \r\nSNAPSHOT\tsnap-8DAF41F5\tvol-C9B34000\tpending\t2013-01-30T23:46:07.718Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-6DA24234\tvol-C9B34000\tpending\t2013-01-30T23:46:09.961Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-2B863D21\tvol-C9B34000\tcompleted\t2013-01-30T23:12:03.644Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-1BC84157\tvol-C9B34000\tpending\t2013-01-30T23:46:05.919Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-BA153C38\tvol-C9B34000\tpending\t2013-01-30T23:46:08.816Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-559B3EA2\tvol-C9B34000\tcompleted\t2013-01-30T23:12:59.532Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-116E43DB\tvol-C9B34000\tcompleted\t2013-01-30T23:12:21.751Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-C90E40EE\tvol-C9B34000\tpending\t2013-01-30T23:46:06.566Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-46603F1F\tvol-C9B34000\tcompleted\t2013-01-30T23:12:54.815Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-E3DE43A3\tvol-C9B34000\tpending\t2013-01-30T23:45:48.879Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-CF613FAA\tvol-C9B34000\tcompleted\t2013-01-30T23:12:15.586Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-62173EAD\tvol-C9B34000\tpending\t2013-01-30T23:44:56.844Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-3A2D3DA1\tvol-C9B34000\tcompleted\t2013-01-30T23:12:27.893Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-EB2F3C90\tvol-C9B34000\tpending\t2013-01-30T23:46:07.141Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-20593927\tvol-C9B34000\tcompleted\t2013-01-30T23:12:35.016Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-817C425A\tvol-C9B34000\tpending\t2013-01-30T23:46:04.964Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-DC95457E\tvol-C9B34000\tcompleted\t2013-01-30T23:12:42.310Z\t100%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-31693E19\tvol-9F7037D8\tcompleted\t2013-01-30T20:34:41.361Z\t100%\t794912474240\t3\tNone\r\nSNAPSHOT\tsnap-4EF43B64\tvol-C9B34000\tpending\t2013-01-30T23:46:09.399Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-A0DB3F97\tvol-C9B34000\tpending\t2013-01-30T23:46:08.257Z\t0%\t794912474240\t5\tCreated by eutester\r\nSNAPSHOT\tsnap-08293D1B\tvol-C9B34000\tcompleted\t2013-01-30T23:12:49.638Z\t100%\t794912474240\t5\tCreated by eutester\r\n[root@eucahost-51-69 ~]# euca-describe-properties | grep snap\r\nPROPERTY\tPARTI00.storage.enablesyncsnaps\ttrue\r\nPROPERTY\tPARTI00.storage.maxsnaptransferretries\t50\r\nPROPERTY\tPARTI00.storage.shouldtransfersnapshots\ttrue\r\nPROPERTY\twalrus.storagemaxtotalsnapshotsizeingb\t50\r\n\r\n{code}\r\n\r\n\r\n\r\nHere's the error returned informing the user the max was hit...\r\n{code}\r\n[2013-01-30 15:36:51,148] [EUCAOPS] [DEBUG]: \r\n\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\nSNAP_ID        |ORDER|CMDTIME |ELAPSED | %  |   STATUS   |    SRC_VOL    |           SRC_VOL_MD5           |    VOLZONE    |INFO-MSG\r\n-----------------------------------------------------------------------------------------------------------------------\r\nsnap-559B3EA2  |  9  |  6.14  |  1425  |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-2B863D21  |  0  |  4.96  |  200   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-1C243939  |  1  |  6.92  |  337   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-CF613FAA  |  2  |  6.13  |  473   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-116E43DB  |  3  |  6.10  |  608   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-3A2D3DA1  |  4  |  7.04  |  743   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-20593927  |  5  |  7.24  |  887   |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-DC95457E  |  6  |  7.28  |  1030  |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-08293D1B  |  7  |  5.12  |  1152  |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\nsnap-46603F1F  |  8  |  4.67  |  1294  |100 | completed  |  vol-C9B34000 |               None              |    PARTI00    |SUCCESS\r\n-------------------------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\nIn [18]: snaps = tester.create_snapshots(vol, count=3, wait_on_progress=300)\r\n[2013-01-30 15:44:56,782] [EUCAOPS] [DEBUG]: Create_snapshots count:3, mincount:3, wait_on_progress:300,eof:True\r\n[2013-01-30 15:44:57,086] [EUCAOPS] [DEBUG]: Caught exception creating snapshot,eof is False, continuing. Error:EC2ResponseError: 406 Not Acceptable\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>CreateSnapshotType</Code><Message>java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.</Message></Error></Errors><RequestID>com.eucalyptus.util.EucalyptusCloudException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\nCaused by: com.eucalyptus.entities.TransactionCallbackException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\nCaused by: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\ncom.eucalyptus.util.EucalyptusCloudException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.blockstorage.Snapshots.startCreateSnapshot(Snapshots.java:289)\r\n\tat com.eucalyptus.blockstorage.SnapshotManager.create(SnapshotManager.java:143)\r\n\tat sun.reflect.GeneratedMethodAccessor758.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:616)\r\n\tat org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:147)\r\n\tat org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:127)\r\n\tat org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:50)\r\n\tat org.mule.component.DefaultLifecycleAdapter.intercept(DefaultLifecycleAdapter.java:202)\r\n\tat org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:82)\r\n\tat org.mule.component.AbstractJavaComponent.doOnCall(AbstractJavaComponent.java:73)\r\n\tat org.mule.component.AbstractComponent.onCall(AbstractComponent.java:87)\r\n\tat org.mule.model.seda.SedaService$ComponentStageWorker.run(SedaService.java:533)\r\n\tat org.mule.work.WorkerContext.run(WorkerContext.java:310)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\nCaused by: com.eucalyptus.entities.TransactionCallbackException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.entities.Transactions.save(Transactions.java:285)\r\n\tat com.eucalyptus.blockstorage.Snapshots.startCreateSnapshot(Snapshots.java:270)\r\n\t... 16 more\r\nCaused by: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:235)\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:244)\r\n\tat com.eucalyptus.util.async.AsyncRequest.execute(AsyncRequest.java:291)\r\n\tat com.eucalyptus.util.async.AsyncRequest.sendSync(AsyncRequest.java:270)\r\n\tat com.eucalyptus.util.async.AsyncRequests.sendSync(AsyncRequests.java:126)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:277)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:270)\r\n\tat com.eucalyptus.entities.Transactions.save(Transactions.java:283)\r\n\t... 17 more\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.ws.protocol.SoapHandler.incomingMessage(SoapHandler.java:128)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.incomingMessage(MessageStackHandler.java:105)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:114)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:105)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\r\n\tat org.jboss.netty.handler.timeout.IdleStateHandler.messageReceived(IdleStateHandler.java:214)\r\n\tat org.jboss.netty.handler.timeout.ReadTimeoutHandler.messageReceived(ReadTimeoutHandler.java:146)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\r\n\tat org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\r\n\tat org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\t... 1 more\r\nCaused by: com.eucalyptus.entities.TransactionCallbackException: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.entities.Transactions.save(Transactions.java:285)\r\n\tat com.eucalyptus.blockstorage.Snapshots.startCreateSnapshot(Snapshots.java:270)\r\n\tat com.eucalyptus.blockstorage.SnapshotManager.create(SnapshotManager.java:143)\r\n\tat sun.reflect.GeneratedMethodAccessor758.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:616)\r\n\tat org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:147)\r\n\tat org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:127)\r\n\tat org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:50)\r\n\tat org.mule.component.DefaultLifecycleAdapter.intercept(DefaultLifecycleAdapter.java:202)\r\n\tat org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:82)\r\n\tat org.mule.component.AbstractJavaComponent.doOnCall(AbstractJavaComponent.java:73)\r\n\tat org.mule.component.AbstractComponent.onCall(AbstractComponent.java:87)\r\n\tat org.mule.model.seda.SedaService$ComponentStageWorker.run(SedaService.java:533)\r\n\tat org.mule.work.WorkerContext.run(WorkerContext.java:310)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\nCaused by: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:235)\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:244)\r\n\tat com.eucalyptus.util.async.AsyncRequest.execute(AsyncRequest.java:291)\r\n\tat com.eucalyptus.util.async.AsyncRequest.sendSync(AsyncRequest.java:270)\r\n\tat com.eucalyptus.util.async.AsyncRequests.sendSync(AsyncRequests.java:126)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:277)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:270)\r\n\tat com.eucalyptus.entities.Transactions.save(Transactions.java:283)\r\n\t... 17 more\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.ws.protocol.SoapHandler.incomingMessage(SoapHandler.java:128)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.incomingMessage(MessageStackHandler.java:105)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:114)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:105)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\r\n\tat org.jboss.netty.handler.timeout.IdleStateHandler.messageReceived(IdleStateHandler.java:214)\r\n\tat org.jboss.netty.handler.timeout.ReadTimeoutHandler.messageReceived(ReadTimeoutHandler.java:146)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\r\n\tat org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\r\n\tat org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\t... 1 more\r\nCaused by: java.lang.RuntimeException: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:235)\r\n\tat com.eucalyptus.util.Exceptions.toUndeclared(Exceptions.java:244)\r\n\tat com.eucalyptus.util.async.AsyncRequest.execute(AsyncRequest.java:291)\r\n\tat com.eucalyptus.util.async.AsyncRequest.sendSync(AsyncRequest.java:270)\r\n\tat com.eucalyptus.util.async.AsyncRequests.sendSync(AsyncRequests.java:126)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:277)\r\n\tat com.eucalyptus.blockstorage.Snapshots$1.fire(Snapshots.java:270)\r\n\tat com.eucalyptus.entities.Transactions.save(Transactions.java:283)\r\n\tat com.eucalyptus.blockstorage.Snapshots.startCreateSnapshot(Snapshots.java:270)\r\n\tat com.eucalyptus.blockstorage.SnapshotManager.create(SnapshotManager.java:143)\r\n\tat sun.reflect.GeneratedMethodAccessor758.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:616)\r\n\tat org.mule.model.resolvers.AbstractEntryPointResolver.invokeMethod(AbstractEntryPointResolver.java:147)\r\n\tat org.mule.model.resolvers.ReflectionEntryPointResolver.invoke(ReflectionEntryPointResolver.java:127)\r\n\tat org.mule.model.resolvers.DefaultEntryPointResolverSet.invoke(DefaultEntryPointResolverSet.java:50)\r\n\tat org.mule.component.DefaultLifecycleAdapter.intercept(DefaultLifecycleAdapter.java:202)\r\n\tat org.mule.component.AbstractJavaComponent.invokeComponentInstance(AbstractJavaComponent.java:82)\r\n\tat org.mule.component.AbstractJavaComponent.doOnCall(AbstractJavaComponent.java:73)\r\n\tat org.mule.component.AbstractComponent.onCall(AbstractComponent.java:87)\r\n\tat org.mule.model.seda.SedaService$ComponentStageWorker.run(SedaService.java:533)\r\n\tat org.mule.work.WorkerContext.run(WorkerContext.java:310)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)\r\n\tat edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.ws.protocol.SoapHandler.incomingMessage(SoapHandler.java:128)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.incomingMessage(MessageStackHandler.java:105)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:114)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:105)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\r\n\tat org.jboss.netty.handler.timeout.IdleStateHandler.messageReceived(IdleStateHandler.java:214)\r\n\tat org.jboss.netty.handler.timeout.ReadTimeoutHandler.messageReceived(ReadTimeoutHandler.java:146)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\r\n\tat org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\r\n\tat org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\t... 1 more\r\nCaused by: com.eucalyptus.ws.EucalyptusRemoteFault: Action:ProblemAction Code:CreateStorageSnapshotType Id:RelatesTo Error: Your proposed upload exceeds the maximum allowed object size.Your proposed upload exceeds the maximum allowed object size.\r\n\tat com.eucalyptus.ws.protocol.SoapHandler.incomingMessage(SoapHandler.java:128)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.incomingMessage(MessageStackHandler.java:105)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:114)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:116)\r\n\tat org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:105)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\r\n\tat org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\r\n\tat org.jboss.netty.handler.timeout.IdleStateHandler.messageReceived(IdleStateHandler.java:214)\r\n\tat org.jboss.netty.handler.timeout.ReadTimeoutHandler.messageReceived(ReadTimeoutHandler.java:146)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\r\n\tat org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\r\n\tat org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat java.lang.Thread.run(Thread.java:679)\r\n</RequestID></Response>\r\n\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Attempts to exceed walrus.storagemaxtotalsnapshotsizeingb result in pending failed snaps","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i01twn:","customfield_10000":"10000_*:*_1_*:*_292571_*|*_6_*:*_1_*:*_0","customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["mclark(mclark)"],"customfield_10116":null,"customfield_10117":null,"environment":"GIT_HASH\tc4e3c56ea9b453d670d8747ac1415b399ff4ddd4\r\n\r\n192.168.51.69\tCENTOS\t6.3\t64\tREPO\t[CLC WS]\r\n192.168.51.70\tCENTOS\t6.3\t64\tREPO\t[CC00 SC00]\r\n192.168.51.72\tCENTOS\t6.3\t64\tREPO\t[NC00]\r\n192.168.51.73\tCENTOS\t6.3\t64\tREPO\t[NC00]\r\n\r\nMEMO\r\nCLOUD_OPTS=--debug --db-home=/usr/pgsql-9.1/\r\n\r\nEBS_STORAGE_MANAGER=SANManager\r\nSAN_PROVIDER=EmcVnxProvider\r\nUSE_MULTIPATHING=YES","customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-4866/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/18909/comment/39177","id":"39177","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like 4866 is a dup of 4229","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-01-30T18:11:03.543-0600","updated":"2013-01-30T18:11:03.543-0600"}],"maxResults":1,"total":1,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}