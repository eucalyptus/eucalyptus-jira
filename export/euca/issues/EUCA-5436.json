{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"20002","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20002","key":"EUCA-5436","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10302":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":null,"customfield_10308":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5436/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2013-03-18T08:22:00.646-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"updated":"2013-05-29T20:27:19.408-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10501","id":"10501","name":"Packaging"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"I suggest that we consider a slightly different packaging for the load-balancer image build scripts.  I think that both packages' build scripts should be combined in a separate source RPM, which may or may not be a dependency for building the image rpms.  This would make a very small download for someone who wants to do their own image build, and would be something that we could include directly in a Linux distro.\r\n\r\nTechnically speaking, the image rpms could be nosrc RPMs, since the images are large blobs simply copied from the src into the binary rpm, and anyone who wants to rebuild the package is likely doing so explicitly to replace those blobs with newly built versions.  (I would alternately suggest that the source rpm _actually_ execute the image build, which I suppose would break mock builds, but there's no reason you need to be using mock for an image build).\r\n\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"load balancer image rpms should separate build scripts from fully constructed image","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"customfield_10000":null,"customfield_12100":"0|i01xx3:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2013-03-21T18:15:53.329-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["agrimm(agrimm)","mspaulding(mspaulding)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20002/comment/42107","id":"42107","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"body":"This sounds like a reasonable change.\n\nSo I will then:\n\n1. Create a separate package for building the image (I am thinking of calling it eucalyptus-load-balancer-image-builder if that works for you)\n\n2. Shouldn't be hard to build the image from the source RPM. I'll do that as opposed to making the RPM nosrc.\n\nThanks for the suggestions!","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-03-21T18:15:53.329-0500","updated":"2013-03-21T18:15:53.329-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20002/comment/46920","id":"46920","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"body":"Just wanted to comment on this since it's been a while. This isn't going to make it in for 3.3.0, but I've made a couple of changes towards fixing this:\n\n1. I've removed the image build script completely from the load balancer package that we distribute. I think it makes sense not to include it since it can't be used to actually build the image right now.\n\n2. I've marked the kickstart which is included as a doc file, since it is just for reference so that people know what's contained in the image.\n\nIt would be really handy to have a separate package which is a \"builder\" package for Fedora so that 3.3.0 users can build their own load balancer. I haven't been able to build the load balancer on the Fedora platform yet (the script must be run on CentOS/RHEL 6) due to some errors that are encountered. I'd like to see if we can get this in for a 3.3.x maintenance release.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-05-29T18:34:02.668-0500","updated":"2013-05-29T18:34:02.668-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/20002/comment/46930","id":"46930","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"body":"For reference, the error I'm encountering when building the image on Fedora is:\n{code}\nError creating ami: Unable to run ['/usr/bin/firewall-offline-cmd', '--enabled', '--service=ssh']!\n{code}\n\nThis is because Fedora uses firewalld and CentOS does not, and it doesn't appear (from digging through the code a bit) that python-imgcreate offers any alternative.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mspaulding","name":"mspaulding","key":"mspaulding","accountId":"557058:fa0a9514-613e-4c4f-8872-2880096382a5","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/49cba835af4c73beefe1c9c630cb2021?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmspaulding%26avatarId%3D13100%26noRedirect%3Dtrue"},"displayName":"Matt Spaulding","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-05-29T20:27:19.408-0500","updated":"2013-05-29T20:27:19.408-0500"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-5436/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}