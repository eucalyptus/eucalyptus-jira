{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"30138","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/30138","key":"EUCA-9429","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/3","id":"3","description":"The problem is a duplicate of an existing issue.","name":"Duplicate"},"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2014-05-20T12:42:41.180-0500","customfield_10704":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9429/watchers","watchCount":3,"isWatching":false},"lastViewed":null,"created":"2014-05-19T18:47:40.225-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{repository={count=3, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":3,\"lastUpdated\":\"2014-06-13T13:26:06.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":3,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10102":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[],"customfield_11901":null,"issuelinks":[{"id":"24836","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/24836","type":{"id":"10102","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10102"},"inwardIssue":{"id":"30141","key":"EUCA-9430","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/30141","fields":{"summary":"euca_conf --deregister-service reports ERROR on success","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2014-05-20T12:42:41.199-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11505","id":"11505","name":"Empyrean","description":"service management"}],"timeoriginalestimate":null,"description":"An error occurs when deregistering a user-api service:\r\n\r\n{code}\r\n# euca-deregister-service API_13\r\nerror: deregistration failed\r\nERROR\tFailed to deregister null: API_13 because of : Failed to lookup any registered component with the name: API_13\r\n#\r\n#\r\n# euca-deregister-service API_34 --debug\r\n2014-05-19 16:18:56,341 DeregisterService [DEBUG]:request_params: {'Name': 'API_34'}\r\n2014-05-19 16:18:56,342 DeregisterService [DEBUG]:Using access key provided by client.\r\n2014-05-19 16:18:56,342 DeregisterService [DEBUG]:Using secret key provided by client.\r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Method: GET\r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Path: /services/Empyrean/\r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Data: \r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Headers: {}\r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Host: 127.0.0.1\r\n2014-05-19 16:18:56,343 DeregisterService [DEBUG]:Port: 8773\r\n2014-05-19 16:18:56,344 DeregisterService [DEBUG]:Params: {'Action': 'DeregisterService', 'Version': 'eucalyptus', 'Name': 'API_34'}\r\n2014-05-19 16:18:56,344 DeregisterService [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2014-05-19 16:18:56,344 DeregisterService [DEBUG]:Token: None\r\n2014-05-19 16:18:56,344 DeregisterService [DEBUG]:using _calc_signature_2\r\n2014-05-19 16:18:56,346 DeregisterService [DEBUG]:query string: AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A18%3A56Z&Version=eucalyptus\r\n2014-05-19 16:18:56,346 DeregisterService [DEBUG]:string_to_sign: GET\r\n127.0.0.1\r\n/services/Empyrean/\r\nAWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A18%3A56Z&Version=eucalyptus\r\n2014-05-19 16:18:56,346 DeregisterService [DEBUG]:len(b64)=44\r\n2014-05-19 16:18:56,347 DeregisterService [DEBUG]:base64 encoded digest: gRv8qVK5Z+vi9EzvrsVYx8Ez1KUF9GAAmxqPZ+QsBHs=\r\n2014-05-19 16:18:56,347 DeregisterService [DEBUG]:query_string: AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A18%3A56Z&Version=eucalyptus Signature: gRv8qVK5Z+vi9EzvrsVYx8Ez1KUF9GAAmxqPZ+QsBHs=\r\nsend: 'GET /services/Empyrean/?AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A18%3A56Z&Version=eucalyptus&Signature=gRv8qVK5Z%2Bvi9EzvrsVYx8Ez1KUF9GAAmxqPZ%2BQsBHs%3D HTTP/1.1\\r\\nAccept-Encoding: identity\\r\\nContent-Length: 0\\r\\nHost: 127.0.0.1\\r\\nUser-Agent: Boto/2.27.0 Python/2.6.6 Linux/2.6.32-431.17.1.el6.x86_64\\r\\n\\r\\n'\r\n2014-05-19 16:20:06,388 DeregisterService [DEBUG]:encountered timeout exception, reconnecting\r\n2014-05-19 16:20:06,389 DeregisterService [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2014-05-19 16:20:07,214 DeregisterService [DEBUG]:Token: None\r\n2014-05-19 16:20:07,215 DeregisterService [DEBUG]:using _calc_signature_2\r\n2014-05-19 16:20:07,215 DeregisterService [DEBUG]:query string: AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A20%3A07Z&Version=eucalyptus\r\n2014-05-19 16:20:07,215 DeregisterService [DEBUG]:string_to_sign: GET\r\n127.0.0.1\r\n/services/Empyrean/\r\nAWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A20%3A07Z&Version=eucalyptus\r\n2014-05-19 16:20:07,216 DeregisterService [DEBUG]:len(b64)=44\r\n2014-05-19 16:20:07,216 DeregisterService [DEBUG]:base64 encoded digest: EaIn+t+9/Ov7lvfqVlNXJm4gaoImBNYggTcnZ8SMUxU=\r\n2014-05-19 16:20:07,216 DeregisterService [DEBUG]:query_string: AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A20%3A07Z&Version=eucalyptus Signature: EaIn+t+9/Ov7lvfqVlNXJm4gaoImBNYggTcnZ8SMUxU=\r\nsend: 'GET /services/Empyrean/?AWSAccessKeyId=AKIFASRUWNL7LVRAXDVM&Action=DeregisterService&Name=API_34&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-05-19T23%3A20%3A07Z&Version=eucalyptus&Signature=EaIn%2Bt%2B9%2FOv7lvfqVlNXJm4gaoImBNYggTcnZ8SMUxU%3D HTTP/1.1\\r\\nAccept-Encoding: identity\\r\\nContent-Length: 0\\r\\nHost: 127.0.0.1\\r\\nUser-Agent: Boto/2.27.0 Python/2.6.6 Linux/2.6.32-431.17.1.el6.x86_64\\r\\n\\r\\n'\r\nreply: 'HTTP/1.1 200 OK\\r\\n'\r\nheader: Content-Length: 585\r\nheader: Content-Type: application/xml; charset=UTF-8\r\n2014-05-19 16:20:07,389 DeregisterService [DEBUG]:<euca:DeregisterServiceResponseType xmlns:euca=\"http://msgs.eucalyptus.com/4.0.0\"><euca:ServiceRegistrationMessage><euca:EmpyreanMessage><euca:_return>false</euca:_return><euca:_services/><euca:_disabledServices/><euca:_notreadyServices/><euca:_stoppedServices/></euca:EmpyreanMessage><euca:statusMessages><euca:item><euca:entry>Failed to deregister null: API_34 because of : Failed to lookup any registered component with the name: API_34</euca:entry></euca:item></euca:statusMessages></euca:ServiceRegistrationMessage><euca:deregisteredServices/></euca:DeregisterServiceResponseType>\r\nerror: deregistration failed\r\nERROR\tFailed to deregister null: API_34 because of : Failed to lookup any registered component with the name: API_34\r\n{code}\r\n\r\nThe initial request times out and the retry fails with an error since the service is already deregistered.\r\n\r\nThis occurred the user-api service registered on five hosts.","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Error deregistering user-api service","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i02pqv:","customfield_10000":"10000_*:*_1_*:*_64500976_*|*_6_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2014-05-20T12:42:41.197-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["kedwards(kedwards)","sjones(sjones)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-9429/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/30138/comment/70721","id":"70721","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kedwards","name":"kedwards","key":"kedwards","accountId":"557058:f9c2f8da-1fc6-4aa7-8fb0-750e7e422b6b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue"},"displayName":"Ken Edwards","active":true,"timeZone":"America/Los_Angeles"},"body":"dup of EUCA-9430","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kedwards","name":"kedwards","key":"kedwards","accountId":"557058:f9c2f8da-1fc6-4aa7-8fb0-750e7e422b6b","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d1746a6d05a30ca027012a7da4545962?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dkedwards%26avatarId%3D10200%26noRedirect%3Dtrue"},"displayName":"Ken Edwards","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-20T12:42:41.197-0500","updated":"2014-05-20T12:42:41.197-0500"}],"maxResults":1,"total":1,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}