{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13730","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730","key":"EUCA-2394","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/2","id":"2","description":"The problem described is an issue which will never be fixed.","name":"Won't Fix"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10702":null,"customfield_10703":null,"resolutiondate":"2015-06-26T14:55:44.217-0500","customfield_10308":null,"customfield_10704":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2394/watchers","watchCount":7,"isWatching":false},"created":"2012-06-22T15:20:03.010-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{}","customfield_10301":null,"labels":["3.4-PM","ImageManagement"],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10602","id":"10602","description":"Eucalyptus 3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2013-06-18"}],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:33:11.974-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10201","id":"10201","name":"AWS Compatibility"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10010","id":"10010","name":"Node Controller"}],"timeoriginalestimate":null,"description":"Currently a limitation of using kvm is that you can't choose the name a volume receives when it is attached.\r\n\r\nThe following options result in /dev/vda being available in the guest rather than /dev/vdb:\r\n\r\neuca-attach-volume .. -d /dev/vdb ..\r\n\r\nDetaching and adding the same volume again results in /dev/vdc in the guest.","customfield_13000":null,"customfield_13200":null,"customfield_11300":"PRD-1","customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"euca-attach-volumes can't choose device name in guest when using kvm","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mattrae","name":"mattrae","key":"mattrae","accountId":"557058:4214fc29-89b6-40b7-8b01-5d535d362c11","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Rae","active":false,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mattrae","name":"mattrae","key":"mattrae","accountId":"557058:4214fc29-89b6-40b7-8b01-5d535d362c11","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/036adeaecfbe558f00d42502c4c3193f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Rae","active":false,"timeZone":"US/Central"},"customfield_10000":"10007_*:*_1_*:*_18733672577_*|*_5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_20765892_*|*_10001_*:*_1_*:*_76197702798","customfield_12100":"0|i01wk7:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2012-06-22T21:05:57.668-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["agrimm(agrimm)","ben.carpenter(ben.carpenter)","dshekhawat(dshekhawat)","mattrae(mattrae)","shashi(shashi)","zhill(zhill)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2394/votes","votes":1,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/28554","id":"28554","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Thanks for reporting this, Matt.  I know we have run across this issue before, and I don't think we have much control over it due to kernel-level limitations.\r\nI'll check with our kvm experts next week to see if there's something we could be doing better here.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-06-22T21:05:57.668-0500","updated":"2012-06-22T21:05:57.668-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/43863","id":"43863","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"body":"Response from [~nurmi]\n\nI have used the disk label technique in the past.  Please study the below screen trace carefully, and you'll see what is needed to construct a procedure to statically assign a name to the block device itself (not the name that is assigned by KVM/guest upon dynamic attach).  I'm not using eucalyptus in this example, as I want to remove variables for clarity.\n\nIn a nutshell: use ext label to assign your own static label manually upon first attach (while creating filesystem for example) and handle the disk automatically for all future attachments.  The example below shows that, no matter what OS device name is assigned, the label MYSTATICLABEL can be used to reference the disk for mounting/etc.\n\n{code}\n[root@vm-server-0 disk]# dd if=/dev/zero of=realdisk.img bs=1M count=200\n200+0 records in\n200+0 records out\n209715200 bytes (210 MB) copied, 0.145521 s, 1.4 GB/s\n\n[root@vm-server-0 disk]# dd if=/dev/zero of=tmpdisk.img bs=1M count=200\n200+0 records in\n200+0 records out\n209715200 bytes (210 MB) copied, 0.148194 s, 1.4 GB/s\n\n[root@vm-server-0 disk]# cat realdisk.xml \n<disk type='block' device='disk'>\n  <source dev='/tmp/disk/realdisk.img'/>\n  <target dev='vdx' bus='virtio'/>\n</disk>\n\n[root@vm-server-0 disk]# cat tmpdisk.xml \n<disk type='block' device='disk'>\n  <source dev='/tmp/disk/tmpdisk.img'/>\n  <target dev='vdy' bus='virtio'/>\n</disk>\n\n[root@vm-server-0 disk]# virsh attach-device 4 realdisk.xml \nDevice attached successfully\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'dmesg | tail -n 1'\n vdc: unknown partition table\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'mkfs.ext4 /dev/vdc'\nmke2fs 1.41.12 (17-May-2010)\nFilesystem label=\nOS type: Linux\nBlock size=1024 (log=0)\nFragment size=1024 (log=0)\nStride=0 blocks, Stripe width=0 blocks\n51200 inodes, 204800 blocks\n10240 blocks (5.00%) reserved for the super user\nFirst data block=1\nMaximum filesystem blocks=67371008\n25 block groups\n8192 blocks per group, 8192 fragments per group\n2048 inodes per group\nSuperblock backups stored on blocks: \n\t8193, 24577, 40961, 57345, 73729\n\nWriting inode tables: done                            \nCreating journal (4096 blocks): done\nWriting superblocks and filesystem accounting information: done\n\nThis filesystem will be automatically checked every 30 mounts or\n180 days, whichever comes first.  Use tune2fs -c or -i to override.\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'tune2fs -L MYSTATICLABEL /dev/vdc'\ntune2fs 1.41.12 (17-May-2010)\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'ls -l /dev/disk/by-label/MYSTATICLABEL'\nlrwxrwxrwx 1 root root 9 Apr 11 09:57 /dev/disk/by-label/MYSTATICLABEL -> ../../vdc\n\n[root@vm-server-0 disk]# virsh detach-device 4 realdisk.xml \nDevice detached successfully\n\n[root@vm-server-0 disk]# virsh attach-device 4 tmpdisk.xml\nDevice attached successfully\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'dmesg | tail -n 1'\n vdc: unknown partition table\n\n[root@vm-server-0 disk]# virsh attach-device 4 realdisk.xml\nDevice attached successfully\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'dmesg | tail -n 1'\n vdd: unknown partition table\n\n[root@vm-server-0 disk]# ssh -i key virtual-machine 'ls -l /dev/disk/by-label/MYSTATICLABEL'\nlrwxrwxrwx 1 root root 9 Apr 11 09:58 /dev/disk/by-label/MYSTATICLABEL -> ../../vdd\n\n[root@vm-server-0 disk]# \n{code}\n\nHope this helps.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dshekhawat","name":"dshekhawat","key":"dshekhawat","accountId":"557058:dc10d216-39f8-4d84-a5ff-7d4daf8a44ed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7cda271db1cec24c198fdfb42ec8a8ae?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddshekhawat%26avatarId%3D15400%26noRedirect%3Dtrue"},"displayName":"Deependra Shekhawat","active":false,"timeZone":"Asia/Kolkata"},"created":"2013-04-23T03:58:27.076-0500","updated":"2013-04-23T03:58:27.076-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/43865","id":"43865","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shashi","name":"shashi","key":"shashi","accountId":"557058:cc7ee5dc-1d4f-46c5-8068-6ae350275ba6","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue"},"displayName":"Shashi Mysore","active":true,"timeZone":"America/Los_Angeles"},"body":"Thanks [~dshekhawat] and [~nurmi]. [~tjcramer] - Can we have Engineering look into [~nurmi]'s suggestion? Or, if they already have, what are your thoughts? Getting this right will be a big win. \n\nThanks.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=shashi","name":"shashi","key":"shashi","accountId":"557058:cc7ee5dc-1d4f-46c5-8068-6ae350275ba6","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a22dc501b633d766a04aac00a6f07d91?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dshashi%26avatarId%3D11700%26noRedirect%3Dtrue"},"displayName":"Shashi Mysore","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-04-23T04:25:45.475-0500","updated":"2013-04-23T04:25:45.475-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/43894","id":"43894","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ben.carpenter","name":"ben.carpenter","key":"ben.carpenter","accountId":"557058:6b4f07e8-d3db-46aa-9b22-94bda04278d8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue"},"displayName":"Ben Carpenter","active":false,"timeZone":"America/Los_Angeles"},"body":"Thanks for researching this. We use Chef to administer the systems, so we have it read /proc/partitions before and after attaching to determine which block device was created. Then we label it with an ext/xfs label, and mount by label. Very similar idea to parsing dmesg like nurmi does. \r\n\r\n\r\n-- Ben\r\n\r\nBen Carpenter\r\n(408)-506-5764\r\nben@bencarpenter.org\r\nhttp://bencarpenter.org\r\n\r\n\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ben.carpenter","name":"ben.carpenter","key":"ben.carpenter","accountId":"557058:6b4f07e8-d3db-46aa-9b22-94bda04278d8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c7394f2d2dbb1a55c58ce07d40102097?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dben.carpenter%26avatarId%3D12604%26noRedirect%3Dtrue"},"displayName":"Ben Carpenter","active":false,"timeZone":"America/Los_Angeles"},"created":"2013-04-23T13:14:24.349-0500","updated":"2013-04-23T13:14:24.349-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/43940","id":"43940","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"[~shashi], [~nurmi]'s suggestion is a great workaround, but it is only workaround.  It does not do anything to make Eucalyptus more compatible with AWS; the right fix for this is probably in the virtio-blk driver, or possibly in kvm.  Anything that requires 1) modifying the disk being attached, and/or 2) the guest OS having rules to map devices, is not going to be a generally acceptable solution.  It would be great to see Eucalyptus engineers contribute a fix at the kernel level that would do the right thing (if such a thing doesn't already exist in newer kernels).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-24T09:27:31.484-0500","updated":"2013-04-24T09:27:31.484-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/43942","id":"43942","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"I did a little bit of reading on this, in issues such as this one:\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=693372\n\nand in particular, the comment \"assigning specific device names in kernel layer is not a common approach, and it would be better to assign names via userland such as udev\".\n\nPerhaps [~nurmi]'s solution _is_ the right one in that we should be telling people that relying on device names is not the best practice, and rather, you should always rely on filesystem labels in your volumes.  The fact that assigning device names in Xen and AWS happens to work is convenient, but recalling my enterprise sys admin days, device ordering of SAN disks was never predictable, and using UUIDs or labels was always preferred, so maybe people are used to this.  Using labels, the question this leaves is how to deal with newly created volumes, cases where volumes have duplicate labels, etc.  UUIDs are more dependable, but even then, a user doesn't know the volume's UUID until the first time they attach it.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2013-04-24T10:36:04.899-0500","updated":"2013-04-24T10:36:04.899-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13730/comment/88417","id":"88417","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Cleaning up old tickets. This may be addressable in the future if KVM adds support for it in an virtio driver (virtio-scsi once stable perhaps).","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-06-26T14:55:44.258-0500","updated":"2015-06-26T14:55:44.258-0500"}],"maxResults":7,"total":7,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}