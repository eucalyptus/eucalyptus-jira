{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"40602","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602","key":"EUCA-11936","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/7","id":"7","description":"Signifies completion of tasks, info requests, etc.","name":"Completed"},"customfield_10310":null,"customfield_10311":null,"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_12800":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@bf00eae[id=135,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 6,goal=<null>,startDate=2016-03-29T22:49:33.459Z,endDate=2016-04-19T22:49:00.000Z,completeDate=2016-04-20T00:36:39.021Z,sequence=135]"],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2016-08-12T20:04:37.508-0500","customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11936/watchers","watchCount":3,"isWatching":false},"lastViewed":null,"created":"2016-01-25T13:55:54.439-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2016-04-02T18:44:45.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"issuelinks":[{"id":"38025","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/38025","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"37455","key":"EUCA-11195","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/37455","fields":{"summary":"implement 'signalResource' api call in CloudFormation","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/2","id":"2","description":"A new feature of the product, which has yet to be developed.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14811&avatarType=issuetype","name":"New Feature","subtask":false,"avatarId":14811}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-10-28T00:23:03.721-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12900","id":"12900","name":"CloudFormation"}],"timeoriginalestimate":null,"description":"As a cloudformation user, I would like to be able to use the SignalResourceAPI call and have the CreationPolicy resource attribute work.  (These are related items).","customfield_13000":null,"customfield_13200":null,"customfield_11300":"EUCA-11536","customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/28903","id":"28903","filename":"asg-with-cfn-signal.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T15:43:27.496-0500","size":2532,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/28903/asg-with-cfn-signal.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/28904","id":"28904","filename":"instance-with-cfn-signal.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T15:43:27.485-0500","size":2264,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/28904/instance-with-cfn-signal.json"}],"aggregatetimeestimate":null,"summary":"CF: CreationPolicy and SignalResource support","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_296373_*|*_10000_*:*_1_*:*_1112145_*|*_10001_*:*_1_*:*_5999487450_*|*_10003_*:*_1_*:*_8623151461_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i03lef:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2016-04-19T22:30:27.145-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10004":3.0,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["ethomas(ethomas)","hspencer(hspencer)","lbiasi(lbiasi)","tony(tony)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602/comment/100941","id":"100941","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"body":"Creation Policy is added as per AWS to AWS::CloudFormation::WaitCondition, AWS::EC2::Instance, and AWS::AutoScaling::AutoScalingGroup.  Signal Resource is also implemented.  There are a few quirks that are done to be consistent with AWS.\r\n\r\n1) If the Wait Condition has both \"Properties\" and a \"CreationPolicy\" all Properties are ignored.  Signals sent via 'curl' or similar to a WaitConditionHandle are ignored.  \r\n2) The only 'uniqueId' that is even considered for an Instance is its own instance id.  Count for instance must also be exactly 1.  100 failures can be signaled, and unless the unique id of these failures matches the instance id, they will be ignored.\r\n3) The only uniqueIds considered for Autoscaling Groups is the instance id of an instance in the group.\r\n\r\nWait Conditions can be signaled with any unique id.\r\n\r\nSuccess signals show up in Stack Events.\r\n\r\nSignals can not be re-sent except in the case when you are signaling failure.  A failure can replace a success.\r\n\r\nIn addition, the Fn::GetAtt value \"Data\" in a wait condition is {} in the case we are using a CreationPolicy.  It has the values of the signals in case \"Properties\" are used instead.\r\n\r\nI have not yet successfully signaled from the User Data of an instance, but was able to do so with an external API call. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T01:50:50.404-0500","updated":"2016-04-04T01:50:50.404-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602/comment/100959","id":"100959","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"body":"I was able to get user data to signal from an instance and asg.  See attached files.  You need an ubuntu image.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-04-04T15:42:54.675-0500","updated":"2016-04-04T15:42:54.675-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602/comment/101626","id":"101626","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"[~ethomas] cool. I was able to get this working too. I added the asg-with-cfn-signal template to eutester templates dir with some minor changes for compatibility in automation and added to the CloudFormation test suite.\r\n\r\nhttps://raw.githubusercontent.com/eucalyptus/eutester/master/testcases/cloud_user/cloudformation/templates/CreationPolicyResourceSignal.json\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2016-04-19T22:30:27.145-0500","updated":"2016-04-19T22:30:27.145-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602/comment/106767","id":"106767","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Eucalyptus Version*\r\n\r\n{{4.3.0-0.25026.353.20160711git783d0ca.el7}}\r\n\r\n*Testing Notes*\r\n\r\nCreated an Ubuntu Xenial Cloud Image with CFN tools installed.  Image was used with verification template.\r\n\r\n*Testing Output*\r\n\r\n{code}\r\n# python nephoria/testcases/cloudformation/generic_template_execution.py --clc 10.111.5.161 --password foobar --template-parameters \"ImageId=emi-cc60b496 EndPoint=http://cloudformation.c-16.autoqa.qa1.eucalyptus-systems.com:8773/ InstanceType=m3.xlarge\" --template-file ./nephoria/testcases/cloudformation/mvp_templates/autoscaling/cfn-as-create-update-policies-test-min.json --capabilities CAPABILITY_IAM --timeout-in-min 15\r\n[07-13 02:06:22][INFO][GenericTemplateRun]:\r\n               TEST CASE INFO\r\n +------------------+--------------------+\r\n | NAME             | GenericTemplateRun |\r\n | TEST LIST        | []                 |\r\n | ENVIRONMENT FILE | None               |\r\n +------------------+--------------------+\r\n\r\n[07-13 02:06:22][INFO][GenericTemplateRun]:\r\n+------------------+----------------------------------------------------------------------------------+\r\n| TEST ARGS        | VALUE                                                                            |\r\n+------------------+----------------------------------------------------------------------------------+\r\n| access_key       | None                                                                             |\r\n| capabilities     | CAPABILITY_IAM                                                                   |\r\n| clc              | 10.111.5.161                                                                     |\r\n| configsections   | ['GenericTemplateRun', 'global']                                                 |\r\n| disable_rollback | False                                                                            |\r\n| emi              | None                                                                             |\r\n| environment_file | None                                                                             |\r\n| log_file         | None                                                                             |\r\n| log_file_level   | DEBUG                                                                            |\r\n| log_level        | DEBUG                                                                            |\r\n| no_clean         | False                                                                            |\r\n| on_failure       | ROLLBACK                                                                         |\r\n| password         | foobar                                                                           |\r\n| region           | None                                                                             |\r\n| secret_key       | None                                                                             |\r\n| stack_name       | None                                                                             |\r\n| template_file    | ./nephoria/testcases/cloudformation/mvp_templates/autoscaling/cfn-as-create-     |\r\n|                  | update-policies-test-min.json                                                    |\r\n| template_params  | ImageId=emi-cc60b496 EndPoint=http://cloudformation.c-16.autoqa.qa1.eucalyptus-  |\r\n|                  | systems.com:8773/ InstanceType=m3.xlarge                                         |\r\n| test_account     | testrunner                                                                       |\r\n| test_list        | None                                                                             |\r\n| test_user        | admin                                                                            |\r\n| timeout          | 15                                                                               |\r\n| vmtype           | c1.medium                                                                        |\r\n| zone             | None                                                                             |\r\n+------------------+----------------------------------------------------------------------------------+\r\n\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Creating TestUnit: \"test_stack_deployment\" with args:\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Attempting to populate testunit:test_stack_deployment, with testcase.args...\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Testunit keyword args:{}\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Got method args:('self',)\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: test unit total args:{}\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Creating TestUnit: \"test_validate_template\" with args:\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Attempting to populate testunit:test_validate_template, with testcase.args...\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Testunit keyword args:{}\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: Got method args:('self',)\r\n[07-13 02:06:22][DEBUG][GenericTemplateRun]: test unit total args:{}\r\n[07-13 02:06:22][INFO][test_stack_deployment]:\r\n---------------------------------------------------------------------------------------------------------------\r\n +-----------------------------------------------------------------------------------------------------------+\r\n | STARTING TESTUNIT: test_stack_deployment                                                                  |\r\n | METHOD:test_stack_deployment, TEST DESCRIPTION:                                                           |\r\n | None                                                                                                      |\r\n | End on Failure:False                                                                                      |\r\n | Passing ARGS:\"\"                                                                                           |\r\n | Running test method: \"test_stack_deployment()\"                                                            |\r\n +-----------------------------------------------------------------------------------------------------------+\r\n---------------------------------------------------------------------------------------------------------------\r\n\r\n[07-13 02:06:22][DEBUG][test_stack_deployment]: Deploy Cloudformation Stack\r\n[07-13 02:06:22][DEBUG][SystemConnection]: Trying creds from local file...\r\n[07-13 02:06:22][DEBUG][SystemConnection]: Trying creds from service connection...\r\n[07-13 02:06:22][DEBUG][SystemConnection]: Trying creds from assume admin role on clc...\r\n[07-13 02:06:22][DEBUG][10.111.5.161]: test_port_status, ip:10.111.5.161, port:22, TCP:True\r\n[07-13 02:06:22][DEBUG][10.111.5.161]: test_port_status, success\r\n[07-13 02:06:22][DEBUG][10.111.5.161]: SSH connection has hostname:10.111.5.161 user:root password:f****r\r\n[07-13 02:06:23][DEBUG][10.111.5.161]: SSH connection attempt(1 of 3), host:'root@10.111.5.161', using ipv4:10.111.5.161, thru proxy:'None'\r\n[07-13 02:06:23][DEBUG][10.111.5.161]: SSH - Connected to 10.111.5.161\r\n[07-13 02:06:23][DEBUG][10.111.5.161]: [root@10.111.5.161]# clcadmin-assume-system-credentials\r\n[07-13 02:06:23][DEBUG][10.111.5.161]:\r\nexport AWS_IAM_URL=http://127.0.0.1:8773/services/Euare;\r\nexport EUCA_BOOTSTRAP_URL=http://127.0.0.1:8773/services/Empyrean;\r\nexport EUCA_PROPERTIES_URL=http://127.0.0.1:8773/services/Properties;\r\nexport AWS_ACCESS_KEY_ID=\"AKIAAXL6IRSRKTNSDIY3\";\r\nexport AWS_ACCESS_KEY=\"AKIAAXL6IRSRKTNSDIY3\";\r\n[07-13 02:06:23][DEBUG][10.111.5.161]:\r\nexport EC2_ACCESS_KEY=\"AKIAAXL6IRSRKTNSDIY3\";\r\nexport AWS_SECRET_ACCESS_KEY=\"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\";\r\nexport AWS_SECRET_KEY=\"GIfkRI8SRpRU8ITLUNCsvbxz0jKYTYfDzIIrP5Gs\";\r\nexport EC2_SECRET_KEY=\"GIfkRI8SRpRU8ITLUNCsvbxz0jKYTYfDzIIrP5Gs\";\r\nunset AWS_CREDENTIAL_FILE;\r\nunset AWS_SESSION_TOKEN;\r\nunset AWS_SECURITY_TOKEN;\r\nunset EC2_USER_ID;\r\n\r\n# These are automatic CLC admin credentials generated on\r\n# Wed Jul 13 02:06:23 UTC 2016.\r\n#\r\n# If you can read this, rerun this program with eval:\r\n#     eval `/usr/sbin/clcadmin-assume-system-credentials`\r\n\r\n[07-13 02:06:23][DEBUG][10.111.5.161]: done with exec\r\n[07-13 02:06:23][DEBUG][SystemConnection]: Trying creds from service connection...\r\n[07-13 02:06:23][DEBUG][SystemConnection]: Attempting to fetching service domain from property\r\n[07-13 02:06:25][DEBUG][SystemConnection]: Got service domain: c-16.autoqa.qa1.eucalyptus-systems.com\r\n[07-13 02:06:25][DEBUG][SystemConnection]: Derived creds from serviceconnection\r\n[07-13 02:06:25][DEBUG][TESTER:10.111.5.161]: Attempting to create user with params: account:testrunner, name:adminaccess_key:None, secret_key:None, credpath:None, eucarc:None, machine:None, service_connection:None, path:/, region:eucalyptus,loglevel:10, https:True\r\n[07-13 02:06:25][DEBUG][IAMops(admin:eucalyptus)]: Creating ops: IAMops\r\n[07-13 02:06:25][DEBUG][IAMops(admin:eucalyptus)]: get region info params: host:iam.c-16.autoqa.qa1.eucalyptus-systems.com, endpoint:iam.c-16.autoqa.qa1.eucalyptus-systems.com, region_name:eucalyptus\r\n[07-13 02:06:25][DEBUG][IAMops(admin:eucalyptus)]: Check region: RegionInfo:eucalyptus\r\n[07-13 02:06:25][DEBUG][IAMops(admin:eucalyptus)]: Attempting to fetch all accounts matching- account_id:None account_name:eucalyptus\r\n[07-13 02:06:25][DEBUG][UserContext:000156122136::eucalyptus::admin]: Successfully created User Context\r\n[07-13 02:06:25][DEBUG][IAMops(admin:eucalyptus)]: Attempting to fetch all accounts matching- account_id:None account_name:testrunner\r\n[07-13 02:06:26][DEBUG][IAMops(admin:eucalyptus)]: create_account(). Account already exists: testrunner\r\n[07-13 02:06:26][DEBUG][IAMops(admin:eucalyptus)]: create_user(). User already exists: admin\r\n[07-13 02:06:28][WARNING][UserContext:000156122136::eucalyptus::admin]: Failed to fetch vmware brokers, vmware may not be supported on this cloud. Err:Failed to find corresponding class mapping for element: DescribeVMwareBrokers in namespace: msgs_eucalyptus_com_4_3_0\r\n[07-13 02:06:28][DEBUG][UserContext:::testrunner::admin]: Trying creds from local file...\r\n[07-13 02:06:28][DEBUG][UserContext:::testrunner::admin]: Trying creds from service connection...\r\n[07-13 02:06:28][DEBUG][UserContext:::testrunner::admin]: Trying creds from remote machine at credpath...\r\n[07-13 02:06:28][DEBUG][UserContext:::testrunner::admin]: Trying creds from CLC DB...\r\n[07-13 02:06:28][DEBUG][10.111.5.161:(['CLC'])]: test_port_status, ip:10.111.5.161, port:22, TCP:True\r\n[07-13 02:06:28][DEBUG][10.111.5.161:(['CLC'])]: test_port_status, success\r\n[07-13 02:06:28][DEBUG][10.111.5.161:(['CLC'])]: SSH connection has hostname:10.111.5.161 user:root password:f****r\r\n[07-13 02:06:29][DEBUG][10.111.5.161:(['CLC'])]: SSH connection attempt(1 of 3), host:'root@10.111.5.161', using ipv4:10.111.5.161, thru proxy:'None'\r\n[07-13 02:06:29][DEBUG][10.111.5.161:(['CLC'])]: SSH - Connected to 10.111.5.161\r\n[07-13 02:06:29][DEBUG][10.111.5.161:(['CLC'])]: [root@10.111.5.161]# env | grep EUCALYPTUS\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]:\r\n\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]: done with exec\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]: [root@10.111.5.161]# [ -d /opt/eucalyptus ]\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]:\r\n\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]: done with exec\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]: []\r\n[07-13 02:06:30][DEBUG][10.111.5.161:(['CLC'])]: [root@10.111.5.161]# ls /usr/sbin/ | grep eucalyptus\r\n[07-13 02:06:31][DEBUG][10.111.5.161:(['CLC'])]:\r\neucalyptus-cloud\r\n\r\n[07-13 02:06:31][DEBUG][10.111.5.161:(['CLC'])]: done with exec\r\n[07-13 02:06:31][DEBUG][UserContext:::testrunner::admin]: Attempting to fetching service domain from property\r\n[07-13 02:06:32][DEBUG][UserContext:::testrunner::admin]: Got service domain: c-16.autoqa.qa1.eucalyptus-systems.com\r\n[07-13 02:06:32][DEBUG][UserContext:000448974230::testrunner::admin]: Successfully created User Context\r\n[07-13 02:06:33][DEBUG][CFNops(admin:testrunner)]: Creating ops: CFNops\r\n[07-13 02:06:33][DEBUG][CFNops(admin:testrunner)]: get region info params: host:cloudformation.c-16.autoqa.qa1.eucalyptus-systems.com, endpoint:cloudformation.c-16.autoqa.qa1.eucalyptus-systems.com, region_name:None\r\n[07-13 02:06:33][INFO][CFNops(admin:testrunner)]: Creating stack: nephoria-stack-1468375582\r\n[07-13 02:06:33][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:34][DEBUG][test_stack_deployment]: Sleep 3.0446380256 seconds before next request..\r\n[07-13 02:06:37][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:37][DEBUG][test_stack_deployment]: Sleep 4.17906163773 seconds before next request..\r\n[07-13 02:06:41][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:41][DEBUG][test_stack_deployment]: Sleep 2.30708541202 seconds before next request..\r\n[07-13 02:06:44][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:44][DEBUG][test_stack_deployment]: Sleep 2.84833402066 seconds before next request..\r\n[07-13 02:06:47][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:47][DEBUG][test_stack_deployment]: Sleep 4.68963561716 seconds before next request..\r\n[07-13 02:06:52][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:52][DEBUG][test_stack_deployment]: Sleep 2.19274504753 seconds before next request..\r\n[07-13 02:06:54][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:06:55][DEBUG][test_stack_deployment]: Sleep 5.66210191152 seconds before next request..\r\n[07-13 02:07:00][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:00][DEBUG][test_stack_deployment]: Sleep 2.46531237798 seconds before next request..\r\n[07-13 02:07:03][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:03][DEBUG][test_stack_deployment]: Sleep 4.1260577274 seconds before next request..\r\n[07-13 02:07:07][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:08][DEBUG][test_stack_deployment]: Sleep 3.20605727908 seconds before next request..\r\n[07-13 02:07:11][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:11][DEBUG][test_stack_deployment]: Sleep 4.7096117715 seconds before next request..\r\n[07-13 02:07:16][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:16][DEBUG][test_stack_deployment]: Sleep 2.16802274802 seconds before next request..\r\n[07-13 02:07:18][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:19][DEBUG][test_stack_deployment]: Sleep 4.93709149841 seconds before next request..\r\n[07-13 02:07:24][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:24][DEBUG][test_stack_deployment]: Sleep 5.75998693622 seconds before next request..\r\n[07-13 02:07:30][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:30][DEBUG][test_stack_deployment]: Sleep 3.20840544613 seconds before next request..\r\n[07-13 02:07:33][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:33][DEBUG][test_stack_deployment]: Sleep 3.77857116567 seconds before next request..\r\n[07-13 02:07:37][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:37][DEBUG][test_stack_deployment]: Sleep 3.13067638616 seconds before next request..\r\n[07-13 02:07:41][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:41][DEBUG][test_stack_deployment]: Sleep 4.1736998646 seconds before next request..\r\n[07-13 02:07:45][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:45][DEBUG][test_stack_deployment]: Sleep 5.7199806256 seconds before next request..\r\n[07-13 02:07:51][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:51][DEBUG][test_stack_deployment]: Stack deployment complete.\r\n[07-13 02:07:51][DEBUG][test_stack_deployment]:\r\nStack events:\r\nStackEvent AWS::CloudFormation::Stack nephoria-stack-1468375582 CREATE_IN_PROGRESS\r\nStackEvent AWS::IAM::User CfnUser CREATE_IN_PROGRESS\r\nStackEvent AWS::IAM::User CfnUser CREATE_IN_PROGRESS\r\nStackEvent AWS::IAM::User CfnUser CREATE_COMPLETE\r\nStackEvent AWS::IAM::AccessKey CfnUserKey CREATE_IN_PROGRESS\r\nStackEvent AWS::IAM::AccessKey CfnUserKey CREATE_IN_PROGRESS\r\nStackEvent AWS::IAM::AccessKey CfnUserKey CREATE_COMPLETE\r\nStackEvent AWS::AutoScaling::LaunchConfiguration LaunchConfig CREATE_IN_PROGRESS\r\nStackEvent AWS::AutoScaling::LaunchConfiguration LaunchConfig CREATE_IN_PROGRESS\r\nStackEvent AWS::AutoScaling::LaunchConfiguration LaunchConfig CREATE_COMPLETE\r\nStackEvent AWS::AutoScaling::AutoScalingGroup AutoScalingGroup CREATE_IN_PROGRESS\r\nStackEvent AWS::AutoScaling::AutoScalingGroup AutoScalingGroup CREATE_IN_PROGRESS\r\nStackEvent AWS::AutoScaling::AutoScalingGroup AutoScalingGroup CREATE_IN_PROGRESS\r\nStackEvent AWS::AutoScaling::AutoScalingGroup AutoScalingGroup CREATE_COMPLETE\r\nStackEvent AWS::CloudFormation::Stack nephoria-stack-1468375582 CREATE_COMPLETE\r\n[07-13 02:07:51][DEBUG][test_stack_deployment]:\r\nStack outputs:\r\nOutput:\"AutoScalingGroup\"=\"nephoria-stack-1468375582-AutoScalingGroup-Y9BTDL7UEWCWU\"\r\n[07-13 02:07:51][INFO][test_stack_deployment]:\r\n----------------------------------------------------------------------------------------------------------------\r\n                               - SUCCESS -  TEST:\"test_stack_deployment\" COMPLETE\r\n----------------------------------------------------------------------------------------------------------------\r\n\r\n[07-13 02:07:51][DEBUG][GenericTemplateRun]:\r\nLATEST RESULTS:\r\n-----------------------------------------------\r\n  TOTAL   FAILED   PASSED   NOT_RUN   ELAPSED\r\n-----------------------------------------------\r\n    2       0        1         1         89\r\n-----------------------------------------------\r\n\r\n[07-13 02:07:51][INFO][test_validate_template]:\r\n---------------------------------------------------------------------------------------------------------------\r\n +-----------------------------------------------------------------------------------------------------------+\r\n | STARTING TESTUNIT: test_validate_template                                                                 |\r\n | METHOD:test_validate_template, TEST DESCRIPTION:                                                          |\r\n |                                                                                                           |\r\n | Test Coverage:                                                                                            |\r\n | - validate provided template                                                                              |\r\n |                                                                                                           |\r\n | End on Failure:False                                                                                      |\r\n | Passing ARGS:\"\"                                                                                           |\r\n | Running test method: \"test_validate_template()\"                                                           |\r\n +-----------------------------------------------------------------------------------------------------------+\r\n---------------------------------------------------------------------------------------------------------------\r\n\r\n[07-13 02:07:51][DEBUG][test_validate_template]: Validating Cloudformation Template.\r\n[07-13 02:07:51][INFO][CFNops(admin:testrunner)]: Validating template: {\r\n    \"AWSTemplateFormatVersion\" : \"2010-09-09\",\r\n    \"Description\" : \"AutoScaling Create and Update Policy Test - MVP for CreationPolicy and UpdatePolicy with Resource Signals (Ubuntu 16.04 or Greater)\",\r\n    \"Parameters\": {\r\n        \"ImageId\": {\r\n            \"Description\":\"Ubuntu Image Id\",\r\n            \"Type\":\"String\"\r\n        },\r\n        \"InstanceType\": {\r\n            \"Description\":\"Instance Type\",\r\n            \"Type\":\"String\",\r\n            \"Default\" : \"m1.medium\",\r\n            \"AllowedValues\" : [ \"m1.small\",\"t1.micro\",\"m1.medium\",\"c1.medium\",\"m1.large\", \"m1.xlarge\", \"c1.xlarge\", \"m2.xlarge\", \"m3.xlarge\", \"m2.2xlarge\", \"m3.2xlarge\", \"cc1.4xlarge\", \"m2.4xlarge\", \"hi1.4xlarge\", \"cc2.8xlarge\", \"cg1.4xlarge\", \"cr1.8xlarge\", \"hs1.8xlarge\" ],\r\n            \"ConstraintDescription\" : \"must be a valid EC2 instance type.\"\r\n        },\r\n        \"EndPoint\": {\r\n            \"Description\": \"Endpoint URL of Cloudformation (required for Eucalyptus)\",\r\n            \"Type\": \"String\",\r\n            \"ConstraintDescription\": \"must be an URL to Cloudformation service on Eucalyptus\"\r\n        },\r\n        \"MinSize\" : {\r\n            \"Description\" : \"Minimum number of EC2 instances.\",\r\n            \"Type\" : \"Number\",\r\n            \"Default\" : \"1\"\r\n        },\r\n        \"MaxSize\" : {\r\n            \"Description\" : \"Maximum number of EC2 instances.\",\r\n            \"Type\" : \"Number\",\r\n            \"Default\" : \"1\"\r\n        }\r\n    },\r\n    \"Resources\": {\r\n        \"CfnUser\": {\r\n            \"Type\": \"AWS::IAM::User\",\r\n            \"Properties\": {\r\n                \"Path\": \"/\",\r\n                \"Policies\": [{\r\n                    \"PolicyName\": \"root\",\r\n                    \"PolicyDocument\": {\r\n                        \"Statement\": [{\r\n                            \"Effect\": \"Allow\",\r\n                            \"NotAction\": [\r\n                                \"iam:*\"\r\n                            ],\r\n                            \"Resource\": \"*\"\r\n                        }]\r\n                    }\r\n                }]\r\n            }\r\n        },\r\n        \"CfnUserKey\": {\r\n            \"Type\": \"AWS::IAM::AccessKey\",\r\n            \"Properties\": {\r\n                \"UserName\": {\r\n                    \"Ref\": \"CfnUser\"\r\n                }\r\n            }\r\n        },\r\n        \"LaunchConfig\": {\r\n            \"Type\" : \"AWS::AutoScaling::LaunchConfiguration\",\r\n            \"Properties\" : {\r\n                    \"ImageId\": { \"Ref\" : \"ImageId\" },\r\n                    \"InstanceType\": { \"Ref\" : \"InstanceType\" },\r\n                    \"UserData\" : {\r\n                        \"Fn::Base64\": {\r\n                            \"Fn::Join\" : [ \"\", [\r\n                                \"#!/bin/bash -xe\\n\",\r\n                                \"apt-get update\\n\",\r\n                                \"apt-get install ntp -y\\n\",\r\n                                \"ntpd -u pool.ntp.org\\n\",\r\n                                \"timedatectl set-ntp yes\\n\",\r\n                                \"hwclock --systohc\\n\",\r\n                                \"/usr/local/bin/cfn-signal -e 0 --stack \", { \"Ref\": \"AWS::StackName\" },\r\n                                \" --access-key \", { \"Ref\": \"CfnUserKey\" },\r\n                                \" --secret-key \", { \"Fn::GetAtt\": [\"CfnUserKey\", \"SecretAccessKey\"] },\r\n                                \" --resource AutoScalingGroup \",\r\n                                \" --url \", { \"Ref\": \"EndPoint\" },\r\n                                \" --region \", { \"Ref\" : \"AWS::Region\" }, \"\\n\"\r\n                             ] ]\r\n                        }\r\n                    }\r\n            }\r\n        },\r\n        \"AutoScalingGroup\": {\r\n            \"Type\": \"AWS::AutoScaling::AutoScalingGroup\",\r\n            \"Properties\": {\r\n                \"AvailabilityZones\" : { \"Fn::GetAZs\" : { \"Ref\" : \"AWS::Region\" } },\r\n                \"MaxSize\": {\"Ref\" : \"MaxSize\"},\r\n                \"MinSize\": {\"Ref\" : \"MinSize\"},\r\n                \"LaunchConfigurationName\": {\"Ref\": \"LaunchConfig\"},\r\n                \"Tags\": [{\"Key\": \"Name\", \"Value\": {\"Ref\": \"AWS::StackName\"}, \"PropagateAtLaunch\" : true}]\r\n            },\r\n            \"CreationPolicy\": {\r\n                \"ResourceSignal\": {\r\n                    \"Count\": \"1\",\r\n                    \"Timeout\": \"PT10M\"\r\n                }\r\n            },\r\n            \"UpdatePolicy\" : {\r\n                \"AutoScalingRollingUpdate\" : {\r\n                    \"MinInstancesInService\" : \"1\",\r\n                    \"MaxBatchSize\" : \"1\",\r\n                    \"PauseTime\" : \"PT1M\",\r\n                    \"WaitOnResourceSignals\" : \"true\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \"Outputs\": {\r\n        \"AutoScalingGroup\": {\r\n            \"Value\": { \"Ref\": \"AutoScalingGroup\" },\r\n            \"Description\": \"Name of Auto Scaling Group\"\r\n        }\r\n    }\r\n}\r\n\r\n[07-13 02:07:52][DEBUG][test_validate_template]: Template is valid.\r\n[07-13 02:07:52][INFO][test_validate_template]:\r\n----------------------------------------------------------------------------------------------------------------\r\n                              - SUCCESS -  TEST:\"test_validate_template\" COMPLETE\r\n----------------------------------------------------------------------------------------------------------------\r\n\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]:\r\nLATEST RESULTS:\r\n-----------------------------------------------\r\n  TOTAL   FAILED   PASSED   NOT_RUN   ELAPSED\r\n-----------------------------------------------\r\n    2       0        2         0         89\r\n-----------------------------------------------\r\n\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Printing pre-cleanup results:\r\n[07-13 02:07:52][INFO][GenericTemplateRun]: Test list results for testcase:GenericTemplateRun\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Creating TestUnit: \"clean_method\" with args:\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Attempting to populate testunit:clean_method, with testcase.args...\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Testunit keyword args:{}\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Got method args:('self',)\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: test unit total args:{}\r\n[07-13 02:07:52][INFO][GenericTemplateRun]:\r\n---------------------------------------------------------------------------------------------------------------\r\n +-----------------------------------------------------------------------------------------------------------+\r\n | STARTING TESTUNIT: clean_method                                                                           |\r\n | METHOD:clean_method, TEST DESCRIPTION:                                                                    |\r\n |                                                                                                           |\r\n | Check to see if there are any stacks.                                                                     |\r\n | If so, delete the stacks                                                                                  |\r\n |                                                                                                           |\r\n | End on Failure:False                                                                                      |\r\n | Passing ARGS:\"\"                                                                                           |\r\n | Running test method: \"clean_method()\"                                                                     |\r\n +-----------------------------------------------------------------------------------------------------------+\r\n---------------------------------------------------------------------------------------------------------------\r\n\r\n[07-13 02:07:52][INFO][CFNops(admin:testrunner)]: Describing stack: nephoria-stack-1468375582\r\n[07-13 02:07:52][DEBUG][GenericTemplateRun]: Deleting the following stack: nephoria-stack-1468375582\r\n[07-13 02:07:52][INFO][CFNops(admin:testrunner)]: Deleting stack: nephoria-stack-1468375582\r\n[07-13 02:07:52][INFO][GenericTemplateRun]: Test list results for testcase:GenericTemplateRun\r\n[07-13 02:07:52][INFO][GenericTemplateRun]:\r\n---------------------------------------------------------------------------------------------------------------------\r\n -------------------------------------------------------------------------------------------------------------------\r\n   TEST RESULTS FOR \"GenericTemplateRun\"\r\n -------------------------------------------------------------------------------------------------------------------\r\n   | RESULT:    | PASSED                                                                                         |\r\n   | TEST NAME  | test_stack_deployment                                                                          |\r\n   | TIME:      | 89                                                                                             |\r\n   | TEST ARGS: | test_stack_deployment()                                                                        |\r\n   | OUTPUT:    | None                                                                                           |\r\n -------------------------------------------------------------------------------------------------------------------\r\n   | RESULT:    | PASSED                                                                                         |\r\n   | TEST NAME  | test_validate_template                                                                         |\r\n   | TIME:      | 0                                                                                              |\r\n   | TEST ARGS: | test_validate_template()                                                                       |\r\n   | OUTPUT:    | None                                                                                           |\r\n -------------------------------------------------------------------------------------------------------------------\r\n   | RESULT:    | PASSED                                                                                         |\r\n   | TEST NAME  | clean_method                                                                                   |\r\n   | TIME:      | 0                                                                                              |\r\n   | TEST ARGS: | clean_method()                                                                                 |\r\n   | OUTPUT:    | None                                                                                           |\r\n -------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n   LATEST RESULTS:\r\n   -----------------------------------------------\r\n     TOTAL   FAILED   PASSED   NOT_RUN   ELAPSED\r\n   -----------------------------------------------\r\n       3       0        3         0         89\r\n   -----------------------------------------------\r\n\r\n\r\n -------------------------------------------------------------------------------------------------------------------\r\n---------------------------------------------------------------------------------------------------------------------\r\n\r\npassed:3 failed:0 not_run:0 total:3\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-07-12T21:10:01.865-0500","updated":"2016-07-12T21:10:01.865-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40602/comment/108424","id":"108424","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"body":"4.3.0 Released 8/9/2016","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=lbiasi","name":"lbiasi","key":"lbiasi","accountId":"557058:daaebf52-3713-4e4f-a29b-79f55aed32c9","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3d92822583af436915b8264dbff0d30a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dlbiasi%26avatarId%3D15002%26noRedirect%3Dtrue"},"displayName":"Leslie Biasi","active":false,"timeZone":"US/Central"},"created":"2016-08-12T20:04:37.512-0500","updated":"2016-08-12T20:04:37.512-0500"}],"maxResults":5,"total":5,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11936/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}