{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38043","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38043","key":"EUCA-11331","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_10311":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@26d71d68[id=128,rapidViewId=92,state=CLOSED,name=4.2.0 Sprint 10,goal=<null>,startDate=2015-09-09T20:38:52.383Z,endDate=2015-10-02T20:38:00.000Z,completeDate=2015-11-03T02:34:19.117Z,sequence=128]"],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":null,"customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11331/watchers","watchCount":2,"isWatching":false},"created":"2015-09-03T12:30:13.744-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"updated":"2016-10-28T03:32:04.737-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12800","id":"12800","name":"eucanetd","description":"Used to track component level items associated with Edge."}],"timeoriginalestimate":null,"customfield_13000":null,"description":"I believe this is a known issue for the current backend, but opening to track and make note for anyone attempting to use the utility to debug their VM network. This applies to VM to VM, and VM to external addresses. \r\n\r\nIt appears that traceroute, tracepath, etc. will not work when using ICMP and/or UDP. I've found that the TCP util tcptraceroute does work (I think it uses port 80 by default?). \r\n\r\neuca: Version     : 4.2.0 Release     : 0.0.23791.617.20150902git64ebf28.el6\r\nmido: Version     : 1.9.5 Release     : 0.1.rc1.el6","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"VPCMIDO - traceroute does not work from VMs ","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mclark","name":"mclark","key":"mclark","accountId":"557058:9b68e4d6-90d8-47d3-9c86-519770009164","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/4227b07e7ea0ea725670fc4e987ed04d?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Matt Clark","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i0025z:","customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2016-10-28T03:19:17.286-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["mclark(mclark)","tsugawa(tsugawa)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11331/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38043/comment/112300","id":"112300","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"body":"traceroute from VMs seems to work with MEM 5.2.1\r\n\r\n{noformat}\r\n# rpm -qa midolman\r\nmidolman-5.2.1-1.0.el7.noarch\r\n{noformat}\r\n\r\nVM-to-external\r\n{noformat}\r\n# ssh cloud-user@10.116.128.202 traceroute -n 8.8.8.8\r\ntraceroute to 8.8.8.8 (8.8.8.8), 30 hops max, 60 byte packets\r\n 1  172.31.0.1  1.170 ms  3.908 ms  4.787 ms\r\n 2  169.254.0.1  5.596 ms  5.838 ms  6.114 ms\r\n 3  10.116.133.173  4.458 ms  4.779 ms  4.765 ms\r\n 4  10.111.0.1  5.725 ms  5.793 ms  6.877 ms\r\n 5  * * *\r\n 6  68.4.11.200  9.236 ms  10.863 ms  8.291 ms\r\n 7  68.1.1.167  9.789 ms 68.1.1.171  10.095 ms  10.073 ms\r\n 8  72.215.224.175  9.516 ms 72.14.215.221  9.746 ms 72.215.224.175  9.850 ms\r\n 9  216.239.59.219  9.962 ms 216.239.63.251  10.417 ms 216.239.59.219  10.576 ms\r\n10  209.85.255.191  9.392 ms 72.14.235.55  8.476 ms 209.85.249.205  8.198 ms\r\n11  8.8.8.8  7.700 ms  7.750 ms  8.007 ms\r\n{noformat}\r\n\r\nVM-to-VM (ingress UDP and egress ICMP need to be open on destination VM; egress UDP and ingress ICMP need to be open on source VM)\r\n{noformat}\r\n# ssh cloud-user@10.116.128.202 traceroute -n 172.31.23.139\r\ntraceroute to 172.31.23.139 (172.31.23.139), 30 hops max, 60 byte packets\r\n 1  172.31.0.1  0.896 ms  3.791 ms  3.789 ms\r\n 2  172.31.23.139  9.877 ms  9.878 ms  10.071 ms\r\n{noformat}\r\n\r\nVM-to-internal_router - default UDP traceroute does not work, as MN router port does not respond to UDP. ICMP traceroute works\r\n{noformat}\r\n# ssh cloud-user@10.116.128.202 sudo traceroute -I -n 172.31.0.1\r\ntraceroute to 172.31.0.1 (172.31.0.1), 30 hops max, 60 byte packets\r\n 1  172.31.0.1  8.600 ms  10.779 ms  10.788 ms\r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"created":"2016-10-28T03:19:17.286-0500","updated":"2016-10-28T03:19:17.286-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38043/comment/112301","id":"112301","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"body":"MEM 1.9 depends on the minor release - some minor releases have more problems (e.g., .11)\r\n\r\nFor MEM 1.9.12:\r\n{noformat}\r\n# rpm -qa midolman\r\nmidolman-1.9.12-1.0.el7.noarch\r\n{noformat}\r\n\r\nVM-to-external: traceroute does not work, but mtr could be used instead:\r\n{noformat}\r\n# ssh cloud-user@10.116.157.140 sudo mtr -r -c 1 8.8.8.8\r\nStart: Fri Oct 28 08:24:42 2016\r\nHOST: euca-172-31-15-196          Loss%   Snt   Last   Avg  Best  Wrst StDev\r\n  1.|-- 172.31.0.1                 0.0%     1    0.9   0.9   0.9   0.9   0.0\r\n  2.|-- 169.254.0.1                0.0%     1    0.8   0.8   0.8   0.8   0.0\r\n  3.|-- 10.116.133.173             0.0%     1    2.0   2.0   2.0   2.0   0.0\r\n  4.|-- 10.111.0.1                 0.0%     1    2.8   2.8   2.8   2.8   0.0\r\n  5.|-- wsip-174-76-114-1.sb.sd.c  0.0%     1    7.2   7.2   7.2   7.2   0.0\r\n  6.|-- ip68-4-11-200.oc.oc.cox.n  0.0%     1    9.0   9.0   9.0   9.0   0.0\r\n  7.|-- 68.1.1.167                 0.0%     1    8.3   8.3   8.3   8.3   0.0\r\n  8.|-- 72.14.215.221              0.0%     1    8.4   8.4   8.4   8.4   0.0\r\n  9.|-- 216.239.59.207             0.0%     1    8.6   8.6   8.6   8.6   0.0\r\n 10.|-- 209.85.249.223             0.0%     1    9.4   9.4   9.4   9.4   0.0\r\n 11.|-- google-public-dns-a.googl  0.0%     1    8.1   8.1   8.1   8.1   0.0\r\n{noformat}\r\n\r\nVM-to-VM (ingress UDP and egress ICMP need to be open on destination VM; egress UDP and ingress ICMP need to be open on source VM), seem to work:\r\n{noformat}\r\n# ssh cloud-user@10.116.157.140 traceroute -n 172.31.19.58\r\ntraceroute to 172.31.19.58 (172.31.19.58), 30 hops max, 60 byte packets\r\n 1  172.31.0.1  0.775 ms  3.565 ms  3.588 ms\r\n 2  172.31.19.58  5.263 ms  5.542 ms  5.649 ms\r\n{noformat}\r\n\r\nVM-to-internal_router - default UDP traceroute does not work, as MN router port does not respond to UDP. ICMP traceroute works\r\n{noformat}\r\n# ssh cloud-user@10.116.157.140 sudo traceroute -I -n 172.31.0.1\r\ntraceroute to 172.31.0.1 (172.31.0.1), 30 hops max, 60 byte packets\r\n 1  172.31.0.1  2.319 ms  4.457 ms  4.551 ms\r\n{noformat}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tsugawa","name":"tsugawa","key":"tsugawa","accountId":"557058:619bab88-9b87-4778-995a-1e8a85d8b899","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c16b1da4b6426cad544b6eddd78d76b1?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"M Tsugawa","active":true,"timeZone":"America/New_York"},"created":"2016-10-28T03:32:04.737-0500","updated":"2016-10-28T03:32:04.737-0500"}],"maxResults":2,"total":2,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}