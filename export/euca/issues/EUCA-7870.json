{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"24690","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24690","key":"EUCA-7870","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12806","id":"12806","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10208","value":"CentOS 5","id":"10208"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10307","value":"Managed","id":"10307"}],"customfield_11400":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@740689ca[id=66,rapidViewId=45,state=CLOSED,name=4.1.0 Sprint 1,goal=<null>,startDate=2014-06-30T13:48:10.163Z,endDate=2014-07-21T13:48:00.000Z,completeDate=2014-07-24T15:48:24.089Z,sequence=66]","com.atlassian.greenhopper.service.sprint.Sprint@18aee75c[id=37,rapidViewId=75,state=CLOSED,name=4.0 Sprint 2,goal=<null>,startDate=2013-12-03T20:00:32.700Z,endDate=2013-12-20T20:00:00.000Z,completeDate=2013-12-21T01:32:35.200Z,sequence=37]","com.atlassian.greenhopper.service.sprint.Sprint@13dae733[id=54,rapidViewId=75,state=CLOSED,name=4.0 Sprint 7,goal=<null>,startDate=2014-04-05T00:26:27.500Z,endDate=2014-04-26T00:26:00.000Z,completeDate=2014-04-29T13:33:10.513Z,sequence=54]","com.atlassian.greenhopper.service.sprint.Sprint@618af18d[id=40,rapidViewId=75,state=CLOSED,name=4.0 Sprint 3,goal=<null>,startDate=2013-12-23T20:42:29.366Z,endDate=2014-01-23T20:42:00.000Z,completeDate=2014-01-24T21:16:38.266Z,sequence=40]","com.atlassian.greenhopper.service.sprint.Sprint@21026caf[id=42,rapidViewId=75,state=CLOSED,name=4.0 Sprint 4,goal=<null>,startDate=2014-01-25T17:49:13.076Z,endDate=2014-02-13T17:49:00.000Z,completeDate=2014-02-14T21:09:23.083Z,sequence=42]","com.atlassian.greenhopper.service.sprint.Sprint@4ef9ebd4[id=43,rapidViewId=75,state=CLOSED,name=4.0 Sprint 4+,goal=<null>,startDate=2014-02-14T21:12:53.357Z,endDate=2014-02-21T21:12:00.000Z,completeDate=2014-02-26T00:51:28.706Z,sequence=43]","com.atlassian.greenhopper.service.sprint.Sprint@a5e6e47[id=59,rapidViewId=75,state=CLOSED,name=4.0 Sprint 8,goal=<null>,startDate=2014-04-29T13:38:45.824Z,endDate=2014-05-27T22:00:00.000Z,completeDate=2014-06-09T16:26:51.613Z,sequence=59]","com.atlassian.greenhopper.service.sprint.Sprint@3c6ee018[id=45,rapidViewId=75,state=CLOSED,name=4.0 Sprint 5,goal=<null>,startDate=2014-02-26T00:53:38.454Z,endDate=2014-03-14T23:53:00.000Z,completeDate=2014-03-25T00:32:05.213Z,sequence=45]","com.atlassian.greenhopper.service.sprint.Sprint@ebb842e[id=48,rapidViewId=75,state=CLOSED,name=4.0 Sprint 6,goal=<null>,startDate=2014-03-25T00:36:26.495Z,endDate=2014-04-05T00:36:00.000Z,completeDate=2014-04-05T00:14:49.766Z,sequence=48]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10402","value":"Internal","id":"10402"},"customfield_10302":null,"customfield_10303":null,"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2014-04-24T17:43:45.753-0500","customfield_10308":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7870/watchers","watchCount":6,"isWatching":false},"created":"2013-10-12T23:00:34.155-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2013-12-06T01:10:12.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10300":null,"customfield_10102":null,"labels":["AWSCompat-PM","SUSTAINING_341"],"customfield_10301":null,"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12105","id":"12105","description":"Eucalyptus 3.4.0","name":"3.4.0","archived":false,"released":true,"releaseDate":"2013-10-24"}],"issuelinks":[{"id":"20816","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20816","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"24675","key":"EUCA-7863","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24675","fields":{"summary":"Instance Profiles Don't Support Tools/Scripts That Use S3 API Calls","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"22050","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/22050","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"25447","key":"GUI-253","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/25447","fields":{"summary":"latest boto version won't authenticate properly with euca autoscaling","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"20909","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/20909","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"24706","key":"EUCA-7874","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24706","fields":{"summary":"IAM Role, Instance Profile with IAM AutoScaling Policy Has Login Failure Error","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"updated":"2014-07-03T09:12:42.148-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11503","id":"11503","name":"IAM"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\nWhile testing more of IAM roles and instance profiles, it was discovered that if there is an IAM policy that allows all IAM actions does not work in Eucalyptus 3.4.  The following error is returned when using boto 2.14.0:\r\n{code}\r\nBotoServerError: BotoServerError: 403 Forbidden\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>Login Failure: all modules ignored</Message></Error></Errors><RequestID>Login Failure: all modules ignored</RequestID></Response>\r\n{code}\r\n\r\n*Signs*\r\n\r\nAfter passing the instance profile associated with the IAM role to allow all IAM actions, I tested listing all the IAM roles.  \r\n\r\nThe instance meta-data service returned the correct information:\r\n{code}\r\nubuntu@ip-172-17-185-12:~$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials/\r\nACCT1-IAM-ACTIONSubuntu@ip-172-17-185-12:~$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials/ACCT1-IAM-ACTIONS\r\n{\r\n  \"Code\": \"Success\",\r\n  \"LastUpdated\": \"2013-10-13T03:18:16Z\",\r\n  \"Type\": \"AWS-HMAC\",\r\n  \"AccessKeyId\": \"AKI0XDFEW0TJ3RF83YI0\",\r\n  \"SecretAccessKey\": \"aQN3Vuwua1YykOkLon1mDH8KBo0qEXbO1TJ2fnOe\",\r\n  \"Token\": \"ZXVjYQAB6PRzrmoBQhtsr4hvNHJ6ZwPkDU+AV/K7QWbAHwXKrCEjvznIL46YWWoZXKxCOnkmDJhUqcBmKvm2OQM1vz6wCrpeJggs77RoT8GhOVDkxTwP3PtFHDuw4qv+NRdXfT3nQWoBMnEOpjPaOVAWTTIE3x8FutnAeEXSfrmk/w0kPuozknFeYXhz/UP0laB6gXGrsAKRPCCKEqzRdaiq95Eng9fER8DqowHyN6tekuZjO1oWdp5I1FegfdU=\",\r\n  \"Expiration\": \"2013-10-13T04:18:16Z\"\r\n{code}\r\n\r\n\r\nHere is the detailed output from boto:\r\n{code}\r\nubuntu@ip-172-17-185-12:~$ ipython\r\nPython 2.7.4 (default, Sep 26 2013, 03:20:26)\r\nType \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\nIPython 0.13.2 -- An enhanced Interactive Python.\r\n?         -> Introduction and overview of IPython's features.\r\n%quickref -> Quick reference.\r\nhelp      -> Python's own help system.\r\nobject?   -> Details about 'object', use 'object??' for extra details.\r\n\r\nIn [1]: import boto\r\n\r\nIn [2]: boto.set_stream_logger('paws')\r\n\r\nIn [3]: euare = boto.connect_iam(host='10.104.10.6',port=8773,path='/services/Euare',is_secure=False,debug=3)\r\n2013-10-12 20:20:03,595 paws [DEBUG]:Retrieving credentials from metadata server.\r\n2013-10-12 20:20:04,252 paws [DEBUG]:Retrieved credentials will expire in 7:58:11.747246 at: 2013-10-13T04:18:16Z\r\nIn [4]: euare.list_roles()\r\n2013-10-12 20:20:23,859 paws [DEBUG]:Method: POST\r\n2013-10-12 20:20:23,859 paws [DEBUG]:Path: /services/Euare/\r\n2013-10-12 20:20:23,859 paws [DEBUG]:Data:\r\n2013-10-12 20:20:23,860 paws [DEBUG]:Headers: {}\r\n2013-10-12 20:20:23,860 paws [DEBUG]:Host: 10.104.10.6\r\n2013-10-12 20:20:23,860 paws [DEBUG]:Port: 8773\r\n2013-10-12 20:20:23,860 paws [DEBUG]:Params: {'Action': 'ListRoles', 'Version': '2010-05-08'}\r\n2013-10-12 20:20:23,860 paws [DEBUG]:establishing HTTP connection: kwargs={'port': 8773, 'timeout': 70}\r\n2013-10-12 20:20:23,861 paws [DEBUG]:Token: ZXVjYQAB6PRzrmoBQhtsr4hvNHJ6ZwPkDU+AV/K7QWbAHwXKrCEjvznIL46YWWoZXKxCOnkmDJhUqcBmKvm2OQM1vz6wCrpeJggs77RoT8GhOVDkxTwP3PtFHDuw4qv+NRdXfT3nQWoBMnEOpjPaOVAWTTIE3x8FutnAeEXSfrmk/w0kPuozknFeYXhz/UP0laB6gXGrsAKRPCCKEqzRdaiq95Eng9fER8DqowHyN6tekuZjO1oWdp5I1FegfdU=\r\n2013-10-12 20:20:23,861 paws [DEBUG]:CanonicalRequest:\r\nPOST\r\n/services/Euare/\r\n\r\nhost:10.104.10.6:8773\r\nx-amz-date:20131013T032023Z\r\nx-amz-security-token:ZXVjYQAB6PRzrmoBQhtsr4hvNHJ6ZwPkDU+AV/K7QWbAHwXKrCEjvznIL46YWWoZXKxCOnkmDJhUqcBmKvm2OQM1vz6wCrpeJggs77RoT8GhOVDkxTwP3PtFHDuw4qv+NRdXfT3nQWoBMnEOpjPaOVAWTTIE3x8FutnAeEXSfrmk/w0kPuozknFeYXhz/UP0laB6gXGrsAKRPCCKEqzRdaiq95Eng9fER8DqowHyN6tekuZjO1oWdp5I1FegfdU=\r\n\r\nhost;x-amz-date;x-amz-security-token\r\n8e689dc6b69b17003f0460011582254d8643f0dfb48ac46e093a24df58170b3f\r\n2013-10-12 20:20:23,862 paws [DEBUG]:StringToSign:\r\nAWS4-HMAC-SHA256\r\n20131013T032023Z\r\n20131013/104/10/aws4_request\r\n7b463b78e1981ee77a7b72ccfb1443830a14a4468ead37042bb49ff3c4f10c98\r\n2013-10-12 20:20:23,862 paws [DEBUG]:Signature:\r\nf4c54c8d78d0cd7ec16c45f19e49022ce257c3a8dae757e5f0ef9e3464ad5a8f\r\nsend: 'POST /services/Euare/ HTTP/1.1\\r\\nAccept-Encoding: identity\\r\\nContent-Length: 35\\r\\nX-Amz-Date: 20131013T032023Z\\r\\nUser-Agent: Boto/2.14.0 Python/2.7.4 Linux/3.8.0-31-generic\\r\\nHost: 10.104.10.6\\r\\nX-Amz-Security-Token: ZXVjYQAB6PRzrmoBQhtsr4hvNHJ6ZwPkDU+AV/K7QWbAHwXKrCEjvznIL46YWWoZXKxCOnkmDJhUqcBmKvm2OQM1vz6wCrpeJggs77RoT8GhOVDkxTwP3PtFHDuw4qv+NRdXfT3nQWoBMnEOpjPaOVAWTTIE3x8FutnAeEXSfrmk/w0kPuozknFeYXhz/UP0laB6gXGrsAKRPCCKEqzRdaiq95Eng9fER8DqowHyN6tekuZjO1oWdp5I1FegfdU=\\r\\nContent-Type: application/x-www-form-urlencoded; charset=UTF-8\\r\\nAuthorization: AWS4-HMAC-SHA256 Credential=AKI0XDFEW0TJ3RF83YI0/20131013/104/10/aws4_request,SignedHeaders=host;x-amz-date;x-amz-security-token,Signature=f4c54c8d78d0cd7ec16c45f19e49022ce257c3a8dae757e5f0ef9e3464ad5a8f\\r\\n\\r\\nAction=ListRoles&Version=2010-05-08'\r\nreply: 'HTTP/1.1 403 Forbidden\\r\\n'\r\nheader: Content-Type: text/plain; charset=UTF-8\r\nheader: Content-Length: 210\r\nheader: Connection: close\r\n2013-10-12 20:20:23,977 paws [DEBUG]:<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>Login Failure: all modules ignored</Message></Error></Errors><RequestID>Login Failure: all modules ignored</RequestID></Response>\r\n2013-10-12 20:20:23,978 paws [ERROR]:403 Forbidden\r\n2013-10-12 20:20:23,978 paws [ERROR]:<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>Login Failure: all modules ignored</Message></Error></Errors><RequestID>Login Failure: all modules ignored</RequestID></Response>\r\n---------------------------------------------------------------------------\r\nBotoServerError                           Traceback (most recent call last)\r\n<ipython-input-4-46339233520b> in <module>()\r\n----> 1 euare.list_roles()\r\n\r\n/usr/local/lib/python2.7/dist-packages/boto/iam/connection.pyc in list_roles(self, path_prefix, marker, max_items)\r\n   1269         if max_items is not None:\r\n   1270             params['MaxItems'] = max_items\r\n-> 1271         return self.get_response('ListRoles', params, list_marker='Roles')\r\n   1272\r\n   1273     def put_role_policy(self, role_name, policy_name, policy_document):\r\n\r\n/usr/local/lib/python2.7/dist-packages/boto/iam/connection.pyc in get_response(self, action, params, path, parent, verb, list_marker)\r\n     74             boto.log.error('%s %s' % (response.status, response.reason))\r\n     75             boto.log.error('%s' % body)\r\n---> 76             raise self.ResponseError(response.status, response.reason, body)\r\n     77\r\n     78     #\r\n\r\nBotoServerError: BotoServerError: 403 Forbidden\r\n<?xml version=\"1.0\"?><Response><Errors><Error><Code>403 Forbidden</Code><Message>Login Failure: all modules ignored</Message></Error></Errors><RequestID>Login Failure: all modules ignored</RequestID></Response>\r\n{code}\r\n\r\n*Steps*\r\n\r\n* Set up Eucalyptus 3.4.0 in Managed networking mode\r\n* Applied the following IAM policy to a non-admin, non-eucalyptus account:\r\n{code}\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1381496061787\",\r\n      \"Action\": \"ec2:*\",\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    },\r\n    {\r\n      \"Sid\": \"Stmt1381496190183\",\r\n      \"Action\": [\r\n        \"iam:ListInstanceProfiles\",\r\n        \"iam:ListInstanceProfilesForRole\",\r\n        \"iam:ListRolePolicies\",\r\n        \"iam:ListRoles\",\r\n        \"iam:PassRole\",\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n{code}\r\n* Added the following IAM role and instance profile:\r\n{code}\r\n# iam-rolecreate --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-IAM-ACTIONS -s http://10.104.10.6:8773/services/Eucalyptus\r\n# iam-roleuploadpolicy --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -p iam-all -f iam-all-policy -r ACCT1-IAM-ACTIONS\r\n# cat iam-all-policy\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1381540437658\",\r\n      \"Action\": \"iam:*\",\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n# iam-instanceprofilecreate --aws-credential-file acct1-user1-aws-iam.config --url http://10.104.10.6:8773/services/Euare/ -r ACCT1-IAM-ACTIONS -s instances-iam-actions\r\n{code}\r\n* Launch an instance with the instance-iam-actions profile:\r\n{code}\r\n# euca-run-instances -k account1-user02 emi-C25538DA -t m1.large -z Legend --region account1-user02@ -p arn:aws:iam::735723906303:instance-profile/instances-iam-actions\r\n{code}\r\n* SSH into the instance, and installed ipython and python-pip:\r\n{code}\r\n# sudo apt-get install ipython python-pip\r\n{code}\r\n* Installed boto using pip:\r\n{code}\r\n# sudo pip install --upgrade boto\r\n{code}\r\n* Confirmed IAM role was passed successfully to the instance via instance meta-data:\r\n{code}\r\nubuntu@ip-172-17-185-12:~$ curl http://169.254.169.254/latest/meta-data/iam/security-credentials/ACCT1-IAM-ACTIONS\r\n{\r\n  \"Code\": \"Success\",\r\n  \"LastUpdated\": \"2013-10-13T03:50:58Z\",\r\n  \"Type\": \"AWS-HMAC\",\r\n  \"AccessKeyId\": \"AKIWZGIVEZKSN5BQFCUZ\",\r\n  \"SecretAccessKey\": \"YFDRgF2QVLvM01rSNxYM2RHNTJINjngfJcDcuQ0L\",\r\n  \"Token\": \"ZXVjYQABo55fVQC/Z97cnS6uXoP+x1ej5EEWDaExGGlljC3dH8JhDYWq7y7FwMvYsIjXCcQhCJSs2qiYg4f0+j7xnPDi42+aW8Ar3WRZlnDrYz4pGMOIeQuR8X7isAyjXXda5/aPTSow+A+CpwtS2u/1ALC1bAk/xmJ8CES1eq5dVMLIdrCg+XKSl5/dMaIvGtlxpb66NwV9FLsaNhnankt+GfdBJiu12GwqhwbEiF+GplUgjAlS6sQNyYr6aKI=\",\r\n  \"Expiration\": \"2013-10-13T04:50:58Z\"\r\n{code}\r\n* Started ipython session, and used boto.connect_iam() to connect to Eucalyptus IAM.\r\n* Tried to list roles, and saw the error mentioned above.\r\n\r\n*Pertinent Data*\r\n\r\nI did test this on AWS, and everything worked correctly.\r\n{code}\r\nubuntu@ip-10-235-28-142:~$ ipython\r\nPython 2.7.4 (default, Sep 26 2013, 03:20:26)\r\nType \"copyright\", \"credits\" or \"license\" for more information.\r\n\r\nIPython 0.13.2 -- An enhanced Interactive Python.\r\n?         -> Introduction and overview of IPython's features.\r\n%quickref -> Quick reference.\r\nhelp      -> Python's own help system.\r\nobject?   -> Details about 'object', use 'object??' for extra details.\r\n\r\nIn [1]: import boto\r\nIn [2]: iam = boto.connect_iam()\r\nIn [3]: iam.list_instance_profiles()\r\nOut[3]:\r\n{u'list_instance_profiles_response': {u'list_instance_profiles_result': {u'instance_profiles': [{u'arn': u'arn:aws:iam::986451091583:instance-profile/instances-iam-actions',\r\n     u'create_date': u'2013-10-12T18:20:09Z',\r\n     u'instance_profile_id': u'AIPAJR3TN7AYKKUZ3JZSI',\r\n     u'instance_profile_name': u'instances-iam-actions',\r\n     u'path': u'/',\r\n     u'roles': {u'member': {u'arn': u'arn:aws:iam::986451091583:role/IAM-ACTIONS',\r\n       u'assume_role_policy_document': u'%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Sid%22%3A%22%22%2C%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%22ec2.amazonaws.com%22%7D%2C%22Action%22%3A%22sts%3AAssumeRole%22%7D%5D%7D',\r\n       u'create_date': u'2013-10-12T18:17:42Z',\r\n       u'path': u'/',\r\n       u'role_id': u'AROAILJODRBDZQWK27OZU',\r\n       u'role_name': u'IAM-ACTIONS'}}},\r\n    {u'arn': u'arn:aws:iam::986451091583:instance-profile/instances-s3-actions',\r\n     u'create_date': u'2013-10-11T18:43:31Z',\r\n     u'instance_profile_id': u'AIPAJVPTLBFTMLRC6B6YG',\r\n     u'instance_profile_name': u'instances-s3-actions',\r\n     u'path': u'/',\r\n     u'roles': {u'member': {u'arn': u'arn:aws:iam::986451091583:role/S3-ACTIONS',\r\n       u'assume_role_policy_document': u'%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Sid%22%3A%22%22%2C%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%22ec2.amazonaws.com%22%7D%2C%22Action%22%3A%22sts%3AAssumeRole%22%7D%5D%7D',\r\n       u'create_date': u'2013-10-11T18:36:02Z',\r\n       u'path': u'/',\r\n       u'role_id': u'AROAIYGE4XCMRTZMEC75I',\r\n       u'role_name': u'S3-ACTIONS'}}},\r\n    {u'arn': u'arn:aws:iam::986451091583:instance-profile/SysAdmin',\r\n     u'create_date': u'2012-06-18T18:48:57Z',\r\n     u'instance_profile_id': u'AIPAJD5F6GWBBIOANXBZO',\r\n     u'instance_profile_name': u'SysAdmin',\r\n     u'path': u'/',\r\n     u'roles': {u'member': {u'arn': u'arn:aws:iam::986451091583:role/SysAdmin',\r\n       u'assume_role_policy_document': u'%7B%22Version%22%3A%222008-10-17%22%2C%22Statement%22%3A%5B%7B%22Sid%22%3A%22%22%2C%22Effect%22%3A%22Allow%22%2C%22Principal%22%3A%7B%22Service%22%3A%22ec2.amazonaws.com%22%7D%2C%22Action%22%3A%22sts%3AAssumeRole%22%7D%5D%7D',\r\n       u'create_date': u'2012-06-18T18:48:57Z',\r\n       u'path': u'/',\r\n       u'role_id': u'AROAJVC3OM4EMGAQVKJ6U',\r\n       u'role_name': u'SysAdmin'}}}],\r\n   u'is_truncated': u'false'},\r\n  u'response_metadata': {u'request_id': u'7ff0ece3-339b-11e3-9331-f7a766092583'}}}\r\n{code}\r\n\r\n*Workarounds*\r\n\r\nN/A","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/17398","id":"17398","filename":"sosreport-CLC-Walrus.10122013-20131012202212-5412.tar.xz","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-12T23:00:34.203-0500","size":16312436,"mimeType":"application/x-xz","content":"https://eucalyptus.atlassian.net/secure/attachment/17398/sosreport-CLC-Walrus.10122013-20131012202212-5412.tar.xz"}],"aggregatetimeestimate":null,"summary":"Instance Profiles Don't Work with IAM Roles that have an IAM Identity and Management Policy","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_23104073_*|*_10001_*:*_1_*:*_4577944468_*|*_10000_*:*_1_*:*_137277707_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_12004265429","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i00as7:","customfield_10001":"2013-10-14T12:06:15.884-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10116":null,"customfield_11600":["hspencer(hspencer)","sjones(sjones)","tony(tony)"],"environment":"*non-HA*\r\n\r\n* multi-clustered, Managed mode\r\n* one cluster has SC Equallogic; the other cluster has SC overlay (tgtd)\r\n{code}\r\nSERVICE\tjetty          \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Jetty  \tarn:euca:eucalyptus::jetty:10.104.10.6/\r\nSERVICE\tloadbalancing  \tloadbalancing  \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/LoadBalancing\tarn:euca:eucalyptus:loadbalancing:loadbalancing:10.104.10.6/\r\nSERVICE\tautoscaling    \tautoscaling    \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/AutoScaling\tarn:euca:eucalyptus:autoscaling:autoscaling:10.104.10.6/\r\nSERVICE\tstorage        \tExodus         \tTheHeathen     \tENABLED   \t30  \thttp://10.104.10.22:8773/services/Storage\tarn:euca:eucalyptus:Exodus:storage:TheHeathen/\r\nSERVICE\tstorage        \tLegend         \tNoWomanNoCry   \tENABLED   \t30  \thttp://10.104.1.185:8773/services/Storage\tarn:euca:eucalyptus:Legend:storage:NoWomanNoCry/\r\nSERVICE\ttokens         \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Tokens \tarn:euca:eucalyptus::tokens:10.104.10.6/\r\nSERVICE\teucalyptus     \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Eucalyptus\tarn:euca:eucalyptus:::10.104.10.6/\r\nSERVICE\teuare          \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Euare  \tarn:euca:eucalyptus::euare:10.104.10.6/\r\nSERVICE\tbootstrap      \tbootstrap      \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Empyrean\tarn:euca:bootstrap:::10.104.10.6/\r\nSERVICE\tcluster        \tExodus         \tNaturalMystic  \tENABLED   \t30  \thttp://10.104.10.22:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:Exodus:cluster:NaturalMystic/\r\nSERVICE\tcluster        \tLegend         \tIsThisLove     \tENABLED   \t30  \thttp://10.104.1.185:8774/axis2/services/EucalyptusCC\tarn:euca:eucalyptus:Legend:cluster:IsThisLove/\r\nSERVICE\tdns            \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Dns    \tarn:euca:eucalyptus::dns:10.104.10.6/\r\nSERVICE\treporting      \tbootstrap      \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Reporting\tarn:euca:bootstrap::reporting:10.104.10.6/\r\nSERVICE\twalrus         \twalrus         \tStirItUp       \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Walrus \tarn:euca:bootstrap:walrus:walrus:StirItUp/\r\nSERVICE\tnotifications  \teucalyptus     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/Notifications\tarn:euca:eucalyptus::notifications:10.104.10.6/\r\nSERVICE\tcloudwatch     \tcloudwatch     \t10.104.10.6    \tENABLED   \t30  \thttp://10.104.10.6:8773/services/CloudWatch\tarn:euca:eucalyptus:cloudwatch:cloudwatch:10.104.10.6/\r\n{code}","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24690/comment/55823","id":"55823","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"We don't currently allow temporary security credentials with IAM as we need to deny access for session tokens. This needs to be relaxed for usage via Roles as does access to the STS service:\r\n\r\n{quote}\r\n* AWS STS. You can use the temporary security credentials that you get from the AssumeRole or AssumeRoleWithWebIdentity call to make subsequent calls to AssumeRole or AssumeRoleWithWebIdentity; however, you cannot use those credentials to call GetFederationToken or GetSessionToken. You cannot use the temporary security credentials from GetFederationToken or GetSessionToken to call any STS APIs. \r\n{quote}\r\n\r\nhttp://docs.aws.amazon.com/STS/latest/UsingSTS/UsingTokens.html","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-10-14T12:06:15.884-0500","updated":"2013-10-14T12:06:15.884-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24690/comment/59270","id":"59270","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"The IAM service is now accessible when using an IAM role (permissions allowing)\r\n\r\nIf testing using boto ensure a version is used that produces valid requests (e.g. 2.13.3)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2013-12-06T18:12:40.396-0600","updated":"2013-12-06T18:12:40.396-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/24690/comment/68031","id":"68031","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"Fix Verified using the very detailed and much appreciated bug description (thank you [~hspencer] (y))\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.0.0\r\nRelease     : 0.0.922.20140424git344494aa.el6\r\n\r\n{code}\r\nIn [1]: import boto\r\n\r\n...\r\n\r\n\r\nIn [10]: iam=boto.connect_iam(aws_access_key_id=\"xxxxxxxxxxxxxxxxxxxx\", aws_secret_access_key=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", host=\"10.111.5.20\", port=8773, path=\"/services/Euare\", is_secure=False)\r\n\r\nIn [11]: iam.list_instance_profiles()\r\nOut[11]:\r\n{u'list_instance_profiles_response': {u'list_instance_profiles_result': {u'instance_profiles': [{u'arn': u'arn:aws:iam::050790773517:instance-profile/instances-iam-actions',\r\n     u'create_date': u'2014-04-24T22:13:51.397Z',\r\n     u'instance_profile_id': u'AIP3JL7RKP4AX9OQDDAZU',\r\n     u'instance_profile_name': u'instances-iam-actions',\r\n     u'path': u'/',\r\n     u'roles': {}},\r\n    {u'arn': u'arn:aws:iam::050790773517:instance-profile/instances-iam-actions2',\r\n     u'create_date': u'2014-04-24T22:15:29.604Z',\r\n     u'instance_profile_id': u'AIPNWGBUCW6WH5XNSYGSA',\r\n     u'instance_profile_name': u'instances-iam-actions2',\r\n     u'path': u'/',\r\n     u'roles': {}},\r\n    {u'arn': u'arn:aws:iam::050790773517:instance-profile/instances-iam-actions3',\r\n     u'create_date': u'2014-04-24T22:15:42.398Z',\r\n     u'instance_profile_id': u'AIPEOODNEYRA4596L6TAI',\r\n     u'instance_profile_name': u'instances-iam-actions3',\r\n     u'path': u'/',\r\n     u'roles': {u'member': {u'arn': u'arn:aws:iam::050790773517:role/USER00-IAM-ACTIONS',\r\n       u'assume_role_policy_document': u'{\"Version\": \"2008-10-17\", \"Statement\": [{\"Action\": [\"sts:AssumeRole\"], \"Effect\": \"Allow\", \"Principal\": {\"Service\": [\"http://10.111.5.183:8773/services/compute\"]}}]}',\r\n       u'create_date': u'2014-04-24T22:10:33.464Z',\r\n       u'path': u'/',\r\n       u'role_id': u'AROEDILMPE8KQ7OQJM4RW',\r\n       u'role_name': u'USER00-IAM-ACTIONS'}}}],\r\n   u'is_truncated': u'false'},\r\n  u'response_metadata': {u'request_id': u'db3174f3-b6e9-4108-984f-a6f793b02956'}}}\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2014-04-24T17:43:45.807-0500","updated":"2014-04-24T17:43:45.807-0500"}],"maxResults":3,"total":3,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-7870/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}