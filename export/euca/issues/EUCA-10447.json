{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"34393","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393","key":"EUCA-10447","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/15500","id":"15500","description":"Eucalyptus 4.1.1","name":"4.1.1","archived":false,"released":true,"releaseDate":"2015-05-11"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10402","value":"Internal","id":"10402"},"customfield_10302":null,"customfield_10104":[],"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2015-03-26T15:56:02.860-0500","customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10447/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2015-01-21T20:26:39.847-0600","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2015-02-02T18:04:23.000-0600\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","labels":["AWSCompat-PM"],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14301","id":"14301","description":"Eucalyptus 4.1.0","name":"4.1.0","archived":false,"released":true,"releaseDate":"2015-01-29"}],"issuelinks":[{"id":"28802","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/28802","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"33982","key":"EUCA-10271","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/33982","fields":{"summary":"Routing Table and Security Group Fail to Delete After Successful Cloudformation Deployment on VPC-enabled Cloud","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"28803","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/28803","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"34185","key":"EUCA-10352","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34185","fields":{"summary":"Odd \"InternalFailure\" Error when Deploying Cloudformation Stack on VPC","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T16:32:42.968-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12900","id":"12900","name":"CloudFormation"}],"timeoriginalestimate":null,"description":"*Assessment*\r\n\r\nWhile verifying EUCA-10271, I deployed the same stack which completed successfully in a previous version of Eucalyptus 4.1 (as seen in the ticket).  However, in the current version of Eucalyptus 4.1 (4.1.0-0.0.23039.364.20150120gitc561880.el6) on the [Group #2 cloud|https://eucalyptus.atlassian.net/wiki/display/QA/Euca+4.1+Quality+Dashboard#Euca4.1QualityDashboard-TypeofDeployments], the stack fails to deploy.  The following errors are seen in the stack events:\r\n{code}\r\nEVENT\tUbuntuVividStackAZ2\t36da5f01-bfdf-4b7c-a0f9-56ddb5a43255\tAWS::CloudFormation::Stack\tUbuntuVividStackAZ2\tarn:aws:cloudformation::804231923627:stack/UbuntuVividStackAZ2/72f5404a-a8ca-4838-bc41-4ba67942f1d0\t2015-01-22T02:03:22.141Z\tCREATE_FAILED\tThe following resource(s) failed to create: [NetworkInterface2host0eni0, SecurityGroup2DefaultSG2Egress20, SecurityGroup2DefaultSG2Ingress20, SecurityGroup2DefaultSG2IpPermissionsEgress20].\r\nEVENT\tUbuntuVividStackAZ2\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_FAILED-1421892200259\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\t\t2015-01-22T02:03:20.259Z\tCREATE_FAILED\tCluster response includes _return=false:AuthorizeSecurityGroupEgressResponseType:null:return=false:epoch=null:status=null\r\nEVENT\tUbuntuVividStackAZ2\tSecurityGroup2DefaultSG2Ingress20-CREATE_FAILED-1421892200086\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\t\t2015-01-22T02:03:20.086Z\tCREATE_FAILED\tCluster response includes _return=false:AuthorizeSecurityGroupIngressResponseType:null:return=false:epoch=null:status=null\r\n{code}\r\n\r\nThis was due to a duplication of egress rules in the template:\r\n{code}\r\n        \"SecurityGroup2DefaultSG2Egress20\": {\r\n            \"Properties\": {\r\n                \"CidrIp\": \"0.0.0.0/0\",\r\n                \"FromPort\": \"0\",\r\n                \"GroupId\": {\r\n                    \"Ref\": \"SecurityGroup2DefaultSG\"\r\n                },\r\n                \"IpProtocol\": \"-1\",\r\n                \"ToPort\": \"65535\"\r\n            },\r\n            \"Type\": \"AWS::EC2::SecurityGroupEgress\"\r\n        },\r\n        ...\r\n        \"SecurityGroup2DefaultSG2IpPermissionsEgress20\": {\r\n            \"Properties\": {\r\n                \"CidrIp\": \"0.0.0.0/0\",\r\n                \"FromPort\": \"0\",\r\n                \"GroupId\": {\r\n                    \"Ref\": \"SecurityGroup2DefaultSG\"\r\n                },\r\n                \"IpProtocol\": \"-1\",\r\n                \"ToPort\": \"65535\"\r\n{code}\r\n\r\nWhen testing the same cloudformation template on AWS (with the exception of a different AMI, availability zone and VM type), the stack deploys successfully:\r\n{code}\r\n$ aws cloudformation describe-stacks --profile harold-work\r\nSTACKS\t2015-01-22T01:53:45.907Z\tCloudformation generated by VisualOps\tFalse\tarn:aws:cloudformation:us-east-1:048212016277:stack/UbuntuVividStack/802fd0f0-a1d9-11e4-b6d3-5001b491380a\tUbuntuVividStack\tCREATE_COMPLETE\tNone\r\nPARAMETERS\tKeyPair2DefaultKP\tharold-euca\r\n{code}\r\n\r\n*Steps*\r\n\r\n# On [Group #2 Cloud|https://eucalyptus.atlassian.net/wiki/display/QA/Euca+4.1+Quality+Dashboard#Euca4.1QualityDashboard-TypeofDeployments], apply the following IAM access policy to a group under a given account:\r\n{code}\r\n# euare-grouplistpolicies -v -g Testers --region admin-hspencer2@group2\r\neuca10271-routetable-secgroup\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1419017169361\",\r\n      \"Action\": [\r\n        \"cloudformation:CreateStack\",\r\n        \"cloudformation:DescribeStacks\",\r\n        \"cloudformation:GetTemplate\",\r\n        \"cloudformation:DeleteStack\",\r\n        \"cloudformation:DescribeStackEvents\",\r\n        \"cloudformation:DescribeStackResource\",\r\n        \"cloudformation:DescribeStackResources\",\r\n        \"cloudformation:ValidateTemplate\",\r\n        \"cloudformation:ListStacks\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    },\r\n    {\r\n      \"Sid\": \"Stmt1419017345024\",\r\n      \"Action\": [\r\n        \"ec2:AuthorizeSecurityGroupEgress\",\r\n        \"ec2:AuthorizeSecurityGroupIngress\",\r\n        \"ec2:CreateKeyPair\",\r\n        \"ec2:DeleteKeyPair\",\r\n        \"ec2:ImportKeyPair\",\r\n        \"ec2:CreateTags\",\r\n        \"ec2:DeleteTags\",\r\n        \"ec2:CreateSecurityGroup\",\r\n        \"ec2:DescribeInstances\",\r\n        \"ec2:DescribeKeyPairs\",\r\n        \"ec2:DescribeSecurityGroups\",\r\n        \"ec2:CreateVpc\",\r\n        \"ec2:ModifyVpcAttribute\",\r\n        \"ec2:DescribeVpcs\",\r\n        \"ec2:DeleteVpc\",\r\n        \"ec2:CreateSubnet\",\r\n        \"ec2:DeleteSubnet\",\r\n        \"ec2:DeleteSecurityGroup\",\r\n        \"ec2:CreateRouteTable\",\r\n        \"ec2:CreateRoute\",\r\n        \"ec2:DeleteRouteTable\",\r\n        \"ec2:DeleteRoute\",\r\n        \"ec2:AllocateAddress\",\r\n        \"ec2:AssociateAddress\",\r\n        \"ec2:AssociateRouteTable\",\r\n        \"ec2:AttachInternetGateway\",\r\n        \"ec2:AttachNetworkInterface\",\r\n        \"ec2:CreateInternetGateway\",\r\n        \"ec2:CreateNetworkAcl\",\r\n        \"ec2:CreateNetworkAclEntry\",\r\n        \"ec2:CreateNetworkInterface\",\r\n        \"ec2:DeleteInternetGateway\",\r\n        \"ec2:DeleteNetworkAcl\",\r\n        \"ec2:DeleteNetworkAclEntry\",\r\n        \"ec2:DeleteNetworkInterface\",\r\n        \"ec2:DescribeAddresses\",\r\n        \"ec2:DescribeInternetGateways\",\r\n        \"ec2:DescribeNetworkAcls\",\r\n        \"ec2:DescribeNetworkInterfaceAttribute\",\r\n        \"ec2:DescribeNetworkInterfaces\",\r\n        \"ec2:DescribeRouteTables\",\r\n        \"ec2:DescribeSubnets\",\r\n        \"ec2:DetachInternetGateway\",\r\n        \"ec2:DetachNetworkInterface\",\r\n        \"ec2:DisassociateAddress\",\r\n        \"ec2:DisassociateRouteTable\",\r\n        \"ec2:ModifyNetworkInterfaceAttribute\",\r\n        \"ec2:ModifyVpcAttribute\",\r\n        \"ec2:ReleaseAddress\",\r\n        \"ec2:ReplaceNetworkAclAssociation\",\r\n        \"ec2:ReplaceNetworkAclEntry\",\r\n        \"ec2:ReplaceRoute\",\r\n        \"ec2:ReplaceRouteTableAssociation\",\r\n        \"ec2:ResetNetworkInterfaceAttribute\",\r\n        \"ec2:RevokeSecurityGroupEgress\",\r\n        \"ec2:RevokeSecurityGroupIngress\",\r\n        \"ec2:TerminateInstances\",\r\n        \"ec2:RunInstances\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n{code}\r\n# After bundling, uploading and registering an [Ubuntu Vivid Cloud Image|http://cloud-images.ubuntu.com/vivid/current/vivid-server-cloudimg-amd64-disk1.img], and creating a keypair, launch a cloudformation stack using the attached cloudformation template (_*note*: make sure and update the template to reflect the EMI and availability zone of your cloud_):\r\n{code}\r\n# euform-create-stack UbuntuVividStackAZ2 --parameter \"KeyPair2DefaultKP=tessai\" --template-file cfn-ubuntu-vivid-visualops-template.json --region tessai-group2@group2\r\narn:aws:cloudformation::804231923627:stack/UbuntuVividStackAZ2/72f5404a-a8ca-4838-bc41-4ba67942f1d0\r\n{code}\r\n# Notice that the stack fails to deploy:\r\n{code}\r\n# euform-describe-stacks UbuntuVividStackAZ2 --region tessai-group2@group2\r\nSTACK\tUbuntuVividStackAZ2\tROLLBACK_COMPLETE\t\tCloudformation generated by VisualOps\t2015-01-22T02:03:03.685Z\r\n{code}\r\n{code}\r\n# euform-describe-stack-events UbuntuVividStackAZ2 --region tessai-group2@group2 | grep FAIL\r\nEVENT\tUbuntuVividStackAZ2\t36da5f01-bfdf-4b7c-a0f9-56ddb5a43255\tAWS::CloudFormation::Stack\tUbuntuVividStackAZ2\tarn:aws:cloudformation::804231923627:stack/UbuntuVividStackAZ2/72f5404a-a8ca-4838-bc41-4ba67942f1d0\t2015-01-22T02:03:22.141Z\tCREATE_FAILED\tThe following resource(s) failed to create: [NetworkInterface2host0eni0, SecurityGroup2DefaultSG2Egress20, SecurityGroup2DefaultSG2Ingress20, SecurityGroup2DefaultSG2IpPermissionsEgress20].\r\nEVENT\tUbuntuVividStackAZ2\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_FAILED-1421892200259\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\t\t2015-01-22T02:03:20.259Z\tCREATE_FAILED\tCluster response includes _return=false:AuthorizeSecurityGroupEgressResponseType:null:return=false:epoch=null:status=null\r\nEVENT\tUbuntuVividStackAZ2\tSecurityGroup2DefaultSG2Ingress20-CREATE_FAILED-1421892200086\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\t\t2015-01-22T02:03:20.086Z\tCREATE_FAILED\tCluster response includes _return=false:AuthorizeSecurityGroupIngressResponseType:null:return=false:epoch=null:status=null\r\n{code}\r\n# Per the fix in EUCA-10271, all resources are successfully deleted upon rollback:\r\n{code}\r\n# euform-describe-stack-resources -n UbuntuVividStackAZ2 --region tessai-group2@group2\r\nRESOURCE\tInternetGateway2Internetgateway\tigw-2cdf5209\tAWS::EC2::InternetGateway\t\tDELETE_COMPLETE\r\nRESOURCE\tVPC2vpc\tvpc-a4f21cfe\tAWS::EC2::VPC\t\tDELETE_COMPLETE\r\nRESOURCE\tNetworkAcl2DefaultACL2AssociationSet20\taclassoc-71838314\tAWS::EC2::SubnetNetworkAclAssociation\t\tDELETE_COMPLETE\r\nRESOURCE\tNetworkInterface2host0eni0\teni-a066426e\tAWS::EC2::NetworkInterface\t\tDELETE_COMPLETE\r\nRESOURCE\tRouteTable2RT0\trtb-c4448de5\tAWS::EC2::RouteTable\t\tDELETE_COMPLETE\r\nRESOURCE\tSecurityGroup2DefaultSG\tsg-6fb95151\tAWS::EC2::SecurityGroup\t\tDELETE_COMPLETE\r\nRESOURCE\tSecurityGroup2DefaultSG2Ingress20\t\tAWS::EC2::SecurityGroupIngress\t\tDELETE_COMPLETE\r\nRESOURCE\tNetworkAcl2DefaultACL\tacl-fedc1026\tAWS::EC2::NetworkAcl\t\tDELETE_COMPLETE\r\nRESOURCE\tSubnet2subnet0\tsubnet-5425f083\tAWS::EC2::Subnet\t\tDELETE_COMPLETE\r\nRESOURCE\tRouteTable2RT02AssociationSet22\trtbassoc-ded47a55\tAWS::EC2::SubnetRouteTableAssociation\t\tDELETE_COMPLETE\r\nRESOURCE\tRouteTable2RT02RouteSet21\tUbuntuVividStackAZ2-RouteTable2RT02RouteSet21-ST1TNV28CQVIX\tAWS::EC2::Route\t\tDELETE_COMPLETE\r\nRESOURCE\tSecurityGroup2DefaultSG2IpPermissions22\tSecurityGroup2DefaultSG2IpPermissions22\tAWS::EC2::SecurityGroupIngress\t\tDELETE_COMPLETE\r\nRESOURCE\tSecurityGroup2DefaultSG2Egress20\tUbuntuVividStackAZ2-SecurityGroup2DefaultSG2Egress20-7G1QFSFP0X3RH\tAWS::EC2::SecurityGroupEgress\t\tDELETE_COMPLETE\r\nRESOURCE\tAttachInternetGateway\tUbuntuVividStackAZ2-AttachInternetGateway-R3QSYJVN0BJFU\tAWS::EC2::VPCGatewayAttachment\t\tDELETE_COMPLETE\r\nRESOURCE\tSecurityGroup2DefaultSG2IpPermissionsEgress20\t\tAWS::EC2::SecurityGroupEgress\t\tDELETE_COMPLETE\r\n{code}\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/23009","id":"23009","filename":"cfn-ubuntu-vivid-visualops-template.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T20:26:39.864-0600","size":6417,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/23009/cfn-ubuntu-vivid-visualops-template.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/23610","id":"23610","filename":"cfn-ubuntu-vivid-visualops-template-combined-dup.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-26T15:56:45.210-0500","size":6410,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/23610/cfn-ubuntu-vivid-visualops-template-combined-dup.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/23609","id":"23609","filename":"cfn-ubuntu-vivid-visualops-template-dupegress.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-26T15:56:45.384-0500","size":6008,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/23609/cfn-ubuntu-vivid-visualops-template-dupegress.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/23608","id":"23608","filename":"cfn-ubuntu-vivid-visualops-template-dupingress.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-26T15:56:45.474-0500","size":6002,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/23608/cfn-ubuntu-vivid-visualops-template-dupingress.json"}],"summary":"Cloudformation with VPC:  Duplicate Egress/Ingress Rules Not Handled the Same Way As AWS","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_48524_*|*_10000_*:*_1_*:*_56568187_*|*_10001_*:*_1_*:*_1048871528_*|*_10003_*:*_1_*:*_4404274791_*|*_10006_*:*_1_*:*_0","customfield_12100":"0|i032k7:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2015-01-21T20:32:37.727-0600","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["hspencer(hspencer)","sjones(sjones)"],"environment":"* [Group #2 cloud|https://eucalyptus.atlassian.net/wiki/display/QA/Euca+4.1+Quality+Dashboard#Euca4.1QualityDashboard-TypeofDeployments]","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-10447/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82381","id":"82381","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Is this the EUCA-10430 issue?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T20:32:37.727-0600","updated":"2015-01-21T20:32:37.727-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82383","id":"82383","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones],\r\n\r\nNot sure.  I don't _think_ it is but I could be wrong.  Looking at the resources associated with this template, it contains the following security group resources:\r\n\r\n* 1 x AWS::EC2::SecurityGroup\r\n* 2 x AWS::EC2::SecurityGroupEgress\r\n* 2 x AWS::EC2::SecurityGroupIngress\r\n\r\nI figured it wouldn't be since its related to 1 security group and only 2 of the ingress/egress rules. If you think it is, I can link it to EUCA-10430 if you'd like.  Let me know how you want me to run with this.\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T20:40:18.480-0600","updated":"2015-01-21T20:40:18.480-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82384","id":"82384","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hspencer], if you have the configuration change outlined in EUCA-10430 in place does the failure still occur?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T20:48:19.854-0600","updated":"2015-01-21T20:48:19.854-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82385","id":"82385","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones],\r\n\r\nYea, it looks like it.  I updated the cloud property, and it looks like it was already set to 25:\r\n{code}\r\n$ euca-modify-property -p bootstrap.tx.concurrent_update_retries=25\r\nPROPERTY\tbootstrap.tx.concurrent_update_retries\t25 was 25\r\n{code}\r\n\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T20:53:33.995-0600","updated":"2015-01-21T20:53:33.995-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82386","id":"82386","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"[~hspencer], I think this is an issue with the template but it is something we should handle better. There is a duplicate egress rule in the template:\r\n\r\n{code}\r\n        \"SecurityGroup2DefaultSG2Egress20\": {\r\n            \"Properties\": {\r\n                \"CidrIp\": \"0.0.0.0/0\",\r\n                \"FromPort\": \"0\",\r\n                \"GroupId\": {\r\n                    \"Ref\": \"SecurityGroup2DefaultSG\"\r\n                },\r\n                \"IpProtocol\": \"-1\",\r\n                \"ToPort\": \"65535\"\r\n            },\r\n            \"Type\": \"AWS::EC2::SecurityGroupEgress\"\r\n        },\r\n        ...\r\n        \"SecurityGroup2DefaultSG2IpPermissionsEgress20\": {\r\n            \"Properties\": {\r\n                \"CidrIp\": \"0.0.0.0/0\",\r\n                \"FromPort\": \"0\",\r\n                \"GroupId\": {\r\n                    \"Ref\": \"SecurityGroup2DefaultSG\"\r\n                },\r\n                \"IpProtocol\": \"-1\",\r\n                \"ToPort\": \"65535\"\r\n            },\r\n            \"Type\": \"AWS::EC2::SecurityGroupEgress\"\r\n        },\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T21:12:18.989-0600","updated":"2015-01-21T21:12:18.989-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82389","id":"82389","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~sjones],\r\n\r\nNice catch.  I will update the subject and description.  Thats what I get for all this late night testing. :-)","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-01-21T22:01:39.635-0600","updated":"2015-01-21T22:01:39.635-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/82854","id":"82854","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"We now allow duplicate ingress/egress rules in cloudformation templates.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-02-03T15:31:28.082-0600","updated":"2015-02-03T15:31:28.082-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/84419","id":"84419","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Version Fixed:  4.1.1-0.0.23131.46.20150323git2700de0.el6\r\n\r\n*Test Results*\r\n\r\n* Duplicate Ingress Rules:\r\n{code}\r\n$ euform-describe-stacks UbuntuVividStackDupIngress --region tessai@\r\nSTACK\tUbuntuVividStackDupIngress\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:28:21.358Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\n\r\n$ euform-describe-stack-events UbuntuVividStackDupIngress --region tessai@ | grep SecurityGroupIngress\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2Ingress20-CREATE_COMPLETE-1427401719100\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\tSecurityGroup2DefaultSG2Ingress20\t2015-03-26T20:28:39.100Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_COMPLETE-1427401718987\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\tSecurityGroup2DefaultSG2IpPermissions22\t2015-03-26T20:28:38.987Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2Ingress20-CREATE_IN_PROGRESS-1427401718112\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\tSecurityGroup2DefaultSG2Ingress20\t2015-03-26T20:28:38.112Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_IN_PROGRESS-1427401718104\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\tSecurityGroup2DefaultSG2IpPermissions22\t2015-03-26T20:28:38.104Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_IN_PROGRESS-1427401715687\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\t\t2015-03-26T20:28:35.687Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupIngress\tSecurityGroup2DefaultSG2Ingress20-CREATE_IN_PROGRESS-1427401715547\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\t\t2015-03-26T20:28:35.547Z\tCREATE_IN_PROGRESS\r\n{code}\r\n* Duplicate Egress Rules\r\n{code}\r\n$ euform-describe-stacks UbuntuVividStackDupEngress --region tessai@\r\nSTACK\tUbuntuVividStackDupEngress\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:28:49.662Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\n\r\n$ euform-describe-stack-events UbuntuVividStackDupEngress --region tessai@ | grep SecurityGroupEgress\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_COMPLETE-1427401750922\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\tUbuntuVividStackDupEngress-SecurityGroup2DefaultSG2IpPermissionsEgress20-IV5WR48FAUMN0\t2015-03-26T20:29:10.922Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2Egress20-CREATE_COMPLETE-1427401750855\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\tUbuntuVividStackDupEngress-SecurityGroup2DefaultSG2Egress20-X9ORRQAHX3EYN\t2015-03-26T20:29:10.855Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_IN_PROGRESS-1427401749715\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\tUbuntuVividStackDupEngress-SecurityGroup2DefaultSG2IpPermissionsEgress20-IV5WR48FAUMN0\t2015-03-26T20:29:09.715Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2Egress20-CREATE_IN_PROGRESS-1427401749680\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\tUbuntuVividStackDupEngress-SecurityGroup2DefaultSG2Egress20-X9ORRQAHX3EYN\t2015-03-26T20:29:09.680Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_IN_PROGRESS-1427401746415\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\t\t2015-03-26T20:29:06.415Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupEngress\tSecurityGroup2DefaultSG2Egress20-CREATE_IN_PROGRESS-1427401746140\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\t\t2015-03-26T20:29:06.140Z\tCREATE_IN_PROGRESS\r\n{code}\r\n* Duplicate Ingress and Egress:\r\n{code}\r\n$ euform-describe-stacks UbuntuVividStackDupCombined --region tessai@\r\nSTACK\tUbuntuVividStackDupCombined\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:29:18.513Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\n\r\n$ euform-describe-stack-events UbuntuVividStackDupCombined --region tessai@ | grep \"AWS::EC2::SecurityGroup\" | grep gress\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_COMPLETE-1427401780715\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\tUbuntuVividStackDupCombined-SecurityGroup2DefaultSG2IpPermissionsEgress20-OBVSCUZ5RQDEB\t2015-03-26T20:29:40.715Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Egress20-CREATE_COMPLETE-1427401780297\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\tUbuntuVividStackDupCombined-SecurityGroup2DefaultSG2Egress20-H6MYY1GPIAWCI\t2015-03-26T20:29:40.297Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_IN_PROGRESS-1427401779487\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\tUbuntuVividStackDupCombined-SecurityGroup2DefaultSG2IpPermissionsEgress20-OBVSCUZ5RQDEB\t2015-03-26T20:29:39.487Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_COMPLETE-1427401779354\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\tSecurityGroup2DefaultSG2IpPermissions22\t2015-03-26T20:29:39.354Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Ingress20-CREATE_COMPLETE-1427401779170\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\tSecurityGroup2DefaultSG2Ingress20\t2015-03-26T20:29:39.170Z\tCREATE_COMPLETE\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Egress20-CREATE_IN_PROGRESS-1427401779014\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\tUbuntuVividStackDupCombined-SecurityGroup2DefaultSG2Egress20-H6MYY1GPIAWCI\t2015-03-26T20:29:39.014Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_IN_PROGRESS-1427401778220\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\tSecurityGroup2DefaultSG2IpPermissions22\t2015-03-26T20:29:38.220Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Ingress20-CREATE_IN_PROGRESS-1427401778030\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\tSecurityGroup2DefaultSG2Ingress20\t2015-03-26T20:29:38.030Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissionsEgress20-CREATE_IN_PROGRESS-1427401775745\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2IpPermissionsEgress20\t\t2015-03-26T20:29:35.745Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2IpPermissions22-CREATE_IN_PROGRESS-1427401775652\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2IpPermissions22\t\t2015-03-26T20:29:35.652Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Ingress20-CREATE_IN_PROGRESS-1427401775301\tAWS::EC2::SecurityGroupIngress\tSecurityGroup2DefaultSG2Ingress20\t\t2015-03-26T20:29:35.301Z\tCREATE_IN_PROGRESS\r\nEVENT\tUbuntuVividStackDupCombined\tSecurityGroup2DefaultSG2Egress20-CREATE_IN_PROGRESS-1427401775152\tAWS::EC2::SecurityGroupEgress\tSecurityGroup2DefaultSG2Egress20\t\t2015-03-26T20:29:35.152Z\tCREATE_IN_PROGRESS\r\n{code}\r\n\r\n*Test Steps*\r\n\r\n*Steps*\r\n\r\n# On [Shared Setup #2 Cloud|https://eucalyptus.atlassian.net/wiki/display/QA/QA+Shared+Setups#QASharedSetups-SharedSetup#2(VPC)], apply the following IAM access policy to a group under a given account:\r\n{code}\r\n$ euare-grouplistpolicies -v -g Testers\r\ncfn-vpc-euca10447\r\n{\r\n  \"Statement\": [\r\n    {\r\n      \"Sid\": \"Stmt1419017169361\",\r\n      \"Action\": [\r\n        \"cloudformation:CreateStack\",\r\n        \"cloudformation:DescribeStacks\",\r\n        \"cloudformation:GetTemplate\",\r\n        \"cloudformation:DeleteStack\",\r\n        \"cloudformation:DescribeStackEvents\",\r\n        \"cloudformation:DescribeStackResource\",\r\n        \"cloudformation:DescribeStackResources\",\r\n        \"cloudformation:ValidateTemplate\",\r\n        \"cloudformation:ListStacks\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    },\r\n    {\r\n      \"Sid\": \"Stmt1419017345024\",\r\n      \"Action\": [\r\n        \"ec2:AuthorizeSecurityGroupEgress\",\r\n        \"ec2:AuthorizeSecurityGroupIngress\",\r\n        \"ec2:CreateKeyPair\",\r\n        \"ec2:DeleteKeyPair\",\r\n        \"ec2:ImportKeyPair\",\r\n        \"ec2:CreateTags\",\r\n        \"ec2:DeleteTags\",\r\n        \"ec2:CreateSecurityGroup\",\r\n        \"ec2:DescribeInstances\",\r\n        \"ec2:DescribeKeyPairs\",\r\n        \"ec2:DescribeSecurityGroups\",\r\n        \"ec2:CreateVpc\",\r\n        \"ec2:ModifyVpcAttribute\",\r\n        \"ec2:DescribeVpcs\",\r\n        \"ec2:DeleteVpc\",\r\n        \"ec2:CreateSubnet\",\r\n        \"ec2:DeleteSubnet\",\r\n        \"ec2:DeleteSecurityGroup\",\r\n        \"ec2:CreateRouteTable\",\r\n        \"ec2:CreateRoute\",\r\n        \"ec2:DeleteRouteTable\",\r\n        \"ec2:DeleteRoute\",\r\n        \"ec2:AllocateAddress\",\r\n        \"ec2:AssociateAddress\",\r\n        \"ec2:AssociateRouteTable\",\r\n        \"ec2:AttachInternetGateway\",\r\n        \"ec2:AttachNetworkInterface\",\r\n        \"ec2:CreateInternetGateway\",\r\n        \"ec2:CreateNetworkAcl\",\r\n        \"ec2:CreateNetworkAclEntry\",\r\n        \"ec2:CreateNetworkInterface\",\r\n        \"ec2:DeleteInternetGateway\",\r\n        \"ec2:DeleteNetworkAcl\",\r\n        \"ec2:DeleteNetworkAclEntry\",\r\n        \"ec2:DeleteNetworkInterface\",\r\n        \"ec2:DescribeAddresses\",\r\n        \"ec2:DescribeInternetGateways\",\r\n        \"ec2:DescribeNetworkAcls\",\r\n        \"ec2:DescribeNetworkInterfaceAttribute\",\r\n        \"ec2:DescribeNetworkInterfaces\",\r\n        \"ec2:DescribeRouteTables\",\r\n        \"ec2:DescribeSubnets\",\r\n        \"ec2:DetachInternetGateway\",\r\n        \"ec2:DetachNetworkInterface\",\r\n        \"ec2:DisassociateAddress\",\r\n        \"ec2:DisassociateRouteTable\",\r\n        \"ec2:ModifyNetworkInterfaceAttribute\",\r\n        \"ec2:ModifyVpcAttribute\",\r\n        \"ec2:ReleaseAddress\",\r\n        \"ec2:ReplaceNetworkAclAssociation\",\r\n        \"ec2:ReplaceNetworkAclEntry\",\r\n        \"ec2:ReplaceRoute\",\r\n        \"ec2:ReplaceRouteTableAssociation\",\r\n        \"ec2:ResetNetworkInterfaceAttribute\",\r\n        \"ec2:RevokeSecurityGroupEgress\",\r\n        \"ec2:RevokeSecurityGroupIngress\",\r\n        \"ec2:TerminateInstances\",\r\n        \"ec2:RunInstances\"\r\n      ],\r\n      \"Effect\": \"Allow\",\r\n      \"Resource\": \"*\"\r\n    }\r\n  ]\r\n}\r\n\r\n$ euare-grouplistusers -g Testers\r\narn:aws:iam::926336961615:group/Testers\r\n   users\r\n   arn:aws:iam::926336961615:user/tessai\r\n{code}\r\n# After bundling, uploading and registering an [Ubuntu Vivid Cloud Image|http://cloud-images.ubuntu.com/vivid/current/vivid-server-cloudimg-amd64-disk1.img], and creating a keypair, launch a cloudformation stack using any of the following cloudformation templates (_*note*: make sure and update the template to reflect the EMI and availability zone of your cloud_):\r\n#* cfn-ubuntu-vivid-visualops-template-dupingress.json\r\n#* cfn-ubuntu-vivid-visualops-template-dupegress.json\r\n#* cfn-ubuntu-vivid-visualops-template-combined-dup.json \r\n# All cloudformation stacks should result with CREATE_COMPLETE.  For example:\r\n{code}\r\n$ euform-describe-stacks --region tessai@\r\nSTACK\tUbuntuVividStackDupEngress\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:28:49.662Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\nSTACK\tUbuntuVividStackDupIngress\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:28:21.358Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\nSTACK\tUbuntuVividStackDupCombined\tCREATE_COMPLETE\tComplete!\tCloudformation generated by VisualOps\t2015-03-26T20:29:18.513Z\r\nPARAMETER\tKeyPair2DefaultKP\t\ttessai-one\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-26T15:56:02.873-0500","updated":"2015-03-26T15:56:02.873-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/34393/comment/84420","id":"84420","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Attached following cloudformation templates that were used for 4.1.1 verification:\r\n* cfn-ubuntu-vivid-visualops-template-combined-dup.json\r\n* cfn-ubuntu-vivid-visualops-template-dupegress.json\r\n* cfn-ubuntu-vivid-visualops-template-dupingress.json","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-03-26T15:57:42.902-0500","updated":"2015-03-26T15:57:42.902-0500"}],"maxResults":9,"total":9,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}