{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"13931","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931","key":"EUCA-2427","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10112","id":"10112","description":"Eucalyptus 3.2.0","name":"3.2.0","archived":false,"released":true,"releaseDate":"2012-12-19"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@7587c822[id=8,rapidViewId=<null>,state=CLOSED,name=3.2 Sprint 5,goal=<null>,startDate=2012-10-11T16:27:27.882Z,endDate=2012-10-22T16:27:27.882Z,completeDate=2012-10-22T17:54:57.125Z,sequence=8]","com.atlassian.greenhopper.service.sprint.Sprint@1fd9d67e[id=9,rapidViewId=<null>,state=CLOSED,name=3.2 Sprint 6,goal=<null>,startDate=2012-10-23T16:29:16.193Z,endDate=2012-11-08T17:29:16.193Z,completeDate=2012-11-10T22:13:51.878Z,sequence=9]","com.atlassian.greenhopper.service.sprint.Sprint@425691da[id=10,rapidViewId=<null>,state=CLOSED,name=3.2 Sprint 7,goal=<null>,startDate=2012-11-10T22:18:20.990Z,endDate=2012-12-04T19:02:20.990Z,completeDate=2012-12-26T19:14:23.804Z,sequence=10]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10105":null,"customfield_10303":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=decker","name":"decker","key":"decker","accountId":"557058:518b1ab0-12c2-4e72-b694-6c07036941a8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a84cbf1ecec07d9320b42ae4fc90ccce?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddecker%26avatarId%3D16203%26noRedirect%3Dtrue"},"displayName":"do not want! (use @grze, please)","active":false,"timeZone":"America/Los_Angeles"},"customfield_10304":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10112","id":"10112","description":"Eucalyptus 3.2.0","name":"3.2.0","archived":false,"released":true,"releaseDate":"2012-12-19"}],"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2012-11-13T16:22:08.967-0600","customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2427/watchers","watchCount":4,"isWatching":false},"created":"2012-07-06T01:48:33.191-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_10102":null,"customfield_10300":null,"customfield_12600":"{}","labels":["QA-assigned"],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/10005","id":"10005","description":"Eucalyptus 3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2012-06-25"}],"issuelinks":[{"id":"14229","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/14229","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"14362","key":"EUCA-2785","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14362","fields":{"summary":"Elastic IP allocations are not inserted into DB","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"updated":"2013-01-09T19:57:37.936-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10002","id":"10002","name":"Cloud Controller"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"At the restarting CLC allocated addreses, which once have been released and allocated again, are released without being noticed.\r\nThis might be a trouble when an unexpected restart happens on a system without HA.\r\n\r\nReproduce:\r\n[root@clc1 ~]# euca-describe-addresses\r\n[root@clc1 ~]# euca-allocate-address    <-- allocate one\r\nADDRESS 192.168.249.101\r\n[root@clc1 ~]# euca-allocate-address    <-- allocate another\r\nADDRESS 19.168.249.102\r\n[root@clc1 ~]# euca-describe-addresses\r\nADDRESS 192.168.249.101         standard\r\nADDRESS 192.168.249.102         standard\r\n[root@clc1 ~]# euca-release-address 192.168.249.101    <-- release one of them\r\nADDRESS 192.168.249.101\r\n[root@clc1 ~]# euca-describe-addresses\r\nADDRESS 192.168.249.102         standard\r\n[root@clc1 ~]# euca-allocate-address    <-- allocate it again\r\nADDRESS 192.168.249.101\r\n[root@clc1 ~]# euca-describe-addresses\r\nADDRESS 192.168.249.101         standard\r\nADDRESS 192.168.249.102         standard\r\n[root@clc1 ~]# service eucalyptus-cloud restart    <-- restart CLC\r\nStopping Eucalyptus services: done.\r\nStarting Eucalyptus services: done.\r\n[root@clc1 ~]# euca-describe-addresses\r\nADDRESS 192.168.249.102         standard    <-- one IP is released!!\r\n\r\nVersion: eucalyptus-cloud-3.1.0-0.47.el6.x86_64\r\nOS:CentOS6.2\r\nMode:MANAGED\r\nServers: 1 x CLC/CC/SC/Walrus + 1 x NC\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"CLC remebers only first allocations of Elastic IPs after restarting CLC.","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wat","name":"wat","key":"wat","accountId":"557058:f1f24e3a-1fd8-477e-98c8-76ee2d8ccf29","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10105%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10105%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10105%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10105%26noRedirect%3Dtrue"},"displayName":"Ryo Watanabe","active":false,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=wat","name":"wat","key":"wat","accountId":"557058:f1f24e3a-1fd8-477e-98c8-76ee2d8ccf29","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10105%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10105%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10105%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2072d30c3463a0cb96e361c02e430f0c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10105%26noRedirect%3Dtrue"},"displayName":"Ryo Watanabe","active":false,"timeZone":"US/Central"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"3_*:*_1_*:*_89495098_*|*_10001_*:*_1_*:*_686343416_*|*_10002_*:*_1_*:*_761724258_*|*_10000_*:*_1_*:*_26267205_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_967765751_*|*_10007_*:*_1_*:*_8756420063","customfield_12100":"0|i00twv:","customfield_10001":"2012-07-06T09:16:36.446-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["agrimm(agrimm)","gholms(gholms)","wat(wat)","sjones(sjones)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2427/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931/comment/28762","id":"28762","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"body":"Ryo, thank you for the detailed problem description.  I will look into it.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=agrimm","name":"agrimm","key":"agrimm","accountId":"557058:9ebc3512-73d8-45c9-85de-4325aaa62488","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/0e947b5413f5d57fba29a8ea5412f773?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dagrimm%26avatarId%3D10500%26noRedirect%3Dtrue"},"displayName":"Andy Grimm","active":false,"timeZone":"America/New_York"},"created":"2012-07-06T09:16:36.446-0500","updated":"2012-07-06T09:16:36.446-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931/comment/33543","id":"33543","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Confirmed during development of 3.2.\r\n\r\nThis will cause issues for reporting on Elastic IP addresses since there will be allocations without any associated release.\r\n\r\nBelow shows allocation, release and reallocation of an IP address with a check on the DB contents before and after each step. Note that at the last step there should be a persistent record of the allocation but there is nothing in the DB.\r\n\r\n{code}\r\n# psql -h /opt/eucalyptus/var/lib/eucalyptus/db/data/ -p 8777 eucalyptus_cloud\r\npsql (9.1.6)\r\nType \"help\" for help.\r\n\r\neucalyptus_cloud=# select * from metadata_addresses;\r\n id | creation_timestamp | last_update_timestamp | metadata_perm_uuid | version | metadata_display_name | metadata_last_state | metadata_state | metadata_state_change_stack | m\r\netadata_account_name | metadata_account_id | metadata_unique_name | metadata_user_id | metadata_user_name \r\n----+--------------------+-----------------------+--------------------+---------+-----------------------+---------------------+----------------+-----------------------------+--\r\n---------------------+---------------------+----------------------+------------------+--------------------\r\n(0 rows)\r\n\r\neucalyptus_cloud=# \\q\r\n# euca-allocate-address \r\nADDRESS\t192.168.40.14\r\n# psql -h /opt/eucalyptus/var/lib/eucalyptus/db/data/ -p 8777 eucalyptus_cloud\r\npsql (9.1.6)\r\nType \"help\" for help.\r\n\r\neucalyptus_cloud=# select * from metadata_addresses;\r\n                id                |   creation_timestamp   | last_update_timestamp  |          metadata_perm_uuid          | version | metadata_display_name | metadata_last_sta\r\nte | metadata_state | metadata_state_change_stack | metadata_account_name | metadata_account_id |    metadata_unique_name    |   metadata_user_id    | metadata_user_name \r\n----------------------------------+------------------------+------------------------+--------------------------------------+---------+-----------------------+------------------\r\n---+----------------+-----------------------------+-----------------------+---------------------+----------------------------+-----------------------+--------------------\r\n 4028b31f3a667fe7013a6680fb85000b | 2012-10-15 15:17:39.97 | 2012-10-15 15:17:39.97 | 1450fcca-a25a-4e0e-a9a9-d57f3f93f91b |       0 | 192.168.40.14         |                  \r\n   |                |                             |                       | 937929680963        | 937929680963:192.168.40.14 | 0EKLLYTTQYOBYN7QYEBNT | admin\r\n(1 row)\r\n\r\neucalyptus_cloud=# \\q\r\n# euca-release-address 192.168.40.14\r\nADDRESS\t192.168.40.14\r\n# psql -h /opt/eucalyptus/var/lib/eucalyptus/db/data/ -p 8777 eucalyptus_cloud\r\npsql (9.1.6)\r\nType \"help\" for help.\r\n\r\neucalyptus_cloud=# select * from metadata_addresses;\r\n id | creation_timestamp | last_update_timestamp | metadata_perm_uuid | version | metadata_display_name | metadata_last_state | metadata_state | metadata_state_change_stack | m\r\netadata_account_name | metadata_account_id | metadata_unique_name | metadata_user_id | metadata_user_name \r\n----+--------------------+-----------------------+--------------------+---------+-----------------------+---------------------+----------------+-----------------------------+--\r\n---------------------+---------------------+----------------------+------------------+--------------------\r\n(0 rows)\r\n\r\neucalyptus_cloud=# \\q\r\n# euca-allocate-address \r\nADDRESS\t192.168.40.14\r\n# psql -h /opt/eucalyptus/var/lib/eucalyptus/db/data/ -p 8777 eucalyptus_cloud\r\npsql (9.1.6)\r\nType \"help\" for help.\r\n\r\neucalyptus_cloud=# select * from metadata_addresses;\r\n id | creation_timestamp | last_update_timestamp | metadata_perm_uuid | version | metadata_display_name | metadata_last_state | metadata_state | metadata_state_change_stack | m\r\netadata_account_name | metadata_account_id | metadata_unique_name | metadata_user_id | metadata_user_name \r\n----+--------------------+-----------------------+--------------------+---------+-----------------------+---------------------+----------------+-----------------------------+--\r\n---------------------+---------------------+----------------------+------------------+--------------------\r\n(0 rows)\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-15T17:26:40.457-0500","updated":"2012-10-15T17:26:40.457-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931/comment/34065","id":"34065","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Changes for review are:\n\n  git diff 0280c8ce65491ce2955d 77074db23070e5e5006d (eucalyptus internal)\n\n{code}\ndiff --git a/clc/modules/cluster-manager/src/main/java/com/eucalyptus/address/Address.java b/clc/modules/cluster-manager/src/main/java/com/eucalyptus/address/Address.java\nindex eed3d3b..a50c18c 100644\n--- a/clc/modules/cluster-manager/src/main/java/com/eucalyptus/address/Address.java\n+++ b/clc/modules/cluster-manager/src/main/java/com/eucalyptus/address/Address.java\n@@ -67,6 +67,7 @@ import java.lang.reflect.Constructor;\n import java.util.NoSuchElementException;\n import java.util.UUID;\n import java.util.concurrent.atomic.AtomicMarkableReference;\n+import javax.persistence.EntityTransaction;\n import javax.persistence.PersistenceContext;\n import javax.persistence.Table;\n import javax.persistence.Transient;\n@@ -84,14 +85,13 @@ import com.eucalyptus.cluster.callback.AssignAddressCallback;\n import com.eucalyptus.cluster.callback.UnassignAddressCallback;\n import com.eucalyptus.component.ComponentIds;\n import com.eucalyptus.component.id.ClusterController;\n-import com.eucalyptus.entities.EntityWrapper;\n+import com.eucalyptus.entities.Entities;\n import com.eucalyptus.event.ListenerRegistry;\n import com.eucalyptus.records.EventRecord;\n import com.eucalyptus.records.EventType;\n import com.eucalyptus.records.Logs;\n import com.eucalyptus.reporting.event.AddressEvent;\n import com.eucalyptus.reporting.event.EventActionInfo;\n-import com.eucalyptus.util.EucalyptusCloudException;\n import com.eucalyptus.util.FullName;\n import com.eucalyptus.util.OwnerFullName;\n import com.eucalyptus.util.async.NOOP;\n@@ -214,6 +214,7 @@ public class Address extends UserMetadata<Address.State> implements AddressMetad\n   }\n   \n   public void init( ) {//Should only EVER be called externally after loading from the db\n+    this.resetPersistence();\n     this.atomicState = new AtomicMarkableReference<State>( State.unallocated, false );\n     this.transition = this.QUIESCENT;\n     this.getOwner( );//ensure to initialize\n@@ -323,16 +324,16 @@ public class Address extends UserMetadata<Address.State> implements AddressMetad\n     } catch ( NoSuchElementException e1 ) {\n       LOG.debug( e1 );\n     }\n-    EntityWrapper<Address> db = EntityWrapper.get( Address.class );\n+    final EntityTransaction db = Entities.get( Address.class );\n     try {\n-      Address searchAddr = new Address( ipAddress );\n-      searchAddr.setOwner( null );\n-      Address dbAddr = db.getUnique( searchAddr );\n-      db.delete( dbAddr );\n+      Entities.delete( Entities.uniqueResult( forIp( ipAddress ) ) );\n       db.commit( );\n-    } catch ( Exception e ) {\n+    } catch ( final NoSuchElementException e ) {\n+      LOG.debug( \"Address not found for removal '\" + ipAddress + \"'\" );\n+    } catch ( final Exception e ) {\n       Logs.extreme( ).error( e, e );\n-      db.rollback( );\n+    } finally {\n+      if (db.isActive()) db.rollback();\n     }\n   }\n   \n@@ -469,28 +470,30 @@ public class Address extends UserMetadata<Address.State> implements AddressMetad\n   public boolean isPending( ) {\n     return this.atomicState.isMarked( );\n   }\n-  \n+\n   private static void addAddress( final Address address ) {\n-    Address addr = address;\n-    EntityWrapper<Address> db = EntityWrapper.get( Address.class );\n+    final EntityTransaction db = Entities.get( Address.class );\n+    String naturalId = address.getNaturalId();\n     try {\n-      addr = db.getUnique( new Address( ) {\n-        {\n-          this.setDisplayName( address.getName( ) );\n-        }\n-      } );\n-      addr.setOwner( address.getOwner( ) );\n-      db.commit( );\n-    } catch ( RuntimeException e ) {\n-      db.rollback( );\n-      LOG.error( e, e );\n-    } catch ( EucalyptusCloudException e ) {\n+      // delete matching persistent instance if any\n       try {\n-        db.add( address );\n-        db.commit( );\n-      } catch ( Exception e1 ) {\n-        db.rollback( );\n+        Entities.delete( Entities.uniqueResult( forIp( address.getName( ) ) ) );\n+      } catch ( NoSuchElementException e ) {\n+        // nothing to delete\n       }\n+\n+      // create new persistent instance, we avoid making the cached\n+      // copy of the object persistent by using merge\n+      address.setNaturalId( null ); // each allocations natural ID should be unique\n+      final Address persisted = Entities.mergeDirect( address );\n+      naturalId = persisted.getNaturalId();\n+\n+      db.commit( );\n+    } catch ( Exception e ) {\n+      LOG.error( e, e );\n+    } finally {\n+      if ( db.isActive() ) db.rollback();\n+      address.setNaturalId( naturalId );  // restore/update/set naturalId\n     }\n   }\n \n@@ -612,6 +615,12 @@ public class Address extends UserMetadata<Address.State> implements AddressMetad\n     return \"eucalyptus\";\n   }\n \n+  private static Address forIp( final String ip ) {\n+    final Address example = new Address();\n+    example.setDisplayName( ip );\n+    return example;\n+  }\n+\n   private void fireUsageEvent( final Supplier<EventActionInfo<AddressAction>> actionInfoSupplier ) {\n     fireUsageEvent( getOwner(), actionInfoSupplier );\n   }\n@@ -627,7 +636,7 @@ public class Address extends UserMetadata<Address.State> implements AddressMetad\n                 ownerFullName,\n                 Accounts.lookupAccountById(ownerFullName.getAccountNumber()).getName(),\n                 actionInfoSupplier.get() ) );\n-      } catch ( final Exception e ) {\n+      } catch ( final Throwable e ) {\n         LOG.error( e, e );\n       }\n     }\ndiff --git a/clc/modules/msgs/src/main/java/com/eucalyptus/entities/BaseEntities.groovy b/clc/modules/msgs/src/main/java/com/eucalyptus/entities/BaseEntities.groovy\nindex 7df7590..0f5c0bd 100644\n--- a/clc/modules/msgs/src/main/java/com/eucalyptus/entities/BaseEntities.groovy\n+++ b/clc/modules/msgs/src/main/java/com/eucalyptus/entities/BaseEntities.groovy\n@@ -160,4 +160,16 @@ public class AbstractPersistent implements Serializable, HasNaturalId {\n   public long lastUpdateMillis( ) {\n     return System.currentTimeMillis( ) - ( this.getLastUpdateTimestamp( ) != null ? this.getLastUpdateTimestamp( ).getTime( ) : 0L );\n   }\n+\n+  /**\n+   * Clear low level persistent state.\n+   *\n+   * This useful for entities that may later be persisted with a new identity.\n+   */\n+  protected void resetPersistence() {\n+    this.id = null;\n+    this.version = null;\n+    this.lastUpdateTimestamp = null;\n+    this.creationTimestamp = null;\n+  }\n }\n{code}\n\nAdd/remove of \"Address\" entities is updated to use \"EntityTransaction\" rather than \"EntityWrapper\". This change allows use of a JPA merge when persisting the entity, which avoids making the \"cache\" copy of each \"Address\" entity persistent.\n\nWhen loading \"Address\" information from the database a new method is used (\"resetPersistence\") which clears the \"low level\" persistent information for an entity. Clearing this information means that when the entity is next persisted it will have a new ID, version and created/updated dates.\n\nWhen adding an \"Address\" we clear the natural ID so a new one is created for the allocation.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-10-24T17:00:32.626-0500","updated":"2012-10-24T17:00:32.626-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931/comment/35219","id":"35219","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified fixed for the cloud admin:\n\n{code}\ngholms@osiris ~ % euca-allocate-address\nADDRESS\t192.168.41.20\ngholms@osiris ~ % euca-allocate-address\nADDRESS\t192.168.41.21\ngholms@osiris ~ % euca-describe-addresses 192.168.41.20 192.168.41.21\nADDRESS\t192.168.41.20\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\nADDRESS\t192.168.41.21\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\ngholms@osiris ~ % euca-release-address 192.168.41.20\nADDRESS\t192.168.41.20\ngholms@osiris ~ % euca-describe-addresses 192.168.41.20 192.168.41.21\nADDRESS\t192.168.41.20\tnobody\tstandard\nADDRESS\t192.168.41.21\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\ngholms@osiris ~ % euca-allocate-address\nADDRESS\t192.168.41.20\ngholms@osiris ~ % euca-describe-addresses 192.168.41.20 192.168.41.21\nADDRESS\t192.168.41.20\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\nADDRESS\t192.168.41.21\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\ngholms@osiris ~ % su -c 'service eucalyptus-cloud restart'\nStopping Eucalyptus services: done.\nStarting Eucalyptus services: done.\ngholms@osiris ~ % euca-describe-addresses 192.168.41.20 192.168.41.21\nADDRESS\t192.168.41.20\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\nADDRESS\t192.168.41.21\tavailable (arn:aws:euare::449324140149:user/admin)\tstandard\n{code}\n\nI still need to test this with a regular account.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-13T16:08:39.614-0600","updated":"2012-11-13T16:08:39.614-0600"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/13931/comment/35223","id":"35223","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Verified fixed with a regular account, too.  Thanks for the patch!\r\n\r\n{code}\r\ngholms@osiris ~ % euca-allocate-address \r\nADDRESS\t192.168.41.22\r\ngholms@osiris ~ % euca-allocate-address \r\nADDRESS\t192.168.41.23\r\ngholms@osiris ~ % euca-describe-addresses \r\nADDRESS\t192.168.41.22\t\tstandard\r\nADDRESS\t192.168.41.23\t\tstandard\r\ngholms@osiris ~ % euca-release-address 192.168.41.22\r\nADDRESS\t192.168.41.22\r\ngholms@osiris ~ % euca-describe-addresses \r\nADDRESS\t192.168.41.23\t\tstandard\r\ngholms@osiris ~ % euca-allocate-address \r\nADDRESS\t192.168.41.22\r\ngholms@osiris ~ % euca-describe-addresses \r\nADDRESS\t192.168.41.22\t\tstandard\r\nADDRESS\t192.168.41.23\t\tstandard\r\ngholms@osiris ~ % su -c 'service eucalyptus-cloud restart'\r\nStopping Eucalyptus services: done.\r\nStarting Eucalyptus services: done.\r\ngholms@osiris ~ % euca-describe-addresses \r\nADDRESS\t192.168.41.22\t\tstandard\r\nADDRESS\t192.168.41.23\t\tstandard\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-11-13T16:22:08.978-0600","updated":"2012-11-13T16:22:08.978-0600"}],"maxResults":5,"total":5,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}