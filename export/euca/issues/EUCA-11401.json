{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38308","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308","key":"EUCA-11401","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"resolution":null,"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/11500","value":"Edge","id":"11500"}],"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@22310b14[id=129,rapidViewId=92,state=CLOSED,name=4.3.0 Sprint 0,goal=<null>,startDate=2015-11-03T02:34:16.335Z,endDate=2015-11-24T02:34:00.000Z,completeDate=2015-12-01T17:42:47.033Z,sequence=129]"],"customfield_10105":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10101","value":"No","id":"10101"},"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10202","value":"Low","id":"10202"},"customfield_10703":null,"resolutiondate":null,"customfield_10308":null,"customfield_10704":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11401/watchers","watchCount":4,"isWatching":false},"created":"2015-09-22T11:19:19.791-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{}","customfield_10301":null,"labels":["AWSCompat-PM"],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/14801","id":"14801","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[{"id":"32415","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32415","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"outwardIssue":{"id":"27900","key":"EUCA-8864","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27900","fields":{"summary":"bucket name with a period (.) in the end or multiple periods between labels should be restricted","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"32404","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32404","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"35587","key":"EUCA-10717","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35587","fields":{"summary":"Services in ELB instance doesn't come up properly","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/1","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/blocker.svg","name":"Blocker","id":"1"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"32628","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32628","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"27142","key":"EUCA-8677","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/27142","fields":{"summary":"Bucket name allows underscore and trailing -","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"updated":"2017-04-21T12:13:47.134-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12700","id":"12700","name":"OSG","description":"Object Storage Gateway"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10015","id":"10015","name":"Walrus"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"*Assessment*\r\n\r\nWhen attempting to bundle a running instance using BundleInstance API call, the following error is returned:\r\n{code}\r\n[root@c-02 ~]# euca-bundle-instance i-2bbe1179 -b ubuntu-wily-x86_64-nginx -p ubunty-wily-nginx -o AKIAANXKTA7S6ITLUYGX -w vgNObW8VYTezKw3rQgtBL86xQdLtMRIVbFPXx9ik --region devops-admin@region-1\r\neuca-bundle-instance: error (InternalError): Unable to create bucket ubuntu-wily-x86_64-nginx\r\n{code}\r\nAfter reviewing the logs, the following message was seen:\r\n{code}\r\nTue Sep 22 07:55:54 2015 DEBUG [org.hibernate.engine.internal.Collections:Eucalyptus.bootstrap:ListenerRegistry:listenerTasks.class java.util.concurrent.ThreadPoolExecutor$Worker#8029] Collection found: [com.eucalypt\r\nus.autoscaling.activities.ScalingActivity.causes#8aef81524fe30d7c014ff574258f5eb7], was: [com.eucalyptus.autoscaling.activities.ScalingActivity.causes#8aef81524fe30d7c014ff574258f5eb7] (uninitialized)\r\nTue Sep 22 07:55:54 2015 ERROR [org.mule.exception.DefaultMessagingExceptionStrategy:Compute.49]\r\n********************************************************************************\r\nMessage               : Component that caused exception is: DefaultJavaComponent{VmControl.component}. Message payload is of type: BundleInstanceType\r\nCode                  : MULE_ERROR--2\r\n--------------------------------------------------------------------------------\r\nException stack is:\r\n1. Unable to create bucket ubuntu-wily-x86_64-nginx (com.eucalyptus.compute.ComputeException)\r\n  com.eucalyptus.vm.Bundles:477 (null)\r\n2. Component that caused exception is: DefaultJavaComponent{VmControl.component}. Message payload is of type: BundleInstanceType (org.mule.component.ComponentException)\r\n  org.mule.component.DefaultComponentLifecycleAdapter:352 (http://www.mulesoft.org/docs/site/current3/apidocs/org/mule/component/ComponentException.html)\r\n--------------------------------------------------------------------------------\r\nRoot Exception stack trace:\r\ncom.eucalyptus.compute.ComputeException: Unable to create bucket ubuntu-wily-x86_64-nginx\r\n        at com.eucalyptus.vm.Bundles.checkAndCreateBucket(Bundles.java:477)\r\n        at com.eucalyptus.vm.VmControl.bundleInstance(VmControl.java:990)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    + 3 more (set debug level logging or '-Dmule.verbose.exceptions=true' for everything)\r\n********************************************************************************\r\n\r\nTue Sep 22 07:55:54 2015 DEBUG [org.hibernate.engine.internal.Collections:Eucalyptus.bootstrap:ListenerRegistry:listenerTasks.class java.util.concurrent.ThreadPoolExecutor$Worker#8029] Collection found: [com.eucalyptus.autoscaling.activities.ScalingActivity.causes#8aef81524fe30d7c014ff54106b8559a], was: [com.eucalyptus.autoscaling.activities.ScalingActivity.causes#8aef81524fe30d7c014ff54106b8559a] (uninitialized)\r\nTue Sep 22 07:55:54 2015 DEBUG [org.mule.exception.DefaultMessagingExceptionStrategy:Compute.49] Rolling back transaction\r\nTue Sep 22 07:55:54 2015 DEBUG [org.mule.exception.DefaultMessagingExceptionStrategy:Compute.49] Routing exception message\r\n{code}\r\nI changed the log level to DEBUG and re-ran the command.  Additional logs are attached to this ticket.  Cloud setup details can be seen here - [hspencer-1321http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/1321/]\r\n\r\nLink to [sosreports - hspencer-1321|https://s3.amazonaws.com/hspencer-1321/sosreport-hspencer-1321.999-20150922082917.tar.xz]\r\n\r\nCloud property for {{objectstorage.bucket_naming_restrictions}}:\r\n{code}\r\n[root@c-02 ~]# euctl objectstorage.bucket_naming_restrictions --region cloud-admin@localhost\r\nobjectstorage.bucket_naming_restrictions = extended\r\n{code}\r\n\r\n*Steps*\r\n\r\n# Deployed Eucalyptus 4.2 (4.2.0-0.0.23890.654.20150918git84e694a.el6) with Eucalyptus DNS enabled -  [hspencer-1321http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/1321/]\r\n# Used credentials in eucarc to set up euca2ools configuration file, then created 'devops' account\r\n{code}\r\n[user cloud-admin]\r\nkey-id = AKIAAX2K6Z7Z4ABGDPHF\r\nsecret-key = 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\r\ncertificate = /root/euca2-admin-8771f453-cert.pem\r\nprivate-key = /root/euca2-admin-8771f453-pk.pem\r\naccount-id = 000466351755\r\n{code}\r\n# Created access and secret keys for 'devops/admin' user, and user certificates.  Added them to euca2ools configuration file.\r\n{code}\r\n[user devops-admin]\r\nkey-id = AKIAANXKTA7S6ITLUYGX\r\nsecret-key = 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\r\ncertificate = /root/devops-admin-cert.pem\r\nprivate-key = /root/devops-admin-pk.pem\r\naccount-id = 000693176866\r\n{code}\r\n# Downloaded Ubuntu Wily image\r\n{code}\r\nwget http://cloud-images.ubuntu.com/wily/current/wily-server-cloudimg-amd64-disk1.img\r\n{code}\r\n# Converted image to raw, then bundle, uploaded and registered the image using euca-install-image:\r\n{code}\r\n# euca-install-image -i wily-server-cloudimg-amd64-disk1.raw -n ubuntu-wily-x86_64 -b ubuntu-wily-x86_64-20150918 --progress --virtualization-type hvm -r x86_64 --region devops-admin@region-1\r\n{code}\r\n# Launched EMI with user data file to install nginx:\r\n{code}\r\n[root@c-02 ~]# cat nginx-cloudinit.config\r\n#cloud-config\r\napt_update: true\r\napt_upgrade: true\r\ndisable_root: true\r\npackages:\r\n - less\r\nruncmd:\r\n - [ sh, -xc, \"META_HOSTNAME=`curl -s http://169.254.169.254/latest/meta-data/local-hostname`; META_IP=`curl -s http://169.254.169.254/latest/meta-data/local-ipv4`; echo ${META_IP}   ${META_HOSTNAME} >> /etc/hosts\" ]\r\n - [ sh, -xc, \"META_HOSTNAME=`curl -s http://169.254.169.254/latest/meta-data/local-hostname`; hostname ${META_HOSTNAME}; sysctl -w kernel.hostname=${META_HOSTNAME}\" ]\r\n - [ apt-get, install, -y, --force-yes, dnsutils ]\r\n - [ apt-get, install, -y, --force-yes, bind9utils ]\r\n - [ apt-get, install, -y, --force-yes, mlocate ]\r\n - [ apt-get, install, -y, --force-yes, nginx ]\r\n[root@c-02 ~]# euca-run-instances -k devops-admin -t m1.medium emi-b87dbd02 --user-data-file nginx-cloudinit.config --region devops-admin@region-1\r\nRESERVATION\tr-d437ffbf\t000693176866\tdefault\r\nINSTANCE\ti-2bbe1179\temi-b87dbd02\teuca-10-111-76-5.eucalyptus.c-02.autoqa.qa1.eucalyptus-systems.com\teuca-10-111-76-21.eucalyptus.internal\tpending\tdevops-admin\t0\t\tm1.medium\t2015-09-22T14:08:08.546Z\tthree\t\t\t\tmonitoring-disabled\t10.111.76.5\t10.111.76.21\t\t\tinstance-store\t\t\t\t\thvm\t\t\tsg-a165f769\t\t\t\tx86_64\r\n{code}\r\n# SSH'd into instance and removed udev rule for persistent network:\r\n{code}\r\n[root@c-02 ~]# ssh -i devops-admin.pem ubuntu@euca-10-111-76-5.eucalyptus.c-02.autoqa.qa1.eucalyptus-systems.com\r\nWelcome to Ubuntu Wily Werewolf (development branch) (GNU/Linux 4.2.0-10-generic x86_64)\r\n\r\n * Documentation:  https://help.ubuntu.com/\r\n\r\n  Get cloud support with Ubuntu Advantage Cloud Guest:\r\n    http://www.ubuntu.com/business/services/cloud\r\n\r\n0 packages can be updated.\r\n0 updates are security updates.\r\n\r\n\r\nLast login: Tue Sep 22 14:45:07 2015 from 10.111.1.210\r\nubuntu@euca-10-111-76-21:~$ sudo rm -rf /etc/udev/rules.d/70-persistent-net.rules\r\n{code}\r\n# Exited out of instance, then ran euca-bundle-instance:\r\n{code}\r\nubuntu@euca-10-111-76-21:~$ exit\r\nlogout\r\nConnection to euca-10-111-76-5.eucalyptus.c-02.autoqa.qa1.eucalyptus-systems.c closed.\r\n[root@c-02 ~]# euca-bundle-instance i-2bbe1179 -b ubuntu-wily-x86_64-nginx -p ubunty-wily-nginx -o AKIAANXKTA7S6ITLUYGX -w vgNObW8VYTezKw3rQgtBL86xQdLtMRIVbFPXx9ik --region devops-admin@region-1\r\neuca-bundle-instance: error (InternalError): Unable to create bucket ubuntu-wily-x86_64-nginx\r\n{code}","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Bucket naming restrictions not supported fully in internal S3 SDK","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i03e0r:","customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2015-09-24T16:39:58.617-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["dmitrii(dmitrii)","hspencer(hspencer)","swathi(swathi)","vasya(vasya)","zhill(zhill)"],"customfield_10116":null,"customfield_10117":null,"environment":"Multi-cluster, single cloud","customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92161","id":"92161","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"*Update*\r\n\r\nLooks like the issue was due to the fact that the bucket name used for the image had an underscore in it.  Tried again and changed the bucket name, and it worked:\r\n{code}\r\n[root@c-02 ~]# euca-bundle-instance i-2bbe1179 -b ubuntu-wily-x86-64-nginx -p ubunty-wily-nginx -o AKIAANXKTA7S6ITLUYGX -w vgNObW8VYTezKw3rQgtBL86xQdLtMRIVbFPXx9ik --region devops-admin@region-1\r\nBUNDLE\tbun-2bbe1179\ti-2bbe1179\tubuntu-wily-x86-64-nginx\tubunty-wily-nginx\t2015-09-22T16:22:39.364Z\t2015-09-22T16:22:39.364Z\tpending\t0\tubuntu-wily-x86-64-nginx/ubunty-wily-nginx.manifest.xml\r\n\r\n[root@c-02 ~]# euca-describe-bundle-tasks --region devops-admin@region-1\r\nBUNDLE\tbun-2bbe1179\ti-2bbe1179\tubuntu-wily-x86-64-nginx\tubunty-wily-nginx\t2015-09-22T16:22:39.364Z\t2015-09-22T16:23:54.043Z\tcomplete\t100\tubuntu-wily-x86-64-nginx/ubunty-wily-nginx.manifest.xml\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-22T11:25:31.045-0500","updated":"2015-09-22T11:25:31.045-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92163","id":"92163","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like this is a regression - EUCA-8864.  Since the value of {{objectstorage.bucket_naming_restrictions}} is 'extended', underscores should be allowed per [AWS S3 documentation regarding bucket naming restrictions|http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html].\r\n\r\n{quote}\r\n*Challenges with Non–DNS-Compliant Bucket Names*\r\n\r\nThe US Standard region currently allows more relaxed standards for bucket naming, which can result in a bucket name that is not DNS-compliant. For example,  MyAWSBucket is a valid bucket name, even though it contains uppercase letters. If you try to access this bucket by using a virtual-hosted–style request (http://MyAWSBucket.s3.amazonaws.com/yourobject), the URL resolves to the bucket myawsbucket and not the bucket  MyAWSBucket. In response, Amazon S3 will return a \"bucket not found\" error.\r\n\r\nTo avoid this problem, we recommend as a best practice that you always use DNS-compliant bucket names regardless of the region in which you create the bucket. For more information about virtual-hosted–style access to your buckets, see Virtual Hosting of Buckets.\r\n\r\nThe rules for bucket names in the US Standard region allow bucket names to be as long as 255 characters, and bucket names can contain any combination of uppercase letters, lowercase letters, numbers, periods (.), hyphens (-), and underscores (_).\r\n{quote}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-22T11:34:37.155-0500","updated":"2015-09-22T11:34:37.155-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92165","id":"92165","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Regression relating to EUCA-8864","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-22T11:36:12.790-0500","updated":"2015-09-22T11:36:12.790-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92322","id":"92322","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"If the fix is trivial, let's do it. ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2015-09-24T16:39:58.617-0500","updated":"2015-09-24T16:39:58.617-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92329","id":"92329","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"When objectstorage.bucket_naming_restrictions=extended, I was able to create buckets with '_' and '.' in the name. I tried the following against 4.2 cloud built from source (master branch git commit 0494022a1890b7e91bb4ccf3f88bfdaf45ed75bd)\r\n\r\n{noformat}\r\n# euca-describe-properties | grep objectstorage.bucket_naming_restrictions\r\nwarning: euca-describe-properties is deprecated; use ``euctl'' instead\r\nPROPERTY        objectstorage.bucket_naming_restrictions        extended\r\n{noformat}\r\n\r\nBucket name: hello_world\r\n{noformat}\r\nT 192.168.217.201:35780 -> 10.111.5.183:8773 [AP]\r\n  PUT /services/objectstorage/hello_world HTTP/1.1..User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2..Host: 10.111.5.183:8773..Accept: */*..Date: Thu, 24 \r\n  Sep 2015 22:08:44 +0000..Authorization: AWS AKIAAFBARYGNQAHARWAR:emGKeGo73LyFVS9rSui/knUDlQQ=..Content-Length: 0....\r\n\r\nT 10.111.5.183:8773 -> 192.168.217.201:35780 [AFP]\r\n  HTTP/1.1 200 OK..Date: Thu, 24 Sep 2015 22:08:44 GMT..Content-Length: 0..x-amz-request-id: cc3c5269-9cf7-46cf-ad44-7120afa759e5....  \r\n{noformat}\r\n\r\nBucket name: hello_world.2_0\r\n{noformat}\r\nT 192.168.217.201:35781 -> 10.111.5.183:8773 [AP]\r\n  PUT /services/objectstorage/hello_world.2_0 HTTP/1.1..User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2..Host: 10.111.5.183:8773..Accept: */*..Date: Thu,\r\n   24 Sep 2015 22:09:26 +0000..Authorization: AWS AKIAAFBARYGNQAHARWAR:0DdlwnK/cntoWAD7qno04TNzbuk=..Content-Length: 0....                                                                                                  \r\n\r\nT 10.111.5.183:8773 -> 192.168.217.201:35781 [AFP]\r\n  HTTP/1.1 200 OK..Date: Thu, 24 Sep 2015 22:09:26 GMT..Content-Length: 0..x-amz-request-id: ce9463e3-02ab-4cfd-bebe-91924b40fcf0....                                                                                             \r\n{noformat}\r\n\r\nBucket listing:\r\n{noformat}\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<ListAllMyBucketsResult xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\">\r\n  <Owner>\r\n    <ID>2c5f428602144e164383d634246f384e191b475718225a1b161e431f1f2d505e</ID>\r\n    <DisplayName>eucalyptus</DisplayName>\r\n  </Owner>\r\n    <Bucket>\r\n      <Name>hello_world</Name>\r\n      <CreationDate>2015-09-24T22:08:44.103Z</CreationDate>\r\n    </Bucket>\r\n    <Bucket>\r\n      <Name>hello_world.2_0</Name>\r\n      <CreationDate>2015-09-24T22:09:26.837Z</CreationDate>\r\n    </Bucket>\r\n  </Buckets>\r\n</ListAllMyBucketsResult>\r\n{noformat}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-24T17:19:17.847-0500","updated":"2015-09-24T17:19:17.847-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92331","id":"92331","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"Similar tests after modifying objectstorage.bucket_naming_restrictions to dns-compliant. Bucket with '_' in the name are not allowed\r\n\r\n{noformat}\r\n# euca-describe-properties | grep objectstorage.bucket_naming_restrictions\r\nwarning: euca-describe-properties is deprecated; use ``euctl'' instead\r\nPROPERTY        objectstorage.bucket_naming_restrictions        dns-compliant\r\n{noformat}\r\n\r\nBucket name: bucket_with_underscore\r\n{noformat}\r\nT 192.168.217.201:35808 -> 10.111.5.183:8773 [AP]\r\n  PUT /services/objectstorage/bucket_with_underscore HTTP/1.1..User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2..Host: 10.111.5.183:8773..Accept: */*..Dat\r\n  e: Thu, 24 Sep 2015 22:24:05 +0000..Authorization: AWS AKIAAFBARYGNQAHARWAR:bB+WehQkFNF9Kx/fhcLI6GRQg/0=..Content-Length: 0....                                                                                           \r\n\r\nT 10.111.5.183:8773 -> 192.168.217.201:35808 [AP]\r\n  HTTP/1.1 400 Bad Request..Content-Length: 287..Content-Type: application/xml..Date: Thu, 24 Sep 2015 22:24:05 GMT..x-amz-request-id: f6ba8d9e-d2bf-4a97-b0b6-e7ee3a0d60b9....<?xml version=\"1.0\" encoding=\"UTF-8\" ?><Error\r\n   xmlns=\"http://s3.amazonaws.com/doc/2006-03-01/\"><Code>InvalidBucketName</Code><Message>The specified bucket is not valid.</Message><Resource>bucket_with_underscore</Resource><RequestId>f6ba8d9e-d2bf-4a97-b0b6-e7ee3a0d\r\n  60b9</RequestId></Error>               \r\n{noformat}\r\n\r\nBucket name: bucket.with.period\r\n{noformat}\r\nT 192.168.217.201:35810 -> 10.111.5.183:8773 [AP]\r\n  PUT /services/objectstorage/bucket.with.period HTTP/1.1..User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2..Host: 10.111.5.183:8773..Accept: */*..Date: T\r\n  hu, 24 Sep 2015 22:24:41 +0000..Authorization: AWS AKIAAFBARYGNQAHARWAR:MRiDno2pSSJpV1Bz1TaxvC30hdM=..Content-Length: 0....                                                                                               \r\n\r\nT 10.111.5.183:8773 -> 192.168.217.201:35810 [AFP]\r\n  HTTP/1.1 200 OK..Date: Thu, 24 Sep 2015 22:24:41 GMT..Content-Length: 0..x-amz-request-id: 5143daae-ff15-4b4a-8404-828dfc262355....         \r\n{noformat}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-24T17:26:04.248-0500","updated":"2015-09-24T17:26:04.248-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/92332","id":"92332","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"body":"This issue may be aws sdk's doing, aws sdk is employed internally to perform S3 operations. Stack trace from the cloud-output.log \r\n\r\n{noformat}\r\n2015-09-22 07:55:56 DEBUG 000212061 Bundles                  | Unable to create bucket ubuntu-wily-x86_64-nginx\r\njava.lang.IllegalArgumentException: Bucket name should not contain '_'\r\n\tat com.amazonaws.services.s3.internal.BucketNameUtils.exception(BucketNameUtils.java:166)\r\n\tat com.amazonaws.services.s3.internal.BucketNameUtils.isValidV2BucketName(BucketNameUtils.java:137)\r\n\tat com.amazonaws.services.s3.internal.BucketNameUtils.validateBucketName(BucketNameUtils.java:43)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.createBucket(AmazonS3Client.java:718)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.createBucket(AmazonS3Client.java:685)\r\n\tat com.eucalyptus.objectstorage.client.EucaS3Client.createBucket(EucaS3Client.groovy)\r\n\tat com.eucalyptus.vm.Bundles.checkAndCreateBucket(Bundles.java:467)\r\n\tat com.eucalyptus.vm.VmControl.bundleInstance(VmControl.java:990)\r\n{noformat}\r\n\r\nhttps://github.com/aws/aws-sdk-java/blob/1.7.1/src/main/java/com/amazonaws/services/s3/internal/BucketNameUtils.java#L137","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=swathi","name":"swathi","key":"swathi","accountId":"557058:ab7e71b5-781c-49ea-9f4d-ea9148c88f03","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/d6487612d6674329ecef11be0a95552b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dswathi%26avatarId%3D17901%26noRedirect%3Dtrue"},"displayName":"Swathi Gangisetty","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-09-24T17:39:47.842-0500","updated":"2015-09-24T17:49:23.466-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/95212","id":"95212","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like the options are:\r\n# Modify the s3 sdk (or override it) to make it's naming restrictions compatible with those of Euca.\r\n# Replace the AWS S3 SDK completely with our own implementation\r\n# Remove the option in Eucalyptus to allow non-DNS-compliant bucket names","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=zhill","name":"zhill","key":"zhill","accountId":"557058:70b4b768-eb1f-43a3-a225-3353d0fe3f56","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/239165321c2f152424c9be883721791a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dzhill%26avatarId%3D10406%26noRedirect%3Dtrue"},"displayName":"Zach Hill","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-30T12:11:59.058-0500","updated":"2015-10-30T12:12:13.952-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38308/comment/102349","id":"102349","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"body":"First two solutions looks invasive and third would be breaking current functionality. Moving this out of 4.3","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=vasya","name":"vasya","key":"vasya","accountId":"557058:1c63481a-0634-4ae7-9004-cb0f143e141f","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/fa832ffa4e20c9aa05ac272214d43196?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dvasya%26avatarId%3D10408%26noRedirect%3Dtrue"},"displayName":"Vasiliy Kochergin","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-05-04T12:11:38.509-0500","updated":"2017-04-21T12:13:47.127-0500"}],"maxResults":9,"total":9,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-11401/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}