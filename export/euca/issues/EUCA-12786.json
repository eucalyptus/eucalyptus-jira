{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"48905","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905","key":"EUCA-12786","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18601","id":"18601","description":"Eucalyptus 4.4.1","name":"4.4.1","archived":false,"released":true,"releaseDate":"2017-05-09"}],"customfield_11001":null,"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12601","value":"CentOS 7","id":"12601"}],"customfield_10311":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12401","value":"VPC-MIDO","id":"12401"}],"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":["com.atlassian.greenhopper.service.sprint.Sprint@20ea9813[id=146,rapidViewId=118,state=CLOSED,name=4.4.0 Sprint 7,goal=,startDate=2017-01-27T16:46:19.965Z,endDate=2017-02-17T22:46:00.000Z,completeDate=2017-02-22T05:18:12.100Z,sequence=146]","com.atlassian.greenhopper.service.sprint.Sprint@31e73f02[id=147,rapidViewId=118,state=CLOSED,name=4.4.0 Sprint 8,goal=,startDate=2017-02-22T05:18:20.467Z,endDate=2017-03-15T10:18:00.000Z,completeDate=2017-03-16T03:45:47.155Z,sequence=147]","com.atlassian.greenhopper.service.sprint.Sprint@19e1c65e[id=148,rapidViewId=118,state=CLOSED,name=5.0 Sprint 1,goal=,startDate=2017-03-16T04:00:04.312Z,endDate=2017-04-06T04:00:00.000Z,completeDate=2017-04-07T18:58:06.909Z,sequence=148]"],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10308":null,"resolutiondate":"2017-03-30T15:48:36.305-0500","customfield_10704":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12786/watchers","watchCount":4,"isWatching":false},"lastViewed":null,"created":"2016-09-27T20:46:36.133-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16800","id":"16800","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":true,"releaseDate":"2016-08-09"}],"issuelinks":[{"id":"50905","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/50905","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"outwardIssue":{"id":"56801","key":"EUCA-13334","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/56801","fields":{"summary":"CFN UpdateStack: Disable API Termination update triggers SG change","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10006","description":"A fix has been committed, and will be part of the next release","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Release Pending","id":"10006","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"43507","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/43507","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"40607","key":"EUCA-11941","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/40607","fields":{"summary":"CF: EC2 Instance Update Stack","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2017-03-30T15:48:36.335-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/12900","id":"12900","name":"CloudFormation"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/11504","id":"11504","name":"EC2"}],"timeoriginalestimate":null,"description":"*Assessment*\r\n\r\nWhen running UpdateStack on an {{AWS::EC2::Instance}} with {{DisableApiTermination}} property set to {{true}}, the replacing instance fails to launch correctly. \r\n\r\n*Signs*\r\n\r\n# Using linked {{cfn-instance-test-update4.json}}, created stack with instance stored-backed HVM instance with disabled API termination enabled:\r\n{code}\r\n[root@g-22-04 ~]# euform-create-stack InstanceTest --template-file cfn-instance-test-update4.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/InstanceTest/af385c70-bc2b-4496-b5f3-4f07fd1a1f3c\r\n\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tInstanceTest\tCREATE_COMPLETE\t\tCloudformation UpdateStack #4: Enable DisableApiTermination on instance store-backed HVM instance\t2016-09-27T19:51:17.768Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\tsales-admin\r\nOUTPUT\tInstanceId\ti-d3d95e7b\r\nOUTPUT\tAZ\tds2\r\nOUTPUT\tPublicIP\t10.116.155.220\r\n\r\n[root@g-22-04 ~]# curl -I 10.116.155.220\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.10.0 (Ubuntu)\r\nDate: Tue, 27 Sep 2016 20:04:03 GMT\r\nContent-Type: text/html\r\nContent-Length: 612\r\nLast-Modified: Tue, 27 Sep 2016 19:56:45 GMT\r\nConnection: keep-alive\r\nETag: \"57eacefd-264\"\r\nAccept-Ranges: bytes\r\n{code}\r\n# Ran UpdateStack using linked {{cfn-instance-test-update5.json}} template, replacing the instance with an EBS-backed instance. Instance fails to launch correctly:\r\n{code}\r\n[root@g-22-04 ~]# euform-update-stack InstanceTest --template-file cfn-instance-test-update5.json --parameter ImageId=emi-beae1914 --parameter KeyName=sales-admin --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/InstanceTest/af385c70-bc2b-4496-b5f3-4f07fd1a1f3c\r\n\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tInstanceTest\tUPDATE_COMPLETE\tOne or more resources could not be deleted.\tCloudformation UpdateStack #5: Replace instance store-backed HVM with EBS-backed instance with block device mappings\t2016-09-27T19:51:17.768Z\r\nPARAMETER\tImageId\t\temi-beae1914\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\tsales-admin\r\nOUTPUT\tInstanceId\ti-266901e6\r\nOUTPUT\tAZ\tds2\r\nOUTPUT\tPublicIP\t10.116.155.220\r\n\r\n[root@g-22-04 ~]# curl -I 10.116.155.220\r\n^C\r\n\r\n[root@g-22-04 ~]# euca-get-console-output i-266901e6 --region sales-admin@\r\ni-266901e6\r\n\r\n[root@g-22-04 ~]# \r\n{code}\r\n\r\n# GNI information on NC for {{i-266901e6}}\r\n{code}\r\n    <instance name=\"i-266901e6\">\r\n      <ownerId>002598321247</ownerId>\r\n      <macAddress>d0:0d:c1:3c:4a:11</macAddress>\r\n      <publicIp>10.116.155.220</publicIp>\r\n      <privateIp>10.0.0.232</privateIp>\r\n      <vpc>vpc-086b1f07</vpc>\r\n      <subnet>subnet-f4482dfd</subnet>\r\n      <networkInterfaces>\r\n        <networkInterface name=\"eni-c13c4a11\">\r\n          <ownerId>002598321247</ownerId>\r\n          <deviceIndex>0</deviceIndex>\r\n          <attachmentId>eni-attach-9e4f5f0e</attachmentId>\r\n          <macAddress>d0:0d:c1:3c:4a:11</macAddress>\r\n          <privateIp>10.0.0.232</privateIp>\r\n          <publicIp>10.116.155.220</publicIp>\r\n          <sourceDestCheck>true</sourceDestCheck>\r\n          <vpc>vpc-086b1f07</vpc>\r\n          <subnet>subnet-f4482dfd</subnet>\r\n          <securityGroups>\r\n            <value>sg-2510f67b</value>\r\n          </securityGroups>\r\n        </networkInterface>\r\n      </networkInterfaces>\r\n      <securityGroups>\r\n        <value>sg-2510f67b</value>\r\n      </securityGroups>\r\n    </instance>\r\n{code}\r\n\r\n# Virsh info for {{i-266901e6}}\r\n{code}\r\n[root@h-07 ~]#  virsh dominfo i-266901e6\r\nId:             98\r\nName:           i-266901e6\r\nUUID:           0cc3573a-6085-4335-874b-356868349749\r\nOS Type:        hvm\r\nState:          running\r\nCPU(s):         1\r\nCPU time:       42.6s\r\nMax memory:     524288 KiB\r\nUsed memory:    524288 KiB\r\nPersistent:     no\r\nAutostart:      disable\r\nManaged save:   no\r\nSecurity model: selinux\r\nSecurity DOI:   0\r\nSecurity label: system_u:system_r:svirt_t:s0:c111,c984 (permissive)\r\n\r\n[root@h-07 ~]# virsh dumpxml i-266901e6\r\n<domain type='kvm' id='98'>\r\n  <name>i-266901e6</name>\r\n  <uuid>0cc3573a-6085-4335-874b-356868349749</uuid>\r\n  <description>Eucalyptus instance i-266901e6</description>\r\n  <memory unit='KiB'>524288</memory>\r\n  <currentMemory unit='KiB'>524288</currentMemory>\r\n  <vcpu placement='static'>1</vcpu>\r\n  <resource>\r\n    <partition>/machine</partition>\r\n  </resource>\r\n  <os>\r\n    <type arch='x86_64' machine='pc-i440fx-rhel7.2.0'>hvm</type>\r\n  </os>\r\n  <features>\r\n    <acpi/>\r\n  </features>\r\n  <cpu>\r\n    <topology sockets='1' cores='1' threads='1'/>\r\n  </cpu>\r\n  <clock offset='localtime'/>\r\n  <on_poweroff>destroy</on_poweroff>\r\n  <on_reboot>restart</on_reboot>\r\n  <on_crash>destroy</on_crash>\r\n  <devices>\r\n    <emulator>/usr/libexec/qemu-kvm</emulator>\r\n    <disk type='network' device='disk'>\r\n      <driver name='qemu' type='raw'/>\r\n      <auth username='qauser'>\r\n        <secret type='ceph' uuid='7ae2bacf-86e4-41ec-8ba8-34a80d894920'/>\r\n      </auth>\r\n      <source protocol='rbd' name='eucaqa_vol/vol-f450fef7'>\r\n        <host name='10.111.5.124' port='6789'/>\r\n        <host name='10.111.5.121' port='6789'/>\r\n        <host name='10.111.5.129' port='6789'/>\r\n      </source>\r\n      <backingStore/>\r\n      <target dev='vda' bus='virtio'/>\r\n      <serial>euca-bdm-ebs1-dev-vda</serial>\r\n      <alias name='virtio-disk0'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>\r\n    </disk>\r\n    <disk type='block' device='disk'>\r\n      <driver name='qemu' type='raw' cache='none'/>\r\n      <source dev='/var/lib/eucalyptus/instances/work/AIDACREWFLDRMN6UV4TPH/i-266901e6/link-to-vdc'/>\r\n      <backingStore/>\r\n      <target dev='vdc' bus='virtio'/>\r\n      <serial>euca-bdm-ephemeral0-dev-vdc</serial>\r\n      <boot order='3'/>\r\n      <alias name='virtio-disk2'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/>\r\n    </disk>\r\n    <disk type='network' device='disk'>\r\n      <driver name='qemu' type='raw'/>\r\n      <auth username='qauser'>\r\n        <secret type='ceph' uuid='7ae2bacf-86e4-41ec-8ba8-34a80d894920'/>\r\n      </auth>\r\n      <source protocol='rbd' name='eucaqa_vol/vol-4f2f16b3'>\r\n        <host name='10.111.5.124' port='6789'/>\r\n        <host name='10.111.5.121' port='6789'/>\r\n        <host name='10.111.5.129' port='6789'/>\r\n      </source>\r\n      <backingStore/>\r\n      <target dev='vdd' bus='virtio'/>\r\n      <serial>euca-bdm-ebs2-dev-vdd</serial>\r\n      <alias name='virtio-disk3'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/>\r\n    </disk>\r\n    <controller type='usb' index='0'>\r\n      <alias name='usb'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x01' function='0x2'/>\r\n    </controller>\r\n    <controller type='pci' index='0' model='pci-root'>\r\n      <alias name='pci.0'/>\r\n    </controller>\r\n    <interface type='bridge'>\r\n      <mac address='d0:0d:c1:3c:4a:11'/>\r\n      <source bridge='br0'/>\r\n      <target dev='vn_i-266901e6'/>\r\n      <model type='virtio'/>\r\n      <alias name='net0'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x02' function='0x0'/>\r\n    </interface>\r\n    <serial type='file'>\r\n      <source path='/var/lib/eucalyptus/instances/work/AIDACREWFLDRMN6UV4TPH/i-266901e6/console.log'/>\r\n      <target port='1'/>\r\n      <alias name='serial0'/>\r\n    </serial>\r\n    <console type='file'>\r\n      <source path='/var/lib/eucalyptus/instances/work/AIDACREWFLDRMN6UV4TPH/i-266901e6/console.log'/>\r\n      <target type='serial' port='1'/>\r\n      <alias name='serial0'/>\r\n    </console>\r\n    <memballoon model='virtio'>\r\n      <alias name='balloon0'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x06' function='0x0'/>\r\n    </memballoon>\r\n  </devices>\r\n  <seclabel type='dynamic' model='selinux' relabel='yes'>\r\n    <label>system_u:system_r:svirt_t:s0:c111,c984</label>\r\n    <imagelabel>system_u:object_r:svirt_image_t:s0:c111,c984</imagelabel>\r\n  </seclabel>\r\n</domain>\r\n\r\n[root@h-07 ~]#  virsh domblklist i-266901e6\r\nTarget     Source\r\n------------------------------------------------\r\nvda        eucaqa_vol/vol-f450fef7\r\nvdc        /var/lib/eucalyptus/instances/work/AIDACREWFLDRMN6UV4TPH/i-266901e6/link-to-vdc\r\nvdd        eucaqa_vol/vol-4f2f16b3\r\n{code} \r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/34901","id":"34901","filename":"cfn-instance-test-update4.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-27T20:45:28.885-0500","size":9806,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/34901/cfn-instance-test-update4.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/35000","id":"35000","filename":"cfn-instance-test-update4a.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-28T08:57:37.630-0500","size":9808,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/35000/cfn-instance-test-update4a.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/35001","id":"35001","filename":"cfn-instance-test-update4b.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-28T08:57:37.570-0500","size":9755,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/35001/cfn-instance-test-update4b.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/34900","id":"34900","filename":"cfn-instance-test-update5.json","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-27T20:45:29.099-0500","size":10033,"mimeType":"application/json","content":"https://eucalyptus.atlassian.net/secure/attachment/34900/cfn-instance-test-update5.json"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/41100","id":"41100","filename":"nc.log","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-28T17:42:48.859-0500","size":43645,"mimeType":"text/plain","content":"https://eucalyptus.atlassian.net/secure/attachment/41100/nc.log"}],"aggregatetimeestimate":null,"summary":"CFN UpdateStack: Instance Resource with Disable API Termination results with failed instance","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i03xmn:","aggregateprogress":{"progress":0,"total":0},"customfield_10000":"5_*:*_1_*:*_0_*|*_10000_*:*_1_*:*_157232072_*|*_10001_*:*_1_*:*_15722488183","customfield_10001":"2016-09-29T16:27:08.199-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["dmitrii(dmitrii)","ethomas(ethomas)","hspencer(hspencer)","sjones(sjones)"],"environment":"[hspencer-4836|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/4836/]","customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/110722","id":"110722","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Tested the same templates on AWS.  Results are below:\r\n\r\n# Deployed stack using linked {{cfn-instance-test-update4.json}} template (instance store-backed HVM instance):\r\n{code}\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation create-stack --stack-name InstanceTest --template-body file://cfn-instance-test-update4.json --parameters ParameterKey=KeyName,ParameterValue=marketing-hspencer-admin ParameterKey=ImageId,ParameterValue=ami-bf7fa3df ParameterKey=InstanceType,ParameterValue=m3.medium --profile hspencer-admin-marketing\r\narn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation describe-stacks --profile hspencer-admin-marketing\r\nSTACKS\t2016-09-27T18:10:31.593Z\tCloudformation UpdateStack #4: Enable DisableApiTermination on instance store-backed HVM instance\tFalse\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\tCREATE_COMPLETE\r\nOUTPUTS\tInstanceId of the newly created EC2 instance\tInstanceId\ti-f739bdef\r\nOUTPUTS\tPublic IP address of the newly created EC2 instance\tPublicIP\t54.71.187.147\r\nOUTPUTS\tAvailability Zone of the newly created EC2 instance\tAZ\tus-west-2a\r\nPARAMETERS\tKeyName\tmarketing-hspencer-admin\r\nPARAMETERS\tImageId\tami-bf7fa3df\r\nPARAMETERS\tInstanceType\tm3.medium\r\neuca-prod-1-82:~ haroldspencerjr$ curl -I 54.71.187.147\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.10.0 (Ubuntu)\r\nDate: Tue, 27 Sep 2016 18:29:01 GMT\r\nContent-Type: text/html\r\nContent-Length: 612\r\nLast-Modified: Tue, 27 Sep 2016 18:13:07 GMT\r\nConnection: keep-alive\r\nETag: \"57eab6b3-264\"\r\nAccept-Ranges: bytes\r\n\r\n{code}\r\n# Ran UpdateStack using linked {{cfn-instance-test-update5.json}} template (updated instance store-backed HVM instance to EBS-backed instance):\r\n{code}\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation update-stack --stack-name InstanceTest --template-body file://cfn-instance-test-update5.json --parameters ParameterKey=KeyName,ParameterValue=marketing-hspencer-admin ParameterKey=ImageId,ParameterValue=ami-167ba776 ParameterKey=InstanceType,ParameterValue=m3.medium --profile hspencer-admin-marketing\r\narn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation describe-stacks --profile hspencer-admin-marketing\r\nSTACKS\t2016-09-27T18:10:31.593Z\tCloudformation UpdateStack #5: Replace instance store-backed HVM with EBS-backed instance with block device mappings\tFalse\t2016-09-27T18:30:34.973Z\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\tUPDATE_COMPLETE_CLEANUP_IN_PROGRESS\r\nOUTPUTS\tInstanceId of the newly created EC2 instance\tInstanceId\ti-51c24549\r\nOUTPUTS\tPublic IP address of the newly created EC2 instance\tPublicIP\t54.71.187.147\r\nOUTPUTS\tAvailability Zone of the newly created EC2 instance\tAZ\tus-west-2a\r\nPARAMETERS\tKeyName\tmarketing-hspencer-admin\r\nPARAMETERS\tImageId\tami-167ba776\r\nPARAMETERS\tInstanceType\tm3.medium\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation describe-stacks --profile hspencer-admin-marketing\r\nSTACKS\t2016-09-27T18:10:31.593Z\tCloudformation UpdateStack #5: Replace instance store-backed HVM with EBS-backed instance with block device mappings\tFalse\t2016-09-27T18:30:34.973Z\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\tUPDATE_COMPLETE\tUpdate successful. One or more resources could not be deleted.\r\nOUTPUTS\tInstanceId of the newly created EC2 instance\tInstanceId\ti-51c24549\r\nOUTPUTS\tPublic IP address of the newly created EC2 instance\tPublicIP\t54.71.187.147\r\nOUTPUTS\tAvailability Zone of the newly created EC2 instance\tAZ\tus-west-2a\r\nPARAMETERS\tKeyName\tmarketing-hspencer-admin\r\nPARAMETERS\tImageId\tami-167ba776\r\nPARAMETERS\tInstanceType\tm3.medium\r\neuca-prod-1-82:~ haroldspencerjr$ curl -I 54.71.187.147\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.10.0 (Ubuntu)\r\nDate: Tue, 27 Sep 2016 20:12:01 GMT\r\nContent-Type: text/html\r\nContent-Length: 612\r\nLast-Modified: Tue, 27 Sep 2016 18:32:48 GMT\r\nConnection: keep-alive\r\nETag: \"57eabb50-264\"\r\nAccept-Ranges: bytes\r\n\r\n{code}\r\n\r\n# Output of stack events:\r\n{code}\r\neuca-prod-1-82:~ haroldspencerjr$ aws cloudformation describe-stack-events --stack-name InstanceTest --profile hspencer-admin-marketing\r\nSTACKEVENTS\t8f46d1f0-84e1-11e6-a40d-50a68a0e32ba\tInstanceTest\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\t\tUPDATE_COMPLETE\tUpdate successful. One or more resources could not be deleted.\tAWS::CloudFormation::Stack\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:38:18.715Z\r\nSTACKEVENTS\tInstance-76e7c3ba-f89d-4529-bcc0-5ebdfd03c3ce\tInstance\ti-f739bdef\t\tDELETE_FAILED\tThe instance 'i-f739bdef' may not be terminated. Modify its 'disableApiTermination' instance attribute and try again.\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:38:17.675Z\r\nSTACKEVENTS\tInstance-402354ea-3976-4c1d-85f2-5c019b35ae11\tInstance\ti-f739bdef\t\tDELETE_IN_PROGRESS\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:38:17.498Z\r\nSTACKEVENTS\tInstance-f536ac4c-1a1a-4c06-bfb8-66926d01b378\tInstance\ti-f739bdef\t\tDELETE_FAILED\tThe instance 'i-f739bdef' may not be terminated. Modify its 'disableApiTermination' instance attribute and try again.\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:35:14.601Z\r\nSTACKEVENTS\tInstance-8ab2efbb-82cf-4f17-bdd6-9118fae86488\tInstance\ti-f739bdef\t\tDELETE_IN_PROGRESS\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:35:14.150Z\r\nSTACKEVENTS\tInstance-496f167e-271c-43d8-8d0f-0bfa5eb4e6bd\tInstance\ti-f739bdef\t\tDELETE_FAILED\tThe instance 'i-f739bdef' may not be terminated. Modify its 'disableApiTermination' instance attribute and try again.\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:32:11.616Z\r\nSTACKEVENTS\tInstance-e37aca25-ae59-4d29-83a8-b1c95d25d876\tInstance\ti-f739bdef\t\tDELETE_IN_PROGRESS\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:32:11.332Z\r\nSTACKEVENTS\tb2d5de00-84e0-11e6-9447-503f2a2cee1e\tInstanceTest\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\t\tUPDATE_COMPLETE_CLEANUP_IN_PROGRESS\t\tAWS::CloudFormation::Stack\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:32:08.894Z\r\nSTACKEVENTS\tIPAddress-UPDATE_COMPLETE-2016-09-27T18:32:05.975Z\tIPAddress\t54.71.187.147\t{\"InstanceId\":\"i-51c24549\",\"Domain\":\"vpc\"}\r\n\tUPDATE_COMPLETE\t\tAWS::EC2::EIP\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:32:05.975Z\r\nSTACKEVENTS\tIPAddress-UPDATE_IN_PROGRESS-2016-09-27T18:31:33.613Z\tIPAddress\t54.71.187.147\t{\"InstanceId\":\"i-51c24549\",\"Domain\":\"vpc\"}\r\n\tUPDATE_IN_PROGRESS\t\tAWS::EC2::EIP\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:31:33.613Z\r\nSTACKEVENTS\tInstance-UPDATE_COMPLETE-2016-09-27T18:31:30.968Z\tInstance\ti-51c24549\t{\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-167ba776\",\"BlockDeviceMappings\":[{\"VirtualName\":\"ephemeral0\",\"DeviceName\":\"/dev/sdc\"},{\"Ebs\":{\"VolumeSize\":\"8\",\"DeleteOnTermination\":\"true\"},\"DeviceName\":\"/dev/sdd\"}],\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tUPDATE_COMPLETE\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:31:30.968Z\r\nSTACKEVENTS\tInstance-UPDATE_IN_PROGRESS-2016-09-27T18:30:43.899Z\tInstance\ti-51c24549\t{\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-167ba776\",\"BlockDeviceMappings\":[{\"VirtualName\":\"ephemeral0\",\"DeviceName\":\"/dev/sdc\"},{\"Ebs\":{\"VolumeSize\":\"8\",\"DeleteOnTermination\":\"true\"},\"DeviceName\":\"/dev/sdd\"}],\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tUPDATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:30:43.899Z\r\nSTACKEVENTS\tInstance-UPDATE_IN_PROGRESS-2016-09-27T18:30:41.881Z\tInstance\ti-f739bdef\t{\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-167ba776\",\"BlockDeviceMappings\":[{\"VirtualName\":\"ephemeral0\",\"DeviceName\":\"/dev/sdc\"},{\"Ebs\":{\"VolumeSize\":\"8\",\"DeleteOnTermination\":\"true\"},\"DeviceName\":\"/dev/sdd\"}],\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tUPDATE_IN_PROGRESS\tRequested update requires the creation of a new physical resource; hence creating one.\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:30:41.881Z\r\nSTACKEVENTS\t7addb630-84e0-11e6-973c-50a68a20128e\tInstanceTest\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\t\tUPDATE_IN_PROGRESS\tUser Initiated\tAWS::CloudFormation::Stack\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:30:34.973Z\r\nSTACKEVENTS\tfc1da960-84dd-11e6-9b94-50a686be738e\tInstanceTest\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\t\tCREATE_COMPLETE\t\tAWS::CloudFormation::Stack\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:12:43.343Z\r\nSTACKEVENTS\tIPAddress-CREATE_COMPLETE-2016-09-27T18:12:40.579Z\tIPAddress\t54.71.187.147\t{\"InstanceId\":\"i-f739bdef\",\"Domain\":\"vpc\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::EIP\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:12:40.579Z\r\nSTACKEVENTS\tIPAddress-CREATE_IN_PROGRESS-2016-09-27T18:12:09.224Z\tIPAddress\t54.71.187.147\t{\"InstanceId\":\"i-f739bdef\",\"Domain\":\"vpc\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::EIP\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:12:09.224Z\r\nSTACKEVENTS\tIPAddress-CREATE_IN_PROGRESS-2016-09-27T18:12:08.741Z\tIPAddress\t\t{\"InstanceId\":\"i-f739bdef\",\"Domain\":\"vpc\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::EIP\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:12:08.741Z\r\nSTACKEVENTS\tInstance-CREATE_COMPLETE-2016-09-27T18:12:06.010Z\tInstance\ti-f739bdef\t{\"DisableApiTermination\":\"true\",\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-bf7fa3df\",\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:12:06.010Z\r\nSTACKEVENTS\tSubnetRouteTableAssocaiation-CREATE_COMPLETE-2016-09-27T18:11:33.716Z\tSubnetRouteTableAssocaiation\trtbassoc-38c1fc5f\t{\"RouteTableId\":\"rtb-ea52858d\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::SubnetRouteTableAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:33.716Z\r\nSTACKEVENTS\tSubnetNetworkAclAssociation-CREATE_COMPLETE-2016-09-27T18:11:33.060Z\tSubnetNetworkAclAssociation\taclassoc-0a5fe672\t{\"NetworkAclId\":\"acl-6d85730a\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::SubnetNetworkAclAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:33.060Z\r\nSTACKEVENTS\tRoute-CREATE_COMPLETE-2016-09-27T18:11:32.324Z\tRoute\tInsta-Route-C2GL88YQCQFN\t{\"RouteTableId\":\"rtb-ea52858d\",\"DestinationCidrBlock\":\"0.0.0.0/0\",\"GatewayId\":\"igw-cc72d8a8\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::Route\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:32.324Z\r\nSTACKEVENTS\tInboundSSHNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:20.121Z\tInboundSSHNetworkAclEntry\tInsta-Inbou-1697B1L4B2GQ6\t{\"PortRange\":{\"From\":\"22\",\"To\":\"22\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:20.121Z\r\nSTACKEVENTS\tInboundHTTPNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:19.293Z\tInboundHTTPNetworkAclEntry\tInsta-Inbou-1MWLG5HARK3DU\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:19.293Z\r\nSTACKEVENTS\tInstance-CREATE_IN_PROGRESS-2016-09-27T18:11:18.957Z\tInstance\ti-f739bdef\t{\"DisableApiTermination\":\"true\",\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-bf7fa3df\",\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:18.957Z\r\nSTACKEVENTS\tOutBoundHTTPSNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:18.452Z\tOutBoundHTTPSNetworkAclEntry\tInsta-OutBo-2S5HCO5LNRM3\t{\"PortRange\":{\"From\":\"443\",\"To\":\"443\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:18.452Z\r\nSTACKEVENTS\tOutBoundHTTPNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:17.948Z\tOutBoundHTTPNetworkAclEntry\tInsta-OutBo-7H79C8H5XLG\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"100\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.948Z\r\nSTACKEVENTS\tSubnetRouteTableAssocaiation-CREATE_IN_PROGRESS-2016-09-27T18:11:17.940Z\tSubnetRouteTableAssocaiation\trtbassoc-38c1fc5f\t{\"RouteTableId\":\"rtb-ea52858d\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::SubnetRouteTableAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.940Z\r\nSTACKEVENTS\tInstance-CREATE_IN_PROGRESS-2016-09-27T18:11:17.892Z\tInstance\t\t{\"DisableApiTermination\":\"true\",\"KeyName\":\"marketing-hspencer-admin\",\"UserData\":\"I2Nsb3VkLWNvbmZpZwphcHRfdXBkYXRlOiB0cnVlCmFwdF91cGdyYWRlOiB0cnVlCmRpc2FibGVfcm9vdDogdHJ1ZQpydW5jbWQ6CiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIHB5dGhvbi1zZXR1cHRvb2xzIF0KIC0gWyBhcHQtZ2V0LCBpbnN0YWxsLCAteSwgbWxvY2F0ZSBdCiAtIFsgYXB0LWdldCwgaW5zdGFsbCwgLXksIG5naW54IF0K\",\"NetworkInterfaces\":[{\"DeviceIndex\":\"0\",\"GroupSet\":[\"sg-8afb58f3\"],\"SubnetId\":\"subnet-ba9aa4de\",\"AssociatePublicIpAddress\":\"true\"}],\"ImageId\":\"ami-bf7fa3df\",\"InstanceType\":\"m3.medium\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::Instance\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.892Z\r\nSTACKEVENTS\tOutboundResponsePortsNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:17.636Z\tOutboundResponsePortsNetworkAclEntry\tInsta-Outbo-1WHQ20A31LVLJ\t{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.636Z\r\nSTACKEVENTS\tInboundResponsePortsNetworkAclEntry-CREATE_COMPLETE-2016-09-27T18:11:17.597Z\tInboundResponsePortsNetworkAclEntry\tInsta-Inbou-ZTR139NIJNX9\t{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"103\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.597Z\r\nSTACKEVENTS\tSubnetNetworkAclAssociation-CREATE_IN_PROGRESS-2016-09-27T18:11:17.523Z\tSubnetNetworkAclAssociation\taclassoc-0a5fe672\t{\"NetworkAclId\":\"acl-6d85730a\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::SubnetNetworkAclAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.523Z\r\nSTACKEVENTS\tSubnetRouteTableAssocaiation-CREATE_IN_PROGRESS-2016-09-27T18:11:17.289Z\tSubnetRouteTableAssocaiation\t\t{\"RouteTableId\":\"rtb-ea52858d\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::SubnetRouteTableAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:17.289Z\r\nSTACKEVENTS\tSubnetNetworkAclAssociation-CREATE_IN_PROGRESS-2016-09-27T18:11:16.860Z\tSubnetNetworkAclAssociation\t\t{\"NetworkAclId\":\"acl-6d85730a\",\"SubnetId\":\"subnet-ba9aa4de\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::SubnetNetworkAclAssociation\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:16.860Z\r\nSTACKEVENTS\tRoute-CREATE_IN_PROGRESS-2016-09-27T18:11:16.683Z\tRoute\tInsta-Route-C2GL88YQCQFN\t{\"RouteTableId\":\"rtb-ea52858d\",\"DestinationCidrBlock\":\"0.0.0.0/0\",\"GatewayId\":\"igw-cc72d8a8\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::Route\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:16.683Z\r\nSTACKEVENTS\tRoute-CREATE_IN_PROGRESS-2016-09-27T18:11:16.026Z\tRoute\t\t{\"RouteTableId\":\"rtb-ea52858d\",\"DestinationCidrBlock\":\"0.0.0.0/0\",\"GatewayId\":\"igw-cc72d8a8\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::Route\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:16.026Z\r\nSTACKEVENTS\tSecurityGroup-CREATE_COMPLETE-2016-09-27T18:11:15.279Z\tSecurityGroup\tsg-8afb58f3\t{\"GroupDescription\":\"Security Group with Ingress Rule for Instance\",\"VpcId\":\"vpc-00203664\",\"SecurityGroupIngress\":[{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"22\",\"ToPort\":\"22\",\"IpProtocol\":\"tcp\"},{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"80\",\"ToPort\":\"80\",\"IpProtocol\":\"tcp\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::SecurityGroup\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:15.279Z\r\nSTACKEVENTS\tSubnet-CREATE_COMPLETE-2016-09-27T18:11:14.452Z\tSubnet\tsubnet-ba9aa4de\t{\"VpcId\":\"vpc-00203664\",\"CidrBlock\":\"10.0.0.0/24\",\"AvailabilityZone\":\"us-west-2a\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::Subnet\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:14.452Z\r\nSTACKEVENTS\tSecurityGroup-CREATE_IN_PROGRESS-2016-09-27T18:11:13.821Z\tSecurityGroup\tsg-8afb58f3\t{\"GroupDescription\":\"Security Group with Ingress Rule for Instance\",\"VpcId\":\"vpc-00203664\",\"SecurityGroupIngress\":[{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"22\",\"ToPort\":\"22\",\"IpProtocol\":\"tcp\"},{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"80\",\"ToPort\":\"80\",\"IpProtocol\":\"tcp\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::SecurityGroup\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:13.821Z\r\nSTACKEVENTS\tAttachGateway-CREATE_COMPLETE-2016-09-27T18:11:13.606Z\tAttachGateway\tInsta-Attac-Q1ZDDA033JAV\t{\"InternetGatewayId\":\"igw-cc72d8a8\",\"VpcId\":\"vpc-00203664\"}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::VPCGatewayAttachment\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:13.606Z\r\nSTACKEVENTS\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:04.532Z\tInboundSSHNetworkAclEntry\tInsta-Inbou-1697B1L4B2GQ6\t{\"PortRange\":{\"From\":\"22\",\"To\":\"22\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:04.532Z\r\nSTACKEVENTS\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:03.767Z\tInboundHTTPNetworkAclEntry\tInsta-Inbou-1MWLG5HARK3DU\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:03.767Z\r\nSTACKEVENTS\tOutBoundHTTPSNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:02.821Z\tOutBoundHTTPSNetworkAclEntry\tInsta-OutBo-2S5HCO5LNRM3\t{\"PortRange\":{\"From\":\"443\",\"To\":\"443\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:02.821Z\r\nSTACKEVENTS\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:02.629Z\tInboundHTTPNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:02.629Z\r\nSTACKEVENTS\tOutBoundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:02.408Z\tOutBoundHTTPNetworkAclEntry\tInsta-OutBo-7H79C8H5XLG\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"100\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:02.408Z\r\nSTACKEVENTS\tOutboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:02.106Z\tOutboundResponsePortsNetworkAclEntry\tInsta-Outbo-1WHQ20A31LVLJ{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:02.106Z\r\nSTACKEVENTS\tInboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:02.085Z\tInboundResponsePortsNetworkAclEntry\tInsta-Inbou-ZTR139NIJNX9\t{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"103\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:02.085Z\r\nSTACKEVENTS\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:01.675Z\tInboundSSHNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"22\",\"To\":\"22\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:01.675Z\r\nSTACKEVENTS\tOutBoundHTTPSNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:01.640Z\tOutBoundHTTPSNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"443\",\"To\":\"443\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"101\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:01.640Z\r\nSTACKEVENTS\tOutBoundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:01.362Z\tOutBoundHTTPNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"80\",\"To\":\"80\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"100\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:01.362Z\r\nSTACKEVENTS\tOutboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:01.242Z\tOutboundResponsePortsNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"102\",\"Egress\":\"true\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:01.242Z\r\nSTACKEVENTS\tInboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-2016-09-27T18:11:01.210Z\tInboundResponsePortsNetworkAclEntry\t\t{\"PortRange\":{\"From\":\"1024\",\"To\":\"65535\"},\"NetworkAclId\":\"acl-6d85730a\",\"RuleAction\":\"allow\",\"CidrBlock\":\"0.0.0.0/0\",\"RuleNumber\":\"103\",\"Egress\":\"false\",\"Protocol\":\"6\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAclEntry\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:11:01.210Z\r\nSTACKEVENTS\tNetworkAcl-CREATE_COMPLETE-2016-09-27T18:10:58.819Z\tNetworkAcl\tacl-6d85730a\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::NetworkAcl\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:58.819Z\r\nSTACKEVENTS\tRouteTable-CREATE_COMPLETE-2016-09-27T18:10:58.574Z\tRouteTable\trtb-ea52858d\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::RouteTable\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:58.574Z\r\nSTACKEVENTS\tSubnet-CREATE_IN_PROGRESS-2016-09-27T18:10:58.263Z\tSubnet\tsubnet-ba9aa4de\t{\"VpcId\":\"vpc-00203664\",\"CidrBlock\":\"10.0.0.0/24\",\"AvailabilityZone\":\"us-west-2a\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::Subnet\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:58.263Z\r\nSTACKEVENTS\tAttachGateway-CREATE_IN_PROGRESS-2016-09-27T18:10:58.074Z\tAttachGateway\tInsta-Attac-Q1ZDDA033JAV\t{\"InternetGatewayId\":\"igw-cc72d8a8\",\"VpcId\":\"vpc-00203664\"}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::VPCGatewayAttachment\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:58.074Z\r\nSTACKEVENTS\tNetworkAcl-CREATE_IN_PROGRESS-2016-09-27T18:10:57.873Z\tNetworkAcl\tacl-6d85730a\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::NetworkAcl\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.873Z\r\nSTACKEVENTS\tSubnet-CREATE_IN_PROGRESS-2016-09-27T18:10:57.754Z\tSubnet\t\t{\"VpcId\":\"vpc-00203664\",\"CidrBlock\":\"10.0.0.0/24\",\"AvailabilityZone\":\"us-west-2a\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::Subnet\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.754Z\r\nSTACKEVENTS\tSecurityGroup-CREATE_IN_PROGRESS-2016-09-27T18:10:57.673Z\tSecurityGroup\t\t{\"GroupDescription\":\"Security Group with Ingress Rule for Instance\",\"VpcId\":\"vpc-00203664\",\"SecurityGroupIngress\":[{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"22\",\"ToPort\":\"22\",\"IpProtocol\":\"tcp\"},{\"CidrIp\":\"0.0.0.0/0\",\"FromPort\":\"80\",\"ToPort\":\"80\",\"IpProtocol\":\"tcp\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::SecurityGroup\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.673Z\r\nSTACKEVENTS\tRouteTable-CREATE_IN_PROGRESS-2016-09-27T18:10:57.669Z\tRouteTable\trtb-ea52858d\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::RouteTable\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.669Z\r\nSTACKEVENTS\tAttachGateway-CREATE_IN_PROGRESS-2016-09-27T18:10:57.666Z\tAttachGateway\t\t{\"InternetGatewayId\":\"igw-cc72d8a8\",\"VpcId\":\"vpc-00203664\"}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::VPCGatewayAttachment\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.666Z\r\nSTACKEVENTS\tNetworkAcl-CREATE_IN_PROGRESS-2016-09-27T18:10:57.470Z\tNetworkAcl\t\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::NetworkAcl\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.470Z\r\nSTACKEVENTS\tRouteTable-CREATE_IN_PROGRESS-2016-09-27T18:10:57.261Z\tRouteTable\t\t{\"VpcId\":\"vpc-00203664\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::RouteTable\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:57.261Z\r\nSTACKEVENTS\tVPC-CREATE_COMPLETE-2016-09-27T18:10:55.135Z\tVPC\tvpc-00203664\t{\"InstanceTenancy\":\"default\",\"CidrBlock\":\"10.0.0.0/16\",\"EnableDnsSupport\":\"True\",\"EnableDnsHostnames\":\"True\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::VPC\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:55.135Z\r\nSTACKEVENTS\tInternetGateway-CREATE_COMPLETE-2016-09-27T18:10:52.256Z\tInternetGateway\tigw-cc72d8a8\t{\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_COMPLETE\t\tAWS::EC2::InternetGateway\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:52.256Z\r\nSTACKEVENTS\tInternetGateway-CREATE_IN_PROGRESS-2016-09-27T18:10:36.096Z\tInternetGateway\tigw-cc72d8a8\t{\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::InternetGateway\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:36.096Z\r\nSTACKEVENTS\tVPC-CREATE_IN_PROGRESS-2016-09-27T18:10:35.886Z\tVPC\tvpc-00203664\t{\"InstanceTenancy\":\"default\",\"CidrBlock\":\"10.0.0.0/16\",\"EnableDnsSupport\":\"True\",\"EnableDnsHostnames\":\"True\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\tResource creation Initiated\tAWS::EC2::VPC\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:35.886Z\r\nSTACKEVENTS\tInternetGateway-CREATE_IN_PROGRESS-2016-09-27T18:10:35.455Z\tInternetGateway\t\t{\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::InternetGateway\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:35.455Z\r\nSTACKEVENTS\tVPC-CREATE_IN_PROGRESS-2016-09-27T18:10:35.393Z\tVPC\t\t{\"InstanceTenancy\":\"default\",\"CidrBlock\":\"10.0.0.0/16\",\"EnableDnsSupport\":\"True\",\"EnableDnsHostnames\":\"True\",\"Tags\":[{\"Value\":\"arn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\",\"Key\":\"Application\"}]}\r\n\tCREATE_IN_PROGRESS\t\tAWS::EC2::VPC\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:35.393Z\r\nSTACKEVENTS\tad8f0910-84dd-11e6-a258-50d5ca789eae\tInstanceTest\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\t\tCREATE_IN_PROGRESS\tUser Initiated\tAWS::CloudFormation::Stack\tarn:aws:cloudformation:us-west-2:017179026131:stack/InstanceTest/ad8df7a0-84dd-11e6-a258-50d5ca789eae\tInstanceTest\t2016-09-27T18:10:31.593Z\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-27T20:52:45.504-0500","updated":"2016-09-27T20:52:45.504-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/110802","id":"110802","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Seems like the issue is around the {{DisableApiTermination}} property.  I ran another test where I used the same instance but modified only the instance attribute {{DisableApiTermination}}.  Same result:\r\n# Differences between templates:\r\n{code}\r\n[root@g-22-04 ~]# diff cfn-instance-test-update4a.json cfn-instance-test-update4b.json\r\n5c5\r\n<     \"Description\" : \"Cloudformation UpdateStack #4-A: Enable DisableApiTermination on instance store-backed HVM instance\",\r\n---\r\n>     \"Description\" : \"Cloudformation UpdateStack #4-B: Disable DisableApiTermination on instance store-backed HVM instance\",\r\n222d221\r\n<                     \"DisableApiTermination\" : \"true\",\r\n{code}\r\n# Deployed stack using linked {{cfn-instance-test-update4a.json}} template:\r\n{code}\r\n[root@g-22-04 ~]# euform-create-stack InstanceTest --template-file cfn-instance-test-update4a.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tInstanceTest\tCREATE_COMPLETE\t\tCloudformation UpdateStack #4-A: Enable DisableApiTermination on instance store-backed HVM instance\t2016-09-28T13:10:11.381Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\tsales-admin\r\nOUTPUT\tInstanceId\ti-361de541\r\nOUTPUT\tAZ\tds2\r\nOUTPUT\tPublicIP\t10.116.155.136\r\n[root@g-22-04 ~]# curl -I 10.116.155.136\r\nHTTP/1.1 200 OK\r\nServer: nginx/1.10.0 (Ubuntu)\r\nDate: Wed, 28 Sep 2016 13:43:51 GMT\r\nContent-Type: text/html\r\nContent-Length: 612\r\nLast-Modified: Wed, 28 Sep 2016 13:14:16 GMT\r\nConnection: keep-alive\r\nETag: \"57ebc228-264\"\r\nAccept-Ranges: bytes\r\n\r\n{code}\r\n# Ran UpdateStack using linked {{cfn-instance-test-update4b.json}} template with deployed stack:\r\n{code}\r\n[root@g-22-04 ~]# euform-update-stack InstanceTest --template-file cfn-instance-test-update4b.json --parameter ImageId=emi-d978f0ca --parameter KeyName=sales-admin --region sales-admin@\r\narn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\r\n[root@g-22-04 ~]# euform-describe-stacks --region sales-admin@\r\nSTACK\tInstanceTest\tUPDATE_COMPLETE\t\tCloudformation UpdateStack #4-B: Disable DisableApiTermination on instance store-backed HVM instance\t2016-09-28T13:10:11.381Z\r\nPARAMETER\tImageId\t\temi-d978f0ca\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\tsales-admin\r\nOUTPUT\tInstanceId\ti-361de541\r\nOUTPUT\tAZ\tds2\r\nOUTPUT\tPublicIP\t10.116.155.136\r\n[root@g-22-04 ~]# curl -I 10.116.155.136\r\n^C\r\n{code}\r\n# Confirmed {{--disable-api-termination}} attribute correctly changed:\r\n{code}\r\n[root@g-22-04 ~]# euca-describe-instance-attribute --disable-api-termination i-361de541 --region sales-admin@\r\ndisableApiTermination\ti-361de541\tfalse\r\n{code}\r\n# List of stack events:\r\n{code}\r\n[root@g-22-04 ~]# euform-describe-stack-events InstanceTest --region sales-admin@\r\nEVENT\tInstanceTest\t0324afd5-de4f-435e-be97-76d83a531c01\tAWS::CloudFormation::Stack\tInstanceTest\tarn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\t2016-09-28T13:44:42.023Z\tUPDATE_COMPLETE\r\nEVENT\tInstanceTest\t882d32c4-f9b7-4aef-b26d-3a5cf1b267bc\tAWS::CloudFormation::Stack\tInstanceTest\tarn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\t2016-09-28T13:44:32.526Z\tUPDATE_COMPLETE_CLEANUP_IN_PROGRESS\r\nEVENT\tInstanceTest\tIPAddress-UPDATE_COMPLETE-1475070272090\tAWS::EC2::EIP\tIPAddress\t10.116.155.136\t2016-09-28T13:44:32.090Z\tUPDATE_COMPLETE\r\nEVENT\tInstanceTest\tIPAddress-UPDATE_IN_PROGRESS-1475070271456\tAWS::EC2::EIP\tIPAddress\t10.116.155.136\t2016-09-28T13:44:31.456Z\tUPDATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tInstance-UPDATE_COMPLETE-1475070270905\tAWS::EC2::Instance\tInstance\ti-361de541\t2016-09-28T13:44:30.905Z\tUPDATE_COMPLETE\r\nEVENT\tInstanceTest\tInstance-UPDATE_IN_PROGRESS-1475070268392\tAWS::EC2::Instance\tInstance\ti-361de541\t2016-09-28T13:44:28.392Z\tUPDATE_IN_PROGRESS\r\nEVENT\tInstanceTest\t92dbb1e7-dc0b-45be-bac9-a4f1f9e3eebd\tAWS::CloudFormation::Stack\tInstanceTest\tarn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\t2016-09-28T13:44:25.417Z\tUPDATE_IN_PROGRESS\tUser Initiated\r\nEVENT\tInstanceTest\tafcbc3b1-7f79-4065-80cf-3a0946ba0d61\tAWS::CloudFormation::Stack\tInstanceTest\tarn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\t2016-09-28T13:11:10.655Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tIPAddress-CREATE_COMPLETE-1475068269894\tAWS::EC2::EIP\tIPAddress\t10.116.155.136\t2016-09-28T13:11:09.894Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tIPAddress-CREATE_IN_PROGRESS-1475068268852\tAWS::EC2::EIP\tIPAddress\t10.116.155.136\t2016-09-28T13:11:08.852Z\tCREATE_IN_PROGRESSResource creation Initiated\r\nEVENT\tInstanceTest\tIPAddress-CREATE_IN_PROGRESS-1475068268470\tAWS::EC2::EIP\tIPAddress\t\t2016-09-28T13:11:08.470Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tInstance-CREATE_COMPLETE-1475068267845\tAWS::EC2::Instance\tInstance\ti-361de541\t2016-09-28T13:11:07.845Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tInstance-CREATE_IN_PROGRESS-1475068221726\tAWS::EC2::Instance\tInstance\ti-361de541\t2016-09-28T13:10:21.726Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tSubnetNetworkAclAssociation-CREATE_COMPLETE-1475068221382\tAWS::EC2::SubnetNetworkAclAssociation\tSubnetNetworkAclAssociation\taclassoc-cfca91bf\t2016-09-28T13:10:21.382Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tSubnetRouteTableAssocaiation-CREATE_COMPLETE-1475068221324\tAWS::EC2::SubnetRouteTableAssociation\tSubnetRouteTableAssocaiation\trtbassoc-9007ea73\t2016-09-28T13:10:21.324Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tSubnetNetworkAclAssociation-CREATE_IN_PROGRESS-1475068220940\tAWS::EC2::SubnetNetworkAclAssociation\tSubnetNetworkAclAssociation\taclassoc-cfca91bf\t2016-09-28T13:10:20.940Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tSubnetRouteTableAssocaiation-CREATE_IN_PROGRESS-1475068220836\tAWS::EC2::SubnetRouteTableAssociation\tSubnetRouteTableAssocaiation\trtbassoc-9007ea73\t2016-09-28T13:10:20.836Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInstance-CREATE_IN_PROGRESS-1475068220807\tAWS::EC2::Instance\tInstance\t\t2016-09-28T13:10:20.807Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tOutboundResponsePortsNetworkAclEntry-CREATE_COMPLETE-1475068220015\tAWS::EC2::NetworkAclEntry\tOutboundResponsePortsNetworkAclEntry\tInstanceTest-OutboundResponsePortsNetworkAclEntry-UCY2VCJQFFFFO\t2016-09-28T13:10:20.015Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tOutBoundHTTPSNetworkAclEntry-CREATE_COMPLETE-1475068219974\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPSNetworkAclEntry\tInstanceTest-OutBoundHTTPSNetworkAclEntry-TSNGANJLRXUNM\t2016-09-28T13:10:19.974Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tInboundResponsePortsNetworkAclEntry-CREATE_COMPLETE-1475068219941\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\tInstanceTest-InboundResponsePortsNetworkAclEntry-A1MYORQ2A3LGE\t2016-09-28T13:10:19.941Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tInboundSSHNetworkAclEntry-CREATE_COMPLETE-1475068219907\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tInstanceTest-InboundSSHNetworkAclEntry-HJIJZ9X1USNCF\t2016-09-28T13:10:19.907Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tInboundHTTPNetworkAclEntry-CREATE_COMPLETE-1475068219874\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tInstanceTest-InboundHTTPNetworkAclEntry-MTXW568HMHCWE\t2016-09-28T13:10:19.874Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tOutBoundHTTPNetworkAclEntry-CREATE_COMPLETE-1475068219840\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPNetworkAclEntry\tInstanceTest-OutBoundHTTPNetworkAclEntry-6EJDSL3YWSKQP\t2016-09-28T13:10:19.840Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tRoute-CREATE_COMPLETE-1475068219480\tAWS::EC2::Route\tRoute\tInstanceTest-Route-NRKRHQHL9QPC2\t2016-09-28T13:10:19.480Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tSubnetNetworkAclAssociation-CREATE_IN_PROGRESS-1475068219446\tAWS::EC2::SubnetNetworkAclAssociation\tSubnetNetworkAclAssociation\t\t2016-09-28T13:10:19.446Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tSubnetRouteTableAssocaiation-CREATE_IN_PROGRESS-1475068219321\tAWS::EC2::SubnetRouteTableAssociation\tSubnetRouteTableAssocaiation\t\t2016-09-28T13:10:19.321Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tOutboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-1475068219016\tAWS::EC2::NetworkAclEntry\tOutboundResponsePortsNetworkAclEntry\tInstanceTest-OutboundResponsePortsNetworkAclEntry-UCY2VCJQFFFFO\t2016-09-28T13:10:19.016Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tOutBoundHTTPSNetworkAclEntry-CREATE_IN_PROGRESS-1475068218993\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPSNetworkAclEntry\tInstanceTest-OutBoundHTTPSNetworkAclEntry-TSNGANJLRXUNM\t2016-09-28T13:10:18.993Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tOutBoundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1475068218949\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPNetworkAclEntry\tInstanceTest-OutBoundHTTPNetworkAclEntry-6EJDSL3YWSKQP\t2016-09-28T13:10:18.949Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-1475068218811\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\tInstanceTest-InboundResponsePortsNetworkAclEntry-A1MYORQ2A3LGE\t2016-09-28T13:10:18.811Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1475068218766\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\tInstanceTest-InboundHTTPNetworkAclEntry-MTXW568HMHCWE\t2016-09-28T13:10:18.766Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-1475068218724\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\tInstanceTest-InboundSSHNetworkAclEntry-HJIJZ9X1USNCF\t2016-09-28T13:10:18.724Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tRoute-CREATE_IN_PROGRESS-1475068218524\tAWS::EC2::Route\tRoute\tInstanceTest-Route-NRKRHQHL9QPC2\t2016-09-28T13:10:18.524Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tSecurityGroup-CREATE_COMPLETE-1475068218304\tAWS::EC2::SecurityGroup\tSecurityGroup\tsg-d04f12a1\t2016-09-28T13:10:18.304Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tOutboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-1475068218013\tAWS::EC2::NetworkAclEntry\tOutboundResponsePortsNetworkAclEntry\t\t2016-09-28T13:10:18.013Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tOutBoundHTTPSNetworkAclEntry-CREATE_IN_PROGRESS-1475068217971\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPSNetworkAclEntry\t\t2016-09-28T13:10:17.971Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tOutBoundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1475068217938\tAWS::EC2::NetworkAclEntry\tOutBoundHTTPNetworkAclEntry\t\t2016-09-28T13:10:17.938Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tInboundResponsePortsNetworkAclEntry-CREATE_IN_PROGRESS-1475068217905\tAWS::EC2::NetworkAclEntry\tInboundResponsePortsNetworkAclEntry\t\t2016-09-28T13:10:17.905Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tInboundHTTPNetworkAclEntry-CREATE_IN_PROGRESS-1475068217871\tAWS::EC2::NetworkAclEntry\tInboundHTTPNetworkAclEntry\t\t2016-09-28T13:10:17.871Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tInboundSSHNetworkAclEntry-CREATE_IN_PROGRESS-1475068217840\tAWS::EC2::NetworkAclEntry\tInboundSSHNetworkAclEntry\t\t2016-09-28T13:10:17.840Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tRoute-CREATE_IN_PROGRESS-1475068217554\tAWS::EC2::Route\tRoute\t\t2016-09-28T13:10:17.554Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tSubnet-CREATE_COMPLETE-1475068217312\tAWS::EC2::Subnet\tSubnet\tsubnet-db192673\t2016-09-28T13:10:17.312Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tNetworkAcl-CREATE_COMPLETE-1475068216371\tAWS::EC2::NetworkAcl\tNetworkAcl\tacl-c3ad5b91\t2016-09-28T13:10:16.371Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tRouteTable-CREATE_COMPLETE-1475068216154\tAWS::EC2::RouteTable\tRouteTable\trtb-533e9b9d\t2016-09-28T13:10:16.154Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tAttachGateway-CREATE_COMPLETE-1475068215579\tAWS::EC2::VPCGatewayAttachment\tAttachGateway\tInstanceTest-AttachGateway-CS96UKHE0HI7T\t2016-09-28T13:10:15.579Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tSecurityGroup-CREATE_IN_PROGRESS-1475068215407\tAWS::EC2::SecurityGroup\tSecurityGroup\tsg-d04f12a1\t2016-09-28T13:10:15.407Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tSubnet-CREATE_IN_PROGRESS-1475068215349\tAWS::EC2::Subnet\tSubnet\tsubnet-db192673\t2016-09-28T13:10:15.349Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tNetworkAcl-CREATE_IN_PROGRESS-1475068215248\tAWS::EC2::NetworkAcl\tNetworkAcl\tacl-c3ad5b91\t2016-09-28T13:10:15.248Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tRouteTable-CREATE_IN_PROGRESS-1475068215216\tAWS::EC2::RouteTable\tRouteTable\trtb-533e9b9d\t2016-09-28T13:10:15.216Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tAttachGateway-CREATE_IN_PROGRESS-1475068215169\tAWS::EC2::VPCGatewayAttachment\tAttachGateway\tInstanceTest-AttachGateway-CS96UKHE0HI7T\t2016-09-28T13:10:15.169Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tSecurityGroup-CREATE_IN_PROGRESS-1475068214809\tAWS::EC2::SecurityGroup\tSecurityGroup\t\t2016-09-28T13:10:14.809Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tNetworkAcl-CREATE_IN_PROGRESS-1475068214775\tAWS::EC2::NetworkAcl\tNetworkAcl\t\t2016-09-28T13:10:14.775Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tRouteTable-CREATE_IN_PROGRESS-1475068214750\tAWS::EC2::RouteTable\tRouteTable\t\t2016-09-28T13:10:14.750Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tSubnet-CREATE_IN_PROGRESS-1475068214725\tAWS::EC2::Subnet\tSubnet\t\t2016-09-28T13:10:14.725Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tAttachGateway-CREATE_IN_PROGRESS-1475068214717\tAWS::EC2::VPCGatewayAttachment\tAttachGateway\t\t2016-09-28T13:10:14.717Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tVPC-CREATE_COMPLETE-1475068214050\tAWS::EC2::VPC\tVPC\tvpc-4e0866fd\t2016-09-28T13:10:14.050Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tInternetGateway-CREATE_COMPLETE-1475068213508\tAWS::EC2::InternetGateway\tInternetGateway\tigw-bd749a1a\t2016-09-28T13:10:13.508Z\tCREATE_COMPLETE\r\nEVENT\tInstanceTest\tVPC-CREATE_IN_PROGRESS-1475068213030\tAWS::EC2::VPC\tVPC\tvpc-4e0866fd\t2016-09-28T13:10:13.030Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInternetGateway-CREATE_IN_PROGRESS-1475068212845\tAWS::EC2::InternetGateway\tInternetGateway\tigw-bd749a1a\t2016-09-28T13:10:12.845Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tInstanceTest\tInternetGateway-CREATE_IN_PROGRESS-1475068212399\tAWS::EC2::InternetGateway\tInternetGateway\t\t2016-09-28T13:10:12.399Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\tVPC-CREATE_IN_PROGRESS-1475068212390\tAWS::EC2::VPC\tVPC\t\t2016-09-28T13:10:12.390Z\tCREATE_IN_PROGRESS\r\nEVENT\tInstanceTest\t3362a7c5-2121-4776-833c-cc2830799bcd\tAWS::CloudFormation::Stack\tInstanceTest\tarn:aws:cloudformation::002598321247:stack/InstanceTest/3a5d2fef-be4d-4f6a-80e3-3f9d4e85dbba\t2016-09-28T13:10:11.791Z\tCREATE_IN_PROGRESS\tUser Initiated\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2016-09-28T09:09:40.040-0500","updated":"2016-09-28T09:09:40.040-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/110916","id":"110916","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"body":"Let's consider implications and probably move to 4.4","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmitrii","name":"dmitrii","key":"dmitrii","accountId":"557058:1e0ea807-434b-4b54-967f-1dec4a9ede55","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/efb56b507e22d4fc0d8d5e900e5651d5?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddmitrii%26avatarId%3D15900%26noRedirect%3Dtrue"},"displayName":"Dmitrii Calzago","active":false,"timeZone":"America/Los_Angeles"},"created":"2016-09-29T16:27:08.199-0500","updated":"2016-09-29T16:27:08.199-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/119604","id":"119604","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"body":"[~hspencer]Can you find the images that cause this error to occur?  I haven't been able to reproduce this.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ethomas","name":"ethomas","key":"ethomas","accountId":"557058:8f092f9a-0724-44c0-84a3-0220705f856a","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/a01d066493c57e5dee4b94dc87395576?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"Evan Thomas","active":false,"timeZone":"America/Los_Angeles"},"created":"2017-03-17T12:12:22.319-0500","updated":"2017-03-17T12:12:22.319-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/119917","id":"119917","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"[~ethomas],\r\n\r\nSo I was able to reproduce the behavior I mentioned [here (comment from 28/Sept/16)|https://eucalyptus.atlassian.net/browse/EUCA-12786?focusedCommentId=110802&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-110802].  From what I saw in the logs on the NC where the instance is running, when I perform an {{UpdateStack}} using {{cfn-instance-test-update4b.json}}, I am not able to SSH into the instance.  IMO, this is what is causing the originally reported issue (i.e. The {{UpdateStack}} completed, but accessing the instance that couldn't be terminated through any port resulted in curl hanging).  Here is what I saw in the {{nc.log}}:\r\n\r\n{code}\r\n[root@h-05 ~]# tail -f /var/log/eucalyptus/nc.log | grep i-3eb81fc8\r\n2017-03-28 15:28:01 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:07 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:13 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:19 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:25 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:31 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:37 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:44 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:49 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:28:55 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:01 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:05 DEBUG 000016065 attach_or_detach         | [i-3eb81fc8] compare local network state with gni\r\n2017-03-28 15:29:05 DEBUG 000016065 attach_or_detach         | [i-3eb81fc8] no secondary network interfaces found in gni\r\n2017-03-28 15:29:07 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:13 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:19 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:26 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n2017-03-28 15:29:31 DEBUG 000016065 doDescribeInstances      | [i-3eb81fc8] Extant (running) pub=0.0.0.0 vols=\r\n{code}\r\n\r\nAfter the {{attach_or_detach}} runs, networking to the instance stops working (e.g. I could SSH into the instance after {{CreateStack}} completed, but after {{UpdateStack}} completed, it failed).  The image I used can be found here:\r\n\r\nhttp://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img\r\n\r\nWhen you download the image, you will have to use {{qemu-img}} to convert it to raw.  From there, you can use {{euca-install-image}} to bundle, upload and register the machine image.  The steps I used are below:\r\n\r\n{code}\r\n[root@e-18 ~]#  wget http://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img\r\n[root@e-18 ~]# qemu-img convert -O raw xenial-server-cloudimg-amd64-disk1.img xenial-server-cloudimg-amd64-disk1.raw\r\n[root@e-18 ~]# euca-install-image -i xenial-server-cloudimg-amd64-disk1.raw -b ubuntu-xenial-x86_64-hvm-20170328 -n ubuntu-xenial-x86_64-hvm --arch x86_64 --virtualization-type hvm --region eng-admin@\r\n{code}\r\n\r\nI attached the {{nc.log}} where the instance (i-3eb81fc8) was launched to this ticket. Let me know if you need additional information.   [^nc.log] ","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-28T17:42:49.794-0500","updated":"2017-03-28T17:42:49.794-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/119922","id":"119922","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"Looks like the security group for the instance is reset to the default for the vpc when the instance is updated:\r\n\r\n{code}\r\n#\r\n# euform-create-stack --template-file cfn-instance-test-update-4a.json --parameter ImageId=emi-8c527d23 --parameter KeyName=root instance-test-update-1\r\narn:aws:cloudformation::000202537975:stack/instance-test-update-1/bb87718a-b346-440f-83bb-164aa57e382e\r\n# \r\n# \r\n# euform-describe-stacks instance-test-update-1\r\nSTACK\tinstance-test-update-1\tCREATE_COMPLETE\t\tCloudformation UpdateStack #4-A: Enable DisableApiTermination on instance store-backed HVM instance\t2017-03-29T04:39:20.394Z\r\nPARAMETER\tImageId\t\temi-8c527d23\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\troot\r\nOUTPUT\tInstanceId\ti-8832e2ae\r\nOUTPUT\tAZ\tone\r\nOUTPUT\tPublicIP\t10.116.155.44\r\n# \r\n# \r\n# euca-describe-instance-attribute -g i-8832e2ae\r\ngroupSet\ti-8832e2ae\tsg-ec7b6e18\r\n# \r\n# \r\n# euform-update-stack --template-file cfn-instance-test-update-4b.json --parameter ImageId=emi-8c527d23 --parameter KeyName=root instance-test-update-1\r\narn:aws:cloudformation::000202537975:stack/instance-test-update-1/bb87718a-b346-440f-83bb-164aa57e382e\r\n# \r\n# \r\n# euform-describe-stacks instance-test-update-1\r\nSTACK\tinstance-test-update-1\tUPDATE_COMPLETE\t\tCloudformation UpdateStack #4-B: Disable DisableApiTermination on instance store-backed HVM instance\t2017-03-29T04:39:20.394Z\r\nPARAMETER\tImageId\t\temi-8c527d23\r\nPARAMETER\tInstanceType\t\tm1.medium\r\nPARAMETER\tKeyName\t\troot\r\nOUTPUT\tInstanceId\ti-8832e2ae\r\nOUTPUT\tAZ\tone\r\nOUTPUT\tPublicIP\t10.116.155.44\r\n# \r\n# \r\n# euca-describe-instance-attribute -g i-8832e2ae\r\ngroupSet\ti-8832e2ae\tsg-350a7db7\r\n# \r\n# \r\n# euca-describe-groups sg-350a7db7\r\nGROUP\tsg-350a7db7\t000202537975\tdefault\tdefault VPC security group\tvpc-c9cefea0\r\nPERMISSION\t000202537975\tdefault\tALLOWS\t-1\t\t\tFROM\tUSER\t000202537975\tNAME\tdefault\tID\tsg-350a7db7\tingress\r\nPERMISSION\t000202537975\tdefault\tALLOWS\t-1\t\t\tTO\tCIDR\t0.0.0.0/0\tegress\r\n# \r\n# \r\n{code}\r\n\r\nyou can manually change the group back to the expected one and ssh to the instance:\r\n\r\n{code}\r\n# \r\n# euca-modify-instance-attribute -g sg-ec7b6e18 i-8832e2ae\r\n# \r\n# \r\n# euca-describe-instance-attribute -g i-8832e2ae\r\ngroupSet\ti-8832e2ae\tsg-ec7b6e18\r\n# \r\n# \r\n# ssh euca-10-116-155-44.eucalyptus.c-25.autoqa.qa1.eucalyptus-systems.com\r\nThe authenticity of host 'euca-10-116-155-44.eucalyptus.c-25.autoqa.qa1.eucalyptus-systems.com (10.116.155.44)' can't be established.\r\nRSA key fingerprint is 9b:43:72:71:56:51:8a:68:5a:8a:a9:02:d5:fc:54:c2.\r\nAre you sure you want to continue connecting (yes/no)? yes\r\nWarning: Permanently added 'euca-10-116-155-44.eucalyptus.c-25.autoqa.qa1.eucalyptus-systems.com,10.116.155.44' (RSA) to the list of known hosts.\r\n# exit\r\nConnection to euca-10-116-155-44.eucalyptus.c-25.autoqa.qa1.eucalyptus-systems closed.\r\n# \r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-28T23:49:54.691-0500","updated":"2017-03-28T23:49:54.691-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/119927","id":"119927","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Hey [~sjones], ah okay.  Makes sense.   [~sjones]/[~ethomas], I tried to reproduce the original issue (i.e. {{CreateStack}} with instance store-backed instance where disable-termination-api is set to {{true}}, then  run {{UpdateStack}} to terminate that instance and replace it with a EBS-backed instance with block device mapping), and it looks like now we behave the same way AWS does (Eucalyptus version - {{4.4.0-0.25836.16.20170327gitb949cea.el7}}) - although I am not sure when this behavior changed.  Any idea as to what could have possibly fixed this issue?\r\n\r\nSince the original description is resolved, but the behavior regarding updating the {{disable-termination-api}} flag on an instance from true to false fails (changes the security group for that instance to {{default}}), how would you like for me to update this ticket?","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-29T08:40:22.232-0500","updated":"2017-03-29T08:40:22.232-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/48905/comment/120005","id":"120005","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Tried to reproduce, but in {{4.4.0-0.25836.16.20170327gitb949cea.el7}}, we behave just as AWS.  Through investigating this issue, discovered EUCA-13334.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2017-03-30T15:48:36.331-0500","updated":"2017-03-30T15:48:36.331-0500"}],"maxResults":8,"total":8,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-12786/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}