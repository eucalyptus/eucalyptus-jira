{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"14345","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14345","key":"EUCA-2768","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10000","id":"10000","key":"EUCA","name":"Eucalyptus","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10000&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10000&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10000&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10000&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_10310":null,"customfield_11401":null,"customfield_10311":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":"2012-08-07T16:22:14.757-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2768/watchers","watchCount":2,"isWatching":false},"created":"2012-07-11T08:33:33.389-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/5","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/trivial.svg","name":"Trivial","id":"5"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"customfield_10301":null,"labels":["LP"],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"updated":"2012-08-07T16:22:14.773-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"Originally posted by Maciek on 2011-05-10 08:06:29.273813+00:00\n\nFrom time to time my cloud controller rejects all connections. No matter what I do (listing instances with euca-describe-instances, logging to web front-end) I always get error 403 (forbidden). I have tried different users. After restarting eucalyptus-cloud everything backs to normal. I have Debian Squeeze with eucalyptus 2.0.1 from your debian's repository.\n\nProcessing Administration::InstancesController#index (for 84.10.109.25 at 2011-05-09 08:14:33) [GET\n]\nNew RightAws::Ec2 using shared connections mode\nOpening new HTTP connection to 192.168.0.1:8773\n##### RightAws::Ec2 returned an error: 403 Forbidden\nFailure: 403 Forbidden\njavax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot ope\nn connection\n\n #####\n##### RightAws::Ec2 request: http://192.168.0.1:8773/services/Eucalyptus?AWSAccessKeyId=uhaZbw3dR\\n0Tjq7abcdecSmrdAGcuTjuXL1J1Q&Action=DescribeInstances&SignatureMethod=HmacSHA256&SignatureVersion=2\n&Timestamp=2011-05-09T06%3A14%3A33.000Z&Version=2010-08-31&Signature=yDcYjKKZMgYIJBvkbIec7FK1HH5Fw4\nzyH6%2FN6mcJDrg%3D ####\nClosing HTTP connection to 192.168.0.1:8773, reason: 'RightAws::AWSErrorHandler: code: 403: 'Forb\nidden''\nGot RightAws::AwsError, http_code is: '403'\n\nRightAws::AwsError (403: Forbidden (http://192.168.0.1:8773/services/Eucalyptus?AWSAccessKeyId=uh\naZbw3dR0Tjq7xX1aZcSmrdAGcuTjuXL1J1Q&Action=DescribeInstances&SignatureMethod=HmacSHA256&SignatureVe\nrsion=2&Timestamp=2011-05-09T06%3A14%3A33.000Z&Version=2010-08-31&Signature=yDcYjKKZMgYIJBvkbIec7FK\n1HH5Fw4zyH6%2FN6mcJDrg%3D)):\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/awsbase/right_awsbase.rb:5\n45:in `request_info_impl'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2.rb:140:in `r\nequest_info'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/awsbase/right_awsbase.rb:5\n59:in `request_cache_or_info'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2.rb:151:in `d\nescribe_resources_with_list_and_options'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2_instances.rb\n:103:in `describe_instances'\n  app/models/eucalyptus.rb:28:in `instances'\n  app/models/eucalyptus.rb:65:in `rescue_timeout'\n  app/models/eucalyptus.rb:63:in `times'\n  app/models/eucalyptus.rb:63:in `rescue_timeout'\n  app/models/eucalyptus.rb:27:in `instances'\n  app/models/instance.rb:48:in `synchronize!'\n  app/controllers/administration/instances_controller.rb:33:in `synchronize_instances'\n  compass (0.11.1) lib/compass/app_integration/rails/actionpack2/action_controller.rb:7:in `process\n'\n  warden (0.10.7) lib/warden/manager.rb:35:in `call'\n  warden (0.10.7) lib/warden/manager.rb:34:in `catch'\n  warden (0.10.7) lib/warden/manager.rb:34:in `call'\n  sass (3.1.1) rails/./lib/sass/plugin/rack.rb:54:in `call'\n  devise (1.0.11) lib/devise/rails/warden_compat.rb:43:in `call'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.9/lib/hoptoad_notifier/rack.rb:27:in `call'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.9/lib/hoptoad_notifier/user_informer.rb:12:in `call'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:418:in `start_request_handler'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:358:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/utils.rb:184:in `safe_fork'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:354:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `__send__'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:163:in `start'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `__send__'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'\n\n** [Hoptoad] Success: Net::HTTPOK\n** [Hoptoad] Environment Info: [Ruby: 1.8.7] [Rails: 2.3.11] [Env: production]\n** [Hoptoad] Response from Hoptoad: \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<notice>\n  <error-id type=\"integer\">6510333</error-id>\n  <url>http://winnie.hoptoadapp.com/errors/6510333/notices/1087938493</url>\n  <id type=\"integer\">1087938493</id>\n</notice>\nRendering /web/winnie/production/releases/20110506075758/public/500.html (500 Internal Server Error)\n\neucalyptus logs:\n\n08:27:28 DEBUG [Context:New I/O server worker #1-13] :1304922448929:Context:CONTEXT_CREATE:7eeb595a-176d-4e6f-9104-1026f7c6c37b:[id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773]:NioHttpDecoder.decode.129\n08:27:28 TRACE [NioServerHandler:New I/O server worker #1-13] \n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448931:EucalyptusQueryPipeline:PIPELINE_UNROLL:EucalyptusQueryPipeline:PipelineRegistry.find.103\n08:27:28 TRACE [InternalQueryPipeline:New I/O server worker #1-13] :1304922448932:InternalQueryPipeline:PIPELINE_UNROLL:InternalQueryPipeline:PipelineRegistry.find.103\n08:27:28 TRACE [PipelineRegistry:New I/O server worker #1-13] :1304922448933:PipelineRegistry:PIPELINE_DUPLICATE:internal-query-pipeline-Eucalyptus:InternalQueryPipeline:NioServerHandler.lookupPipeline.137\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448934:EucalyptusQueryPipeline:PIPELINE_HANDLER:decoder:NioHttpDecoder:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448935:EucalyptusQueryPipeline:PIPELINE_HANDLER:encoder:HttpResponseEncoder:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448936:EucalyptusQueryPipeline:PIPELINE_HANDLER:chunkedWriter:ChunkedWriteHandler:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448937:EucalyptusQueryPipeline:PIPELINE_HANDLER:handler:NioServerHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448938:EucalyptusQueryPipeline:PIPELINE_HANDLER:hmac-v2-verify:HmacHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449650:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:RemoteBootstrapperClient:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449651:EucalyptusQueryPipeline:PIPELINE_HANDLER:timestamp-verify:QueryTimestampHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449651:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:LocalDatabaseBootstrapper:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449652:EucalyptusQueryPipeline:PIPELINE_HANDLER:restful-binding:EucalyptusQueryBinding:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [LocalDatabaseBootstrapper:SystemClockTimer] -> Ping database.\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449653:EucalyptusQueryPipeline:PIPELINE_HANDLER:service-sink:ServiceSinkHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449654:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:ClusterCertificateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449655:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:Dummy:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [TimedEvictionSet:New I/O server worker #1-13] Evicting previous entry:\n\n 4332710005527894\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449655:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:NetworkStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449657:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:LogStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449657:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:ResourceStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 ERROR [TxHandle:New I/O server worker #1-13] javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\njavax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1235)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1168)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1245)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:63)\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:42)\n        at com.eucalyptus.entities.EntityWrapper.<init>(EntityWrapper.java:109)\n        at com.eucalyptus.auth.Authentication.getEntityWrapper(Authentication.java:102)\n        at com.eucalyptus.auth.DatabaseAuthProvider.lookupQueryId(DatabaseAuthProvider.java:275)\n        at com.eucalyptus.auth.Users.lookupQueryId(Users.java:119)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:32)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:19)\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:100)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:562)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:110)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\nCaused by: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)\n        ... 51 more\nCaused by: java.sql.SQLException: socket creation error\n        at org.hsqldb.jdbc.Util.sqlException(Unknown Source)\n        at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)\n        at org.hsqldb.jdbcDriver.getConnection(Unknown Source)\n        at org.hsqldb.jdbcDriver.connect(Unknown Source)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:169)\n        at org.logicalcobwebs.proxool.DefaultConnectionBuilder.buildConnection(DefaultConnectionBuilder.java:39)\n        at org.logicalcobwebs.proxool.Prototyper.buildConnection(Prototyper.java:159)\n        at org.logicalcobwebs.proxool.ConnectionPool.getConnection(ConnectionPool.java:211)\n        at org.logicalcobwebs.proxool.ProxoolDriver.connect(ProxoolDriver.java:89)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:222)\n        at org.hibernate.connection.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:75)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        ... 56 more\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449658:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:VmStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] java.lang.RuntimeException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\njava.lang.RuntimeException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:48)\n        at com.eucalyptus.entities.EntityWrapper.<init>(EntityWrapper.java:109)\n        at com.eucalyptus.auth.Authentication.getEntityWrapper(Authentication.java:102)\n        at com.eucalyptus.auth.DatabaseAuthProvider.lookupQueryId(DatabaseAuthProvider.java:275)\n        at com.eucalyptus.auth.Users.lookupQueryId(Users.java:119)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:32)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:19)\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:100)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:562)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:110)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1235)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1168)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1245)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:63)\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:42)\n        ... 50 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)\n        ... 51 more\nCaused by: java.sql.SQLException: socket creation error\n        at org.hsqldb.jdbc.Util.sqlException(Unknown Source)\n        at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)\n        at org.hsqldb.jdbcDriver.getConnection(Unknown Source)\n        at org.hsqldb.jdbcDriver.connect(Unknown Source)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:169)\n        at org.logicalcobwebs.proxool.DefaultConnectionBuilder.buildConnection(DefaultConnectionBuilder.java:39)\n        at org.logicalcobwebs.proxool.Prototyper.buildConnection(Prototyper.java:159)\n        at org.logicalcobwebs.proxool.ConnectionPool.getConnection(ConnectionPool.java:211)\n        at org.logicalcobwebs.proxool.ProxoolDriver.connect(ProxoolDriver.java:89)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:222)\n        at org.hibernate.connection.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:75)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        ... 56 more\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449661:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:AddressStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773] EXCEPTION: javax.security.auth.login.LoginException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] [id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773]\njavax.security.auth.login.LoginException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:104)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[outgoing]: class org.jboss.netty.channel.DownstreamChannelStateEvent\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] DISCONNECTED\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] UNBOUND\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] CLOSED\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] WRITTEN_AMOUNT: 206\n08:27:30  INFO [DescribePublicAddressesType:New I/O client worker #2-19] :1304922450714:DescribePublicAddressesType:MSG_SENT:[DescribePublicAddressesType correlationId=b15294c6-4474-4ded-aab5-a050a6c04926 userId=eucalyptus effectiveUserId=eucalyptus _return=true statusMessage=null]:DefaultChannelFuture.notifyListener.326\n08:27:30  INFO [DescribePublicAddressesResponseType:New I/O client worker #2-19] :1304922450733:DescribePublicAddressesResponseType:MSG_SENT:[DescribePublicAddressesResponseType addresses=[] mapping=[] correlationId=null userId=eucalyptus effectiveUserId=null _return=false statusMessage=NOTSUPPORTED]:SimpleChannelHandler.handleUpstream.105\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450736:AddressStateHandler:SOCKET_CLOSE:21:/192.168.0.1:33359:/192.168.0.1:8774:ChannelStateMonitor.channelClosed.40\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450737:AddressStateHandler:SOCKET_BYTES_READ:5537:237.61905:ChannelStateMonitor.channelClosed.40\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450738:AddressStateHandler:SOCKET_BYTES_WRITE:4990:237.61905:ChannelStateMonitor.channelClosed.40","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Can't authenticate to cloud controller","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"aggregateprogress":{"progress":0,"total":0},"customfield_10000":"10000_*:*_1_*:*_2360921386_*|*_6_*:*_1_*:*_0","customfield_12100":"0|i01fon:","customfield_10001":"2012-08-07T16:22:14.768-0500","customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["eucabot(eucabot)","neil(neil)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/EUCA-2768/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14345/comment/29546","id":"29546","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"body":"Originally posted by Maciek on 2011-05-10T08:06:29.273813+00:00\n\nFrom time to time my cloud controller rejects all connections. No matter what I do (listing instances with euca-describe-instances, logging to web front-end) I always get error 403 (forbidden). I have tried different users. After restarting eucalyptus-cloud everything backs to normal. I have Debian Squeeze with eucalyptus 2.0.1 from your debian's repository.\n\nProcessing Administration::InstancesController#index (for 84.10.109.25 at 2011-05-09 08:14:33) [GET\n]\nNew RightAws::Ec2 using shared connections mode\nOpening new HTTP connection to 192.168.0.1:8773\n##### RightAws::Ec2 returned an error: 403 Forbidden\nFailure: 403 Forbidden\njavax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot ope\nn connection\n\n #####\n##### RightAws::Ec2 request: http://192.168.0.1:8773/services/Eucalyptus?AWSAccessKeyId=uhaZbw3dR\\n0Tjq7abcdecSmrdAGcuTjuXL1J1Q&Action=DescribeInstances&SignatureMethod=HmacSHA256&SignatureVersion=2\n&Timestamp=2011-05-09T06%3A14%3A33.000Z&Version=2010-08-31&Signature=yDcYjKKZMgYIJBvkbIec7FK1HH5Fw4\nzyH6%2FN6mcJDrg%3D ####\nClosing HTTP connection to 192.168.0.1:8773, reason: 'RightAws::AWSErrorHandler: code: 403: 'Forb\nidden''\nGot RightAws::AwsError, http_code is: '403'\n\nRightAws::AwsError (403: Forbidden (http://192.168.0.1:8773/services/Eucalyptus?AWSAccessKeyId=uh\naZbw3dR0Tjq7xX1aZcSmrdAGcuTjuXL1J1Q&Action=DescribeInstances&SignatureMethod=HmacSHA256&SignatureVe\nrsion=2&Timestamp=2011-05-09T06%3A14%3A33.000Z&Version=2010-08-31&Signature=yDcYjKKZMgYIJBvkbIec7FK\n1HH5Fw4zyH6%2FN6mcJDrg%3D)):\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/awsbase/right_awsbase.rb:5\n45:in `request_info_impl'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2.rb:140:in `r\nequest_info'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/awsbase/right_awsbase.rb:5\n59:in `request_cache_or_info'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2.rb:151:in `d\nescribe_resources_with_list_and_options'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/right_aws-2.1.0/lib/ec2/right_ec2_instances.rb\n:103:in `describe_instances'\n  app/models/eucalyptus.rb:28:in `instances'\n  app/models/eucalyptus.rb:65:in `rescue_timeout'\n  app/models/eucalyptus.rb:63:in `times'\n  app/models/eucalyptus.rb:63:in `rescue_timeout'\n  app/models/eucalyptus.rb:27:in `instances'\n  app/models/instance.rb:48:in `synchronize!'\n  app/controllers/administration/instances_controller.rb:33:in `synchronize_instances'\n  compass (0.11.1) lib/compass/app_integration/rails/actionpack2/action_controller.rb:7:in `process\n'\n  warden (0.10.7) lib/warden/manager.rb:35:in `call'\n  warden (0.10.7) lib/warden/manager.rb:34:in `catch'\n  warden (0.10.7) lib/warden/manager.rb:34:in `call'\n  sass (3.1.1) rails/./lib/sass/plugin/rack.rb:54:in `call'\n  devise (1.0.11) lib/devise/rails/warden_compat.rb:43:in `call'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.9/lib/hoptoad_notifier/rack.rb:27:in `call'\n  /web/winnie/production/shared/bundle/ruby/1.8/gems/hoptoad_notifier-2.4.9/lib/hoptoad_notifier/user_informer.rb:12:in `call'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/rack/request_handler.rb:92:in `process_request'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_request_handler.rb:207:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:418:in `start_request_handler'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:358:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/utils.rb:184:in `safe_fork'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:354:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `__send__'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:163:in `start'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/railz/application_spawner.rb:213:in `start'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:262:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:126:in `lookup_or_add'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:256:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:80:in `synchronize'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server_collection.rb:79:in `synchronize'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:255:in `spawn_rails_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:154:in `spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/spawn_manager.rb:287:in `handle_spawn_application'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `__send__'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:352:in `main_loop'\n  /var/lib/gems/1.8/gems/passenger-2.2.11/lib/phusion_passenger/abstract_server.rb:196:in `start_synchronously'\n\n** [Hoptoad] Success: Net::HTTPOK\n** [Hoptoad] Environment Info: [Ruby: 1.8.7] [Rails: 2.3.11] [Env: production]\n** [Hoptoad] Response from Hoptoad: \n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<notice>\n  <error-id type=\"integer\">6510333</error-id>\n  <url>http://winnie.hoptoadapp.com/errors/6510333/notices/1087938493</url>\n  <id type=\"integer\">1087938493</id>\n</notice>\nRendering /web/winnie/production/releases/20110506075758/public/500.html (500 Internal Server Error)\n\neucalyptus logs:\n\n08:27:28 DEBUG [Context:New I/O server worker #1-13] :1304922448929:Context:CONTEXT_CREATE:7eeb595a-176d-4e6f-9104-1026f7c6c37b:[id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773]:NioHttpDecoder.decode.129\n08:27:28 TRACE [NioServerHandler:New I/O server worker #1-13] \n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448931:EucalyptusQueryPipeline:PIPELINE_UNROLL:EucalyptusQueryPipeline:PipelineRegistry.find.103\n08:27:28 TRACE [InternalQueryPipeline:New I/O server worker #1-13] :1304922448932:InternalQueryPipeline:PIPELINE_UNROLL:InternalQueryPipeline:PipelineRegistry.find.103\n08:27:28 TRACE [PipelineRegistry:New I/O server worker #1-13] :1304922448933:PipelineRegistry:PIPELINE_DUPLICATE:internal-query-pipeline-Eucalyptus:InternalQueryPipeline:NioServerHandler.lookupPipeline.137\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448934:EucalyptusQueryPipeline:PIPELINE_HANDLER:decoder:NioHttpDecoder:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448935:EucalyptusQueryPipeline:PIPELINE_HANDLER:encoder:HttpResponseEncoder:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448936:EucalyptusQueryPipeline:PIPELINE_HANDLER:chunkedWriter:ChunkedWriteHandler:NioServerHandler.lookupPipeline.138\n08:27:28 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448937:EucalyptusQueryPipeline:PIPELINE_HANDLER:handler:NioServerHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922448938:EucalyptusQueryPipeline:PIPELINE_HANDLER:hmac-v2-verify:HmacHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449650:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:RemoteBootstrapperClient:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449651:EucalyptusQueryPipeline:PIPELINE_HANDLER:timestamp-verify:QueryTimestampHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449651:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:LocalDatabaseBootstrapper:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449652:EucalyptusQueryPipeline:PIPELINE_HANDLER:restful-binding:EucalyptusQueryBinding:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [LocalDatabaseBootstrapper:SystemClockTimer] -> Ping database.\n08:27:29 TRACE [EucalyptusQueryPipeline:New I/O server worker #1-13] :1304922449653:EucalyptusQueryPipeline:PIPELINE_HANDLER:service-sink:ServiceSinkHandler:NioServerHandler.lookupPipeline.138\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449654:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:ClusterCertificateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449655:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:Dummy:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [TimedEvictionSet:New I/O server worker #1-13] Evicting previous entry:\n\n 4332710005527894\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449655:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:NetworkStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449657:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:LogStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449657:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:ResourceStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 ERROR [TxHandle:New I/O server worker #1-13] javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\njavax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1235)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1168)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1245)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:63)\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:42)\n        at com.eucalyptus.entities.EntityWrapper.<init>(EntityWrapper.java:109)\n        at com.eucalyptus.auth.Authentication.getEntityWrapper(Authentication.java:102)\n        at com.eucalyptus.auth.DatabaseAuthProvider.lookupQueryId(DatabaseAuthProvider.java:275)\n        at com.eucalyptus.auth.Users.lookupQueryId(Users.java:119)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:32)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:19)\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:100)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:562)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:110)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\nCaused by: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)\n        ... 51 more\nCaused by: java.sql.SQLException: socket creation error\n        at org.hsqldb.jdbc.Util.sqlException(Unknown Source)\n        at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)\n        at org.hsqldb.jdbcDriver.getConnection(Unknown Source)\n        at org.hsqldb.jdbcDriver.connect(Unknown Source)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:169)\n        at org.logicalcobwebs.proxool.DefaultConnectionBuilder.buildConnection(DefaultConnectionBuilder.java:39)\n        at org.logicalcobwebs.proxool.Prototyper.buildConnection(Prototyper.java:159)\n        at org.logicalcobwebs.proxool.ConnectionPool.getConnection(ConnectionPool.java:211)\n        at org.logicalcobwebs.proxool.ProxoolDriver.connect(ProxoolDriver.java:89)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:222)\n        at org.hibernate.connection.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:75)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        ... 56 more\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449658:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:VmStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] java.lang.RuntimeException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\njava.lang.RuntimeException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:48)\n        at com.eucalyptus.entities.EntityWrapper.<init>(EntityWrapper.java:109)\n        at com.eucalyptus.auth.Authentication.getEntityWrapper(Authentication.java:102)\n        at com.eucalyptus.auth.DatabaseAuthProvider.lookupQueryId(DatabaseAuthProvider.java:275)\n        at com.eucalyptus.auth.Users.lookupQueryId(Users.java:119)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:32)\n        at com.eucalyptus.auth.login.Hmacv2LoginModule.authenticate(Hmacv2LoginModule.java:19)\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:100)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:87)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:803)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:567)\n        at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:562)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:110)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1235)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1168)\n        at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1245)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:63)\n        at com.eucalyptus.entities.TxHandle.<init>(TxHandle.java:42)\n        ... 50 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:99)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\n        at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:52)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:449)\n        at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:167)\n        at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:142)\n        at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:85)\n        at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1463)\n        at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)\n        ... 51 more\nCaused by: java.sql.SQLException: socket creation error\n        at org.hsqldb.jdbc.Util.sqlException(Unknown Source)\n        at org.hsqldb.jdbc.jdbcConnection.<init>(Unknown Source)\n        at org.hsqldb.jdbcDriver.getConnection(Unknown Source)\n        at org.hsqldb.jdbcDriver.connect(Unknown Source)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:169)\n        at org.logicalcobwebs.proxool.DefaultConnectionBuilder.buildConnection(DefaultConnectionBuilder.java:39)\n        at org.logicalcobwebs.proxool.Prototyper.buildConnection(Prototyper.java:159)\n        at org.logicalcobwebs.proxool.ConnectionPool.getConnection(ConnectionPool.java:211)\n        at org.logicalcobwebs.proxool.ProxoolDriver.connect(ProxoolDriver.java:89)\n        at java.sql.DriverManager.getConnection(DriverManager.java:620)\n        at java.sql.DriverManager.getConnection(DriverManager.java:222)\n        at org.hibernate.connection.ProxoolConnectionProvider.getConnection(ProxoolConnectionProvider.java:75)\n        at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:446)\n        ... 56 more\n08:27:29 TRACE [ReentrantListenerRegistry:SystemClockTimer] :1304922449661:ReentrantListenerRegistry:LISTENER_EVENT_FIRED:AddressStateHandler:com.eucalyptus.event.ClockTick@4b057dd5:ReentrantListenerRegistry.fireEvent.68\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 DEBUG [BaseLoginModule:New I/O server worker #1-13] Login aborted.\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773] EXCEPTION: javax.security.auth.login.LoginException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] [id: 0x6177d16c, /192.168.0.1:47633 => /192.168.0.1:8773]\njavax.security.auth.login.LoginException: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Cannot open connection\n        at com.eucalyptus.auth.api.BaseLoginModule.login(BaseLoginModule.java:104)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:616)\n        at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)\n        at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:721)\n        at javax.security.auth.login.LoginContext$5.run(LoginContext.java:719)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.security.auth.login.LoginContext.invokeCreatorPriv(LoginContext.java:718)\n        at javax.security.auth.login.LoginContext.login(LoginContext.java:590)\n        at com.eucalyptus.ws.handlers.HmacHandler.incomingMessage(HmacHandler.java:116)\n        at com.eucalyptus.ws.handlers.MessageStackHandler.handleUpstream(MessageStackHandler.java:127)\n        at com.eucalyptus.ws.server.NioServerHandler.messageReceived(NioServerHandler.java:127)\n        at org.jboss.netty.handler.stream.ChunkedWriteHandler.handleUpstream(ChunkedWriteHandler.java:114)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:385)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.unfoldAndfireMessageReceived(ReplayingDecoder.java:459)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:443)\n        at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:381)\n        at com.eucalyptus.ws.handlers.http.NioSslHandler.handleUpstream(NioSslHandler.java:31)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:342)\n        at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:329)\n        at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:330)\n        at org.jboss.netty.channel.socket.nio.NioWorker.processSelectedKeys(NioWorker.java:282)\n        at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:203)\n        at org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:53)\n        at org.jboss.netty.handler.execution.MemoryAwareThreadPoolExecutor$MemoryAwareRunnable.run(MemoryAwareThreadPoolExecutor.java:502)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n        at java.lang.Thread.run(Thread.java:636)\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[outgoing]: class org.jboss.netty.channel.DownstreamChannelStateEvent\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] DISCONNECTED\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] UNBOUND\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] CLOSED\n08:27:29 TRACE [ServiceSinkHandler:New I/O server worker #1-13] ServiceSinkHandler[incoming]: [id: 0x6177d16c] WRITTEN_AMOUNT: 206\n08:27:30  INFO [DescribePublicAddressesType:New I/O client worker #2-19] :1304922450714:DescribePublicAddressesType:MSG_SENT:[DescribePublicAddressesType correlationId=b15294c6-4474-4ded-aab5-a050a6c04926 userId=eucalyptus effectiveUserId=eucalyptus _return=true statusMessage=null]:DefaultChannelFuture.notifyListener.326\n08:27:30  INFO [DescribePublicAddressesResponseType:New I/O client worker #2-19] :1304922450733:DescribePublicAddressesResponseType:MSG_SENT:[DescribePublicAddressesResponseType addresses=[] mapping=[] correlationId=null userId=eucalyptus effectiveUserId=null _return=false statusMessage=NOTSUPPORTED]:SimpleChannelHandler.handleUpstream.105\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450736:AddressStateHandler:SOCKET_CLOSE:21:/192.168.0.1:33359:/192.168.0.1:8774:ChannelStateMonitor.channelClosed.40\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450737:AddressStateHandler:SOCKET_BYTES_READ:5537:237.61905:ChannelStateMonitor.channelClosed.40\n08:27:30 TRACE [ChannelStateMonitor:New I/O client worker #2-19] :1304922450738:AddressStateHandler:SOCKET_BYTES_WRITE:4990:237.61905:ChannelStateMonitor.channelClosed.40","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=eucabot","name":"eucabot","key":"eucabot","accountId":"557058:007ef05d-c772-4437-b383-d2b42d2a88a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/9e6d2b33ee28ce1387b2aa6cbe935cf3?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Deucabot%26avatarId%3D12000%26noRedirect%3Dtrue"},"displayName":"Eucalyptus Bot","active":true,"timeZone":"Etc/GMT"},"created":"2012-07-11T08:33:37.281-0500","updated":"2012-07-11T08:33:37.281-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/14345/comment/30777","id":"30777","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"body":"Please reopen against 3.1.0 if necessary.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=neil","name":"neil","key":"neil","accountId":"557058:bdcb5450-c2ec-4e86-a815-f842a934f480","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/7497770f3e2aaa247f356838f1fd8ba2?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dneil%26avatarId%3D10703%26noRedirect%3Dtrue"},"displayName":"Neil Soman","active":true,"timeZone":"America/Los_Angeles"},"created":"2012-08-07T16:22:14.768-0500","updated":"2012-08-07T16:22:14.768-0500"}],"maxResults":2,"total":2,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}