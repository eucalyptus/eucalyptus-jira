{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"55506","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/55506","key":"DOC-2091","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10006","id":"10006","key":"DOC","name":"Documentation","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10006&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10006&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10006&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10006&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":null,"customfield_10308":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-2091/watchers","watchCount":1,"isWatching":false},"created":"2017-03-01T15:35:37.759-0600","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12201":null,"customfield_12600":"{}","customfield_10300":null,"customfield_10102":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"customfield_11900":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17802","id":"17802","description":"Eucalyptus 4.3.1","name":"4.3.1","archived":false,"released":false}],"issuelinks":[],"assignee":null,"updated":"2017-03-02T15:35:57.234-0600","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10205","id":"10205","name":"User Guide"}],"timeoriginalestimate":null,"customfield_13000":null,"description":"The ElasticLoadBalancer.template CFN template here is broken:\r\n\r\nhttps://docs.eucalyptus.com/eucalyptus/latest/#cloudformation/cf_templates.html\r\n\r\nIt causes an error even if you add the proper EMI as the instructions say.\r\n\r\nError is:\r\n{code:java}\r\n[root@d-11 ~]# euform-describe-stack-events cfn-stack-1\r\nEVENT\tcfn-stack-1\teee617bc-ba21-429a-ac3b-60620ce3be75\tAWS::CloudFormation::Stack\tcfn-stack-1\tarn:aws:cloudformation::000506118933:stack/cfn-stack-1/3a9a8d4e-a6fe-4f47-b81d-86376bc8aea4\t2017-03-01T21:27:24.607Z\tCREATE_FAILED\tTemplate error: Unable to get mapping for AWSRegionArch2AMI::eucalyptus::64\r\nEVENT\tcfn-stack-1\tInstanceSecurityGroup-CREATE_COMPLETE-1488403644163\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tcfn-stack-1-InstanceSecurityGroup-54WYPUD5KPPAT\t2017-03-01T21:27:24.163Z\tCREATE_COMPLETE\t\r\nEVENT\tcfn-stack-1\tInstanceSecurityGroup-CREATE_IN_PROGRESS-1488403643489\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\tcfn-stack-1-InstanceSecurityGroup-54WYPUD5KPPAT\t2017-03-01T21:27:23.489Z\tCREATE_IN_PROGRESS\tResource creation Initiated\r\nEVENT\tcfn-stack-1\tInstanceSecurityGroup-CREATE_IN_PROGRESS-1488403643329\tAWS::EC2::SecurityGroup\tInstanceSecurityGroup\t\t2017-03-01T21:27:23.329Z\tCREATE_IN_PROGRESS\t\r\nEVENT\tcfn-stack-1\t00986c6f-6cd1-42eb-9610-84b92fa1eede\tAWS::CloudFormation::Stack\tcfn-stack-1\tarn:aws:cloudformation::000506118933:stack/cfn-stack-1/3a9a8d4e-a6fe-4f47-b81d-86376bc8aea4\t2017-03-01T21:27:22.937Z\tCREATE_IN_PROGRESS\tUser Initiated\r\n\r\n{code}\r\n\r\n\r\nTo make it work I had to change additional lines, here is the diff:\r\n{code:java}\r\n[mbacchi@centos7 Eucalyptus]$ diff -u ElasticLoadBalancer.template EUCA-13247-cfn-template.json\r\n--- ElasticLoadBalancer.template\t2017-03-01 16:32:45.275132000 -0500\r\n+++ EUCA-13247-cfn-template.json\t2017-03-01 16:28:07.400347300 -0500\r\n@@ -50,7 +50,7 @@\r\n       \"c1.xlarge\":{\"Arch\":\"64\"}\r\n     },\r\n     \"AWSRegionArch2AMI\":{\r\n-      \"\":{\"32\":\"emi-ddbacddf\",\"64\":\"emi-ddbacddf\"}\r\n+      \"eucalyptus\":{\"32\":\"emi-920a50ff\",\"64\":\"emi-920a50ff\"}\r\n     }\r\n   },\r\n   \"Resources\":{\r\n@@ -59,7 +59,7 @@\r\n       \"Properties\":{\r\n         \"AvailabilityZones\":{\"Fn::GetAZs\":\"\"},\r\n         \"Instances\":[{\"Ref\":\"Ec2Instance1\"},{\"Ref\":\"Ec2Instance2\"}],\r\n-        \"Listeners\"{\"LoadBalancerPort\":\"80\",\"InstancePort\":{\"Ref\":\"WebServerPort\"},\"Protocol\":\"HTTP\"}],\r\n+        \"Listeners\":[{\"LoadBalancerPort\":\"80\",\"InstancePort\":{\"Ref\":\"WebServerPort\"},\"Protocol\":\"HTTP\"}],\r\n         \"HealthCheck\":{\r\n           \"Target\":{\"Fn::Join\":[\"\",[\"HTTP:\",{\"Ref\":\"WebServerPort\"},\"/\"]]},\r\n           \"HealthyThreshold\":\"3\",\r\n\r\n{code}\r\n","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"ElasticLoadBalancer CFN template in Docs needs TLC","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i04333:","customfield_10001":null,"customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["mbacchi(mbacchi)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/55506/comment/118519","id":"118519","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"body":"Alternately maybe recreating the template without forcing the user to update the template itself, as the instructions to do so are pretty poor.  What if we avoided the template mapping testing, and had the imageID be a parameter that needed to be provided on the command line but was not set by default.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=mbacchi","name":"mbacchi","key":"mbacchi","accountId":"557058:d650aabc-f00c-4262-93a9-7799945b8eed","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/24b916c1ff78f38b51f4bb1dc66ed58c?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dmbacchi%26avatarId%3D16201%26noRedirect%3Dtrue"},"displayName":"Matt Bacchi","active":true,"timeZone":"US/Central"},"created":"2017-03-02T15:35:57.234-0600","updated":"2017-03-02T15:35:57.234-0600"}],"maxResults":1,"total":1,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-2091/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}