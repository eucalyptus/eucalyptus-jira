{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38914","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38914","key":"DOC-1702","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10006","id":"10006","key":"DOC","name":"Documentation","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10006&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10006&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10006&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10006&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17202","id":"17202","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":false}],"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_11401":null,"customfield_11400":null,"customfield_10302":null,"customfield_10104":[],"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"resolutiondate":null,"customfield_10308":null,"customfield_10704":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-1702/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2015-10-27T12:37:03.478-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"labels":[],"customfield_10301":null,"customfield_11700":null,"customfield_11900":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=rusvika","name":"rusvika","key":"rusvika","accountId":"557058:0f138bdf-f1d0-4468-9edd-e45575af47da","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c975ce5391bf03e1a9aa2a957435569b?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Drusvika%26avatarId%3D10701%26noRedirect%3Dtrue"},"displayName":"Vika Felmetsger","active":true,"timeZone":"America/Los_Angeles"}],"timeestimate":null,"aggregatetimeoriginalestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16001","id":"16001","description":"Eucalyptus 4.2.0","name":"4.2.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[{"id":"33020","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/33020","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"outwardIssue":{"id":"35412","key":"EUCA-10677","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/35412","fields":{"summary":"IAMGLOB : Secure authentication service","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815}}}},{"id":"33018","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/33018","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"inwardIssue":{"id":"38819","key":"DOC-1699","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38819","fields":{"summary":"Update SSL Configuration","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"33019","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/33019","type":{"id":"10400","name":"Subtask","inward":"has a subtask of","outward":"is a subtask of","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10400"},"outwardIssue":{"id":"38791","key":"DOC-1691","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38791","fields":{"summary":"Federation documentation","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10002","description":"The code related to this issue is being reviewed by engineering","iconUrl":"https://s3.amazonaws.com/awithrow-jira/Jira_icon_review.png","name":"In Review","id":"10002","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/4","id":4,"key":"indeterminate","colorName":"yellow","name":"In Progress"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/5","id":"5","description":"The sub-task of the issue","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14816&avatarType=issuetype","name":"Sub-task","subtask":true,"avatarId":14816}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tvo","name":"tvo","key":"tvo","accountId":"557058:b5156799-e790-48f5-b070-50b67b3c16f1","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/632d7478aa2e813a109254ca2e20dc11?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10121%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/632d7478aa2e813a109254ca2e20dc11?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10121%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/632d7478aa2e813a109254ca2e20dc11?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10121%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/632d7478aa2e813a109254ca2e20dc11?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10121%26noRedirect%3Dtrue"},"displayName":"Thanhnguyet Vo","active":true,"timeZone":"America/Denver"},"updated":"2016-06-07T14:00:31.047-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/component/10204","id":"10204","name":"Admin Guide"}],"timeoriginalestimate":null,"description":"This is a documentation request to add a section that covers how to secure a federated setup.  Security enforcement involves using additional elements in the region configuration file, and new cloud properties.  These values should be the same across all clouds (i.e. regions) in a federated setup.\r\n\r\n\r\n_*Region Configuration File Elements*_\r\n\r\n*RemoteCidrs*\r\nThe RemoteCidrs element  is optional and is evaluated against the remote IP for the request,.  This element is unique for each region.  The RemoteCidrs element should be assigned to each region in the Regions array.  The value is a list, and it should follow the [IPv4 standard for CIDR formats (i.e. IP/CIDR)|https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#IPv4_CIDR_blocks].\r\n{code}\r\n\"RemoteCidrs\": [ \"10.111.5.0/24\" ]\r\n{code}\r\n\r\n*ForwardForCidrs*\r\nThe ForwardForCidrs element  is optional and is property is evaluated against any \"X-Forwarded-For\" header in the HTTP request..  This element is unique for each region.  The ForwardForCidrs element should be assigned to each region in the Regions array.  The value is a list, and it should follow the [IPv4 standard for CIDR formats (i.e. IP/CIDR)|https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#IPv4_CIDR_blocks].\r\n{code}\r\n\"ForwardForCidrs\": [ \"10.111.5.0/24\" ]\r\n{code}\r\n\r\n*SslCertificateFingerprintDigest*\r\nThe SslCertificateFingerprintDigest element is optional and references the OpenSSL signature algorithm used for signing the signed web certificate to enable HTTPS for client-facing service endpoints  - default being SHA-256. It is required only when dealing with clouds that are using HTTPS for service API endpoints.  For more information, reference the [Oracle Java Documentation|https://docs.oracle.com/javase/7/docs/technotes/guides/security/StandardNames.html#MessageDigest]. Values supported by Eucalyptus 4.2:\r\n- SHA-1\r\n- SHA-224\r\n- SHA-256\r\n- SHA-384\r\n- SHA-512\r\nThe SslCertificateFingerprintDigest element should be assigned to each region in the Regions array.\r\n{code}\r\n\"SslCertificateFingerprintDigest\": \"SHA-256\"\r\n{code}\r\n\r\n*SslCertificateFingerprint*\r\nThe SslCertificateFingerprint element is optional and references the OpenSSL fingerprint of the signed web certificate to enable HTTPS for client-facing service endpoints.  The SslCertificateFingerprint is mainly for WS-Security.  The value of SslCertificateFingerprintDigest should be used to help calculate the fingerprint.  The default is SHA-256. It is required only when dealing with clouds that are using HTTPS for service API endpoints.  Supported values can be found under the SslCertificateFingerprintDigest element.  The SslCertificateFingerprint element should be assigned to each region in the Regions array.  \r\n{code}\r\n\"SslCertificateFingerprint\": \"52:53:43:49:38:61:40:8C:05:D7:D6:C5:B3:C5:4E:A8:DF:9C:7D:6D:9F:E7:4A:40:39:F3:CB:CB:EF:9D:A0:B6\"\r\n{code}\r\nThe current recommended way to calculate a fingerprint from the web certificate using OpenSSL is as follows:\r\n{code}\r\nopenssl x509 -inform PEM -in acme-webservices.crt -noout -fingerprint -sha256\r\n{code}\r\n\r\n_*Cloud Properties*_\r\n\r\n* region.region_enable_ssl = Enable SSL (HTTPS) for regions.  Default value: {{true}}\r\n* region.region_ssl_ciphers = Ciphers to use for region SSL. Default value: {{RSA:DSS:ECDSA:TLS_EMPTY_RENEGOTIATION_INFO_SCSV:!NULL:!EXPORT:!EXPORT1024:!MD5:!DES:!RC4}}\r\n* region.region_ssl_default_cas = Use default CAs for region SSL connections. Default value: {{true}}\r\n* region.region_ssl_protocols = Protocols to use for region SSL.  Default value: {{TLSv1.2}}\r\n* region.region_ssl_verify_hostnames = Verify hostnames for region SSL connections.  Default value: {{true}}\r\n\r\n_*Additional Notes*_\r\n* If a clouds certificate is issued by a recognised authority and the certificate matches the configured host then no changes to SSL configuration are necessary. If using a certificate that does not match the {{region.region_ssl_verify_hostnames}} can be set to {{false}} (not recommended). If using a certificate that is not trusted then either the certificate should be added to the regular Java trust store or can be configured in the region configuration JSON via a new {{SslCertificateFingerprint}} region property.\r\n* Use of HTTPS for region connections is controlled by the {{region.region_enable_ssl}} property, the scheme in the configuration JSON is ignored.\r\n* Typically, it be an error to configure both {{RemoteCidrs}} and {{ForwardedForCidrs}} for a region to the same value, depending on how you have deployed the cloud it would be expected that either the client is accessing the service directly (use {{RemoteCidrs}}) or via a load balancer or similar (use {{ForwardedForCidrs}}). If you configure {{ForwardedForCidrs}} and the client is directly accessing the service then the client may be able to add the (X-Forwarded-For) header and bypass the security measure. If using a load balancer then you may want to set {{RemoteCidrs}} to permit only the balancer in addition to setting {{ForwardedForCidrs}} for the permitted clients.","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Add 'Configuring Secure Federation' Section","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i03gmn:","customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["hspencer(hspencer)","tvo(tvo)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-1702/votes","votes":0,"hasVoted":false},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}