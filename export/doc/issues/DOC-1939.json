{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"46800","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/46800","key":"DOC-1939","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10006","id":"10006","key":"DOC","name":"Documentation","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10006&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10006&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10006&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10006&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"customfield_10310":null,"resolution":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10303":null,"customfield_10105":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"customfield_10308":null,"resolutiondate":null,"customfield_10705":null,"customfield_10309":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-1939/watchers","watchCount":2,"isWatching":false},"lastViewed":null,"created":"2016-08-09T09:02:16.443-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"customfield_10301":null,"labels":[],"customfield_11700":null,"customfield_11900":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16403","id":"16403","description":"Eucalyptus 4.2.1","name":"4.2.1","archived":false,"released":true,"releaseDate":"2015-12-07"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17203","id":"17203","description":"Eucalyptus 4.2.2","name":"4.2.2","archived":false,"released":false},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17202","id":"17202","description":"Eucalyptus 4.3.0","name":"4.3.0","archived":false,"released":false},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/17802","id":"17802","description":"Eucalyptus 4.3.1","name":"4.3.1","archived":false,"released":false}],"issuelinks":[],"assignee":null,"updated":"2016-08-09T09:02:16.443-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"The documentation at http://docs.hpcloud.com/eucalyptus/4.2.1/image-guide/ig_task_migrate_image_aws_to_euca.html is outdated due to numerous changes on the AWS side and the Eucalyptus side. Below is a very rough proposal of the updated steps:\r\n\r\nMigrate Instructions\r\n1. In your local environment set up your Euca2ools configuration for both Eucalyptus and Amazon Web Services. Provide example:\r\n\r\n2. Run the AWS instance from an instance store backed instance.\r\n\r\n3. Install euca2ools on this instance.\r\n\r\n3a. Install AMI tools on this instance if not already installed.\r\n\r\n3b. Ensure that you have the following credentials:\r\nYour AWS account ID. To find your AWS account ID number in the AWS Management Console, click on Support in the navigation bar in the upper-right, and then click Support Center. Your currently signed in account ID appears below the Support menu.\r\nAn X.509 certificate and corresponding private key. If you need to create an X.509 certificate, see Managing Signing Certificates in the Amazon EC2 Command Line Reference. The X.509 certificate and private key are used to encrypt and decrypt your AMI.\r\nYour AWS account access key ID and secret access key. For more information, see Creating, Modifying, and Viewing Access Keys in the IAM User Guide.\r\n\r\n3c. Connect to your instance and customize it. For example, you can install software and applications, copy data, delete temporary files, and modify the Linux configuration.\r\n\r\n4. Make sure that you have enough space on a volume to hold the bundle that we will create.\r\n\r\n4a. Copy cetificates created in step 3b to /tmp/cert.\r\n\r\n5. Bundle the running AWS instance. For example:\r\n\r\nec2-bundle-vol -k /tmp/cert/awsgonzo-priv.pem -c /tmp/cert/awsgonzo-cert.pem -u 429942273585 -r x86_64 -e /tmp/cert --partition gpt -d /tmp/aws-image\r\n\r\n6. Upload the newly created bundle to an Amazon s3 bucket. For example:\r\n\r\nec2-upload-bundle -b gonzo-test/aws-image -m /tmp/aws-image/image.manifest.xml -a AKIAI7QTKUZYDGK4BEXQ -s 4lV+YGEZv3lfdVk0W5bux5XOSKhbiMeZ+GMJ4j21 --region us-west-2\r\n\r\n7. On a local instance in your Eucalyptus cloud that has euca2ools installed, verify the default-region = aws.\r\n\r\n8. Download the bundle from your AWS s3 bucket. For example:\r\n\r\neuca-download-bundle -b gonzo-test/aws-image -d /root/gonzo-image -m image.manifest.xml -I AKIAI7QTKUZYDGK4BEXQ -S 4lV+YGEZv3lfdVk0W5bux5XOSKhbiMeZ+GMJ4j21 --region=rob.adams@us-west-2 --progress\r\n\r\n9. Unbundle the AWS instance bundle:\r\n\r\neuca-unbundle --manifest /root/gonzo-image/image.manifest.xml --source /root/gonzo-image/ --destination /tmp/euca-image-out -k /root/awsgonzo-priv.pem\r\n\r\n10. Install the image to Eucalyptus:\r\n\r\neuca-install-image --name aws-centos6.6 --description \"AWS CentOS 6.6\" -i /tmp/euca-image-out/image -r x86_64 --virtualization-type hvm -k /root/awsgonzo-priv.pem -c /root/awsgonzo-cert.pem -b aws-image --region admin@localhost --url http://s3.10.104.10.2.xip.io:8773/\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Migrate a Linux Image from AWS to Eucalyptus needs a complete re-write","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=radams","name":"radams","key":"radams","accountId":"557058:de58031e-0aa1-4e2e-b28d-244f7ddbd1a2","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"radams","active":true,"timeZone":"US/Central"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=radams","name":"radams","key":"radams","accountId":"557058:de58031e-0aa1-4e2e-b28d-244f7ddbd1a2","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/00dc07d69ce19416eabc3d100ba716b8?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"radams","active":true,"timeZone":"US/Central"},"customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03w5j:","customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["radams(radams)"],"customfield_10116":null,"environment":null,"customfield_10117":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"customfield_11806":null,"progress":{"progress":0,"total":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/DOC-1939/votes","votes":0,"hasVoted":false},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}