{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"59300","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/59300","key":"GUI-2923","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14818&avatarType=issuetype","name":"Task","subtask":false,"avatarId":14818},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/11301","id":"11301","key":"GUI","name":"Management Console","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=11301&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=11301&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=11301&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=11301&avatarId=10011"}},"customfield_11000":null,"fixVersions":[],"customfield_11001":null,"aggregatetimespent":null,"resolution":null,"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/12600","value":"RHEL 7","id":"12600"}],"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10303":null,"customfield_10105":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-2923/watchers","watchCount":1,"isWatching":false},"lastViewed":null,"created":"2017-06-02T04:45:25.458-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"labels":[],"aggregatetimeoriginalestimate":null,"timeestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/18900","id":"18900","description":"Eucalyptus 4.4.1","name":"4.4.1","archived":false,"released":false}],"issuelinks":[],"assignee":null,"updated":"2017-06-02T04:45:25.458-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/1","description":"The issue is open and ready for the assignee to start work on it.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/open.png","name":"Open","id":"1","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"customfield_13000":null,"description":"Basically the customer is complaining that they have to restart eucaconsole each time they upload an image via the euca2ools CLI.  Image doesn't appear for them unless they do this.  Really need some way to trigger a manual image cache refresh\r\n\r\nHad to send this to customer:\r\n\r\nI looked into the eucaconsole source code and there is indeed a eucaconsole images cache as you suspected.\r\nhttps://github.com/eucalyptus/eucaconsole/blob/d2b337ae51ab73fc5229ef2281bedb1adc5d09da/eucaconsole/views/__init__.py#L297\r\n\r\nAs a workaround, to force an update of the image cache without restarting the eucaconsole, you could update the properties of any other image which will in turn force a refresh the image cache.\r\nhttps://github.com/eucalyptus/eucaconsole/blob/d2b337ae51ab73fc5229ef2281bedb1adc5d09da/eucaconsole/views/images.py#L542\r\n\r\nI'll also raise this as a bug and see if the eucaconsole team can change the logic to refresh the cache each time the images page is reloaded.  I assume they expected users to upload images via the eucaconsole if it was available.\r\nNot likely to be a more permanent resolution to this until the next release in any case.\r\n\r\n-------\r\nReally we need some way for the user to trigger self.invalidate_images_cache() so that newly uploaded images (via CLI and not GUI) can be viewed","customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Image cache not refreshed if image uploaded via CLI","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmccue","name":"dmccue","key":"dmccue","accountId":"557058:ed3db3e7-1778-45e1-a9ca-da74c4afc860","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"David McCue","active":true,"timeZone":"Europe/London"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dmccue","name":"dmccue","key":"dmccue","accountId":"557058:ed3db3e7-1778-45e1-a9ca-da74c4afc860","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FavatarId%3D10122%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26avatarId%3D10122%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26avatarId%3D10122%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/c6d14a696c9a8cbab9b66ec225f8bc8e?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26avatarId%3D10122%26noRedirect%3Dtrue"},"displayName":"David McCue","active":true,"timeZone":"Europe/London"},"customfield_10000":null,"customfield_12100":"0|i044qn:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10200":null,"customfield_10002":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10004":null,"customfield_11600":["dmccue(dmccue)"],"customfield_10116":null,"customfield_10117":null,"environment":"eucalyptus 4.4.1","customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-2923/votes","votes":0,"hasVoted":false},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}