{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"28067","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28067","key":"GUI-578","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/11301","id":"11301","key":"GUI","name":"Management Console","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=11301&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=11301&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=11301&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=11301&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"customfield_10310":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/5","id":"5","description":"All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.","name":"Cannot Reproduce"},"customfield_11401":null,"customfield_11400":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10302":null,"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10702":null,"customfield_10703":null,"customfield_10704":null,"resolutiondate":"2014-10-17T14:49:19.406-0500","customfield_10705":null,"customfield_10309":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-578/watchers","watchCount":2,"isWatching":false},"created":"2014-03-13T14:35:21.534-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"customfield_10300":null,"customfield_10301":null,"labels":[],"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/13616","id":"13616","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"customfield_11901":null,"issuelinks":[],"assignee":null,"updated":"2015-05-08T17:42:19.885-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"I launched a console on Ubuntu and at first it seemed to work fine, then it was unable to connect to CLC. The connection comes back for a short time after reboot. \r\n\r\n{code}\r\nroot@i:~/KOALA/eucaconsole# Starting subprocess with file monitor\r\nStarting server in PID 2258.\r\n2014-03-13 17:26:15 [2258] [INFO] Starting gunicorn 18.0\r\n2014-03-13 17:26:15 [2258] [INFO] Listening at: http://0.0.0.0:8888 (2258)\r\n2014-03-13 17:26:15 [2258] [INFO] Using worker: sync\r\n2014-03-13 17:26:15 [2269] [INFO] Booting worker with pid: 2269\r\n2014-03-13 17:26:15 [2270] [INFO] Booting worker with pid: 2270\r\n2014-03-13 17:26:15 [2271] [INFO] Booting worker with pid: 2271\r\n2014-03-13 17:26:15 [2272] [INFO] Booting worker with pid: 2272\r\n2014-03-13 17:26:15 [2273] [INFO] Booting worker with pid: 2273\r\n2014-03-13 17:26:15 [2274] [INFO] Booting worker with pid: 2274\r\n2014-03-13 17:26:15 [2275] [INFO] Booting worker with pid: 2275\r\n2014-03-13 17:26:15 [2276] [INFO] Booting worker with pid: 2276\r\n2014-03-13 17:28:24 [2258] [CRITICAL] WORKER TIMEOUT (pid:2276)\r\n2014-03-13 17:28:24 [2258] [CRITICAL] WORKER TIMEOUT (pid:2276)\r\n2014-03-13 17:28:24 [2277] [INFO] Booting worker with pid: 2277\r\n2014-03-13 17:29:05 [2258] [CRITICAL] WORKER TIMEOUT (pid:2270)\r\n2014-03-13 17:29:05 [2258] [CRITICAL] WORKER TIMEOUT (pid:2270)\r\n2014-03-13 17:29:05 [2278] [INFO] Booting worker with pid: 2278\r\n2014-03-13 17:29:08 [2258] [CRITICAL] WORKER TIMEOUT (pid:2271)\r\n2014-03-13 17:29:08 [2258] [CRITICAL] WORKER TIMEOUT (pid:2271)\r\n2014-03-13 17:29:08 [2279] [INFO] Booting worker with pid: 2279\r\n2014-03-13 17:29:42 [2258] [CRITICAL] WORKER TIMEOUT (pid:2277)\r\n2014-03-13 17:29:42 [2258] [CRITICAL] WORKER TIMEOUT (pid:2277)\r\n2014-03-13 17:29:42 [2280] [INFO] Booting worker with pid: 2280\r\n2014-03-13 17:31:04 [2258] [CRITICAL] WORKER TIMEOUT (pid:2269)\r\n2014-03-13 17:31:04 [2258] [CRITICAL] WORKER TIMEOUT (pid:2269)\r\n2014-03-13 17:31:04 [2281] [INFO] Booting worker with pid: 2281\r\nvi console.ini \r\nroot@i:~/KOALA/eucaconsole# console.ini changed; reloading...\r\n-------------------- Restarting --------------------\r\nStarting server in PID 2283.\r\n2014-03-13 17:31:36 [2283] [INFO] Starting gunicorn 18.0\r\n2014-03-13 17:31:36 [2283] [ERROR] Connection in use: ('0.0.0.0', 8888)\r\n2014-03-13 17:31:36 [2283] [ERROR] Retrying in 1 second.\r\n2014-03-13 17:31:37 [2283] [ERROR] Connection in use: ('0.0.0.0', 8888)\r\n2014-03-13 17:31:37 [2283] [ERROR] Retrying in 1 second.\r\n2014-03-13 17:31:38 [2283] [ERROR] Connection in use: ('0.0.0.0', 8888)\r\n2014-03-13 17:31:38 [2283] [ERROR] Retrying in 1 second.\r\n2014-03-13 17:31:38 [2279] [INFO] Parent changed, shutting down: <Worker 2279>\r\n2014-03-13 17:31:38 [2279] [INFO] Worker exiting (pid: 2279)\r\nExiting 0 (-v to see traceback)\r\n2014-03-13 17:31:39 [2283] [ERROR] Connection in use: ('0.0.0.0', 8888)\r\n2014-03-13 17:31:39 [2283] [ERROR] Retrying in 1 second.\r\n2014-03-13 17:31:40 [2283] [ERROR] Connection in use: ('0.0.0.0', 8888)\r\n2014-03-13 17:31:40 [2283] [ERROR] Retrying in 1 second.\r\n2014-03-13 17:31:41 [2283] [ERROR] Can't connect to ('0.0.0.0', 8888)\r\nExiting 1 (-v to see traceback)\r\n2014-03-13 17:31:43 [2280] [INFO] Parent changed, shutting down: <Worker 2280>\r\n2014-03-13 17:31:43 [2280] [INFO] Worker exiting (pid: 2280)\r\nExiting 0 (-v to see traceback)\r\n2014-03-13 17:31:44 [2278] [INFO] Parent changed, shutting down: <Worker 2278>\r\n2014-03-13 17:31:44 [2278] [INFO] Worker exiting (pid: 2278)\r\nExiting 0 (-v to see traceback)\r\n2014-03-13 17:31:44 [2275] [INFO] Parent changed, shutting down: <Worker 2275>\r\n2014-03-13 17:31:44 [2273] [INFO] Parent changed, shutting down: <Worker 2273>\r\n2014-03-13 17:31:44 [2275] [INFO] Worker exiting (pid: 2275)\r\n2014-03-13 17:31:44 [2273] [INFO] Worker exiting (pid: 2273)\r\nExiting 0 (-v to see traceback)\r\nExiting 0 (-v to see traceback)\r\n2014-03-13 17:31:44 [2274] [INFO] Parent changed, shutting down: <Worker 2274>\r\n2014-03-13 17:31:44 [2272] [INFO] Parent changed, shutting down: <Worker 2272>\r\n2014-03-13 17:31:44 [2272] [INFO] Worker exiting (pid: 2272)\r\n2014-03-13 17:31:44 [2274] [INFO] Worker exiting (pid: 2274)\r\nExiting 0 (-v to see traceback)\r\nExiting 0 (-v to see traceback)\r\n2014-03-13 17:31:49 [2281] [INFO] Parent changed, shutting down: <Worker 2281>\r\n2014-03-13 17:31:49 [2281] [INFO] Worker exiting (pid: 2281)\r\nExiting 0 (-v to see traceback)\r\nvi console.ini \r\n[1]+  Done                    ./launcher.sh\r\nroot@i:~/KOALA/eucaconsole# ./launcher.sh &\r\n[1] 2295\r\nroot@i:~/KOALA/eucaconsole# Starting subprocess with file monitor\r\nStarting server in PID 2303.\r\n2014-03-13 17:34:53 [2303] [INFO] Starting gunicorn 18.0\r\n2014-03-13 17:34:53 [2303] [INFO] Listening at: http://0.0.0.0:8888 (2303)\r\n2014-03-13 17:34:53 [2303] [INFO] Using worker: sync\r\n2014-03-13 17:34:53 [2314] [INFO] Booting worker with pid: 2314\r\n2014-03-13 17:34:53 [2315] [INFO] Booting worker with pid: 2315\r\n2014-03-13 17:34:53 [2316] [INFO] Booting worker with pid: 2316\r\n2014-03-13 17:34:53 [2317] [INFO] Booting worker with pid: 2317\r\n2014-03-13 17:34:53 [2318] [INFO] Booting worker with pid: 2318\r\n2014-03-13 17:34:53 [2319] [INFO] Booting worker with pid: 2319\r\n2014-03-13 17:34:53 [2320] [INFO] Booting worker with pid: 2320\r\n2014-03-13 17:34:53 [2321] [INFO] Booting worker with pid: 2321\r\n{code}\r\n\r\nThis is how I installed console initially:\r\n\r\n{code}\r\n#!/bin/bash\r\n\r\napt-get install -y python-setuptools\r\napt-get install -y python-pip\r\npip install virtualenv\r\nvirtualenv KOALA\r\ncd KOALA\r\nsource bin/activate\r\n\r\npip install waitress\r\napt-get install -y libevent-dev\r\napt-get install -y openssl\r\n\r\napt-get install -y git\r\n\r\ngit clone https://github.com/eucalyptus/eucaconsole\r\n\r\napt-get install -y build-essential\r\napt-get install -y python-dev\r\napt-get install -y swig\r\n\r\n\r\n{code}\r\n\r\nconsole.ini was updated to this:\r\n\r\n{code}\r\n######################################\r\n# Eucalyptus Management Console Config\r\n######################################\r\n\r\n\r\n###################\r\n# App configuration\r\n# http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/environment.html\r\n###\r\n[app:main]\r\nuse = egg:eucaconsole\r\n\r\n## EUCA config\r\nclchost = 10.111.1.119 \r\nclcport = 8773\r\n# since eucalyptus allows for different services to be located on different\r\n# physical hosts, you may override the above host and port for each service.\r\n# The service list is [ec2, autoscale, cloudwatch, elb, iam, sts].\r\n# For each, you can specify a different host and/or port, for example;\r\n#elb.host=10.20.30.40\r\n#elb.port=443\r\n\r\n\r\nhelp.url=https://engage.eucalyptus.com?r=euca-\r\n# admin support url\r\nsupport.url=http://your-cloud-admin-portal/\r\n#support.url=mailto: support@yourdomain.com\r\n\r\n## AWS settings ##\r\naws.enabled = True\r\n# set this to define a default region for aws login\r\naws.default.region = us-east-1\r\n\r\n\r\n## Pyramid settings ##\r\npyramid.reload_templates = false\r\npyramid.debug_authorization = false\r\npyramid.debug_notfound = false\r\npyramid.debug_routematch = false\r\npyramid.default_locale_name = en\r\npyramid.includes =\r\n    pyramid_beaker\r\n    pyramid_chameleon\r\n    pyramid_layout\r\n#    pyramid_debugtoolbar\r\n\r\n## Session config ##\r\n# See http://beaker.readthedocs.org/en/latest/configuration.html\r\n#\r\n# Session type is one of cookie, file, dbm, memory, ext:memcached, ext:database, ext:google\r\n# The 'cookie' session type has a hard limit of 4096 bytes\r\nsession.type = cookie\r\nsession.key = eucaconsole_session\r\nsession.validate_key = QD8uAeiOxePxU7xjcpfhjJSaiwX3GQ3bVqMV279ieAqgNSbT\r\nsession.encrypt_key = C7yjNtRb3YGW0PhPUkh1tzGiYa7LaGeo9ehq2WuQrWzTExmFgPPJjk441UjKECMA\r\nsession.httponly = true\r\n# Secure session implies SSL setup\r\nsession.secure = false\r\n# Idle timeout (1800 sec = 30 min)\r\nsession.timeout = 1800\r\n# Absolute timeout (43200 sec = 12 hours)\r\nsession.cookie_expires = 43200\r\n\r\n## Cache config ##\r\n# See https://pyramid_beaker.readthedocs.org/en/latest/#beaker-cache-region-support\r\ncache.regions = default_term, second, short_term, long_term, extra_long_term\r\ncache.type = memory\r\n# expiration units are seconds\r\ncache.second.expire = 1\r\ncache.short_term.expire = 60\r\ncache.default_term.expire = 300\r\ncache.long_term.expire = 3600\r\ncache.extra_long_term.expire = 43200\r\n\r\n## Mail config ##\r\n# See http://pythonhosted.org/pyramid_mailer/#configuration\r\nmail.host = localhost\r\nmail.port = 25\r\nmail.default_sender = admin@localhost\r\n\r\n\r\n###########################\r\n# WSGI server configuration\r\n###\r\n[server:main]\r\nuse = egg:gunicorn#main\r\nhost = 0.0.0.0\r\nport = 8888\r\nworkers = 8\r\n\r\n#######################\r\n# Logging configuration\r\n# http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/logging.html\r\n###\r\n[loggers]\r\nkeys = root\r\n\r\n[handlers]\r\nkeys = screen_debug, logfile\r\n\r\n[formatters]\r\nkeys = generic, eucaformat\r\n\r\n[logger_root]\r\nhandlers = logfile\r\n# handlers = logfile, screen_debug\r\n\r\n[handler_screen_debug]\r\nclass = StreamHandler\r\nargs = (sys.stdout,)\r\nlevel = DEBUG\r\nformatter = generic\r\n\r\n[handler_logfile]\r\nclass = handlers.RotatingFileHandler\r\nargs = ('/var/log/eucalyptus/console.log', 'a', 'maxBytes=1000000', 'backupCount=10')\r\n# args = ('/tmp/eucalyptus_console.log', 'a', 'maxBytes=1000000', 'backupCount=10')\r\nlevel = WARN\r\nformatter = eucaformat\r\n\r\n[formatter_generic]\r\nformat = %(asctime)s %(levelname)-5.5s [%(name)s][%(threadName)s] %(message)s\r\n\r\n[formatter_eucaformat]\r\nformat = %(asctime)-15s %(levelname)s %(message)s\r\ndatefmt = %Y-%m-%d %H:%M:%S\r\n\r\n\r\n{code}\r\n\r\n","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10005":null,"customfield_10401":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/attachment/19166","id":"19166","filename":"Screen Shot 2014-03-13 at 11.32.32 AM.png","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-03-13T14:35:53.548-0500","size":142731,"mimeType":"image/png","content":"https://eucalyptus.atlassian.net/secure/attachment/19166/Screen+Shot+2014-03-13+at+11.32.32+AM.png","thumbnail":"https://eucalyptus.atlassian.net/secure/thumbnail/19166/Screen+Shot+2014-03-13+at+11.32.32+AM.png"}],"summary":"Console installed on Ubuntu loses connection with CLC after running for a short time","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=alice","name":"alice","key":"alice","accountId":"557058:5b1ee660-a351-4b5c-b5b0-22efc33ccfe4","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/2cf26ec8e139ffc4e70a1bf036738b53?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dalice%26avatarId%3D14400%26noRedirect%3Dtrue"},"displayName":"Alice Hubenko","active":true,"timeZone":"America/Los_Angeles"},"customfield_12100":"0|i02l0f:","customfield_10000":"10001_*:*_1_*:*_18830568121_*|*_10000_*:*_1_*:*_5469767_*|*_5_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_10001":null,"customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_11600":["alice(alice)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-578/votes","votes":0,"hasVoted":false},"comment":{"comments":[],"maxResults":0,"total":0,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}