{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"28511","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28511","key":"GUI-662","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/7","id":"7","description":"A user story. Created by JIRA Software - do not edit or delete.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14815&avatarType=issuetype","name":"Story","subtask":false,"avatarId":14815},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/11301","id":"11301","key":"GUI","name":"Management Console","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=11301&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=11301&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=11301&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=11301&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[],"aggregatetimespent":null,"resolution":null,"customfield_10310":null,"customfield_11401":null,"customfield_11400":null,"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10200","value":"High","id":"10200"},"customfield_10703":null,"customfield_10704":null,"resolutiondate":null,"customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-662/watchers","watchCount":3,"isWatching":false},"created":"2014-03-28T11:20:40.176-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"customfield_12400":null,"customfield_12201":null,"customfield_12600":"{}","customfield_10102":null,"labels":["refactoring","techdebt"],"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/13616","id":"13616","description":"Eucalyptus 4.0.0","name":"4.0.0","archived":false,"released":true,"releaseDate":"2014-05-30"}],"issuelinks":[{"id":"31508","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/31508","type":{"id":"10102","name":"Duplicate","inward":"is duplicated by","outward":"duplicates","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10102"},"inwardIssue":{"id":"28510","key":"GUI-661","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28510","fields":{"summary":"Standardize re-usable UI on Angularjs","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14810&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14810}}}},{"id":"31507","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/31507","type":{"id":"10103","name":"Relates","inward":"relates to","outward":"relates to","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10103"},"outwardIssue":{"id":"36340","key":"GUI-1801","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36340","fields":{"summary":"Stacks landing page does not refresh after deleting stack","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}}],"assignee":null,"updated":"2015-07-13T14:06:27.446-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/10001","description":"This issue has been validated/reproduced, but has not been prioritized yet.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Confirmed","id":"10001","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}},"components":[],"timeoriginalestimate":null,"description":"Here's an e-mail I sent about this which captures this idea:\r\n\r\nI want to suggest a possible change-up of some code for 4.1. If you look at how the user detail page is done, there are many actions on that page. There is some initial data to load and XHR requests for each section within. For actions on that page, XHR calls are made and individual sections are refreshed. The way it is done, there really aren't the page transitions found in other parts of the app. I think overall, this leads to some improved UX.\r\nWhat I propose is for things that are lightweight like attach/detach/delete on volumes, start/stop/terminate/etc on instances and things of this nature, we could do the same and simply refresh the table. This makes those operations lighter weight since it requires less browser/proxy traffic. It also lets us re-factor the view code so that the lightweight XHR calls can be in a view that doesn't carry the weight of the full page (forms, etc..)\r\n\r\nPart of this should be keeping the views for the XHR calls as light weight as possible. We don't want to make additional CLC calls in setting up the view if we can avoid it. This might mean moving some request handling code out of the existing view and into a new view, just for XHR calls (which could be grouped into a single view).\r\n\r\nAnother guideline is to avoid duplicating functionality. Using XHR calls, this will be easier as I'll explain. Currently some functions are implemented in 2 places (like attach volume). That was done because each call returns a different URL location in response due to them being made from different pages. In one case, the user is directed back to the volume page, in the other, back to some instance page. If the calls are XHR, the response is JSON and handled in javascript. No redirect is needed. So, I suggest using the volume_attach route in both cases and removing the duplicate code in the instance view. Again, this will be easy to do when converting to XHR calls and probably should be done at the same time.\r\n\r\nOne thing that would be nice to address here is that when changes are made to a page section, such as generating access keys for users or adding users to groups, if the whole data set wasn't wiped out and redrawn every time it would be slicker UX to keep the original list and just add the new thing, or remove the one that's removed, without removing the whole list and redrawing it. ","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":null,"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"aggregatetimeestimate":null,"attachment":[],"summary":"Use more XHR calls to perform functions that don't require page change","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dkavanagh","name":"dkavanagh","key":"dkavanagh","accountId":"557058:03be2b52-89f7-4c8f-8e00-e2a60a3e7a5e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue"},"displayName":"David Kavanagh","active":false,"timeZone":"America/New_York"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dkavanagh","name":"dkavanagh","key":"dkavanagh","accountId":"557058:03be2b52-89f7-4c8f-8e00-e2a60a3e7a5e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue"},"displayName":"David Kavanagh","active":false,"timeZone":"America/New_York"},"customfield_10000":null,"aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i02ln3:","customfield_10001":"2014-07-10T14:13:00.553-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_12500":null,"customfield_10400":null,"customfield_10004":null,"customfield_11600":["dkavanagh(dkavanagh)","kgill(kgill)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28511/comment/70178","id":"70178","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dkavanagh","name":"dkavanagh","key":"dkavanagh","accountId":"557058:03be2b52-89f7-4c8f-8e00-e2a60a3e7a5e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue"},"displayName":"David Kavanagh","active":false,"timeZone":"America/New_York"},"body":"Kyo and I were talking and I wanted to capture some of the results of those conversations. This relates to converting to XHR calls and handling status (success and error).\r\nFor actions that leave the user on the same page, doing XHR calls like on the user detail page will work. Status is returned in JSON and pushed to the user via our Notify package. These are all handled client side.\r\nFor actions that result in the user going to a new page, we are currently doing a form post and the user gets a new page as a result (with notification as part of that). This works well for success and error since the server side queues the result and sets the new location based on the outcome of the operation. One concern is that we re-render the existing page in an error condition and isn't that heavy-weight and what we are trying to avoid? I suggest that 90-98% of the time, success is the outcome of operations. That means we have perhaps 2-10% chance of a page re-render just to show an error message. I think this is perfectly acceptable.\r\nAnother scenario is the user invoking an action, not waiting for the result and clicking another link (maybe via nav bar or breadcrumbs). In this case, the result of the operation is lost in that the reply to the operation is cut off. For XHR calls, I think this is completely true since the browser isn't waiting for that JSON reply any longer. For form post operations, the result is queued. There is a chance the result will be queued and shown to the user on the next screen change. This isn't perfect, but we should always remember that the new state of things will be available to the user to see really soon (if not immediately). If they delete a volume, click to another screen quickly, they can always check the volume landing page to see if that volume is deleted. If they need to retry, chances are they'll stick around to see if there is an error reported. I don't think this scenario is common anyway.\r\nAnother factor to consider is a recent events queue that we hope to make available in 4.1. That would also reflect recent action outcomes and could augment the existing notifications.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=dkavanagh","name":"dkavanagh","key":"dkavanagh","accountId":"557058:03be2b52-89f7-4c8f-8e00-e2a60a3e7a5e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/e04f1add3c50bf8a7d1676b60b8ba337?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Ddkavanagh%26avatarId%3D10202%26noRedirect%3Dtrue"},"displayName":"David Kavanagh","active":false,"timeZone":"America/New_York"},"created":"2014-05-15T12:00:02.742-0500","updated":"2014-05-15T12:02:10.576-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/28511/comment/73599","id":"73599","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kgill","name":"kgill","key":"kgill","accountId":"557058:d51f06c5-6e24-45a0-83f2-493f2c8eac6e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue"},"displayName":"Kamal Gill","active":true,"timeZone":"America/Los_Angeles"},"body":"I suggest we scope this to landing pages for 4.1, since those pages require a fair number of API calls.  The benefit on detail pages is much lower from a performance standpoint, so suggesting we defer work on detail pages to a later release.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=kgill","name":"kgill","key":"kgill","accountId":"557058:d51f06c5-6e24-45a0-83f2-493f2c8eac6e","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/8ed235fc95ad0f38552ce9617bdbf985?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dkgill%26avatarId%3D18200%26noRedirect%3Dtrue"},"displayName":"Kamal Gill","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-07-10T14:13:00.553-0500","updated":"2014-07-10T14:13:00.553-0500"}],"maxResults":2,"total":2,"startAt":0},"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/GUI-662/votes","votes":0,"hasVoted":false},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}