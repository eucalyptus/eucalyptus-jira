{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"38709","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38709","key":"TOOLS-594","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10001","id":"10001","key":"TOOLS","name":"Euca2ools","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10001&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10001&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10001&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10001&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16700","id":"16700","description":"3.2.2","name":"3.2.2","archived":false,"released":true,"releaseDate":"2016-04-27"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16203","id":"16203","description":"3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10302":null,"customfield_10500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10403","value":"Not Applicable","id":"10403"},"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10304":null,"customfield_10700":null,"customfield_10701":null,"customfield_10306":null,"customfield_10702":null,"customfield_10703":null,"customfield_10308":null,"customfield_10704":null,"resolutiondate":"2015-10-15T11:07:53.223-0500","customfield_10309":null,"customfield_10705":null,"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/TOOLS-594/watchers","watchCount":2,"isWatching":false},"created":"2015-10-12T12:50:55.547-0500","customfield_12000":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"customfield_12400":null,"customfield_12201":null,"customfield_10300":null,"customfield_10102":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2015-10-13T13:51:05.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10301":null,"labels":[],"customfield_11700":null,"aggregatetimeoriginalestimate":null,"timeestimate":null,"versions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16201","id":"16201","description":"3.1.3","name":"3.1.3","archived":false,"released":true,"releaseDate":"2015-07-28"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16202","id":"16202","description":"3.2.1","name":"3.2.1","archived":false,"released":true,"releaseDate":"2015-07-28"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/16203","id":"16203","description":"3.3.0","name":"3.3.0","archived":false,"released":true,"releaseDate":"2015-10-22"}],"customfield_11901":null,"issuelinks":[{"id":"32806","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32806","type":{"id":"10600","name":"Bonfire Testing","inward":"discovered while testing","outward":"testing discovered","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10600"},"inwardIssue":{"id":"36175","key":"EUCA-10838","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/36175","fields":{"summary":"EC2 bundle manifest signatures should not be validated by service","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/2","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/critical.svg","name":"Critical","id":"2"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"32907","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/32907","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"38611","key":"DOC-1686","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38611","fields":{"summary":"euca2ools 3.3.0 change list","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/1","id":"1","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14803&avatarType=issuetype","name":"Bug","subtask":false,"avatarId":14803}}}},{"id":"36224","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLink/36224","type":{"id":"10500","name":"Document","inward":"is documented by","outward":"documents","self":"https://eucalyptus.atlassian.net/rest/api/2/issueLinkType/10500"},"inwardIssue":{"id":"38813","key":"DOC-1697","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38813","fields":{"summary":"Euca2ools Release Notes for 3.3.1, 3.2.2","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/3","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/major.svg","name":"Major","id":"3"},"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/3","id":"3","description":"A task that needs to be done.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14818&avatarType=issuetype","name":"Task","subtask":false,"avatarId":14818}}}}],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"updated":"2016-06-06T17:05:01.519-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/5","description":"A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/resolved.png","name":"Resolved","id":"5","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"description":"*Assessment*\r\n\r\nWhile testing EUCA-10838, it was observed that {{euca-unbundle}} fails when unbundling an image that was bundled with custom private certificate.  It looks like the SHA1 comparison is off by 1 character:\r\n{code}\r\n[root@d-02 ~]# euca-unbundle --source ubuntu-wily-x86-64 --destination ubuntu-wily-x86-64 --manifest ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.manifest.xml --privatekey devops-img-bundle-pk.pem --region devops-admin@big-grams\r\n100% |=======================================================================================================================|   2.20 GB 152.63 MB/s Time: 0:00:15\r\neuca-unbundle: error: bundle appears to be corrupt (expected SHA1: 80a239c60d0e7b117c13c63312f9537b3b82252, actual: 080a239c60d0e7b117c13c63312f9537b3b82252)\r\n{code}\r\nIf you compare \r\n- {{80a239c60d0e7b117c13c63312f9537b3b82252}} \r\n- {{080a239c60d0e7b117c13c63312f9537b3b82252}}\r\nthe only difference is the first character.\r\n\r\n*Signs*\r\n\r\n- Euca2ools version:\r\n{code}\r\n[root@d-02 ~]# euca-version\r\neuca2ools 3.3.0-pre1-13-ge9f05ef (Yokohama)\r\n{code}\r\n- Debug ouptut:\r\n{code}\r\n[root@d-02 ~]# euca-unbundle --source ubuntu-wily-x86-64 --destination ubuntu-wily-x86-64 --manifest ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.manifest.xml --privatekey devops-img-bundle-pk.pem --region devops-admin@big-grams --debug\r\n2015-10-12 10:10:57,725 DEBUG   Unbundle parsed arguments: {'show_progress': True, 'show_porcelain': False, 'region': 'devops-admin@big-grams', 'destination': 'ubuntu-wily-x86-64', 'privatekey': 'devops-img-bundle-pk.pem', 'manifest': <open file 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.manifest.xml', mode 'r' at 0x2154420>, 'source': 'ubuntu-wily-x86-64'}\r\n2015-10-12 10:10:57,725 DEBUG   Unbundle private key: devops-img-bundle-pk.pem\r\n2015-10-12 10:10:57,743 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.00' for reading\r\n2015-10-12 10:10:58,037 INFO    Config finding global option default-region\r\n2015-10-12 10:10:58,037 INFO    Config   novalue for default-region\r\n2015-10-12 10:10:58,037 INFO    Config finding region option user\r\n2015-10-12 10:10:58,037 DEBUG   Config   section big-grams\r\n2015-10-12 10:10:58,037 DEBUG   Config   section *\r\n2015-10-12 10:10:58,037 INFO    Config   novalue for user\r\n2015-10-12 10:10:58,839 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.01' for reading53 MB 192.04 MB/s ETA:  0:00:11\r\n2015-10-12 10:10:58,921 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.02' for reading03 MB 186.08 MB/s ETA:  0:00:11\r\n2015-10-12 10:10:59,125 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.03' for reading19 MB 174.73 MB/s ETA:  0:00:12\r\n2015-10-12 10:10:59,401 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.04' for reading38 MB 170.27 MB/s ETA:  0:00:12\r\n2015-10-12 10:10:59,722 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.05' for reading88 MB 157.03 MB/s ETA:  0:00:13\r\n2015-10-12 10:10:59,986 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.06' for reading78 MB 154.89 MB/s ETA:  0:00:13\r\n2015-10-12 10:11:00,180 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.07' for reading94 MB 153.66 MB/s ETA:  0:00:13\r\n2015-10-12 10:11:00,476 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.08' for reading78 MB 152.69 MB/s ETA:  0:00:13\r\n2015-10-12 10:11:00,733 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.09' for reading66 MB 148.90 MB/s ETA:  0:00:13\r\n2015-10-12 10:11:01,042 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.10' for reading03 MB 147.70 MB/s ETA:  0:00:13\r\n2015-10-12 10:11:01,327 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.11' for reading34 MB 146.41 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:01,614 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.12' for reading05 MB 145.45 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:01,857 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.13' for reading61 MB 145.11 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:02,077 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.14' for reading16 MB 142.99 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:02,309 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.15' for reading06 MB 142.15 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:02,529 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.16' for reading59 MB 140.17 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:02,778 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.17' for reading34 MB 138.89 MB/s ETA:  0:00:12\r\n2015-10-12 10:11:03,668 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.20' for reading53 MB 138.28 MB/s ETA:  0:00:11\r\n2015-10-12 10:11:04,034 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.21' for reading16 MB 139.23 MB/s ETA:  0:00:10\r\n2015-10-12 10:11:04,342 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.22' for reading28 MB 139.43 MB/s ETA:  0:00:10\r\n2015-10-12 10:11:04,667 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.23' for reading59 MB 139.80 MB/s ETA:  0:00:10\r\n2015-10-12 10:11:04,950 DEBUG   Unbundle opening part 'ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.part.24' for reading97 MB 138.77 MB/s ETA:  0:00:10\r\n100% |=======================================================================================================================|   2.20 GB 170.86 MB/s Time: 0:00:13\r\n2015-10-12 10:11:11,870 ERROR   UnbundleStream rejecting unbundle due to SHA1 mismatch (expected SHA1: 80a239c60d0e7b117c13c63312f9537b3b82252, actual: 080a239c60d0e7b117c13c63312f9537b3b82252)\r\neuca-unbundle: error: bundle appears to be corrupt (expected SHA1: 80a239c60d0e7b117c13c63312f9537b3b82252, actual: 080a239c60d0e7b117c13c63312f9537b3b82252)\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euca-unbundle\", line 6, in <module>\r\n    euca2ools.commands.bundle.unbundle.Unbundle.run()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 305, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 302, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundle.py\", line 162, in main\r\n    unbundlestream.main()\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py\", line 101, in main\r\n    .format(expected_sha1, actual_sha1))\r\nRuntimeError: bundle appears to be corrupt (expected SHA1: 80a239c60d0e7b117c13c63312f9537b3b82252, actual: 080a239c60d0e7b117c13c63312f9537b3b82252)\r\n{code}\r\n- pdb set trace output:\r\n{code}\r\n[root@d-02 ~]# euca-unbundle --source ubuntu-wily-x86-64 --destination ubuntu-wily-x86-64 --manifest ubuntu-wily-x86-64/wily-server-cloudimg-amd64-disk1.raw.manifest.xml --privatekey devops-img-bundle-pk.pem --region devops-admin@big-grams\r\n100% |=======================================================================================================================|   2.20 GB 170.80 MB/s Time: 0:00:13\r\n> /usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py(92)main()\r\n-> expected_sha1 = self.args.get('sha1_digest') or ''\r\n(Pdb) n\r\n> /usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py(93)main()\r\n-> expected_sha1 = expected_sha1.lower().strip('0x')\r\n(Pdb) p self.args.get('sha1_digest')\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) p expected_sha1\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) n\r\n> /usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py(94)main()\r\n-> expected_size = self.args.get('image_size')\r\n(Pdb) p expected_sha1.lower().strip('0x')\r\n'80a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) p expected_sha1.lower()\r\n'80a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) p expected_sha1\r\n'80a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) n\r\n> /usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py(95)main()\r\n-> if expected_sha1 and expected_sha1 != actual_sha1:\r\n(Pdb) p actual_sha1\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) c\r\neuca-unbundle: error: bundle appears to be corrupt (expected SHA1: 80a239c60d0e7b117c13c63312f9537b3b82252, actual: 080a239c60d0e7b117c13c63312f9537b3b82252)\r\n{code}\r\nFrom the looks of the PDB, it seems that the issue arrives with the {{.strip('0x')}}.  When running through it again, I added {{.strip('0x')}} to {{self.args.get('sha1_digest')}} variable:\r\n{code}\r\n> /usr/lib/python2.6/site-packages/euca2ools/commands/bundle/unbundlestream.py(93)main()\r\n-> expected_sha1 = expected_sha1.lower().strip('0x')\r\n(Pdb) p self.args.get('sha1_digest')\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) p self.args.get('sha1_digest').lower()\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n(Pdb) p self.args.get('sha1_digest').lower().strip('0x')\r\n'80a239c60d0e7b117c13c63312f9537b3b82252'\r\n{code}\r\nAfter the {{actual_sha1}} is calculated:\r\n{code}\r\nactual_sha1 = unbundle_sha1_r.recv()\r\n{code}\r\nits not going through the same conversion.\r\n{code}\r\n(Pdb) p actual_sha1\r\n'080a239c60d0e7b117c13c63312f9537b3b82252'\r\n{code}","customfield_13000":null,"customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Differences in digest zero-padding can cause euca-unbundle to fail","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"customfield_10000":"3_*:*_1_*:*_78936464_*|*_10000_*:*_1_*:*_12201616_*|*_10001_*:*_1_*:*_83276041_*|*_10003_*:*_1_*:*_78603575_*|*_10006_*:*_1_*:*_0","aggregateprogress":{"progress":0,"total":0},"customfield_12100":"0|i03ft3:","customfield_10001":"2015-10-12T15:41:34.051-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_10116":null,"customfield_11600":["gholms(gholms)","hspencer(hspencer)"],"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"customfield_11805":null,"duedate":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/TOOLS-594/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38709/comment/93564","id":"93564","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"It's the leading {{0}} that's breaking things.  euca-unbundle is comparing the hex strings rather than loading them as integers first.\r\n\r\nAssuming SHA1 is reasonably uniform, this will affect 1/16 of all images and will not have a workaround.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-12T15:41:34.051-0500","updated":"2015-10-12T15:41:34.051-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38709/comment/93779","id":"93779","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed in commit {{7369a57}}.  If you still have that image please try unbundling it again.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-14T13:17:49.662-0500","updated":"2015-10-14T13:17:49.662-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/38709/comment/93896","id":"93896","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed.  Nice work [~gholms].\r\n\r\nEuca2ools Version: {{3.3.0-0.0.1735.46.20151009gitb415459.el6}}\r\nEucalyptus Version: {{4.2.0-0.0.24040.714.20151013git400ff60.el6}}\r\n\r\n*Steps*\r\n\r\n# Set up Eucalyptus 4.2 (4.2.0-0.0.24040.714.20151013git400ff60.el6) cloud with Eucalyptus DNS enabled - [hspencer-1757|http://jenkins.qa1.eucalyptus-systems.com/job/Quick%20Launch%20Master/1757/]\r\n#  Assumed 'eucalyptus/admin' user credentials on CLC, and created 'euca-admin' user under 'eucalyptus' account:\r\n{code}\r\n[root@e-05 ~]# euare-usercreate -u euca-admin -w > euca-admin.ini\r\n[root@e-05 ~]# cat .euca/euca-admin.ini\r\n[region region1]\r\nautoscaling-url = http://autoscaling.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nbootstrap-url = http://bootstrap.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\ncloudformation-url = http://cloudformation.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nec2-url = http://ec2.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nelasticloadbalancing-url = http://elasticloadbalancing.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\niam-url = http://iam.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nmonitoring-url = http://monitoring.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nproperties-url = http://properties.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nreporting-url = http://reporting.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\ns3-url = http://s3.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\nsts-url = http://sts.e-05.autoqa.qa1.eucalyptus-systems.com:8773/\r\ncertificate = /var/lib/eucalyptus/keys/cloud-cert.pem\r\n\r\n[user euca-admin]\r\nkey-id = AKIAA5HVGIIHUTFZANIG\r\nsecret-key = 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\r\naccount-id = 000457901909\r\n\r\n{code}\r\n# Created custom private key and certificate for image bundling:\r\n{code}\r\n[root@e-05 ~]# openssl genrsa 1024 > euca-admin-bundle-pk.pem\r\nGenerating RSA private key, 1024 bit long modulus\r\n..........................................................................................++++++\r\n.............................++++++\r\ne is 65537 (0x10001)\r\n[root@e-05 ~]# openssl req -new -x509 -nodes -sha1 -days 365 -key euca-admin-bundle-pk.pem -outform PEM > euca-admin-bundle-cert.pem\r\nYou are about to be asked to enter information that will be incorporated\r\ninto your certificate request.\r\nWhat you are about to enter is what is called a Distinguished Name or a DN.\r\nThere are quite a few fields but you can leave some blank\r\nFor some fields there will be a default value,\r\nIf you enter '.', the field will be left blank.\r\n-----\r\nCountry Name (2 letter code) [XX]:\r\nState or Province Name (full name) []:\r\nLocality Name (eg, city) [Default City]:\r\nOrganization Name (eg, company) [Default Company Ltd]:\r\nOrganizational Unit Name (eg, section) []:\r\nCommon Name (eg, your name or your server's hostname) []:\r\nEmail Address []:\r\n{code}\r\n# Downloaded [Ubuntu Trusty cloud image|http://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img], then converted it to raw image format:\r\n{code}\r\n[root@e-05 ~]# wget http://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img\r\n--2015-10-15 07:18:10--  http://cloud-images.ubuntu.com/trusty/current/trusty-server-cloudimg-amd64-disk1.img\r\nResolving cloud-images.ubuntu.com... 91.189.88.141, 2001:67c:1360:8001:ffff:ffff:ffff:fffe\r\nConnecting to cloud-images.ubuntu.com|91.189.88.141|:80... connected.\r\nHTTP request sent, awaiting response... 200 OK\r\nLength: 258540032 (247M) [application/octet-stream]\r\nSaving to: “trusty-server-cloudimg-amd64-disk1.img”\r\n\r\n100%[========================================================================================================================>] 258,540,032 5.56M/s   in 54s\r\n\r\n2015-10-15 07:19:04 (4.59 MB/s) - “trusty-server-cloudimg-amd64-disk1.img” saved [258540032/258540032]\r\n\r\n[root@e-05 ~]# qemu-img convert -O raw trusty-server-cloudimg-amd64-disk1.img trusty-server-cloudimg-amd64-disk1.raw\r\n{code}\r\n# Bundle, upload and registered Ubuntu Image:\r\n{code}\r\n[root@e-05 ~]# euca-install-image -i trusty-server-cloudimg-amd64-disk1.raw --privatekey euca-admin-bundle-pk.pem --cert euca-admin-bundle-cert.pem --virtualization-type hvm --name ubuntu-trusty-x86_64 --bucket ubuntu-trusty-x86_64-20151015 --arch x86_64 --region euca-admin@region1\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.00 100% |=====================================================================|  10.00 MB  41.67 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.01 100% |=====================================================================|  10.00 MB  51.71 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.02 100% |=====================================================================|  10.00 MB  41.71 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.03 100% |=====================================================================|  10.00 MB  52.13 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.04 100% |=====================================================================|  10.00 MB  41.70 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.05 100% |=====================================================================|  10.00 MB  41.71 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.06 100% |=====================================================================|  10.00 MB  41.70 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.07 100% |=====================================================================|  10.00 MB  41.69 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.08 100% |=====================================================================|  10.00 MB  52.14 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.09 100% |=====================================================================|  10.00 MB  52.01 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.10 100% |=====================================================================|  10.00 MB  34.65 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.11 100% |=====================================================================|  10.00 MB  41.71 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.12 100% |=====================================================================|  10.00 MB  52.12 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.13 100% |=====================================================================|  10.00 MB  52.15 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.14 100% |=====================================================================|  10.00 MB  41.69 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.15 100% |=====================================================================|  10.00 MB  41.72 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.16 100% |=====================================================================|  10.00 MB  41.70 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.17 100% |=====================================================================|  10.00 MB  51.72 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.18 100% |=====================================================================|  10.00 MB  52.14 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.19 100% |=====================================================================|  10.00 MB  52.14 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.20 100% |=====================================================================|  10.00 MB  41.71 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.21 100% |=====================================================================|  10.00 MB  52.14 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.part.22 100% |=====================================================================|   8.70 MB  36.27 MB/s Time: 0:00:00\r\n/var/tmp/bundle-70ARkl/trusty-server-cloudimg-amd64-disk1.raw.manifest.xml 100% |================================================================|   6.20 kB  42.00 kB/s Time: 0:00:00\r\nIMAGE\temi-55363344\r\n{code}\r\n# Launched an instance from the EMI to confirm everything works as expected:\r\n{code}\r\n[root@e-05 ~]# euca-run-instances -t m1.medium emi-55363344 --region euca-admin@region1\r\nRESERVATION\tr-8cf067ce\t000457901909\tdefault\r\nINSTANCE\ti-bf35572a\temi-55363344\teuca-10-111-76-125.eucalyptus.e-05.autoqa.qa1.eucalyptus-systems.com\teuca-10-111-76-145.eucalyptus.internal\tpending\t\t0\t\tm1.medium\t2015-10-15T15:40:02.471Z\tdead-prez\t\t\t\tmonitoring-disabled\t10.111.76.125\t10.111.76.145\t\t\tinstance-stor\t\t\t\t\thvm\t\t\tsg-f6c56a41\t\t\t\tx86_64\r\n[root@e-05 ~]# euca-authorize -P tcp -p ssh default --region euca-admin@region1\r\nGROUP\tdefault\r\nPERMISSION\tdefault\tALLOWS\ttcp\t22\t22\tFROM\tCIDR\t0.0.0.0/0\r\n[root@e-05 ~]# euca-describe-instances --region euca-admin@region1\r\nRESERVATION\tr-8cf067ce\t000457901909\tdefault\r\nINSTANCE\ti-bf35572a\temi-55363344\teuca-10-111-76-125.eucalyptus.e-05.autoqa.qa1.eucalyptus-systems.com\teuca-10-111-76-145.eucalyptus.internal\trunning\t\t0\t\tm1.medium\t2015-10-15T15:40:02.471Z\tdead-prez\t\t\t\tmonitoring-disabled\t10.111.76.125\t10.111.76.145\t\t\tinstance-stor\t\t\t\t\thvm\t\t\tsg-f6c56a41\t\t\t\tx86_64\r\nTAG\tinstance\ti-bf35572a\teuca:node\t10.111.1.112\r\n[root@e-05 ~]# ssh euca-10-111-76-125.eucalyptus.e-05.autoqa.qa1.eucalyptus-systems.com\r\nThe authenticity of host 'euca-10-111-76-125.eucalyptus.e-05.autoqa.qa1.eucalyptus-systems.com (10.111.76.125)' can't be established.\r\nRSA key fingerprint is 64:d8:62:8b:10:6f:db:04:ed:14:6e:24:33:0d:80:82.\r\nAre you sure you want to continue connecting (yes/no)? yes\r\nWarning: Permanently added 'euca-10-111-76-125.eucalyptus.e-05.autoqa.qa1.eucalyptus-systems.com,10.111.76.125' (RSA) to the list of known hosts.\r\nPermission denied (publickey).\r\n[root@e-05 ~]#\r\n{code}\r\n# Downloaded the bundle of the Ubuntu Trusty EMI:\r\n{code}\r\n[root@e-05 ~]# mkdir ubuntu-trusty-x86_64\r\n[root@e-05 ~]# euca-download-bundle --directory ubuntu-trusty-x86_64 --bucket ubuntu-trusty-x86_64-20151015 -p trusty-server-cloudimg-amd64-disk1.raw --region euca-admin@region1\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.00 100% |==============================================================|  10.00 MB  93.22 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.01 100% |==============================================================|  10.00 MB  92.76 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.02 100% |==============================================================|  10.00 MB  93.18 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.03 100% |==============================================================|  10.00 MB  93.05 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.04 100% |==============================================================|  10.00 MB  77.52 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.05 100% |==============================================================|  10.00 MB  93.28 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.06 100% |==============================================================|  10.00 MB  93.55 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.07 100% |==============================================================|  10.00 MB  93.11 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.08 100% |==============================================================|  10.00 MB  92.91 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.09 100% |==============================================================|  10.00 MB  93.12 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.10 100% |==============================================================|  10.00 MB  92.85 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.11 100% |==============================================================|  10.00 MB  92.80 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.12 100% |==============================================================|  10.00 MB  92.97 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.13 100% |==============================================================|  10.00 MB  81.59 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.14 100% |==============================================================|  10.00 MB  92.59 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.15 100% |==============================================================|  10.00 MB  92.83 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.16 100% |==============================================================|  10.00 MB  93.20 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.17 100% |==============================================================|  10.00 MB  93.24 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.18 100% |==============================================================|  10.00 MB  92.93 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.19 100% |==============================================================|  10.00 MB  92.80 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.20 100% |==============================================================|  10.00 MB  93.13 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.21 100% |==============================================================|  10.00 MB  62.21 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.part.22 100% |==============================================================|   8.70 MB  91.72 MB/s Time: 0:00:00\r\nubuntu-trusty-x86_64-20151015/trusty-server-cloudimg-amd64-disk1.raw.manifest.xml 100% |=========================================================|   6.20 kB  14.20 MB/s Time: 0:00:00\r\nWrote manifest ubuntu-trusty-x86_64/trusty-server-cloudimg-amd64-disk1.raw.manifest.xml\r\n{code}\r\n# Using the custom private key, unbundled the EMI to access the raw image:\r\n{code}\r\n[root@e-05 ~]# euca-unbundle --manifest ubuntu-trusty-x86_64/trusty-server-cloudimg-amd64-disk1.raw.manifest.xml --source ubuntu-trusty-x86_64 --destination ubuntu-trusty-x86_64 --privatekey euca-admin-bundle-pk.pem --region euca-admin@region1\r\n100% |===========================================================================================================================================|   2.20 GB 127.17 MB/s Time: 0:00:18\r\nWrote ubuntu-trusty-x86_64/trusty-server-cloudimg-amd64-disk1.raw\r\n[root@e-05 ~]# qemu-img info ubuntu-trusty-x86_64/trusty-server-cloudimg-amd64-disk1.raw\r\nimage: ubuntu-trusty-x86_64/trusty-server-cloudimg-amd64-disk1.raw\r\nfile format: raw\r\nvirtual size: 2.2G (2361393152 bytes)\r\ndisk size: 2.2G\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=hspencer","name":"hspencer","key":"hspencer","accountId":"557058:4a3a93bc-21f8-4658-9f5b-9cb484c910a7","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ea43d7b9d5b27468a749f9bd25650176?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dhspencer%26avatarId%3D10407%26noRedirect%3Dtrue"},"displayName":"Harold Spencer Jr.","active":true,"timeZone":"America/Los_Angeles"},"created":"2015-10-15T11:07:53.238-0500","updated":"2015-10-15T11:07:53.238-0500"}],"maxResults":3,"total":3,"startAt":0},"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]},"customfield_11808":null}}