{"expand":"renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations","id":"29244","self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244","key":"TOOLS-463","fields":{"issuetype":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issuetype/4","id":"4","description":"An improvement or enhancement to an existing feature or task.","iconUrl":"https://eucalyptus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=14810&avatarType=issuetype","name":"Improvement","subtask":false,"avatarId":14810},"timespent":null,"customfield_13100":null,"project":{"self":"https://eucalyptus.atlassian.net/rest/api/2/project/10001","id":"10001","key":"TOOLS","name":"Euca2ools","avatarUrls":{"48x48":"https://eucalyptus.atlassian.net/secure/projectavatar?pid=10001&avatarId=10011","24x24":"https://eucalyptus.atlassian.net/secure/projectavatar?size=small&pid=10001&avatarId=10011","16x16":"https://eucalyptus.atlassian.net/secure/projectavatar?size=xsmall&pid=10001&avatarId=10011","32x32":"https://eucalyptus.atlassian.net/secure/projectavatar?size=medium&pid=10001&avatarId=10011"}},"customfield_11000":null,"customfield_11001":null,"fixVersions":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/version/12502","id":"12502","description":"3.1.0","name":"3.1.0","archived":false,"released":true,"releaseDate":"2014-05-29"}],"aggregatetimespent":null,"resolution":{"self":"https://eucalyptus.atlassian.net/rest/api/2/resolution/1","id":"1","description":"A fix for this issue is checked into the tree and tested.","name":"Fixed"},"customfield_10310":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10209","value":"CentOS 6","id":"10209"}],"customfield_11401":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=ccassler","name":"ccassler","key":"ccassler","accountId":"557058:8fb32702-a3cf-42d3-9846-95c74f801354","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/ace94e80ebc0a3b718cc5422760b57de?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dccassler%26avatarId%3D14700%26noRedirect%3Dtrue"},"displayName":"Casey Cassler","active":true,"timeZone":"America/Los_Angeles"},"customfield_11400":null,"customfield_10104":[],"customfield_10105":null,"customfield_10303":null,"customfield_10700":null,"customfield_10304":null,"customfield_10701":null,"customfield_10702":null,"customfield_10306":{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10201","value":"Medium","id":"10201"},"customfield_10703":null,"resolutiondate":"2014-05-22T15:40:22.885-0500","customfield_10704":null,"customfield_10308":null,"customfield_10705":null,"customfield_10309":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/customFieldOption/10204","value":"KVM","id":"10204"}],"workratio":-1,"lastViewed":null,"watches":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/TOOLS-463/watchers","watchCount":4,"isWatching":false},"created":"2014-04-24T17:52:29.281-0500","customfield_12000":null,"customfield_12400":null,"priority":{"self":"https://eucalyptus.atlassian.net/rest/api/2/priority/4","iconUrl":"https://eucalyptus.atlassian.net/images/icons/priorities/minor.svg","name":"Minor","id":"4"},"customfield_12201":null,"customfield_12600":"{repository={count=1, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":1,\"lastUpdated\":\"2014-05-08T15:42:48.000-0500\",\"dataType\":\"repository\"},\"byInstanceType\":{\"github\":{\"count\":1,\"name\":\"GitHub\"}}}}},\"isStale\":true}}","customfield_10102":null,"labels":[],"customfield_11700":null,"timeestimate":null,"aggregatetimeoriginalestimate":null,"customfield_11901":null,"versions":[],"issuelinks":[],"assignee":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"updated":"2014-06-13T16:00:50.223-0500","status":{"self":"https://eucalyptus.atlassian.net/rest/api/2/status/6","description":"The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.","iconUrl":"https://eucalyptus.atlassian.net/images/icons/statuses/generic.png","name":"Closed","id":"6","statusCategory":{"self":"https://eucalyptus.atlassian.net/rest/api/2/statuscategory/3","id":3,"key":"done","colorName":"green","name":"Done"}},"components":[],"timeoriginalestimate":null,"customfield_13000":null,"description":"Supplying a non-existent role when creating an instance profile will still create the instance profile.\r\n\r\n{code}\r\n[root@h-20 ~]# euare-instanceprofilelistbypath\r\n\r\n[root@h-20 ~]# euare-instanceprofilecreate -r NO-SUCH-ROLE -s new-profile --debug\r\n2014-04-24 15:47:59,124 DEBUG   CreateInstanceProfile parsed arguments: {'verbose': False, 'security_token': None, 'url': None, 'DelegateAccount': None, 'region': None, 'role': 'NO-SUCH-ROLE', 'InstanceProfileName': 'new-profile', 'key_id': None, 'Path': None, 'secret_key': None}\r\n2014-04-24 15:47:59,128 INFO    CreateInstanceProfile parameters: {'Action': 'CreateInstanceProfile', 'Version': '2010-05-08', 'InstanceProfileName': 'new-profile'}\r\n2014-04-24 15:47:59,128 INFO    IAM sending request (attempt 1 of 3)\r\n2014-04-24 15:47:59,129 DEBUG   QuerySigV2Auth string to sign: 'POST\\neuare.h-20.autoqa.qa1.eucalyptus-systems.com:8773\\n/services/Euare\\nAWSAccessKeyId=AKIDX9UF2WAFC31OKHN7&Action=CreateInstanceProfile&InstanceProfileName=new-profile&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-04-24T22%3A47%3A59Z&Version=2010-05-08'\r\n2014-04-24 15:47:59,129 DEBUG   QuerySigV2Auth b64-encoded signature: BtsDM8bAichUJ8FuUnAWkT07jvxQ18h+XJSpH4kDldk=\r\n2014-04-24 15:47:59,129 DEBUG   QuerySigV2Auth converting params to POST data\r\n2014-04-24 15:47:59,137 DEBUG   IAM request method: POST\r\n2014-04-24 15:47:59,137 DEBUG   IAM request url:    http://euare.h-20.autoqa.qa1.eucalyptus-systems.com:8773/services/Euare\r\n2014-04-24 15:47:59,137 DEBUG   IAM request header: Content-Length: 255\r\n2014-04-24 15:47:59,137 DEBUG   IAM request header: Content-Type: application/x-www-form-urlencoded\r\n2014-04-24 15:47:59,137 DEBUG   IAM request header: Host: euare.h-20.autoqa.qa1.eucalyptus-systems.com:8773\r\n2014-04-24 15:47:59,137 DEBUG   IAM request header: User-Agent: euca2ools/3.1.0-pre3-2-g480fb98 (CPython 2.6.6; Linux 2.6.32-431.11.2.el6.x86_64; x86_64) requestbuilder/0.2.0-pre3 requests/1.1.0\r\n2014-04-24 15:47:59,137 DEBUG   IAM request data:   AWSAccessKeyId: AKIDX9UF2WAFC31OKHN7\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   Action: CreateInstanceProfile\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   InstanceProfileName: new-profile\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   Signature: BtsDM8bAichUJ8FuUnAWkT07jvxQ18h+XJSpH4kDldk=\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   SignatureMethod: HmacSHA256\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   SignatureVersion: 2\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   Timestamp: 2014-04-24T22:47:59Z\r\n2014-04-24 15:47:59,138 DEBUG   IAM request data:   Version: 2010-05-08\r\n2014-04-24 15:47:59,297 DEBUG   IAM response time: 0.158 seconds\r\n2014-04-24 15:47:59,297 INFO    IAM response status: 200\r\n2014-04-24 15:47:59,297 DEBUG   IAM response header: content-length: 553\r\n2014-04-24 15:47:59,297 DEBUG   IAM response header: content-type: application/xml; charset=UTF-8\r\n2014-04-24 15:47:59,297 DEBUG   CreateInstanceProfile -- response content --\r\n<CreateInstanceProfileResponse xmlns=\"https://iam.amazonaws.com/doc/2010-05-08/\"><CreateInstanceProfileResult><InstanceProfile><Path>/</Path><InstanceProfileName>new-profile</InstanceProfileName><InstanceProfileId>AIPKWZKFUN4PCMIXPJU3W</InstanceProfileId><Arn>arn:aws:iam::050790773517:instance-profile/new-profile</Arn><CreateDate>2014-04-24T22:47:59.248Z</CreateDate><Roles/></InstanceProfile></CreateInstanceProfileResult><ResponseMetadata><RequestId>d65443eb-9b57-44bf-9eb9-3dd3bbbb8cec</RequestId></ResponseMetadata></CreateInstanceProfileResponse>\r\n2014-04-24 15:47:59,298 DEBUG   CreateInstanceProfile -- end of response content --\r\n2014-04-24 15:47:59,298 INFO    CreateInstanceProfile adding role NO-SUCH-ROLE to instance profile new-profile\r\n2014-04-24 15:47:59,299 INFO    AddRoleToInstanceProfile parameters: {'Action': 'AddRoleToInstanceProfile', 'RoleName': 'NO-SUCH-ROLE', 'Version': '2010-05-08', 'InstanceProfileName': 'new-profile'}\r\n2014-04-24 15:47:59,299 INFO    IAM sending request (attempt 1 of 3)\r\n2014-04-24 15:47:59,300 DEBUG   QuerySigV2Auth string to sign: 'POST\\neuare.h-20.autoqa.qa1.eucalyptus-systems.com:8773\\n/services/Euare\\nAWSAccessKeyId=AKIDX9UF2WAFC31OKHN7&Action=AddRoleToInstanceProfile&InstanceProfileName=new-profile&RoleName=NO-SUCH-ROLE&SignatureMethod=HmacSHA256&SignatureVersion=2&Timestamp=2014-04-24T22%3A47%3A59Z&Version=2010-05-08'\r\n2014-04-24 15:47:59,300 DEBUG   QuerySigV2Auth b64-encoded signature: jYC6X2UDitd8G70Qu163ZgdDE9g5inyFTwzKPK4A4fw=\r\n2014-04-24 15:47:59,300 DEBUG   QuerySigV2Auth converting params to POST data\r\n2014-04-24 15:47:59,300 DEBUG   IAM request method: POST\r\n2014-04-24 15:47:59,300 DEBUG   IAM request url:    http://euare.h-20.autoqa.qa1.eucalyptus-systems.com:8773/services/Euare\r\n2014-04-24 15:47:59,301 DEBUG   IAM request header: Content-Length: 278\r\n2014-04-24 15:47:59,301 DEBUG   IAM request header: Content-Type: application/x-www-form-urlencoded\r\n2014-04-24 15:47:59,301 DEBUG   IAM request header: Host: euare.h-20.autoqa.qa1.eucalyptus-systems.com:8773\r\n2014-04-24 15:47:59,301 DEBUG   IAM request header: User-Agent: euca2ools/3.1.0-pre3-2-g480fb98 (CPython 2.6.6; Linux 2.6.32-431.11.2.el6.x86_64; x86_64) requestbuilder/0.2.0-pre3 requests/1.1.0\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   AWSAccessKeyId: AKIDX9UF2WAFC31OKHN7\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   Action: AddRoleToInstanceProfile\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   InstanceProfileName: new-profile\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   RoleName: NO-SUCH-ROLE\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   Signature: jYC6X2UDitd8G70Qu163ZgdDE9g5inyFTwzKPK4A4fw=\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   SignatureMethod: HmacSHA256\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   SignatureVersion: 2\r\n2014-04-24 15:47:59,301 DEBUG   IAM request data:   Timestamp: 2014-04-24T22:47:59Z\r\n2014-04-24 15:47:59,302 DEBUG   IAM request data:   Version: 2010-05-08\r\n2014-04-24 15:47:59,346 DEBUG   IAM response time: 0.044 seconds\r\n2014-04-24 15:47:59,346 ERROR   IAM response status: 404\r\n2014-04-24 15:47:59,346 DEBUG   IAM response header: content-length: 257\r\n2014-04-24 15:47:59,346 DEBUG   IAM response header: content-type: application/xml; charset=UTF-8\r\n2014-04-24 15:47:59,347 DEBUG   AddRoleToInstanceProfile -- response content --\r\n<ErrorResponse xmlns=\"https://iam.amazonaws.com/doc/2010-05-08/\"><Error><Type>Sender</Type><Code>NoSuchEntity</Code><Message>Can not find role NO-SUCH-ROLE</Message><Detail/></Error><RequestId>29d7eb98-a2af-4b87-847b-b26b2cb90777</RequestId></ErrorResponse>\r\n2014-04-24 15:47:59,347 DEBUG   AddRoleToInstanceProfile -- end of response content --\r\n2014-04-24 15:47:59,347 INFO    AddRoleToInstanceProfile result: failure\r\neuare-instanceprofilecreate: error (NoSuchEntity): Can not find role NO-SUCH-ROLE\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/euare-instanceprofilecreate\", line 6, in <module>\r\n    euca2ools.commands.iam.createinstanceprofile.CreateInstanceProfile.run()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 295, in run\r\n    cmd.handle_cli_exception(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/command.py\", line 292, in run\r\n    result = cmd.main()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 219, in main\r\n    self.postprocess(response)\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/iam/createinstanceprofile.py\", line 55, in postprocess\r\n    req.main()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 218, in main\r\n    response = self.send()\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 180, in send\r\n    return self.handle_server_error(err)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/request.py\", line 167, in send\r\n    auth=self.auth)\r\n  File \"/usr/lib/python2.6/site-packages/requestbuilder/service.py\", line 193, in send_request\r\n    self.handle_http_error(response)\r\n  File \"/usr/lib/python2.6/site-packages/euca2ools/commands/iam/__init__.py\", line 55, in handle_http_error\r\n    raise AWSError(response)\r\neuca2ools.exceptions.AWSError: (404, 'Not Found', 'NoSuchEntity', 'Can not find role NO-SUCH-ROLE')\r\n\r\n[root@h-20 ~]# euare-instanceprofilelistbypath\r\narn:aws:iam::050790773517:instance-profile/new-profile\r\n{code}\r\n\r\nInstalled Packages\r\nName        : eucalyptus\r\nArch        : x86_64\r\nVersion     : 4.0.0\r\nRelease     : 0.0.922.20140424git344494aa.el6","customfield_13200":null,"customfield_11300":null,"customfield_11500":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"timetracking":{},"customfield_10401":null,"customfield_10005":null,"customfield_10600":null,"customfield_12900":null,"attachment":[],"aggregatetimeestimate":null,"summary":"Instance profile created even if role does not exist","creator":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"subtasks":[],"reporter":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"customfield_10000":"3_*:*_1_*:*_7869348_*|*_10001_*:*_1_*:*_1135030656_*|*_10000_*:*_1_*:*_67837131_*|*_10006_*:*_1_*:*_0_*|*_10003_*:*_1_*:*_1200536498","customfield_12100":"0|i02njr:","aggregateprogress":{"progress":0,"total":0},"customfield_10001":"2014-04-25T12:15:39.786-0500","customfield_10002":null,"customfield_10200":null,"customfield_10003":null,"customfield_10400":null,"customfield_12500":null,"customfield_11600":["chuck(chuck)","gholms(gholms)","sjones(sjones)","tony(tony)"],"customfield_10116":null,"customfield_10117":null,"environment":null,"customfield_11800":null,"customfield_11802":null,"duedate":null,"customfield_11805":null,"progress":{"progress":0,"total":0},"customfield_11806":null,"votes":{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/TOOLS-463/votes","votes":0,"hasVoted":false},"comment":{"comments":[{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/68118","id":"68118","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"body":"This should be a tools issue, the response from AddRoleToInstanceProfile is correct:\r\n\r\n* HTTP Status: 404\r\n* Error code: NoSuchEntity\r\n* Error message: Can not find role NO-SUCH-ROLE\r\n\r\nhttp://docs.aws.amazon.com/IAM/latest/APIReference/API_AddRoleToInstanceProfile.html","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=sjones","name":"sjones","key":"sjones","accountId":"557058:f5dce1b0-db45-4dd6-a0e8-3cea5effb5ce","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/037fddf6d3bf6d691a448e01136f233a?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dsjones%26avatarId%3D18300%26noRedirect%3Dtrue"},"displayName":"Steve Jones","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-04-25T12:15:39.786-0500","updated":"2014-04-25T12:15:39.786-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/69598","id":"69598","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"euare-instanceprofilecreate cannot attempt to check to see if the role exists by default because it may not have permission to do so and because it is, in fact, perfectly legal to create an instance profile without immediately attaching a role to it.  The idea that naturally follows is making that check opt-in instead.\r\n\r\nHowever, the main workflow that this issue is concerned with is one where one wants to create an instance profile and a role at the same time.  This leads to a more useful idea:  automate that process.  What I will do here is add an option to euare-instanceprofilecreate that causes it to create a role with the same name as the instance profile and automatically link the two together.","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-08T16:00:17.053-0500","updated":"2014-05-08T16:00:17.053-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/69613","id":"69613","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"body":"Fixed in commit {{5b284c4}}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=gholms","name":"gholms","key":"gholms","accountId":"557058:6e5fdc25-c797-4d3d-8fd4-55c3c4ed99b0","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/3e16def22dd4a96dbe507df70f15f37f?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dgholms%26avatarId%3D18100%26noRedirect%3Dtrue"},"displayName":"Garrett Holmstrom","active":true,"timeZone":"America/Los_Angeles"},"created":"2014-05-08T18:11:26.412-0500","updated":"2014-05-08T18:11:26.412-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/71078","id":"71078","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"{noformat}\r\n[root@a-13 ~]# euare-instanceprofilecreate -r NO-SUCH-ROLE -s new-profile\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\neuare-instanceprofilecreate: error (NoSuchEntity): Can not find role NO-SUCH-ROLE\r\n{noformat}\r\n","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-05-22T15:40:22.902-0500","updated":"2014-05-22T15:40:48.594-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/71080","id":"71080","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"[~chuck], did you check to see if the instance profile was created (euare-instanceprofilelistbypath)? \r\n\r\nAlso, how about the fix for the issue \"add an option to euare-instanceprofilecreate that causes it to create a role with the same name as the instance profile and automatically link the two together.\"","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2014-05-22T15:44:44.656-0500","updated":"2014-05-22T15:44:44.656-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/71082","id":"71082","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"body":"[~chuck], I checked, we're good\r\n\r\n{code}\r\n[root@c-08 ~]# euare-rolelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::342520651892:role/eucalyptus/AccountAdministrator\r\narn:aws:iam::342520651892:role/eucalyptus/InfrastructureAdministrator\r\narn:aws:iam::342520651892:role/eucalyptus/ResourceAdministrator\r\n\r\n[root@c-08 ~]# euare-instanceprofilecreate --create-role -s new-profile-and-role\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\n\r\n[root@c-08 ~]# euare-rolelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::342520651892:role/eucalyptus/AccountAdministrator\r\narn:aws:iam::342520651892:role/eucalyptus/InfrastructureAdministrator\r\narn:aws:iam::342520651892:role/eucalyptus/ResourceAdministrator\r\narn:aws:iam::342520651892:role/new-profile-and-role\r\n{code}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=tony","name":"tony","key":"tony","accountId":"557058:353956db-b78c-4f3b-9096-f8f58e6709c8","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/14ec1b18e630cc0743492fc327a12df7?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dtony%26avatarId%3D16600%26noRedirect%3Dtrue"},"displayName":"Tony Beckham","active":true,"timeZone":"America/Tijuana"},"created":"2014-05-22T15:50:06.669-0500","updated":"2014-05-22T15:50:06.669-0500"},{"self":"https://eucalyptus.atlassian.net/rest/api/2/issue/29244/comment/71084","id":"71084","author":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"body":"Sorry [~viglesias], I went a little quick on this one while multitasking. I did check that new profile is created and assigned a role that does not exists. But if you use [~gholms]'s fix and use \"--create-role\" it will create a new role with the same name as the profile.\r\n\r\n{noformat}\r\n[root@a-13 vic-centos-img]# euare-instanceprofilecreate -r NO-SUCH-ROLE -s new-profile-chuck -h\r\nusage: euare-instanceprofilecreate -s IPROFILE [-p PATH]\r\n                                   [-r ROLE | --create-role] [-v]\r\n                                   [--as-account ACCOUNT] [-U URL]\r\n                                   [--region USER@REGION] [-I KEY_ID] [-S KEY]\r\n                                   [--security-token TOKEN] [--debug]\r\n                                   [--debugger] [--version] [-h]\r\n\r\nCreate a new instance profile\r\n\r\noptional arguments:\r\n  -s IPROFILE, --instance-profile-name IPROFILE\r\n                        name of the new instance profile (required)\r\n  -p PATH, --path PATH  path for the new instance profile (default: \"/\")\r\n  -r ROLE, --add-role ROLE\r\n                        also add a role to the new instance profile\r\n  --create-role         also create a role with the same name and path and add\r\n                        it to the instance profile\r\n  -v, --verbose         print the new instance profile's ARN and GUID\r\n  --as-account ACCOUNT  [Eucalyptus cloud admin only] run this command as the\r\n                        administrator of another account\r\n  -U URL, --url URL     identity service endpoint URL\r\n  --region USER@REGION  region and/or user names to search when looking up\r\n                        config file data\r\n  -I KEY_ID, --access-key-id KEY_ID\r\n  -S KEY, --secret-key KEY\r\n  --security-token TOKEN\r\n  --debug               show debugging output\r\n  --debugger            launch interactive debugger on error\r\n  --version             show the program's version and exit\r\n  -h, --help            show this help message and exit\r\n[root@a-13 vic-centos-img]# euare-instanceprofilecreate -r NO-SUCH-ROLE-Y -s new-profile-chucky\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\neuare-instanceprofilecreate: error (NoSuchEntity): Can not find role NO-SUCH-ROLE-Y\r\n[root@a-13 vic-centos-img]# \r\n[root@a-13 vic-centos-img]# euare-instanceprofilelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::887465434866:instance-profile/internal/imaging/imaging-worker-01\r\narn:aws:iam::887465434866:instance-profile/new-profile-chucky\r\n[root@a-13 vic-centos-img]# euare-rolelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::887465434866:role/eucalyptus/AccountAdministrator\r\narn:aws:iam::887465434866:role/eucalyptus/InfrastructureAdministrator\r\narn:aws:iam::887465434866:role/eucalyptus/ResourceAdministrator\r\narn:aws:iam::887465434866:role/internal/imaging/imaging-worker-01\r\n\r\n[root@a-13 vic-centos-img]# euare-instanceprofilecreate --create-role -s new-profile-chucka\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\n[root@a-13 vic-centos-img]# euare-instanceprofilelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::887465434866:instance-profile/internal/imaging/imaging-worker-01\r\narn:aws:iam::887465434866:instance-profile/new-profile-chucky\r\narn:aws:iam::887465434866:instance-profile/new-profile-chucka\r\n[root@a-13 vic-centos-img]# euare-rolelistbypath\r\nEUARE_URL environment variable is deprecated; use AWS_IAM_URL instead\r\narn:aws:iam::887465434866:role/eucalyptus/AccountAdministrator\r\narn:aws:iam::887465434866:role/eucalyptus/InfrastructureAdministrator\r\narn:aws:iam::887465434866:role/eucalyptus/ResourceAdministrator\r\narn:aws:iam::887465434866:role/internal/imaging/imaging-worker-01\r\narn:aws:iam::887465434866:role/new-profile-chucka\r\n[root@a-13 vic-centos-img]# \r\n{noformat}","updateAuthor":{"self":"https://eucalyptus.atlassian.net/rest/api/2/user?username=chuck","name":"chuck","key":"chuck","accountId":"557058:95e4b012-7cd1-4fd1-995d-eba573d35653","avatarUrls":{"48x48":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=48&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3FownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","24x24":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=24&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","16x16":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=16&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dxsmall%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue","32x32":"https://avatar-cdn.atlassian.com/39b69736417cafd9d6dddeb1c2e00169?s=32&d=https%3A%2F%2Feucalyptus.atlassian.net%2Fsecure%2Fuseravatar%3Fsize%3Dmedium%26ownerId%3Dchuck%26avatarId%3D12900%26noRedirect%3Dtrue"},"displayName":"Chuck","active":false,"timeZone":"America/Los_Angeles"},"created":"2014-05-22T16:00:00.012-0500","updated":"2014-05-22T16:00:00.012-0500"}],"maxResults":7,"total":7,"startAt":0},"customfield_11808":null,"worklog":{"startAt":0,"maxResults":20,"total":0,"worklogs":[]}}}